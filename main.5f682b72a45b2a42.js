"use strict";(self.webpackChunkadmitro=self.webpackChunkadmitro||[]).push([[792],{4783:(Bt,He,P)=>{P.d(He,{BM:()=>$e,Gt:()=>fe,bf:()=>Ge,e7:()=>ve,iB:()=>re,rx:()=>Me,uP:()=>me});var u=P(7705),ae=P(7935),c=P(1161);Bt=P.hmd(Bt);const te=["ngOnDestroy"],fe=(Ze,at,mt,ge={})=>new Proxy(Ze,{get:(ke,De)=>mt.runOutsideAngular(()=>{var Se;if(Ze[De])return!(null===(Se=ge?.spy)||void 0===Se)&&Se.get&&ge.spy.get(De,Ze[De]),Ze[De];if(te.indexOf(De)>-1)return()=>{};const Ce=at.toPromise().then(Ke=>{const Ae=Ke&&Ke[De];return"function"==typeof Ae?Ae.bind(Ke):Ae&&Ae.then?Ae.then(Pt=>mt.run(()=>Pt)):mt.run(()=>Ae)});return new Proxy(()=>{},{get:(Ke,Ae)=>Ce[Ae],apply:(Ke,Ae,Pt)=>Ce.then(Vt=>{var zt;const zn=Vt&&Vt(...Pt);return!(null===(zt=ge?.spy)||void 0===zt)&&zt.apply&&ge.spy.apply(De,Pt,zn),zn})})})}),ve=(Ze,at)=>{at.forEach(mt=>{Object.getOwnPropertyNames(mt.prototype||mt).forEach(ge=>{Object.defineProperty(Ze.prototype,ge,Object.getOwnPropertyDescriptor(mt.prototype||mt,ge))})})};class Ie{constructor(at){return at}}const Me=new u.nKC("angularfire2.app.options"),me=new u.nKC("angularfire2.app.name");function re(Ze,at,mt){const ke="object"==typeof mt&&mt||{};ke.name=ke.name||"string"==typeof mt&&mt||"[DEFAULT]";const Se=ae.A.apps.filter(Ce=>Ce&&Ce.name===ke.name)[0]||at.runOutsideAngular(()=>ae.A.initializeApp(Ze,ke));try{JSON.stringify(Ze)!==JSON.stringify(Se.options)&&ue("error",`${Se.name} Firebase App already initialized with different options${Bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ie(Se)}const ue=(Ze,...at)=>{(0,u.naY)()&&typeof console<"u"&&console[Ze](...at)},be={provide:Ie,useFactory:re,deps:[Me,u.SKi,[new u.Xx1,me]]};let Ge=(()=>{class Ze{constructor(mt){ae.A.registerVersion("angularfire",c.xv.full,"core"),ae.A.registerVersion("angularfire",c.xv.full,"app-compat"),ae.A.registerVersion("angular",u.xvI.full,mt.toString())}static initializeApp(mt,ge){return{ngModule:Ze,providers:[{provide:Me,useValue:mt},{provide:me,useValue:ge}]}}}return Ze.\u0275fac=function(mt){return new(mt||Ze)(u.KVO(u.Agw))},Ze.\u0275mod=u.$C({type:Ze}),Ze.\u0275inj=u.G2t({providers:[be]}),Ze})();function $e(Ze,at,mt,ge,ke){const[,De,Se]=globalThis.\u0275AngularfireInstanceCache.find(Ce=>Ce[0]===Ze)||[];if(De)return function ot(Ze,at){try{return Ze.toString()===at.toString()}catch{return Ze===at}}(ke,Se)||(Ve("error",`${at} was already initialized on the ${mt} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:ke,was:Se})),De;{const Ce=ge();return globalThis.\u0275AngularfireInstanceCache.push([Ze,Ce,ke]),Ce}}const Ue=!!Bt.hot,Ve=(Ze,...at)=>{(0,u.naY)()&&typeof console<"u"&&console[Ze](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Bt,He,P)=>{P.d(He,{xv:()=>pa,U0:()=>Vs,u0:()=>kl,CA:()=>Pc,lR:()=>ru});var u=P(7705),ae=P(2214),c=P(467),te=P(7852),fe=P(1076),ve=P(1362),Ie=P(8041);const Me=(x,F)=>F.some(X=>x instanceof X);let me,re;const Ge=new WeakMap,$e=new WeakMap,ot=new WeakMap,Ue=new WeakMap,Ve=new WeakMap;let mt={get(x,F,X){if(x instanceof IDBTransaction){if("done"===F)return $e.get(x);if("objectStoreNames"===F)return x.objectStoreNames||ot.get(x);if("store"===F)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return Se(x[F])},set:(x,F,X)=>(x[F]=X,!0),has:(x,F)=>x instanceof IDBTransaction&&("done"===F||"store"===F)||F in x};function De(x){return"function"==typeof x?function ke(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...F){return x.apply(Ce(this),F),Se(Ge.get(this))}:function(...F){return Se(x.apply(Ce(this),F))}:function(F,...X){const we=x.call(Ce(this),F,...X);return ot.set(we,F.sort?F.sort():[F]),Se(we)}}(x):(x instanceof IDBTransaction&&function at(x){if($e.has(x))return;const F=new Promise((X,we)=>{const et=()=>{x.removeEventListener("complete",dt),x.removeEventListener("error",Nt),x.removeEventListener("abort",Nt)},dt=()=>{X(),et()},Nt=()=>{we(x.error||new DOMException("AbortError","AbortError")),et()};x.addEventListener("complete",dt),x.addEventListener("error",Nt),x.addEventListener("abort",Nt)});$e.set(x,F)}(x),Me(x,function ue(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,mt):x)}function Se(x){if(x instanceof IDBRequest)return function Ze(x){const F=new Promise((X,we)=>{const et=()=>{x.removeEventListener("success",dt),x.removeEventListener("error",Nt)},dt=()=>{X(Se(x.result)),et()},Nt=()=>{we(x.error),et()};x.addEventListener("success",dt),x.addEventListener("error",Nt)});return F.then(X=>{X instanceof IDBCursor&&Ge.set(X,x)}).catch(()=>{}),Ve.set(F,x),F}(x);if(Ue.has(x))return Ue.get(x);const F=De(x);return F!==x&&(Ue.set(x,F),Ve.set(F,x)),F}const Ce=x=>Ve.get(x),Pt=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],zt=new Map;function zn(x,F){if(!(x instanceof IDBDatabase)||F in x||"string"!=typeof F)return;if(zt.get(F))return zt.get(F);const X=F.replace(/FromIndex$/,""),we=F!==X,et=Vt.includes(X);if(!(X in(we?IDBIndex:IDBObjectStore).prototype)||!et&&!Pt.includes(X))return;const dt=function(){var Nt=(0,c.A)(function*(dn,...an){const Rn=this.transaction(dn,et?"readwrite":"readonly");let qn=Rn.store;return we&&(qn=qn.index(an.shift())),(yield Promise.all([qn[X](...an),et&&Rn.done]))[0]});return function(an){return Nt.apply(this,arguments)}}();return zt.set(F,dt),dt}!function ge(x){mt=x(mt)}(x=>({...x,get:(F,X,we)=>zn(F,X)||x.get(F,X,we),has:(F,X)=>!!zn(F,X)||x.has(F,X)}));const gi="@firebase/installations",si="0.6.4",mr=1e4,ji=`w:${si}`,Sn="FIS_v2",Cn="https://firebaseinstallations.googleapis.com/v1",ye=36e5,wt=new fe.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(x){return x instanceof fe.g&&x.code.includes("request-failed")}function Qe({projectId:x}){return`${Cn}/projects/${x}/installations`}function It(x){return{token:x.token,requestStatus:2,expiresIn:Ye(x.expiresIn),creationTime:Date.now()}}function se(x,F){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.A)(function*(x,F){const we=(yield F.json()).error;return wt.create("request-failed",{requestName:x,serverCode:we.code,serverMessage:we.message,serverStatus:we.status})})).apply(this,arguments)}function nt({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function jt(x){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.A)(function*(x){const F=yield x();return F.status>=500&&F.status<600?x():F})).apply(this,arguments)}function Ye(x){return Number(x.replace("s","000"))}function tt(){return(tt=(0,c.A)(function*({appConfig:x,heartbeatServiceProvider:F},{fid:X}){const we=Qe(x),et=nt(x),dt=F.getImmediate({optional:!0});if(dt){const Rn=yield dt.getHeartbeatsHeader();Rn&&et.append("x-firebase-client",Rn)}const dn={method:"POST",headers:et,body:JSON.stringify({fid:X,authVersion:Sn,appId:x.appId,sdkVersion:ji})},an=yield jt(()=>fetch(we,dn));if(an.ok){const Rn=yield an.json();return{fid:Rn.fid||X,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:It(Rn.authToken)}}throw yield se("Create Installation",an)})).apply(this,arguments)}function ie(x){return new Promise(F=>{setTimeout(F,x)})}const Be=/^[cdef][\w-]{21}$/,We="";function ut(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const X=function _t(x){return function Ne(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Be.test(X)?X:We}catch{return We}}function Yt(x){return`${x.appName}!${x.appId}`}const hn=new Map;function Mn(x,F){const X=Yt(x);Gn(X,F),function Kt(x,F){const X=function bn(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=x=>{Gn(x.data.key,x.data.fid)}),ti}();X&&X.postMessage({key:x,fid:F}),function xr(){0===hn.size&&ti&&(ti.close(),ti=null)}()}(X,F)}function Gn(x,F){const X=hn.get(x);if(X)for(const we of X)we(F)}let ti=null;const Oi="firebase-installations-database",ls=1,Ci="firebase-installations-store";let _r=null;function Wi(){return _r||(_r=function Ke(x,F,{blocked:X,upgrade:we,blocking:et,terminated:dt}={}){const Nt=indexedDB.open(x,F),dn=Se(Nt);return we&&Nt.addEventListener("upgradeneeded",an=>{we(Se(Nt.result),an.oldVersion,an.newVersion,Se(Nt.transaction))}),X&&Nt.addEventListener("blocked",()=>X()),dn.then(an=>{dt&&an.addEventListener("close",()=>dt()),et&&an.addEventListener("versionchange",()=>et())}).catch(()=>{}),dn}(Oi,ls,{upgrade:(x,F)=>{0===F&&x.createObjectStore(Ci)}})),_r}function Ki(x,F){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.A)(function*(x,F){const X=Yt(x),et=(yield Wi()).transaction(Ci,"readwrite"),dt=et.objectStore(Ci),Nt=yield dt.get(X);return yield dt.put(F,X),yield et.done,(!Nt||Nt.fid!==F.fid)&&Mn(x,F.fid),F})).apply(this,arguments)}function Ls(x){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.A)(function*(x){const F=Yt(x),we=(yield Wi()).transaction(Ci,"readwrite");yield we.objectStore(Ci).delete(F),yield we.done})).apply(this,arguments)}function Fi(x,F){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.A)(function*(x,F){const X=Yt(x),et=(yield Wi()).transaction(Ci,"readwrite"),dt=et.objectStore(Ci),Nt=yield dt.get(X),dn=F(Nt);return void 0===dn?yield dt.delete(X):yield dt.put(dn,X),yield et.done,dn&&(!Nt||Nt.fid!==dn.fid)&&Mn(x,dn.fid),dn})).apply(this,arguments)}function oe(x){return J.apply(this,arguments)}function J(){return J=(0,c.A)(function*(x){let F;const X=yield Fi(x.appConfig,we=>{const et=function j(x){return rn(x||{fid:ut(),registrationStatus:0})}(we),dt=function z(x,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(wt.create("app-offline"))};const X={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},we=function W(x,F){return _e.apply(this,arguments)}(x,X);return{installationEntry:X,registrationPromise:we}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:lt(x)}:{installationEntry:F}}(x,et);return F=dt.registrationPromise,dt.installationEntry});return X.fid===We?{installationEntry:yield F}:{installationEntry:X,registrationPromise:F}}),J.apply(this,arguments)}function _e(){return _e=(0,c.A)(function*(x,F){try{const X=yield function St(x,F){return tt.apply(this,arguments)}(x,F);return Ki(x.appConfig,X)}catch(X){throw rt(X)&&409===X.customData.serverCode?yield Ls(x.appConfig):yield Ki(x.appConfig,{fid:F.fid,registrationStatus:0}),X}}),_e.apply(this,arguments)}function lt(x){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.A)(function*(x){let F=yield Qt(x.appConfig);for(;1===F.registrationStatus;)yield ie(100),F=yield Qt(x.appConfig);if(0===F.registrationStatus){const{installationEntry:X,registrationPromise:we}=yield oe(x);return we||X}return F})).apply(this,arguments)}function Qt(x){return Fi(x,F=>{if(!F)throw wt.create("installation-not-found");return rn(F)})}function rn(x){return function ln(x){return 1===x.registrationStatus&&x.registrationTime+mr<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function mi(){return(mi=(0,c.A)(function*({appConfig:x,heartbeatServiceProvider:F},X){const we=function cr(x,{fid:F}){return`${Qe(x)}/${F}/authTokens:generate`}(x,X),et=function Dt(x,{refreshToken:F}){const X=nt(x);return X.append("Authorization",function st(x){return`${Sn} ${x}`}(F)),X}(x,X),dt=F.getImmediate({optional:!0});if(dt){const Rn=yield dt.getHeartbeatsHeader();Rn&&et.append("x-firebase-client",Rn)}const dn={method:"POST",headers:et,body:JSON.stringify({installation:{sdkVersion:ji,appId:x.appId}})},an=yield jt(()=>fetch(we,dn));if(an.ok)return It(yield an.json());throw yield se("Generate Auth Token",an)})).apply(this,arguments)}function Er(x){return lo.apply(this,arguments)}function lo(){return lo=(0,c.A)(function*(x,F=!1){let X;const we=yield Fi(x.appConfig,dt=>{if(!un(dt))throw wt.create("not-registered");const Nt=dt.authToken;if(!F&&function ui(x){return 2===x.requestStatus&&!function Bi(x){const F=Date.now();return F<x.creationTime||x.creationTime+x.expiresIn<F+ye}(x)}(Nt))return dt;if(1===Nt.requestStatus)return X=function At(x,F){return ft.apply(this,arguments)}(x,F),dt;{if(!navigator.onLine)throw wt.create("app-offline");const dn=function Ri(x){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:F})}(dt);return X=function cn(x,F){return Nn.apply(this,arguments)}(x,dn),dn}});return X?yield X:we.authToken}),lo.apply(this,arguments)}function ft(){return(ft=(0,c.A)(function*(x,F){let X=yield Ut(x.appConfig);for(;1===X.authToken.requestStatus;)yield ie(100),X=yield Ut(x.appConfig);const we=X.authToken;return 0===we.requestStatus?Er(x,F):we})).apply(this,arguments)}function Ut(x){return Fi(x,F=>{if(!un(F))throw wt.create("not-registered");return function co(x){return 1===x.requestStatus&&x.requestTime+mr<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Nn(){return Nn=(0,c.A)(function*(x,F){try{const X=yield function sn(x,F){return mi.apply(this,arguments)}(x,F),we=Object.assign(Object.assign({},F),{authToken:X});return yield Ki(x.appConfig,we),X}catch(X){if(!rt(X)||401!==X.customData.serverCode&&404!==X.customData.serverCode){const we=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Ki(x.appConfig,we)}else yield Ls(x.appConfig);throw X}}),Nn.apply(this,arguments)}function un(x){return void 0!==x&&2===x.registrationStatus}function Ao(){return(Ao=(0,c.A)(function*(x){const F=x,{installationEntry:X,registrationPromise:we}=yield oe(F);return we?we.catch(console.error):Er(F).catch(console.error),X.fid})).apply(this,arguments)}function Oo(){return Oo=(0,c.A)(function*(x,F=!1){const X=x;return yield function Uo(x){return Ir.apply(this,arguments)}(X),(yield Er(X,F)).token}),Oo.apply(this,arguments)}function Ir(){return(Ir=(0,c.A)(function*(x){const{registrationPromise:F}=yield oe(x);F&&(yield F)})).apply(this,arguments)}function Sr(x){return wt.create("missing-app-config-values",{valueName:x})}const Il="installations",_c=x=>{const F=x.getProvider("app").getImmediate(),X=function $s(x){if(!x||!x.options)throw Sr("App Configuration");if(!x.name)throw Sr("App Name");const F=["projectId","apiKey","appId"];for(const X of F)if(!x.options[X])throw Sr(X);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(F);return{app:F,appConfig:X,heartbeatServiceProvider:(0,te._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Go=x=>{const F=x.getProvider("app").getImmediate(),X=(0,te._getProvider)(F,Il).getImmediate();return{getId:()=>function Rr(x){return Ao.apply(this,arguments)}(X),getToken:et=>function ra(x){return Oo.apply(this,arguments)}(X,et)}};(function ll(){(0,te._registerComponent)(new ve.uA(Il,_c,"PUBLIC")),(0,te._registerComponent)(new ve.uA("installations-internal",Go,"PRIVATE"))})(),(0,te.registerVersion)(gi,si),(0,te.registerVersion)(gi,si,"esm2017");const ms="@firebase/remote-config",zr=new fe.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(F,X,we,et){this.client=F,this.storage=X,this.storageCache=we,this.logger=et}isCachedDataFresh(F,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-X,et=we<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${et}.`),et}fetch(F){var X=this;return(0,c.A)(function*(){const[we,et]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(et&&X.isCachedDataFresh(F.cacheMaxAgeMillis,we))return et;F.eTag=et&&et.eTag;const dt=yield X.client.fetch(F),Nt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Nt.push(X.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Nt),dt})()}}function Kn(x=navigator){return x.languages&&x.languages[0]||x.language}class di{constructor(F,X,we,et,dt,Nt){this.firebaseInstallations=F,this.sdkVersion=X,this.namespace=we,this.projectId=et,this.apiKey=dt,this.appId=Nt}fetch(F){var X=this;return(0,c.A)(function*(){const[we,et]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),Nt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},an={sdk_version:X.sdkVersion,app_instance_id:we,app_instance_id_token:et,app_id:X.appId,language_code:Kn()},Rn={method:"POST",headers:dn,body:JSON.stringify(an)},qn=fetch(Nt,Rn),Jn=new Promise((vl,Oa)=>{F.signal.addEventListener(()=>{const cf=new Error("The operation was aborted.");cf.name="AbortError",Oa(cf)})});let Aa;try{yield Promise.race([qn,Jn]),Aa=yield qn}catch(vl){let Oa="fetch-client-network";throw"AbortError"===vl?.name&&(Oa="fetch-timeout"),zr.create(Oa,{originalErrorMessage:vl?.message})}let qr=Aa.status;const Rc=Aa.headers.get("ETag")||void 0;let sh,Br;if(200===Aa.status){let vl;try{vl=yield Aa.json()}catch(Oa){throw zr.create("fetch-client-parse",{originalErrorMessage:Oa?.message})}sh=vl.entries,Br=vl.state}if("INSTANCE_STATE_UNSPECIFIED"===Br?qr=500:"NO_CHANGE"===Br?qr=304:("NO_TEMPLATE"===Br||"EMPTY_CONFIG"===Br)&&(sh={}),304!==qr&&200!==qr)throw zr.create("fetch-status",{httpStatus:qr});return{status:qr,eTag:Rc,config:sh}})()}}class kr{constructor(F,X){this.client=F,this.storage=X}fetch(F){var X=this;return(0,c.A)(function*(){const we=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(F,we)})()}attemptFetch(F,{throttleEndTimeMillis:X,backoffCount:we}){var et=this;return(0,c.A)(function*(){yield function Ds(x,F){return new Promise((X,we)=>{const et=Math.max(F-Date.now(),0),dt=setTimeout(X,et);x.addEventListener(()=>{clearTimeout(dt),we(zr.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,X);try{const dt=yield et.client.fetch(F);return yield et.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function Ss(x){if(!(x instanceof fe.g&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}(dt))throw dt;const Nt={throttleEndTimeMillis:Date.now()+(0,fe.p9)(we),backoffCount:we+1};return yield et.storage.setThrottleMetadata(Nt),et.attemptFetch(F,Nt)}})()}}class fo{constructor(F,X,we,et,dt){this.app=F,this._client=X,this._storageCache=we,this._storage=et,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vr(x,F){const X=x.target.error||void 0;return zr.create(F,{originalErrorMessage:X&&X?.message})}const Tn="app_namespace_store";class Ui{constructor(F,X,we,et=function to(){return new Promise((x,F)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=we=>{F(vr(we,"storage-open"))},X.onsuccess=we=>{x(we.target.result)},X.onupgradeneeded=we=>{0===we.oldVersion&&we.target.result.createObjectStore(Tn,{keyPath:"compositeKey"})}}catch(X){F(zr.create("storage-open",{originalErrorMessage:X?.message}))}})}()){this.appId=F,this.appName=X,this.namespace=we,this.openDbPromise=et}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var X=this;return(0,c.A)(function*(){const we=yield X.openDbPromise;return new Promise((et,dt)=>{const dn=we.transaction([Tn],"readonly").objectStore(Tn),an=X.createCompositeKey(F);try{const Rn=dn.get(an);Rn.onerror=qn=>{dt(vr(qn,"storage-get"))},Rn.onsuccess=qn=>{const Jn=qn.target.result;et(Jn?Jn.value:void 0)}}catch(Rn){dt(zr.create("storage-get",{originalErrorMessage:Rn?.message}))}})})()}set(F,X){var we=this;return(0,c.A)(function*(){const et=yield we.openDbPromise;return new Promise((dt,Nt)=>{const an=et.transaction([Tn],"readwrite").objectStore(Tn),Rn=we.createCompositeKey(F);try{const qn=an.put({compositeKey:Rn,value:X});qn.onerror=Jn=>{Nt(vr(Jn,"storage-set"))},qn.onsuccess=()=>{dt()}}catch(qn){Nt(zr.create("storage-set",{originalErrorMessage:qn?.message}))}})})()}delete(F){var X=this;return(0,c.A)(function*(){const we=yield X.openDbPromise;return new Promise((et,dt)=>{const dn=we.transaction([Tn],"readwrite").objectStore(Tn),an=X.createCompositeKey(F);try{const Rn=dn.delete(an);Rn.onerror=qn=>{dt(vr(qn,"storage-delete"))},Rn.onsuccess=()=>{et()}}catch(Rn){dt(zr.create("storage-delete",{originalErrorMessage:Rn?.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class aa{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,c.A)(function*(){const X=F.storage.getLastFetchStatus(),we=F.storage.getLastSuccessfulFetchTimestampMillis(),et=F.storage.getActiveConfig(),dt=yield X;dt&&(F.lastFetchStatus=dt);const Nt=yield we;Nt&&(F.lastSuccessfulFetchTimestampMillis=Nt);const dn=yield et;dn&&(F.activeConfig=dn)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function ql(){return no.apply(this,arguments)}function no(){return(no=(0,c.A)(function*(){if(!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}!function Ts(){(0,te._registerComponent)(new ve.uA("remote-config",function x(F,{instanceIdentifier:X}){const we=F.getProvider("app").getImmediate(),et=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zr.create("registration-window");if(!(0,fe.zW)())throw zr.create("indexed-db-unavailable");const{projectId:dt,apiKey:Nt,appId:dn}=we.options;if(!dt)throw zr.create("registration-project-id");if(!Nt)throw zr.create("registration-api-key");if(!dn)throw zr.create("registration-app-id");const an=new Ui(dn,we.name,X=X||"firebase"),Rn=new aa(an),qn=new Ie.Vy(ms);qn.logLevel=Ie.$b.ERROR;const Jn=new di(et,te.SDK_VERSION,X,dt,Nt,dn),Aa=new kr(Jn,an),qr=new Jt(Aa,an,Rn,qn),Rc=new fo(we,qr,Rn,an,qn);return function us(x){const F=(0,fe.Ku)(x);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Rc),Rc},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(ms,"0.4.4"),(0,te.registerVersion)(ms,"0.4.4","esm2017")}();const Ms=(x,F)=>F.some(X=>x instanceof X);let Ws,or;const po=new WeakMap,go=new WeakMap,As=new WeakMap,es=new WeakMap,Os=new WeakMap;let Wa={get(x,F,X){if(x instanceof IDBTransaction){if("done"===F)return go.get(x);if("objectStoreNames"===F)return x.objectStoreNames||As.get(x);if("store"===F)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return Pn(x[F])},set:(x,F,X)=>(x[F]=X,!0),has:(x,F)=>x instanceof IDBTransaction&&("done"===F||"store"===F)||F in x};function Xl(x){return"function"==typeof x?function hr(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ca(){return or||(or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...F){return x.apply(Ks(this),F),Pn(po.get(this))}:function(...F){return Pn(x.apply(Ks(this),F))}:function(F,...X){const we=x.call(Ks(this),F,...X);return As.set(we,F.sort?F.sort():[F]),Pn(we)}}(x):(x instanceof IDBTransaction&&function Gr(x){if(go.has(x))return;const F=new Promise((X,we)=>{const et=()=>{x.removeEventListener("complete",dt),x.removeEventListener("error",Nt),x.removeEventListener("abort",Nt)},dt=()=>{X(),et()},Nt=()=>{we(x.error||new DOMException("AbortError","AbortError")),et()};x.addEventListener("complete",dt),x.addEventListener("error",Nt),x.addEventListener("abort",Nt)});go.set(x,F)}(x),Ms(x,function Fn(){return Ws||(Ws=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Wa):x)}function Pn(x){if(x instanceof IDBRequest)return function la(x){const F=new Promise((X,we)=>{const et=()=>{x.removeEventListener("success",dt),x.removeEventListener("error",Nt)},dt=()=>{X(Pn(x.result)),et()},Nt=()=>{we(x.error),et()};x.addEventListener("success",dt),x.addEventListener("error",Nt)});return F.then(X=>{X instanceof IDBCursor&&po.set(X,x)}).catch(()=>{}),Os.set(F,x),F}(x);if(es.has(x))return es.get(x);const F=Xl(x);return F!==x&&(es.set(x,F),Os.set(F,x)),F}const Ks=x=>Os.get(x);function Hr(x,F,{blocked:X,upgrade:we,blocking:et,terminated:dt}={}){const Nt=indexedDB.open(x,F),dn=Pn(Nt);return we&&Nt.addEventListener("upgradeneeded",an=>{we(Pn(Nt.result),an.oldVersion,an.newVersion,Pn(Nt.transaction))}),X&&Nt.addEventListener("blocked",()=>X()),dn.then(an=>{dt&&an.addEventListener("close",()=>dt()),et&&an.addEventListener("versionchange",()=>et())}).catch(()=>{}),dn}function ca(x,{blocked:F}={}){const X=indexedDB.deleteDatabase(x);return F&&X.addEventListener("blocked",()=>F()),Pn(X).then(()=>{})}const Dl=["get","getKey","getAll","getAllKeys","count"],Sl=["put","add","delete","clear"],cl=new Map;function Tl(x,F){if(!(x instanceof IDBDatabase)||F in x||"string"!=typeof F)return;if(cl.get(F))return cl.get(F);const X=F.replace(/FromIndex$/,""),we=F!==X,et=Sl.includes(X);if(!(X in(we?IDBIndex:IDBObjectStore).prototype)||!et&&!Dl.includes(X))return;const dt=function(){var Nt=(0,c.A)(function*(dn,...an){const Rn=this.transaction(dn,et?"readwrite":"readonly");let qn=Rn.store;return we&&(qn=qn.index(an.shift())),(yield Promise.all([qn[X](...an),et&&Rn.done]))[0]});return function(an){return Nt.apply(this,arguments)}}();return cl.set(F,dt),dt}!function yr(x){Wa=x(Wa)}(x=>({...x,get:(F,X,we)=>Tl(F,X)||x.get(F,X,we),has:(F,X)=>!!Tl(F,X)||x.has(F,X)}));const q="/firebase-messaging-sw.js",Z="/firebase-cloud-messaging-push-scope",V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",he="https://fcmregistrations.googleapis.com/v1",Le="google.c.a.c_id",_n="google.c.a.c_l",Xn="google.c.a.ts";var ul=function(x){return x.PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",x}(ul||{});function Ia(x){const F=new Uint8Array(x);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iu(x){const X=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(X),et=new Uint8Array(we.length);for(let dt=0;dt<we.length;++dt)et[dt]=we.charCodeAt(dt);return et}const vc="fcm_token_details_db",$c=5,ts="fcm_token_object_Store";function $r(){return $r=(0,c.A)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(vc))return null;let F=null;return(yield Hr(vc,$c,{upgrade:(we=(0,c.A)(function*(et,dt,Nt,dn){var an;if(dt<2||!et.objectStoreNames.contains(ts))return;const Rn=dn.objectStore(ts),qn=yield Rn.index("fcmSenderId").get(x);if(yield Rn.clear(),qn)if(2===dt){const Jn=qn;if(!Jn.auth||!Jn.p256dh||!Jn.endpoint)return;F={token:Jn.fcmToken,createTime:null!==(an=Jn.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:Jn.auth,p256dh:Jn.p256dh,endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:"string"==typeof Jn.vapidKey?Jn.vapidKey:Ia(Jn.vapidKey)}}}else if(3===dt){const Jn=qn;F={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:Ia(Jn.auth),p256dh:Ia(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:Ia(Jn.vapidKey)}}}else if(4===dt){const Jn=qn;F={token:Jn.fcmToken,createTime:Jn.createTime,subscriptionOptions:{auth:Ia(Jn.auth),p256dh:Ia(Jn.p256dh),endpoint:Jn.endpoint,swScope:Jn.swScope,vapidKey:Ia(Jn.vapidKey)}}}}),function(dt,Nt,dn,an){return we.apply(this,arguments)})})).close(),yield ca(vc),yield ca("fcm_vapid_details_db"),yield ca("undefined"),function da(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:F}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}(F)?F:null;var we}),$r.apply(this,arguments)}const io="firebase-messaging-database",Wr=1,Bs="firebase-messaging-store";let Ml=null;function Ni(){return Ml||(Ml=Hr(io,Wr,{upgrade:(x,F)=>{0===F&&x.createObjectStore(Bs)}})),Ml}function Xi(x){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,c.A)(function*(x){const F=qo(x),we=yield(yield Ni()).transaction(Bs).objectStore(Bs).get(F);if(we)return we;{const et=yield function Mr(x){return $r.apply(this,arguments)}(x.appConfig.senderId);if(et)return yield yc(x,et),et}}),Kr.apply(this,arguments)}function yc(x,F){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.A)(function*(x,F){const X=qo(x),et=(yield Ni()).transaction(Bs,"readwrite");return yield et.objectStore(Bs).put(F,X),yield et.done,F})).apply(this,arguments)}function Ya(){return(Ya=(0,c.A)(function*(x){const F=qo(x),we=(yield Ni()).transaction(Bs,"readwrite");yield we.objectStore(Bs).delete(F),yield we.done})).apply(this,arguments)}function qo({appConfig:x}){return x.appId}const Ei=new fe.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Da(x,F){return dl.apply(this,arguments)}function dl(){return(dl=(0,c.A)(function*(x,F){const X=yield Zl(x),we=Du(F),et={method:"POST",headers:X,body:JSON.stringify(we)};let dt;try{dt=yield(yield fetch(Sa(x.appConfig),et)).json()}catch(Nt){throw Ei.create("token-subscribe-failed",{errorInfo:Nt?.toString()})}if(dt.error)throw Ei.create("token-subscribe-failed",{errorInfo:dt.error.message});if(!dt.token)throw Ei.create("token-subscribe-no-token");return dt.token})).apply(this,arguments)}function Wc(){return(Wc=(0,c.A)(function*(x,F){const X=yield Zl(x),we=Du(F.subscriptionOptions),et={method:"PATCH",headers:X,body:JSON.stringify(we)};let dt;try{dt=yield(yield fetch(`${Sa(x.appConfig)}/${F.token}`,et)).json()}catch(Nt){throw Ei.create("token-update-failed",{errorInfo:Nt?.toString()})}if(dt.error)throw Ei.create("token-update-failed",{errorInfo:dt.error.message});if(!dt.token)throw Ei.create("token-update-no-token");return dt.token})).apply(this,arguments)}function hl(x,F){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.A)(function*(x,F){const we={method:"DELETE",headers:yield Zl(x)};try{const dt=yield(yield fetch(`${Sa(x.appConfig)}/${F}`,we)).json();if(dt.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:dt.error.message})}catch(et){throw Ei.create("token-unsubscribe-failed",{errorInfo:et?.toString()})}})).apply(this,arguments)}function Sa({projectId:x}){return`${he}/projects/${x}/registrations`}function Zl(x){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,c.A)(function*({appConfig:x,installations:F}){const X=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function Du({p256dh:x,auth:F,endpoint:X,vapidKey:we}){const et={web:{endpoint:X,auth:F,p256dh:x}};return we!==V&&(et.web.applicationPubKey=we),et}const Su=6048e5;function wc(){return wc=(0,c.A)(function*(x){const F=yield function ns(x,F){return mo.apply(this,arguments)}(x.swRegistration,x.vapidKey),X={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:F.endpoint,auth:Ia(F.getKey("auth")),p256dh:Ia(F.getKey("p256dh"))},we=yield Xi(x.firebaseDependencies);if(we){if(function C(x,F){return F.vapidKey===x.vapidKey&&F.endpoint===x.endpoint&&F.auth===x.auth&&F.p256dh===x.p256dh}(we.subscriptionOptions,X))return Date.now()>=we.createTime+Su?function Yc(x,F){return Cc.apply(this,arguments)}(x,{token:we.token,createTime:Date.now(),subscriptionOptions:X}):we.token;try{yield hl(x.firebaseDependencies,we.token)}catch(et){console.warn(et)}return Ec(x.firebaseDependencies,X)}return Ec(x.firebaseDependencies,X)}),wc.apply(this,arguments)}function Kc(){return Kc=(0,c.A)(function*(x){const F=yield Xi(x.firebaseDependencies);F&&(yield hl(x.firebaseDependencies,F.token),yield function Ql(x){return Ya.apply(this,arguments)}(x.firebaseDependencies));const X=yield x.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()}),Kc.apply(this,arguments)}function Cc(){return Cc=(0,c.A)(function*(x,F){try{const X=yield function bc(x,F){return Wc.apply(this,arguments)}(x.firebaseDependencies,F),we=Object.assign(Object.assign({},F),{token:X,createTime:Date.now()});return yield yc(x.firebaseDependencies,we),X}catch(X){throw yield function Zd(x){return Kc.apply(this,arguments)}(x),X}}),Cc.apply(this,arguments)}function Ec(x,F){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,c.A)(function*(x,F){const we={token:yield Da(x,F),createTime:Date.now(),subscriptionOptions:F};return yield yc(x,we),we.token})).apply(this,arguments)}function mo(){return(mo=(0,c.A)(function*(x,F){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Iu(F)})})).apply(this,arguments)}function ne(x){const F={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function U(x,F){if(!F.notification)return;x.notification={};const X=F.notification.title;X&&(x.notification.title=X);const we=F.notification.body;we&&(x.notification.body=we);const et=F.notification.image;et&&(x.notification.image=et);const dt=F.notification.icon;dt&&(x.notification.icon=dt)}(F,x),function Q(x,F){F.data&&(x.data=F.data)}(F,x),function Pe(x,F){var X,we,et,dt,Nt;if(!(F.fcmOptions||null!==(X=F.notification)&&void 0!==X&&X.click_action))return;x.fcmOptions={};const dn=null!==(et=null===(we=F.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==et?et:null===(dt=F.notification)||void 0===dt?void 0:dt.click_action;dn&&(x.fcmOptions.link=dn);const an=null===(Nt=F.fcmOptions)||void 0===Nt?void 0:Nt.analytics_label;an&&(x.fcmOptions.analyticsLabel=an)}(F,x),F}function Ft(x,F){const X=[];for(let we=0;we<x.length;we++)X.push(x.charAt(we)),we<F.length&&X.push(F.charAt(we));return X.join("")}function Ii(x){return Ei.create("missing-app-config-values",{valueName:x})}Ft("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ft("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ar{constructor(F,X,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const et=function En(x){if(!x||!x.options)throw Ii("App Configuration Object");if(!x.name)throw Ii("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:X}=x;for(const we of F)if(!X[we])throw Ii(we);return{appName:x.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:et,installations:X,analyticsProvider:we}}_delete(){return Promise.resolve()}}function Qn(){return(Qn=(0,c.A)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(q,{scope:Z}),x.swRegistration.update().catch(()=>{})}catch(F){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:F?.message})}})).apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*(x,F){if(!F&&!x.swRegistration&&(yield function bi(x){return Qn.apply(this,arguments)}(x)),F||!x.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");x.swRegistration=F}})).apply(this,arguments)}function ro(){return(ro=(0,c.A)(function*(x,F){F?x.vapidKey=F:x.vapidKey||(x.vapidKey=V)})).apply(this,arguments)}function fr(){return fr=(0,c.A)(function*(x,F){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield function lr(x,F){return ro.apply(this,arguments)}(x,F?.vapidKey),yield function Ar(x,F){return _i.apply(this,arguments)}(x,F?.serviceWorkerRegistration),function Qd(x){return wc.apply(this,arguments)}(x)}),fr.apply(this,arguments)}function Or(){return(Or=(0,c.A)(function*(x,F,X){const we=function ds(x){switch(x){case ul.NOTIFICATION_CLICKED:return"notification_open";case ul.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(F);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(we,{message_id:X[Le],message_name:X[_n],message_time:X[Xn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fa(){return fa=(0,c.A)(function*(x,F){const X=F.data;if(!X.isFirebaseMessaging)return;x.onMessageHandler&&X.messageType===ul.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(ne(X)):x.onMessageHandler.next(ne(X)));const we=X.data;(function gt(x){return"object"==typeof x&&!!x&&Le in x})(we)&&"1"===we["google.c.a.e"]&&(yield function Ns(x,F,X){return Or.apply(this,arguments)}(x,X.messageType,we))}),fa.apply(this,arguments)}const Li="@firebase/messaging",Al=x=>{const F=new ar(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function Xo(x,F){return fa.apply(this,arguments)}(F,X)),F},_o=x=>{const F=x.getProvider("messaging").getImmediate();return{getToken:we=>function xo(x,F){return fr.apply(this,arguments)}(F,we)}};function td(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.A)(function*(){try{yield(0,fe.eX)()}catch{return!1}return typeof window<"u"&&(0,fe.zW)()&&(0,fe.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function op(){(0,te._registerComponent)(new ve.uA("messaging",Al,"PUBLIC")),(0,te._registerComponent)(new ve.uA("messaging-internal",_o,"PRIVATE")),(0,te.registerVersion)(Li,"0.12.4"),(0,te.registerVersion)(Li,"0.12.4","esm2017")}();const pr="analytics",Xc="firebase_id",tc="origin",Hn=6e4,pl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zh="https://www.googletagmanager.com/gtag/js",hs=new Ie.Vy("@firebase/analytics"),yo=new fe.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ic(x){if(!x.startsWith(Zh)){const F=yo.create("invalid-gtag-resource",{gtagURL:x});return hs.warn(F.message),""}return x}function Yr(x){return Promise.all(x.map(F=>F.catch(X=>X)))}function js(){return(js=(0,c.A)(function*(x,F,X,we,et,dt){const Nt=we[et];try{if(Nt)yield F[Nt];else{const an=(yield Yr(X)).find(Rn=>Rn.measurementId===et);an&&(yield F[an.appId])}}catch(dn){hs.error(dn)}x("config",et,dt)})).apply(this,arguments)}function oi(){return(oi=(0,c.A)(function*(x,F,X,we,et){try{let dt=[];if(et&&et.send_to){let Nt=et.send_to;Array.isArray(Nt)||(Nt=[Nt]);const dn=yield Yr(X);for(const an of Nt){const Rn=dn.find(Jn=>Jn.measurementId===an),qn=Rn&&F[Rn.appId];if(!qn){dt=[];break}dt.push(qn)}}0===dt.length&&(dt=Object.values(F)),yield Promise.all(dt),x("event",we,et||{})}catch(dt){hs.error(dt)}})).apply(this,arguments)}const qa=30,Sc=new class bo{constructor(F={},X=1e3){this.throttleMetadata=F,this.intervalMillis=X}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,X){this.throttleMetadata[F]=X}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Ol(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Jd(){return(Jd=(0,c.A)(function*(x){var F;const{appId:X,apiKey:we}=x,et={method:"GET",headers:Ol(we)},dt=pl.replace("{app-id}",X),Nt=yield fetch(dt,et);if(200!==Nt.status&&304!==Nt.status){let dn="";try{const an=yield Nt.json();null!==(F=an.error)&&void 0!==F&&F.message&&(dn=an.error.message)}catch{}throw yo.create("config-fetch-failed",{httpStatus:Nt.status,responseMessage:dn})}return Nt.json()})).apply(this,arguments)}function Lr(){return(Lr=(0,c.A)(function*(x,F=Sc,X){const{appId:we,apiKey:et,measurementId:dt}=x.options;if(!we)throw yo.create("no-app-id");if(!et){if(dt)return{measurementId:dt,appId:we};throw yo.create("no-api-key")}const Nt=F.getThrottleMetadata(we)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dn=new K;return setTimeout((0,c.A)(function*(){dn.abort()}),void 0!==X?X:Hn),N({appId:we,apiKey:et,measurementId:dt},Nt,dn,F)})).apply(this,arguments)}function N(x,F,X){return L.apply(this,arguments)}function L(){return L=(0,c.A)(function*(x,{throttleEndTimeMillis:F,backoffCount:X},we,et=Sc){var dt;const{appId:Nt,measurementId:dn}=x;try{yield function A(x,F){return new Promise((X,we)=>{const et=Math.max(F-Date.now(),0),dt=setTimeout(X,et);x.addEventListener(()=>{clearTimeout(dt),we(yo.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(we,F)}catch(an){if(dn)return hs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${an?.message}]`),{appId:Nt,measurementId:dn};throw an}try{const an=yield function id(x){return Jd.apply(this,arguments)}(x);return et.deleteThrottleMetadata(Nt),an}catch(an){const Rn=an;if(!function k(x){if(!(x instanceof fe.g&&x.customData))return!1;const F=Number(x.customData.httpStatus);return 429===F||500===F||503===F||504===F}(Rn)){if(et.deleteThrottleMetadata(Nt),dn)return hs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dn} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:Nt,measurementId:dn};throw an}const qn=503===Number(null===(dt=Rn?.customData)||void 0===dt?void 0:dt.httpStatus)?(0,fe.p9)(X,et.intervalMillis,qa):(0,fe.p9)(X,et.intervalMillis),Jn={throttleEndTimeMillis:Date.now()+qn,backoffCount:X+1};return et.setThrottleMetadata(Nt,Jn),hs.debug(`Calling attemptFetch again in ${qn} millis`),N(x,Jn,we,et)}}),L.apply(this,arguments)}class K{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}let de,Jc;function Ct(){return(Ct=(0,c.A)(function*(x,F,X,we,et){if(et&&et.global)x("event",X,we);else{const dt=yield F;x("event",X,Object.assign(Object.assign({},we),{send_to:dt}))}})).apply(this,arguments)}function Fr(){return(Fr=(0,c.A)(function*(){if(!(0,fe.zW)())return hs.warn(yo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eX)()}catch(x){return hs.warn(yo.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function br(){return br=(0,c.A)(function*(x,F,X,we,et,dt,Nt){var dn;const an=function eh(x){return Lr.apply(this,arguments)}(x);an.then(qr=>{X[qr.measurementId]=qr.appId,x.options.measurementId&&qr.measurementId!==x.options.measurementId&&hs.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${qr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(qr=>hs.error(qr)),F.push(an);const Rn=function Jh(){return Fr.apply(this,arguments)}().then(qr=>{if(qr)return we.getId()}),[qn,Jn]=yield Promise.all([an,Rn]);(function bs(x){const F=window.document.getElementsByTagName("script");for(const X of Object.values(F))if(X.src&&X.src.includes(Zh)&&X.src.includes(x))return X;return null})(dt)||function Dc(x,F){const X=function nc(x,F){let X;return window.trustedTypes&&(X=window.trustedTypes.createPolicy(x,F)),X}("firebase-js-sdk-policy",{createScriptURL:Ic}),we=document.createElement("script"),et=`${Zh}?l=${x}&id=${F}`;we.src=X?X?.createScriptURL(et):et,we.async=!0,document.head.appendChild(we)}(dt,qn.measurementId),Jc&&(et("consent","default",Jc),function Mc(x){Jc=x}(void 0)),et("js",new Date);const Aa=null!==(dn=Nt?.config)&&void 0!==dn?dn:{};return Aa[tc]="firebase",Aa.update=!0,null!=Jn&&(Aa[Xc]=Jn),et("config",qn.measurementId,Aa),de&&(et("set",de),function rd(x){de=x}(void 0)),qn.measurementId}),br.apply(this,arguments)}class Nl{constructor(F){this.app=F}_delete(){return delete Ta[this.app.options.appId],Promise.resolve()}}let Ta={},ef=[];const tf={};let eu,is,sc="dataLayer",Au=!1;function Ou(x,F,X){!function nf(){const x=[];if((0,fe.sr)()&&x.push("This is a browser extension environment."),(0,fe.dM)()||x.push("Cookies are not available."),x.length>0){const F=x.map((we,et)=>`(${et+1}) ${we}`).join(" "),X=yo.create("invalid-analytics-context",{errorInfo:F});hs.warn(X.message)}}();const we=x.options.appId;if(!we)throw yo.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw yo.create("no-api-key");hs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ta[we])throw yo.create("already-exists",{id:we});if(!Au){!function gl(x){let F=[];Array.isArray(window[x])?F=window[x]:window[x]=F}(sc);const{wrappedGtag:dt,gtagCore:Nt}=function Zc(x,F,X,we,et){let dt=function(...Nt){window[we].push(arguments)};return window[et]&&"function"==typeof window[et]&&(dt=window[et]),window[et]=function ic(x,F,X,we){function dt(){return dt=(0,c.A)(function*(Nt,...dn){try{if("event"===Nt){const[an,Rn]=dn;yield function kt(x,F,X,we,et){return oi.apply(this,arguments)}(x,F,X,an,Rn)}else if("config"===Nt){const[an,Rn]=dn;yield function ys(x,F,X,we,et,dt){return js.apply(this,arguments)}(x,F,X,we,an,Rn)}else if("consent"===Nt){const[an]=dn;x("consent","update",an)}else if("get"===Nt){const[an,Rn,qn]=dn;x("get",an,Rn,qn)}else if("set"===Nt){const[an]=dn;x("set",an)}else x(Nt,...dn)}catch(an){hs.error(an)}}),dt.apply(this,arguments)}return function et(Nt){return dt.apply(this,arguments)}}(dt,x,F,X),{gtagCore:dt,wrappedGtag:window[et]}}(Ta,ef,tf,sc,"gtag");is=dt,eu=Nt,Au=!0}return Ta[we]=function _l(x,F,X,we,et,dt,Nt){return br.apply(this,arguments)}(x,ef,tf,F,eu,sc,X),new Nl(x)}function sf(){return th.apply(this,arguments)}function th(){return(th=(0,c.A)(function*(){if((0,fe.sr)()||!(0,fe.dM)()||!(0,fe.zW)())return!1;try{return yield(0,fe.eX)()}catch{return!1}})).apply(this,arguments)}const cd="@firebase/analytics";!function Ac(){(0,te._registerComponent)(new ve.uA(pr,(F,{options:X})=>Ou(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),X),"PUBLIC")),(0,te._registerComponent)(new ve.uA("analytics-internal",function x(F){try{const X=F.getProvider(pr).getImmediate();return{logEvent:(we,et,dt)=>function oc(x,F,X,we){x=(0,fe.Ku)(x),function Oe(x,F,X,we,et){return Ct.apply(this,arguments)}(is,Ta[x.app.options.appId],F,X,we).catch(et=>hs.error(et))}(X,we,et,dt)}}catch(X){throw yo.create("interop-component-reg-failed",{reason:X})}},"PRIVATE")),(0,te.registerVersion)(cd,"0.10.0"),(0,te.registerVersion)(cd,"0.10.0","esm2017")}();var Pu=P(6780),Nc=P(9687);const af=new class nu extends Nc.q{}(class Oc extends Pu.R{constructor(F,X){super(F,X),this.scheduler=F,this.work=X}schedule(F,X=0){return X>0?super.schedule(F,X):(this.delay=X,this.state=F,this.scheduler.flush(this),this)}execute(F,X){return X>0||this.closed?super.execute(F,X):this._execute(F,X)}requestAsyncId(F,X,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(F,X,we):(F.flush(this),0)}});var dd=P(3236),hd=P(8141),Ma=P(6745),fd=P(941);const pa=new u.RxE("7.6.1"),Si="__angularfire_symbol__analyticsIsSupportedValue",ac="__angularfire_symbol__analyticsIsSupported",Xa="__angularfire_symbol__remoteConfigIsSupportedValue",lc="__angularfire_symbol__remoteConfigIsSupported",iu="__angularfire_symbol__messagingIsSupportedValue",xu="__angularfire_symbol__messagingIsSupported";function ru(x,F,X){if(F){if(1===F.length)return F[0];const dt=F.filter(Nt=>Nt.app===X);if(1===dt.length)return dt[0]}return X.container.getProvider(x).getImmediate({optional:!0})}globalThis[ac]||(globalThis[ac]=sf().then(x=>globalThis[Si]=x).catch(()=>globalThis[Si]=!1)),globalThis[xu]||(globalThis[xu]=td().then(x=>globalThis[iu]=x).catch(()=>globalThis[iu]=!1)),globalThis[lc]||(globalThis[lc]=ql().then(x=>globalThis[Xa]=x).catch(()=>globalThis[Xa]=!1));const Pc=(x,F)=>{const X=F?[F]:(0,ae.Dk)(),we=[];return X.forEach(et=>{et.container.getProvider(x).instances.forEach(Nt=>{we.includes(Nt)||we.push(Nt)})}),we};function Rl(){}class pd{constructor(F,X=af){this.zone=F,this.delegate=X}now(){return this.delegate.now()}schedule(F,X,we){const et=this.zone;return this.delegate.schedule(function(Nt){et.runGuarded(()=>{F.apply(this,[Nt])})},X,we)}}class gd{constructor(F){this.zone=F,this.task=null}call(F,X){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rl,{},Rl,Rl)),X.pipe((0,hd.M)({next:we,complete:we,error:we})).subscribe(F).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kl=(()=>{class x{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new pd(Zone.current)),this.insideAngular=X.run(()=>new pd(Zone.current,dd.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(X){return new(X||x)(u.KVO(u.SKi))},x.\u0275prov=u.jDH({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function cc(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function Vs(x){return cc(),function ih(x){return function(X){return(X=X.lift(new gd(x.ngZone))).pipe((0,Ma._)(x.outsideAngular),(0,fd.Q)(x.insideAngular))}}(cc())(x)}},1076:(Bt,He,P)=>{P.d(He,{$L:()=>Qe,$g:()=>mr,A4:()=>ue,Am:()=>Be,As:()=>It,Bd:()=>Pt,Cv:()=>Dt,FA:()=>Fe,Fy:()=>Se,HN:()=>xr,Hk:()=>c,I9:()=>We,Im:()=>st,K3:()=>ve,KA:()=>Me,Ku:()=>Vi,Ll:()=>Ae,OE:()=>ls,T9:()=>ge,Uj:()=>me,XA:()=>ke,ZQ:()=>Ce,bD:()=>tt,cY:()=>De,dI:()=>Kt,dM:()=>ye,eX:()=>Cn,g:()=>ze,gR:()=>Re,gz:()=>_t,hp:()=>ut,jZ:()=>Ke,kH:()=>St,kj:()=>Oi,lT:()=>gi,lV:()=>zt,nr:()=>ji,oD:()=>bn,od:()=>Gn,p9:()=>Ls,qc:()=>jt,sr:()=>Vt,tD:()=>Yt,u:()=>re,vA:()=>ae,yw:()=>Ye,zW:()=>Sn,zw:()=>be});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ae=function(oe,J){if(!oe)throw c(J)},c=function(oe){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+oe)},te=function(oe){const J=[];let j=0;for(let z=0;z<oe.length;z++){let W=oe.charCodeAt(z);W<128?J[j++]=W:W<2048?(J[j++]=W>>6|192,J[j++]=63&W|128):55296==(64512&W)&&z+1<oe.length&&56320==(64512&oe.charCodeAt(z+1))?(W=65536+((1023&W)<<10)+(1023&oe.charCodeAt(++z)),J[j++]=W>>18|240,J[j++]=W>>12&63|128,J[j++]=W>>6&63|128,J[j++]=63&W|128):(J[j++]=W>>12|224,J[j++]=W>>6&63|128,J[j++]=63&W|128)}return J},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,J){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let W=0;W<oe.length;W+=3){const _e=oe[W],lt=W+1<oe.length,xt=lt?oe[W+1]:0,Qt=W+2<oe.length,rn=Qt?oe[W+2]:0;let mi=(15&xt)<<2|rn>>6,cr=63&rn;Qt||(cr=64,lt||(mi=64)),z.push(j[_e>>2],j[(3&_e)<<4|xt>>4],j[mi],j[cr])}return z.join("")},encodeString(oe,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(oe):this.encodeByteArray(te(oe),J)},decodeString(oe,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(oe):function(oe){const J=[];let j=0,z=0;for(;j<oe.length;){const W=oe[j++];if(W<128)J[z++]=String.fromCharCode(W);else if(W>191&&W<224){const _e=oe[j++];J[z++]=String.fromCharCode((31&W)<<6|63&_e)}else if(W>239&&W<365){const Qt=((7&W)<<18|(63&oe[j++])<<12|(63&oe[j++])<<6|63&oe[j++])-65536;J[z++]=String.fromCharCode(55296+(Qt>>10)),J[z++]=String.fromCharCode(56320+(1023&Qt))}else{const _e=oe[j++],lt=oe[j++];J[z++]=String.fromCharCode((15&W)<<12|(63&_e)<<6|63&lt)}}return J.join("")}(this.decodeStringToByteArray(oe,J))},decodeStringToByteArray(oe,J){this.init_();const j=J?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let W=0;W<oe.length;){const _e=j[oe.charAt(W++)],xt=W<oe.length?j[oe.charAt(W)]:0;++W;const rn=W<oe.length?j[oe.charAt(W)]:64;++W;const sn=W<oe.length?j[oe.charAt(W)]:64;if(++W,null==_e||null==xt||null==rn||null==sn)throw new Ie;z.push(_e<<2|xt>>4),64!==rn&&(z.push(xt<<4&240|rn>>2),64!==sn&&z.push(rn<<6&192|sn))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Ie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(oe){const J=te(oe);return ve.encodeByteArray(J,!0)},me=function(oe){return Me(oe).replace(/\./g,"")},re=function(oe){try{return ve.decodeString(oe,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function ue(oe){return be(void 0,oe)}function be(oe,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return J}for(const j in J)!J.hasOwnProperty(j)||!Ge(j)||(oe[j]=be(oe[j],J[j]));return oe}function Ge(oe){return"__proto__"!==oe}const Ze=()=>{try{return function $e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const J=oe&&re(oe[1]);return J&&JSON.parse(J)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},ge=()=>{var oe;return null===(oe=Ze())||void 0===oe?void 0:oe.config},ke=oe=>{var J;return null===(J=Ze())||void 0===J?void 0:J[`_${oe}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,j)=>{this.resolve=J,this.reject=j})}wrapCallback(J){return(j,z)=>{j?this.reject(j):this.resolve(z),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(j):J(j,z))}}}function Se(oe,J){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=J||"demo-project",W=oe.iat||0,_e=oe.sub||oe.user_id;if(!_e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:W,exp:W+3600,auth_time:W,sub:_e,user_id:_e,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(lt)),""].join(".")}function Ce(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function Ae(){var oe;const J=null===(oe=Ze())||void 0===oe?void 0:oe.forceEnvironment;if("node"===J)return!0;if("browser"===J)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Pt(){return"object"==typeof self&&self.self===self}function Vt(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gi(){const oe=Ce();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function mr(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function ji(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sn(){try{return"object"==typeof indexedDB}catch{return!1}}function Cn(){return new Promise((oe,J)=>{try{let j=!0;const z="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(z);W.onsuccess=()=>{W.result.close(),j||self.indexedDB.deleteDatabase(z),oe(!0)},W.onupgradeneeded=()=>{j=!1},W.onerror=()=>{var _e;J((null===(_e=W.error)||void 0===_e?void 0:_e.message)||"")}}catch(j){J(j)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ze extends Error{constructor(J,j,z){super(j),this.code=J,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fe.prototype.create)}}class Fe{constructor(J,j,z){this.service=J,this.serviceName=j,this.errors=z}create(J,...j){const z=j[0]||{},W=`${this.service}/${J}`,_e=this.errors[J],lt=_e?function wt(oe,J){return oe.replace(rt,(j,z)=>{const W=J[z];return null!=W?String(W):`<${z}?>`})}(_e,z):"Error";return new ze(W,`${this.serviceName}: ${lt} (${W}).`,z)}}const rt=/\{\$([^}]+)}/g;function Qe(oe){return JSON.parse(oe)}function It(oe){return JSON.stringify(oe)}const se=function(oe){let J={},j={},z={},W="";try{const _e=oe.split(".");J=Qe(re(_e[0])||""),j=Qe(re(_e[1])||""),W=_e[2],z=j.d||{},delete j.d}catch{}return{header:J,claims:j,data:z,signature:W}},Dt=function(oe){const j=se(oe).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},jt=function(oe){const J=se(oe).claims;return"object"==typeof J&&!0===J.admin};function Re(oe,J){return Object.prototype.hasOwnProperty.call(oe,J)}function Ye(oe,J){if(Object.prototype.hasOwnProperty.call(oe,J))return oe[J]}function st(oe){for(const J in oe)if(Object.prototype.hasOwnProperty.call(oe,J))return!1;return!0}function St(oe,J,j){const z={};for(const W in oe)Object.prototype.hasOwnProperty.call(oe,W)&&(z[W]=J.call(j,oe[W],W,oe));return z}function tt(oe,J){if(oe===J)return!0;const j=Object.keys(oe),z=Object.keys(J);for(const W of j){if(!z.includes(W))return!1;const _e=oe[W],lt=J[W];if(ie(_e)&&ie(lt)){if(!tt(_e,lt))return!1}else if(_e!==lt)return!1}for(const W of z)if(!j.includes(W))return!1;return!0}function ie(oe){return null!==oe&&"object"==typeof oe}function Be(oe){const J=[];for(const[j,z]of Object.entries(oe))Array.isArray(z)?z.forEach(W=>{J.push(encodeURIComponent(j)+"="+encodeURIComponent(W))}):J.push(encodeURIComponent(j)+"="+encodeURIComponent(z));return J.length?"&"+J.join("&"):""}function We(oe){const J={};return oe.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[W,_e]=z.split("=");J[decodeURIComponent(W)]=decodeURIComponent(_e)}}),J}function ut(oe){const J=oe.indexOf("?");if(!J)return"";const j=oe.indexOf("#",J);return oe.substring(J,j>0?j:void 0)}class _t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,j){j||(j=0);const z=this.W_;if("string"==typeof J)for(let sn=0;sn<16;sn++)z[sn]=J.charCodeAt(j)<<24|J.charCodeAt(j+1)<<16|J.charCodeAt(j+2)<<8|J.charCodeAt(j+3),j+=4;else for(let sn=0;sn<16;sn++)z[sn]=J[j]<<24|J[j+1]<<16|J[j+2]<<8|J[j+3],j+=4;for(let sn=16;sn<80;sn++){const mi=z[sn-3]^z[sn-8]^z[sn-14]^z[sn-16];z[sn]=4294967295&(mi<<1|mi>>>31)}let rn,ln,W=this.chain_[0],_e=this.chain_[1],lt=this.chain_[2],xt=this.chain_[3],Qt=this.chain_[4];for(let sn=0;sn<80;sn++){sn<40?sn<20?(rn=xt^_e&(lt^xt),ln=1518500249):(rn=_e^lt^xt,ln=1859775393):sn<60?(rn=_e&lt|xt&(_e|lt),ln=2400959708):(rn=_e^lt^xt,ln=3395469782);const mi=(W<<5|W>>>27)+rn+Qt+ln+z[sn]&4294967295;Qt=xt,xt=lt,lt=4294967295&(_e<<30|_e>>>2),_e=W,W=mi}this.chain_[0]=this.chain_[0]+W&4294967295,this.chain_[1]=this.chain_[1]+_e&4294967295,this.chain_[2]=this.chain_[2]+lt&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+Qt&4294967295}update(J,j){if(null==J)return;void 0===j&&(j=J.length);const z=j-this.blockSize;let W=0;const _e=this.buf_;let lt=this.inbuf_;for(;W<j;){if(0===lt)for(;W<=z;)this.compress_(J,W),W+=this.blockSize;if("string"==typeof J){for(;W<j;)if(_e[lt]=J.charCodeAt(W),++lt,++W,lt===this.blockSize){this.compress_(_e),lt=0;break}}else for(;W<j;)if(_e[lt]=J[W],++lt,++W,lt===this.blockSize){this.compress_(_e),lt=0;break}}this.inbuf_=lt,this.total_+=j}digest(){const J=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let W=this.blockSize-1;W>=56;W--)this.buf_[W]=255&j,j/=256;this.compress_(this.buf_);let z=0;for(let W=0;W<5;W++)for(let _e=24;_e>=0;_e-=8)J[z]=this.chain_[W]>>_e&255,++z;return J}}function Yt(oe,J){const j=new hn(oe,J);return j.subscribe.bind(j)}class hn{constructor(J,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{J(this)}).catch(z=>{this.error(z)})}next(J){this.forEachObserver(j=>{j.next(J)})}error(J){this.forEachObserver(j=>{j.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,j,z){let W;if(void 0===J&&void 0===j&&void 0===z)throw new Error("Missing Observer.");W=function Xt(oe,J){if("object"!=typeof oe||null===oe)return!1;for(const j of J)if(j in oe&&"function"==typeof oe[j])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:j,complete:z},void 0===W.next&&(W.next=An),void 0===W.error&&(W.error=An),void 0===W.complete&&(W.complete=An);const _e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),_e}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,J)}sendOne(J,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{j(this.observers[J])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}const Gn=function(oe,J,j,z){let W;if(z<J?W="at least "+J:z>j&&(W=0===j?"none":"no more than "+j),W)throw new Error(oe+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+W+".")};function Kt(oe,J){return`${oe} failed: ${J} argument `}function bn(oe,J,j,z){if((!z||j)&&"function"!=typeof j)throw new Error(Kt(oe,J)+"must be a valid function.")}function xr(oe,J,j,z){if((!z||j)&&("object"!=typeof j||null===j))throw new Error(Kt(oe,J)+"must be a valid context object.")}const Oi=function(oe){const J=[];let j=0;for(let z=0;z<oe.length;z++){let W=oe.charCodeAt(z);if(W>=55296&&W<=56319){const _e=W-55296;z++,ae(z<oe.length,"Surrogate pair missing trail surrogate."),W=65536+(_e<<10)+(oe.charCodeAt(z)-56320)}W<128?J[j++]=W:W<2048?(J[j++]=W>>6|192,J[j++]=63&W|128):W<65536?(J[j++]=W>>12|224,J[j++]=W>>6&63|128,J[j++]=63&W|128):(J[j++]=W>>18|240,J[j++]=W>>12&63|128,J[j++]=W>>6&63|128,J[j++]=63&W|128)}return J},ls=function(oe){let J=0;for(let j=0;j<oe.length;j++){const z=oe.charCodeAt(j);z<128?J++:z<2048?J+=2:z>=55296&&z<=56319?(J+=4,j++):J+=3}return J},_r=1e3,Wi=2,Ki=144e5,ir=.5;function Ls(oe,J=_r,j=Wi){const z=J*Math.pow(j,oe),W=Math.round(ir*z*(Math.random()-.5)*2);return Math.min(Ki,z+W)}function Vi(oe){return oe&&oe._delegate?oe._delegate:oe}},3887:(Bt,He,P)=>{P.d(He,{G:()=>me});var u=P(177),ae=P(1084),c=P(1188),te=P(4972),fe=P(7394),ve=P(9384),Ie=P(9417),Me=P(7705);let me=(()=>{class re{static{this.\u0275fac=function(Ge){return new(Ge||re)}}static{this.\u0275mod=Me.$C({type:re})}static{this.\u0275inj=Me.G2t({imports:[u.MD,c.iI,ae.UN,te.sN.forRoot({echarts:()=>P.e(697).then(P.bind(P,9697))}),fe.Id,ve.gG,Ie.YN]})}}return re})()},8218:(Bt,He,P)=>{var u=P(345),ae=P(9417),c=P(7705),te=P(9969);function ve(n){return new c.wOt(3e3,!1)}function rt(n){switch(n.length){case 0:return new te.sf;case 1:return n[0];default:return new te.ui(n)}}function Qe(n,e,t=new Map,i=new Map){const r=[],a=[];let d=-1,m=null;if(e.forEach(w=>{const T=w.get("offset"),B=T==d,Y=B&&m||new Map;w.forEach((pe,xe)=>{let Je=xe,vt=pe;if("offset"!==xe)switch(Je=n.normalizePropertyName(Je,r),vt){case te.FX:vt=t.get(xe);break;case te.kp:vt=i.get(xe);break;default:vt=n.normalizeStyleValue(xe,Je,vt,r)}Y.set(Je,vt)}),B||a.push(Y),m=Y,d=T}),r.length)throw function zt(n){return new c.wOt(3502,!1)}();return a}function It(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&se(t,"start",n)));break;case"done":n.onDone(()=>i(t&&se(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&se(t,"destroy",n)))}}function se(n,e,t){const a=Te(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function Te(n,e,t,i,r="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!d}}function nt(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Dt(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const jt=(()=>typeof document>"u"?null:document.documentElement)();function Re(n){const e=n.parentNode||n.host||null;return e===jt?null:e}let st=null,St=!1;function Be(n,e){for(;e;){if(e===n)return!0;e=Re(e)}return!1}function We(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let _t=(()=>{class n{validateStyleProperty(t){return function tt(n){st||(st=function Ne(){return typeof document<"u"?document.body:null}()||{},St=!!st.style&&"WebkitAppearance"in st.style);let e=!0;return st.style&&!function Ye(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in st.style,!e&&St&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in st.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return Be(t,i)}getParentElement(t){return Re(t)}query(t,i,r){return We(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,d,m=[],w){return new te.sf(r,a)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac})}}return n})(),Yt=(()=>{class n{static{this.NOOP=new _t}}return n})();const hn=1e3,An="ng-enter",Gn="ng-leave",Kt="ng-trigger",ti=".ng-trigger",bn="ng-animating",xr=".ng-animating";function Oi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ls(parseFloat(e[1]),e[2])}function ls(n,e){return"s"===e?n*hn:n}function Ci(n,e,t){return n.hasOwnProperty("duration")?n:function _r(n,e,t){let r,a=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(ve()),{duration:0,delay:0,easing:""};r=ls(parseFloat(m[1]),m[2]);const w=m[3];null!=w&&(a=ls(parseFloat(w),m[4]));const T=m[5];T&&(d=T)}else r=n;if(!t){let m=!1,w=e.length;r<0&&(e.push(function Ie(){return new c.wOt(3100,!1)}()),m=!0),a<0&&(e.push(function Me(){return new c.wOt(3101,!1)}()),m=!0),m&&e.splice(w,0,ve())}return{duration:r,delay:a,easing:d}}(n,e,t)}function Wi(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ki(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ci(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Fi(n,e,t){e.forEach((i,r)=>{const a=xt(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i})}function Vi(n,e){e.forEach((t,i)=>{const r=xt(i);n.style[r]=""})}function oe(n){return Array.isArray(n)?1==n.length?n[0]:(0,te.K2)(n):n}const j=new RegExp("{{\\s*(.+?)\\s*}}","g");function z(n){let e=[];if("string"==typeof n){let t;for(;t=j.exec(n);)e.push(t[1]);j.lastIndex=0}return e}function W(n,e,t){const i=n.toString(),r=i.replace(j,(a,d)=>{let m=e[d];return null==m&&(t.push(function re(n){return new c.wOt(3003,!1)}()),m=""),m.toString()});return r==i?n:r}function _e(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const lt=/-+([a-z0-9])/g;function xt(n){return n.replace(lt,(...e)=>e[1].toUpperCase())}function sn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ue(n){return new c.wOt(3004,!1)}()}}function mi(n,e){return window.getComputedStyle(n)[e]}const cn="*";function Nn(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function un(n,e,t){if(":"==n[0]){const w=function ui(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Ke(n){return new c.wOt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Ce(n){return new c.wOt(3015,!1)}()),e;const r=i[1],a=i[2],d=i[3];e.push(co(r,d));"<"==a[0]&&!(r==cn&&d==cn)&&e.push(co(d,r))}(i,t,e)):t.push(n),t}const Bi=new Set(["true","1"]),Ri=new Set(["false","0"]);function co(n,e){const t=Bi.has(n)||Ri.has(n),i=Bi.has(e)||Ri.has(e);return(r,a)=>{let d=n==cn||n==r,m=e==cn||e==a;return!d&&t&&"boolean"==typeof r&&(d=r?Bi.has(n):Ri.has(n)),!m&&i&&"boolean"==typeof a&&(m=a?Bi.has(e):Ri.has(e)),d&&m}}const Ao=new RegExp("s*:selfs*,?","g");function ra(n,e,t,i){return new Uo(n).build(e,t,i)}class Uo{constructor(e){this._driver=e}build(e,t,i){const r=new ki(t);return this._resetContextStyleTimingState(r),sn(this,oe(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ge(){return new c.wOt(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const w=m,T=w.name;T.toString().split(/\s*,\s*/).forEach(B=>{w.name=B,a.push(this.visitState(w,t))}),w.name=T}else if(1==m.type){const w=this.visitTransition(m,t);i+=w.queryCount,r+=w.depCount,d.push(w)}else t.errors.push(function $e(){return new c.wOt(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,d=r||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(w=>{z(w).forEach(T=>{d.hasOwnProperty(T)||a.add(T)})})}),a.size&&(_e(a.values()),t.errors.push(function ot(n,e){return new c.wOt(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=sn(this,oe(e.animation),t);return{type:1,matchers:Nn(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:rr(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>sn(this,i,t)),options:rr(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(d=>{t.currentTime=i;const m=sn(this,d,t);return r=Math.max(r,t.currentTime),m});return t.currentTime=r,{type:3,steps:a,options:rr(e.options)}}visitAnimate(e,t){const i=function Ti(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Es(Ci(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Es(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=Ci(t,e);return Es(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:(0,te.iF)({});if(5==a.type)r=this.visitKeyframes(a,t);else{let d=e.styles,m=!1;if(!d){m=!0;const T={};i.easing&&(T.easing=i.easing),d=(0,te.iF)(T)}t.currentTime+=i.duration+i.delay;const w=this.visitStyle(d,t);w.isEmptyStep=m,r=w}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of r)"string"==typeof m?m===te.kp?i.push(m):t.errors.push(new c.wOt(3002,!1)):i.push(Ki(m));let a=!1,d=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!a))for(let w of m.values())if(w.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:d,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&d.forEach((m,w)=>{const T=t.collectedStyles.get(t.currentQuerySelector),B=T.get(w);let Y=!0;B&&(a!=r&&a>=B.startTime&&r<=B.endTime&&(t.errors.push(function Ze(n,e,t,i,r){return new c.wOt(3010,!1)}()),Y=!1),a=B.startTime),Y&&T.set(w,{startTime:a,endTime:r}),t.options&&function J(n,e,t){const i=e.params||{},r=z(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function me(n){return new c.wOt(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function at(){return new c.wOt(3011,!1)}()),i;let a=0;const d=[];let m=!1,w=!1,T=0;const B=e.steps.map(fn=>{const Dn=this._makeStyleAst(fn,t);let On=null!=Dn.offset?Dn.offset:function ur(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Dn.styles),Bn=0;return null!=On&&(a++,Bn=Dn.offset=On),w=w||Bn<0||Bn>1,m=m||Bn<T,T=Bn,d.push(Bn),Dn});w&&t.errors.push(function mt(){return new c.wOt(3012,!1)}()),m&&t.errors.push(function ge(){return new c.wOt(3200,!1)}());const Y=e.steps.length;let pe=0;a>0&&a<Y?t.errors.push(function ke(){return new c.wOt(3202,!1)}()):0==a&&(pe=1/(Y-1));const xe=Y-1,Je=t.currentTime,vt=t.currentAnimateTimings,Lt=vt.duration;return B.forEach((fn,Dn)=>{const On=pe>0?Dn==xe?1:pe*Dn:d[Dn],Bn=On*Lt;t.currentTime=Je+vt.delay+Bn,vt.duration=Bn,this._validateStyleAst(fn,t),fn.offset=On,i.styles.push(fn)}),i}visitReference(e,t){return{type:8,animation:sn(this,oe(e.animation),t),options:rr(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:rr(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:rr(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function Ir(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ao,"")),n=n.replace(/@\*/g,ti).replace(/@\w+/g,t=>ti+"-"+t.slice(1)).replace(/:animating/g,xr),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,nt(t.collectedStyles,t.currentQuerySelector,new Map);const m=sn(this,oe(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:rr(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function De(){return new c.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ci(e.timings,t.errors,!0);return{type:12,animation:sn(this,oe(e.animation),t),timings:i,options:null}}}class ki{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rr(n){return n?(n=Wi(n)).params&&(n.params=function Dr(n){return n?Wi(n):null}(n.params)):n={},n}function Es(n,e,t){return{duration:n,delay:e,easing:t}}function Ha(n,e,t,i,r,a,d=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:d,subTimeline:m}}class $s{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zo=new RegExp(":enter","g"),Go=new RegExp(":leave","g");function ll(n,e,t,i,r,a=new Map,d=new Map,m,w,T=[]){return(new ms).buildKeyframes(n,e,t,i,r,a,d,m,w,T)}class ms{buildKeyframes(e,t,i,r,a,d,m,w,T,B=[]){T=T||new $s;const Y=new _s(e,t,T,r,a,B,[]);Y.options=w;const pe=w.delay?Oi(w.delay):0;Y.currentTimeline.delayNextStep(pe),Y.currentTimeline.setStyles([d],null,Y.errors,w),sn(this,i,Y);const xe=Y.timelines.filter(Je=>Je.containsAnimation());if(xe.length&&m.size){let Je;for(let vt=xe.length-1;vt>=0;vt--){const Lt=xe[vt];if(Lt.element===t){Je=Lt;break}}Je&&!Je.allowOnlyTimelineStyles()&&Je.setStyles([m],null,Y.errors,w)}return xe.length?xe.map(Je=>Je.buildKeyframes()):[Ha(t,[],[],[],0,pe,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const d="number"==typeof a?a:Oi(W(a,r?.params??{},t.errors));i.delayNextStep(d)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const d=null!=i.duration?Oi(i.duration):null,m=null!=i.delay?Oi(i.delay):null;return 0!==d&&e.forEach(w=>{const T=t.appendInstructionToTimeline(w,d,m);a=Math.max(a,T.duration+T.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),sn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ho);const d=Oi(a.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>sn(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Oi(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),sn(this,d,m),r=Math.max(r,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ci(t.params?W(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,m=t.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(w=>{m.forwardTime((w.offset||0)*a),m.setStyles(w.styles,w.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Oi(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ho);let d=i;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=m.length;let w=null;m.forEach((T,B)=>{t.currentQueryIndex=B;const Y=t.createSubContext(e.options,T);a&&Y.delayNextStep(a),T===t.element&&(w=Y.currentTimeline),sn(this,e.animation,Y),Y.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,Y.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),m=d*(t.currentQueryTotal-1);let w=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":w=m-w;break;case"full":w=i.currentStaggerTime}const B=t.currentTimeline;w&&B.delayNextStep(w);const Y=B.currentTime;sn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-Y+(r.startTime-i.currentTimeline.startTime)}}const Ho={};class _s{constructor(e,t,i,r,a,d,m,w){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ho,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new dr(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Oi(i.duration)),null!=i.delay&&(r.delay=Oi(i.delay));const a=i.params;if(a){let d=r.params;d||(d=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=W(a[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new _s(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Ho,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new $o(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,d){let m=[];if(r&&m.push(this.element),e.length>0){e=(e=e.replace(zo,"."+this._enterClassName)).replace(Go,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=i);0!==i&&(T=i<0?T.slice(T.length+i,T.length):T.slice(0,i)),m.push(...T)}return!a&&0==m.length&&d.push(function Se(n){return new c.wOt(3014,!1)}()),m}}class dr{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new dr(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||te.kp),this._currentKeyframe.set(t,te.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},d=function Wo(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,te.kp)}else ci(r,t)}),t}(e,this._globalTimelineStyles);for(let[m,w]of d){const T=W(w,a,i);this._pendingStyles.set(m,T),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??te.kp),this._updateStyle(m,T)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((m,w)=>{const T=ci(m,new Map,this._backFill);T.forEach((B,Y)=>{B===te.FX?e.add(Y):B===te.kp&&t.add(Y)}),i||T.set("offset",w/this.duration),r.push(T)});const a=e.size?_e(e.values()):[],d=t.size?_e(t.values()):[];if(i){const m=r[0],w=new Map(m);m.set("offset",0),w.set("offset",1),r=[m,w]}return Ha(this.element,r,a,d,this.duration,this.startTime,this.easing,!1)}}class $o extends dr{constructor(e,t,i,r,a,d,m=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=i+t,m=t/d,w=ci(e[0]);w.set("offset",0),a.push(w);const T=ci(e[0]);T.set("offset",zr(m)),a.push(T);const B=e.length-1;for(let Y=1;Y<=B;Y++){let pe=ci(e[Y]);const xe=pe.get("offset");pe.set("offset",zr((t+xe*i)/d)),a.push(pe)}i=d,t=0,r="",e=a}return Ha(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function zr(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ya{}const No=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cs extends ya{normalizePropertyName(e,t){return xt(e)}normalizeStyleValue(e,t,i,r){let a="";const d=i.toString().trim();if(No.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&r.push(function be(n,e){return new c.wOt(3005,!1)}())}return d+a}}function eo(n,e,t,i,r,a,d,m,w,T,B,Y,pe){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:d,timelines:m,queriedElements:w,preStyleProps:T,postStyleProps:B,totalTime:Y,errors:pe}}const Ko={};class Wn{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function sr(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,d,m,w,T,B){const Y=[],pe=this.ast.options&&this.ast.options.params||Ko,Je=this.buildStyles(i,m&&m.params||Ko,Y),vt=w&&w.params||Ko,Lt=this.buildStyles(r,vt,Y),fn=new Set,Dn=new Map,On=new Map,Bn="void"===r,wi={params:Is(vt,pe),delay:this.ast.options?.delay},fi=B?[]:ll(e,t,this.ast.animation,a,d,Je,Lt,wi,T,Y);let Pr=0;if(fi.forEach(Eu=>{Pr=Math.max(Eu.duration+Eu.delay,Pr)}),Y.length)return eo(t,this._triggerName,i,r,Bn,Je,Lt,[],[],Dn,On,Pr,Y);fi.forEach(Eu=>{const Xh=Eu.element,IT=nt(Dn,Xh,new Set);Eu.preStyleProps.forEach(yg=>IT.add(yg));const ay=nt(On,Xh,new Set);Eu.postStyleProps.forEach(yg=>ay.add(yg)),Xh!==t&&fn.add(Xh)});const al=_e(fn.values());return eo(t,this._triggerName,i,r,Bn,Je,Lt,fi,al,Dn,On,Pr)}}function Is(n,e){const t=Wi(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Tr{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Wi(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!==d&&(r[a]=d)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((d,m)=>{d&&(d=W(d,r,t));const w=this.normalizer.normalizePropertyName(m,t);d=this.normalizer.normalizeStyleValue(m,w,d,t),i.set(m,d)})}),i}}class oa{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Tr(r.style,r.options&&r.options.params||{},i))}),Jr(this.states,"true","1"),Jr(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Wn(e,r,this.states))}),this.fallbackTransition=function uo(n,e,t){return new Wn(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Jr(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Yo=new $s;class Yi{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=ra(this._driver,t,i,[]);if(i.length)throw function zn(n){return new c.wOt(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=Qe(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let d;const m=new Map;if(a?(d=ll(this._driver,t,a,An,Gn,new Map,new Map,i,Yo,r),d.forEach(B=>{const Y=nt(m,B.element,new Map);B.postStyleProps.forEach(pe=>Y.set(pe,null))})):(r.push(function gi(){return new c.wOt(3300,!1)}()),d=[]),r.length)throw function si(n){return new c.wOt(3504,!1)}();m.forEach((B,Y)=>{B.forEach((pe,xe)=>{B.set(xe,this._driver.computeStyle(Y,xe,te.kp))})});const T=rt(d.map(B=>{const Y=m.get(B.element);return this._buildPlayer(B,new Map,Y)}));return this._playersById.set(e,T),T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function mr(n){return new c.wOt(3301,!1)}();return t}listen(e,t,i,r){const a=Te(t,"","","");return It(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Jt="ng-animate-queued",di="ng-animate-disabled",ho=[],qi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vr="__ng_removed";class Tn{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Fs(n){return n??null}(i?e.value:e),i){const a=Wi(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Po="void",wa=new Tn(Po);class to{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,or(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ji(n,e){return new c.wOt(3302,!1)}();if(null==i||0==i.length)throw function Sn(n){return new c.wOt(3303,!1)}();if(!function ql(n){return"start"==n||"done"==n}(i))throw function Cn(n,e){return new c.wOt(3400,!1)}();const a=nt(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};a.push(d);const m=nt(this._engine.statesByElement,e,new Map);return m.has(t)||(or(e,Kt),or(e,Kt+"-"+t),m.set(t,wa)),()=>{this._engine.afterFlush(()=>{const w=a.indexOf(d);w>=0&&a.splice(w,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ye(n){return new c.wOt(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),d=new aa(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(or(e,Kt),or(e,Kt+"-"+t),this._engine.statesByElement.set(e,m=new Map));let w=m.get(t);const T=new Tn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&T.absorbOptions(w.options),m.set(t,T),w||(w=wa),T.value!==Po&&w.value===T.value){if(!function As(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(w.params,T.params)){const vt=[],Lt=a.matchStyles(w.value,w.params,vt),fn=a.matchStyles(T.value,T.params,vt);vt.length?this._engine.reportError(vt):this._engine.afterFlush(()=>{Vi(e,Lt),Fi(e,fn)})}return}const pe=nt(this._engine.playersByElement,e,[]);pe.forEach(vt=>{vt.namespaceId==this.id&&vt.triggerName==t&&vt.queued&&vt.destroy()});let xe=a.matchTransition(w.value,T.value,e,T.params),Je=!1;if(!xe){if(!r)return;xe=a.fallbackTransition,Je=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:xe,fromState:w,toState:T,player:d,isFallbackTransition:Je}),Je||(or(e,Jt),d.onStart(()=>{Fn(e,Jt)})),d.onDone(()=>{let vt=this.players.indexOf(d);vt>=0&&this.players.splice(vt,1);const Lt=this._engine.playersByElement.get(e);if(Lt){let fn=Lt.indexOf(d);fn>=0&&Lt.splice(fn,1)}}),this.players.push(d),pe.push(d),d}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ti,!0);i.forEach(r=>{if(r[vr])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const m=[];if(a.forEach((w,T)=>{if(d.set(T,w.value),this._triggers.has(T)){const B=this.trigger(e,T,Po,r);B&&m.push(B)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&rt(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const d=a.name;if(r.has(d))return;r.add(d);const w=this._triggers.get(d).fallbackTransition,T=i.get(d)||wa,B=new Tn(Po),Y=new aa(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:w,fromState:T,toState:B,player:Y,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[vr];(!a||a===qi)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){or(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,d=this._elementListeners.get(a);d&&d.forEach(m=>{if(m.name==i.triggerName){const w=Te(a,i.triggerName,i.fromState.value,i.toState.value);w._data=e,It(i.player,m.phase,w,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Ui{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new to(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let d=!1,m=this.driver.getParentElement(t);for(;m;){const w=r.get(m);if(w){const T=i.indexOf(w);i.splice(T+1,0,e),d=!0;break}m=this.driver.getParentElement(m)}d||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(vs(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vs(t))return;const a=t[vr];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),or(e,di)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fn(e,di))}removeNode(e,t,i){if(vs(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[vr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return vs(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,ti,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xr,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[vr];if(t&&t.setForRemoval){if(e[vr]=qi,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(di)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)or(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?rt(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function je(n){return new c.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new $s,r=[],a=new Map,d=[],m=new Map,w=new Map,T=new Map,B=new Set;this.disabledNodes.forEach(kn=>{B.add(kn);const Ln=this.driver.query(kn,".ng-animate-queued",!0);for(let li=0;li<Ln.length;li++)B.add(Ln[li])});const Y=this.bodyNode,pe=Array.from(this.statesByElement.keys()),xe=Ws(pe,this.collectedEnterElements),Je=new Map;let vt=0;xe.forEach((kn,Ln)=>{const li=An+vt++;Je.set(Ln,li),kn.forEach(Ur=>or(Ur,li))});const Lt=[],fn=new Set,Dn=new Set;for(let kn=0;kn<this.collectedLeaveElements.length;kn++){const Ln=this.collectedLeaveElements[kn],li=Ln[vr];li&&li.setForRemoval&&(Lt.push(Ln),fn.add(Ln),li.hasAnimation?this.driver.query(Ln,".ng-star-inserted",!0).forEach(Ur=>fn.add(Ur)):Dn.add(Ln))}const On=new Map,Bn=Ws(pe,Array.from(fn));Bn.forEach((kn,Ln)=>{const li=Gn+vt++;On.set(Ln,li),kn.forEach(Ur=>or(Ur,li))}),e.push(()=>{xe.forEach((kn,Ln)=>{const li=Je.get(Ln);kn.forEach(Ur=>Fn(Ur,li))}),Bn.forEach((kn,Ln)=>{const li=On.get(Ln);kn.forEach(Ur=>Fn(Ur,li))}),Lt.forEach(kn=>{this.processLeaveNode(kn)})});const wi=[],fi=[];for(let kn=this._namespaceList.length-1;kn>=0;kn--)this._namespaceList[kn].drainQueuedTransitions(t).forEach(li=>{const Ur=li.player,El=li.element;if(wi.push(Ur),this.collectedEnterElements.length){const mc=El[vr];if(mc&&mc.setForMove){if(mc.previousTriggersValues&&mc.previousTriggersValues.has(li.triggerName)){const ly=mc.previousTriggersValues.get(li.triggerName),Xd=this.statesByElement.get(li.element);if(Xd&&Xd.has(li.triggerName)){const ST=Xd.get(li.triggerName);ST.value=ly,Xd.set(li.triggerName,ST)}}return void Ur.destroy()}}const sp=!Y||!this.driver.containsElement(Y,El),ed=On.get(El),h_=Je.get(El),Vo=this._buildInstruction(li,i,h_,ed,sp);if(Vo.errors&&Vo.errors.length)return void fi.push(Vo);if(sp)return Ur.onStart(()=>Vi(El,Vo.fromStyles)),Ur.onDestroy(()=>Fi(El,Vo.toStyles)),void r.push(Ur);if(li.isFallbackTransition)return Ur.onStart(()=>Vi(El,Vo.fromStyles)),Ur.onDestroy(()=>Fi(El,Vo.toStyles)),void r.push(Ur);const iR=[];Vo.timelines.forEach(mc=>{mc.stretchStartingKeyframe=!0,this.disabledNodes.has(mc.element)||iR.push(mc)}),Vo.timelines=iR,i.append(El,Vo.timelines),d.push({instruction:Vo,player:Ur,element:El}),Vo.queriedElements.forEach(mc=>nt(m,mc,[]).push(Ur)),Vo.preStyleProps.forEach((mc,ly)=>{if(mc.size){let Xd=w.get(ly);Xd||w.set(ly,Xd=new Set),mc.forEach((ST,XO)=>Xd.add(XO))}}),Vo.postStyleProps.forEach((mc,ly)=>{let Xd=T.get(ly);Xd||T.set(ly,Xd=new Set),mc.forEach((ST,XO)=>Xd.add(XO))})});if(fi.length){const kn=[];fi.forEach(Ln=>{kn.push(function Fe(n,e){return new c.wOt(3505,!1)}())}),wi.forEach(Ln=>Ln.destroy()),this.reportError(kn)}const Pr=new Map,al=new Map;d.forEach(kn=>{const Ln=kn.element;i.has(Ln)&&(al.set(Ln,Ln),this._beforeAnimationBuild(kn.player.namespaceId,kn.instruction,Pr))}),r.forEach(kn=>{const Ln=kn.element;this._getPreviousPlayers(Ln,!1,kn.namespaceId,kn.triggerName,null).forEach(Ur=>{nt(Pr,Ln,[]).push(Ur),Ur.destroy()})});const Eu=Lt.filter(kn=>es(kn,w,T)),Xh=new Map;Ms(Xh,this.driver,Dn,T,te.kp).forEach(kn=>{es(kn,w,T)&&Eu.push(kn)});const ay=new Map;xe.forEach((kn,Ln)=>{Ms(ay,this.driver,new Set(kn),w,te.FX)}),Eu.forEach(kn=>{const Ln=Xh.get(kn),li=ay.get(kn);Xh.set(kn,new Map([...Ln?.entries()??[],...li?.entries()??[]]))});const yg=[],DT=[],AE={};d.forEach(kn=>{const{element:Ln,player:li,instruction:Ur}=kn;if(i.has(Ln)){if(B.has(Ln))return li.onDestroy(()=>Fi(Ln,Ur.toStyles)),li.disabled=!0,li.overrideTotalTime(Ur.totalTime),void r.push(li);let El=AE;if(al.size>1){let ed=Ln;const h_=[];for(;ed=ed.parentNode;){const Vo=al.get(ed);if(Vo){El=Vo;break}h_.push(ed)}h_.forEach(Vo=>al.set(Vo,El))}const sp=this._buildAnimation(li.namespaceId,Ur,Pr,a,ay,Xh);if(li.setRealPlayer(sp),El===AE)yg.push(li);else{const ed=this.playersByElement.get(El);ed&&ed.length&&(li.parentPlayer=rt(ed)),r.push(li)}}else Vi(Ln,Ur.fromStyles),li.onDestroy(()=>Fi(Ln,Ur.toStyles)),DT.push(li),B.has(Ln)&&r.push(li)}),DT.forEach(kn=>{const Ln=a.get(kn.element);if(Ln&&Ln.length){const li=rt(Ln);kn.setRealPlayer(li)}}),r.forEach(kn=>{kn.parentPlayer?kn.syncPlayerEvents(kn.parentPlayer):kn.destroy()});for(let kn=0;kn<Lt.length;kn++){const Ln=Lt[kn],li=Ln[vr];if(Fn(Ln,Gn),li&&li.hasAnimation)continue;let Ur=[];if(m.size){let sp=m.get(Ln);sp&&sp.length&&Ur.push(...sp);let ed=this.driver.query(Ln,xr,!0);for(let h_=0;h_<ed.length;h_++){let Vo=m.get(ed[h_]);Vo&&Vo.length&&Ur.push(...Vo)}}const El=Ur.filter(sp=>!sp.destroyed);El.length?Ca(this,Ln,El):this.processLeaveNode(Ln)}return Lt.length=0,yg.forEach(kn=>{this.players.push(kn),kn.onDone(()=>{kn.destroy();const Ln=this.players.indexOf(kn);this.players.splice(Ln,1)}),kn.play()}),yg}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const w=!a||a==Po;m.forEach(T=>{T.queued||!w&&T.triggerName!=r||d.push(T)})}}return(i||r)&&(d=d.filter(m=>!(i&&i!=m.namespaceId||r&&r!=m.triggerName))),d}_beforeAnimationBuild(e,t,i){const a=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const T=w.element,B=T!==a,Y=nt(i,T,[]);this._getPreviousPlayers(T,B,d,m,t.toState).forEach(xe=>{const Je=xe.getRealPlayer();Je.beforeDestroy&&Je.beforeDestroy(),xe.destroy(),Y.push(xe)})}Vi(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,d){const m=t.triggerName,w=t.element,T=[],B=new Set,Y=new Set,pe=t.timelines.map(Je=>{const vt=Je.element;B.add(vt);const Lt=vt[vr];if(Lt&&Lt.removedBeforeQueried)return new te.sf(Je.duration,Je.delay);const fn=vt!==w,Dn=function po(n){const e=[];return go(n,e),e}((i.get(vt)||ho).map(Pr=>Pr.getRealPlayer())).filter(Pr=>!!Pr.element&&Pr.element===vt),On=a.get(vt),Bn=d.get(vt),wi=Qe(this._normalizer,Je.keyframes,On,Bn),fi=this._buildPlayer(Je,wi,Dn);if(Je.subTimeline&&r&&Y.add(vt),fn){const Pr=new aa(e,m,vt);Pr.setRealPlayer(fi),T.push(Pr)}return fi});T.forEach(Je=>{nt(this.playersByQueriedElement,Je.element,[]).push(Je),Je.onDone(()=>function Ts(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Je.element,Je))}),B.forEach(Je=>or(Je,bn));const xe=rt(pe);return xe.onDestroy(()=>{B.forEach(Je=>Fn(Je,bn)),Fi(w,t.toStyles)}),Y.forEach(Je=>{nt(r,Je,[]).push(xe)}),xe}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new te.sf(e.duration,e.delay)}}class aa{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new te.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>It(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){nt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vs(n){return n&&1===n.nodeType}function no(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Ms(n,e,t,i,r){const a=[];t.forEach(w=>a.push(no(w)));const d=[];i.forEach((w,T)=>{const B=new Map;w.forEach(Y=>{const pe=e.computeStyle(T,Y,r);B.set(Y,pe),(!pe||0==pe.length)&&(T[vr]=fo,d.push(T))}),n.set(T,B)});let m=0;return t.forEach(w=>no(w,a[m++])),d}function Ws(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const r=new Set(e),a=new Map;function d(m){if(!m)return 1;let w=a.get(m);if(w)return w;const T=m.parentNode;return w=t.has(T)?T:r.has(T)?1:d(T),a.set(m,w),w}return e.forEach(m=>{const w=d(m);1!==w&&t.get(w).push(m)}),t}function or(n,e){n.classList?.add(e)}function Fn(n,e){n.classList?.remove(e)}function Ca(n,e,t){rt(t).onDone(()=>n.processLeaveNode(e))}function go(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof te.ui?go(i.players,e):e.push(i)}}function es(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class Os{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new Ui(e,t,i),this._timelineEngine=new Yi(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const d=e+"-"+r;let m=this._triggerCache[d];if(!m){const w=[],B=ra(this._driver,a,w,[]);if(w.length)throw function Vt(n,e){return new c.wOt(3404,!1)}();m=function $a(n,e,t){return new oa(n,e,t)}(r,B,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,r,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,d]=Dt(i);this._timelineEngine.command(a,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[d,m]=Dt(i);return this._timelineEngine.listen(d,t,m,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Gr=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Fi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fi(this._element,this._initialStyles),this._endStyles&&(Fi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vi(this._element,this._endStyles),this._endStyles=null),Fi(this._element,this._initialStyles),this._state=3)}}return n})();function Wa(n){let e=null;return n.forEach((t,i)=>{(function yr(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class hr{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:mi(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Xl{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Be(e,t)}getParentElement(e){return Re(e)}query(e,t,i){return We(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,d=[]){const w={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(w.easing=a);const T=new Map,B=d.filter(xe=>xe instanceof hr);(function rn(n,e){return 0===n||0===e})(i,r)&&B.forEach(xe=>{xe.currentSnapshot.forEach((Je,vt)=>T.set(vt,Je))});let Y=function ir(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ki(e)):[]}(t).map(xe=>ci(xe));Y=function ln(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,d)=>{i.has(d)||r.push(d),i.set(d,a)}),r.length)for(let a=1;a<e.length;a++){let d=e[a];r.forEach(m=>d.set(m,mi(n,m)))}}return e}(e,Y,T);const pe=function la(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Wa(e[0]),e.length>1&&(i=Wa(e[e.length-1]))):e instanceof Map&&(t=Wa(e)),t||i?new Gr(n,t,i):null}(e,Y);return new hr(e,Y,w,pe)}}var Pn=P(177);let Ks=(()=>{class n extends te.S6{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.gXe.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?(0,te.K2)(t):t;return Dl(this._renderer,null,i,"register",[r]),new Hr(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(c._9s),c.KVO(Pn.qQ))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac})}}return n})();class Hr extends te.Ro{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new ca(this._id,e,t||{},this._renderer)}}class ca{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Dl(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Dl(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const cl="@.disabled";let Tl=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(a,d)=>{const m=d?.parentNode(a);m&&d.removeChild(m,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(a);return B||(B=new q("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,B)),B}const d=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const w=B=>{Array.isArray(B)?B.forEach(w):this.engine.registerTrigger(d,m,t,B.name,B)};return i.data.animation.forEach(w),new Z(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,m]=a;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(c._9s),c.KVO(Os),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac})}}return n})();class q{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==cl?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Z extends q{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cl?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function V(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),d="";return"@"!=a.charAt(0)&&([a,d]=function he(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,t,i)}}let Le=(()=>{class n extends Os{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(Pn.qQ),c.KVO(Yt),c.KVO(ya),c.KVO(c.o8S))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac})}}return n})();const ua=[{provide:te.S6,useClass:Ks},{provide:ya,useFactory:function _n(){return new cs}},{provide:Os,useClass:Le},{provide:c._9s,useFactory:function Xn(n,e,t){return new Tl(n,e,t)},deps:[u.B7,Os,c.SKi]}],Ea=[{provide:Yt,useFactory:()=>new Xl},{provide:c.bc$,useValue:"BrowserAnimations"},...ua],ul=[{provide:Yt,useClass:_t},{provide:c.bc$,useValue:"NoopAnimations"},...ua];let Ia=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ul:Ea}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=c.$C({type:n})}static{this.\u0275inj=c.G2t({providers:Ea,imports:[u.Bb]})}}return n})();var ts=P(1084),Mr=P(1188),$r=P(1413),da=P(7673),io=P(1985),Wr=P(8455),Bs=P(7786),Ml=P(941),Ni=P(5558),Xi=P(6354),Kr=P(4668),yc=P(1594),Ka=P(8071);function Ql(n,e){return(0,Ka.T)(e)?(0,Ni.n)(()=>n,e):(0,Ni.n)(()=>n)}var Ya=P(6745),qo=P(5964),Qi=P(1161),Ei=P(4783);P(2214);var Ot=P(467),ns=P(7852),mo=P(1362),C=P(1076),ne=P(8041);const U=new Map,Q={activated:!1,tokenObservers:[]},Pe={initialized:!1,enabled:!1};function gt(n){return U.get(n)||Object.assign({},Q)}function En(){return Pe}const Ii="https://content-firebaseappcheck.googleapis.com/v1",Qn="exchangeDebugToken",Ar={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class lr{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ot.A)(function*(){t.stop();try{t.pending=new C.cY,yield function ro(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new C.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new C.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Or(n){if(!gt(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function fa(n,e){return Li.apply(this,arguments)}function Li(){return(Li=(0,Ot.A)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const Y=yield r.getHeartbeatsHeader();Y&&(i["X-Firebase-Client"]=Y)}const a={method:"POST",body:JSON.stringify(e),headers:i};let d,m;try{d=yield fetch(n,a)}catch(Y){throw fr.create("fetch-network-error",{originalErrorMessage:Y?.message})}if(200!==d.status)throw fr.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(Y){throw fr.create("fetch-parse-error",{originalErrorMessage:Y?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const T=1e3*Number(w[1]),B=Date.now();return{token:m.token,expireTimeMillis:B+T,issuedAtTimeMillis:B}})).apply(this,arguments)}function _o(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Ii}/projects/${t}/apps/${i}:${Qn}?key=${r}`,body:{debug_token:e}}}const op="firebase-app-check-database",td=1,Ro="firebase-app-check-store";let fl=null;function pr(){return(pr=(0,Ot.A)(function*(n,e){const i=(yield function nd(){return fl||(fl=new Promise((n,e)=>{try{const t=indexedDB.open(op,td);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(fr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ro,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),fl)}()).transaction(Ro,"readwrite"),a=i.objectStore(Ro).put({compositeKey:n,value:e});return new Promise((d,m)=>{a.onsuccess=w=>{d()},i.onerror=w=>{var T;m(fr.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const pl=new ne.Vy("@firebase/app-check");function Qc(n,e){return(0,C.zW)()?function ec(n,e){return function Qh(n,e){return pr.apply(this,arguments)}(function Hn(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Yr(){return En().enabled}function nc(){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,Ot.A)(function*(){const n=En();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ys={error:"UNKNOWN_ERROR"};function js(n){return C.K3.encodeString(JSON.stringify(n),!1)}function kt(n){return oi.apply(this,arguments)}function oi(){return(oi=(0,Ot.A)(function*(n,e=!1){const t=n.app;Or(t);const i=gt(t);let a,r=i.token;if(r&&!Ol(r)&&(i.token=void 0,r=void 0),!r){const w=yield i.cachedTokenPromise;w&&(Ol(w)?r=w:yield Qc(t,void 0))}if(!e&&r&&Ol(r))return{token:r.token};let m,d=!1;if(Yr()){i.exchangeTokenPromise||(i.exchangeTokenPromise=fa(_o(t,yield nc()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const w=yield i.exchangeTokenPromise;return yield Qc(t,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),r=yield gt(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?pl.warn(w.message):pl.error(w),a=w}return r?a?m=Ol(r)?{token:r.token,internalError:a}:id(a):(m={token:r.token},i.token=r,yield Qc(t,r)):m=id(a),d&&function Sc(n,e){const t=gt(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,m),m})).apply(this,arguments)}function ic(n){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,Ot.A)(function*(n){const e=n.app;Or(e);const{provider:t}=gt(e);if(Yr()){const i=yield nc(),{token:r}=yield fa(_o(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function qa(n,e){const t=gt(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function rc(n){const{app:e}=n,t=gt(e);let i=t.tokenRefresher;i||(i=function bo(n){const{app:e}=n;return new lr((0,Ot.A)(function*(){let i;if(i=gt(e).token?yield kt(n,!0):yield kt(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=gt(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Ar.RETRIAL_MIN_WAIT,Ar.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Ol(n){return n.expireTimeMillis-Date.now()>0}function id(n){return{token:js(ys),error:n}}class Jd{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gt(this.app);for(const t of e)qa(this.app,t.next);return Promise.resolve()}}const Ta="app-check-internal";!function ef(){(0,ns._registerComponent)(new mo.uA("app-check",n=>function eh(n,e){return new Jd(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ta).initialize()})),(0,ns._registerComponent)(new mo.uA(Ta,n=>function Lr(n){return{getToken:e=>kt(n,e),getLimitedUseToken:()=>ic(n),addTokenListener:e=>function bs(n,e,t,i){const{app:r}=n,a=gt(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&Ol(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),rc(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>rc(n))}(n,"INTERNAL",e),removeTokenListener:e=>qa(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ns.registerVersion)("@firebase/app-check","0.8.0")}();class Pl{constructor(){return(0,Qi.CA)("app-check")}}typeof window<"u"&&window;var nh=P(7935);const oc=new c.nKC("angularfire2.auth.use-emulator"),ld=new c.nKC("angularfire2.auth.settings"),cd=new c.nKC("angularfire2.auth.tenant-id"),tu=new c.nKC("angularfire2.auth.langugage-code"),Ac=new c.nKC("angularfire2.auth.use-device-language"),Pu=new c.nKC("angularfire.auth.persistence"),Oc=(n,e,t,i,r,a,d,m)=>(0,Ei.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),i&&(w.tenantId=i),w.languageCode=r,a&&w.useDeviceLanguage(),d)for(const[T,B]of Object.entries(d))w.settings[T]=B;return m&&w.setPersistence(m),w},[t,i,r,a,d,m]);let Nc=(()=>{class n{constructor(t,i,r,a,d,m,w,T,B,Y,pe,xe){const Je=new $r.B,vt=(0,da.of)(void 0).pipe((0,Ml.Q)(d.outsideAngular),(0,Ni.n)(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6922)))),(0,Xi.T)(()=>(0,Ei.iB)(t,a,i)),(0,Xi.T)(Lt=>Oc(Lt,a,m,T,B,Y,w,pe)),(0,Kr.t)({bufferSize:1,refCount:!1}));if((0,Pn.Vy)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,da.of)(null);else{vt.pipe((0,yc.$)()).subscribe();const fn=vt.pipe((0,Ni.n)(Bn=>Bn.getRedirectResult().then(wi=>wi,()=>null)),Qi.U0,(0,Kr.t)({bufferSize:1,refCount:!1})),Dn=vt.pipe((0,Ni.n)(Bn=>new io.c(wi=>({unsubscribe:a.runOutsideAngular(()=>Bn.onAuthStateChanged(fi=>wi.next(fi),fi=>wi.error(fi),()=>wi.complete()))})))),On=vt.pipe((0,Ni.n)(Bn=>new io.c(wi=>({unsubscribe:a.runOutsideAngular(()=>Bn.onIdTokenChanged(fi=>wi.next(fi),fi=>wi.error(fi),()=>wi.complete()))}))));this.authState=fn.pipe(Ql(Dn),(0,Ya._)(d.outsideAngular),(0,Ml.Q)(d.insideAngular)),this.user=fn.pipe(Ql(On),(0,Ya._)(d.outsideAngular),(0,Ml.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,Ni.n)(Bn=>Bn?(0,Wr.H)(Bn.getIdToken()):(0,da.of)(null))),this.idTokenResult=this.user.pipe((0,Ni.n)(Bn=>Bn?(0,Wr.H)(Bn.getIdTokenResult()):(0,da.of)(null))),this.credential=(0,Bs.h)(fn,Je,this.authState.pipe((0,qo.p)(Bn=>!Bn))).pipe((0,Xi.T)(Bn=>Bn?.user?Bn:null),(0,Ya._)(d.outsideAngular),(0,Ml.Q)(d.insideAngular))}return(0,Ei.Gt)(this,vt,a,{spy:{apply:(Lt,fn,Dn)=>{(Lt.startsWith("signIn")||Lt.startsWith("createUser"))&&Dn.then(On=>Je.next(On))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.KVO(Ei.rx),c.KVO(Ei.uP,8),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(Qi.u0),c.KVO(oc,8),c.KVO(ld,8),c.KVO(cd,8),c.KVO(tu,8),c.KVO(Ac,8),c.KVO(Pu,8),c.KVO(Pl,8))},n.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nu=(()=>{class n{constructor(){nh.A.registerVersion("angularfire",Qi.xv.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.$C({type:n}),n.\u0275inj=c.G2t({providers:[Nc]}),n})(),af=(()=>{class n{constructor(t,i,r){this.afu=t,this.router=i,this.ngZone=r,this.showLoader=!1,this.afu.authState.subscribe(a=>{this.authState=a})}get isUserAnonymousLoggedIn(){return null!==this.authState&&this.authState.isAnonymous}get currentUserId(){return null!==this.authState?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return null!==this.authState?this.authState:null}get isUserEmailLoggedIn(){return null!==this.authState&&!this.isUserAnonymousLoggedIn}registerWithEmail(t,i){return this.afu.createUserWithEmailAndPassword(t,i).then(r=>{this.authState=r}).catch(r=>{throw console.log(r),r})}loginWithEmail(t,i){return this.afu.signInWithEmailAndPassword(t,i).then(r=>{this.authState=r}).catch(r=>{throw console.log(r),r})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(t,i){return this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard"])})}SetUserData(t){const i=this.afs.doc(`users/${t.uid}`),r={email:t.email,displayName:t.displayName,uid:t.uid,photoURL:t.photoURL||"src/favicon.ico",emailVerified:t.emailVerified};return i.delete().then(function(){}).catch(function(a){}),i.set(r,{merge:!0})}SignIn(t,i){return this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{!0!==r.user.emailVerified?(this.SetUserData(r.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(r=>{throw r})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(Nc),c.KVO(Mr.Ix),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ud(n,e){if(1&n&&(c.j41(0,"p",47),c.EFF(1),c.k0s()),2&n){const t=c.XpG(2);c.R7$(1),c.SpI(" ",t.errorMessage," ")}}function dd(n,e){if(1&n&&(c.j41(0,"p",47),c.EFF(1),c.k0s()),2&n){const t=c.XpG(2);c.R7$(1),c.SpI(" ",t._error.message," ")}}function hd(n,e){if(1&n){const t=c.RV6();c.j41(0,"form",24),c.bIt("ngSubmit",function(){c.eBV(t);const r=c.XpG();return c.Njj(r.login())}),c.j41(1,"div",25),c.DNE(2,ud,2,1,"p",26),c.DNE(3,dd,2,1,"p",26),c.j41(4,"div",27)(5,"h1",28),c.EFF(6,"Firebase Login"),c.k0s()(),c.j41(7,"div",29)(8,"a",30),c.nrm(9,"i",31),c.EFF(10," Google"),c.k0s(),c.j41(11,"a",32),c.nrm(12,"i",33),c.k0s(),c.j41(13,"a",34),c.nrm(14,"i",35),c.k0s()(),c.j41(15,"div",36)(16,"a",37),c.nrm(17,"i",38),c.k0s(),c.j41(18,"input",39),c.bIt("ngModelChange",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.email=r)}),c.k0s()(),c.j41(19,"div",40)(20,"a",37)(21,"i",41),c.bIt("click",function(){c.eBV(t);const r=c.XpG();return c.Njj(r.togglePassword())}),c.k0s()(),c.j41(22,"input",42),c.bIt("ngModelChange",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.password=r)}),c.k0s()(),c.j41(23,"button",43),c.EFF(24," Login "),c.k0s(),c.j41(25,"div",44)(26,"div",45),c.EFF(27,"You Already have an account "),c.j41(28,"a",46),c.EFF(29,"Register Here"),c.k0s()()()()()}if(2&n){const t=c.XpG();c.R7$(2),c.Y8G("ngIf",t.errorMessage.length>0),c.R7$(1),c.Y8G("ngIf",t._error.message.length>0),c.R7$(15),c.Y8G("ngModel",t.email),c.R7$(4),c.Y8G("type",t.showPassword?"text":"password")("ngModel",t.password),c.R7$(1),c.ZvI("btn btn-lg btn-primary btn-block ",t.disabled,""),c.AVh("loader--text",t.authservice.showLoader),c.Y8G("disabled",!t.loginForm.valid||t.authservice.showLoader)}}function Ma(n,e){if(1&n){const t=c.RV6();c.j41(0,"form",48),c.bIt("ngSubmit",function(){c.eBV(t);const r=c.XpG();return c.Njj(r.Submit())}),c.j41(1,"div",25)(2,"div",47),c.EFF(3),c.k0s(),c.j41(4,"div",27)(5,"h1",28),c.EFF(6,"Login"),c.k0s()(),c.j41(7,"div",29)(8,"a",30),c.nrm(9,"i",31),c.EFF(10," Google"),c.k0s(),c.j41(11,"a",32),c.nrm(12,"i",33),c.k0s(),c.j41(13,"a",34),c.nrm(14,"i",35),c.k0s()(),c.j41(15,"div",36)(16,"a",37),c.nrm(17,"i",38),c.k0s(),c.nrm(18,"input",49),c.k0s(),c.j41(19,"div",40)(20,"a",37)(21,"i",41),c.bIt("click",function(){c.eBV(t);const r=c.XpG();return c.Njj(r.togglePassword())}),c.k0s()(),c.nrm(22,"input",50),c.k0s(),c.j41(23,"button",51),c.EFF(24," Login "),c.k0s(),c.j41(25,"div",44)(26,"div",45),c.EFF(27," You Don't have an account "),c.j41(28,"a",52),c.EFF(29,"Register Here"),c.k0s()()()()()}if(2&n){const t=c.XpG();c.Y8G("formGroup",t.loginForm),c.R7$(3),c.SpI(" ",t.error," "),c.R7$(19),c.Y8G("type",t.showPassword?"text":"password"),c.R7$(1),c.AVh("loader--text",t.authservice.showLoader),c.Y8G("disabled",!t.loginForm.valid||t.authservice.showLoader)}}let fd=(()=>{class n{constructor(t,i,r){this.authservice=t,this.router=i,this.formBuilder=r,this.showPassword=!1,this.disabled="",this.active="Angular",this.email="spruko@admin.com",this.password="sprukoadmin",this.errorMessage="",this._error={name:"",message:""},this.error=""}ngOnInit(){this.loginForm=this.formBuilder.group({username:["spruko@admin.com",[ae.k0.required,ae.k0.email]],password:["sprukoadmin",ae.k0.required]})}clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){this.clearErrorMessage(),this.validateForm(this.email,this.password)&&(this.showLoader=!0,this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/dashboard"]),console.clear()}).catch(t=>{this._error=t,this.router.navigate(["/"])}))}validateForm(t,i){return 0===t.length?(this.errorMessage="please enter email id",!1):0===i.length?(this.errorMessage="please enter password",!1):i.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}get form(){return this.loginForm.controls}Submit(){"spruko@admin.com"===this.loginForm.controls.username.value&&"sprukoadmin"===this.loginForm.controls.password.value?this.router.navigate(["/dashboard"]):this.error="Please check email and passowrd"}togglePassword(){this.showPassword=!this.showPassword}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(af),c.rXU(Mr.Ix),c.rXU(ae.ok))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-login-page"]],decls:36,vars:2,consts:[[1,"page"],[1,"page-single"],[1,"p-5"],[1,"row"],[1,"col","mx-auto"],[1,"row","justify-content-center"],[1,"col-lg-9","col-xl-8"],[1,"card-group","mb-0"],[1,"card","p-4"],[1,"login-option","mt-4","mb-2"],["ngbNav","",1,"nav-tabs","fir-base","rounded-2","nav","justify-content-center","border-0",3,"activeId","activeIdChange"],["nav","ngbNav"],["ngbNavItem","Firebase"],["ngbNavLink","",1,"firebase-img","border-0"],["src","./assets/images/svgs/firebase.svg","alt",""],["ngbNavContent",""],["ngbNavItem","Angular"],["src","./favicon.ico","alt",""],[1,"card-body"],[1,"ml-4",3,"ngbNavOutlet"],[1,"card","text-white","bg-primary","py-5","d-md-down-none","page-content","mt-0"],[1,"text-center","justify-content-center","page-single-content"],[1,"box"],["src","./assets/images/png/login.png","alt","img"],[3,"ngSubmit"],[1,"form-group"],["class","text-danger",4,"ngIf"],[1,"text-center","title-style","mb-6"],[1,"mb-6"],[1,"btn-list","d-flex","mt-3","mb-2"],["href","javascript:void(0);",1,"btn","btn-google","btn-block","btn-secondary","me-2"],[1,"fab","fa-google","fa-1x","me-2"],["href","javascript:void(0);",1,"btn","btn-twitter","btn-info","me-2"],[1,"fab","fa-twitter","fa-1x"],["href","javascript:void(0);",1,"btn","btn-facebook","btn-primary"],[1,"fab","fa-facebook","fa-1x"],[1,"input-group","mb-3"],["href","javascript:void(0)",1,"input-group-text","bg-white","text-muted"],["aria-hidden","true",1,"zmdi","zmdi-email","text-muted"],["type","email","name","email","placeholder","Enter email Id","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-4"],["aria-hidden","true",1,"zmdi","zmdi-eye","text-muted",3,"click"],["name","password","placeholder","Enter Password","required","",1,"form-control",3,"type","ngModel","ngModelChange"],["type","submit","autofocus","",3,"disabled"],[1,"text-center","pt-4"],[1,"font-weight-normal","fs-14","text-dark"],["routerLink","/auth/register",1,"btn-link","font-weight-normal","text-white-80"],[1,"text-danger"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Username","autocomplete","","formControlName","username",1,"form-control"],["placeholder","Password","autocomplete","","formControlName","password",1,"form-control",3,"type"],["type","submit","autofocus","",1,"btn","btn-lg","btn-primary","btn-block",3,"disabled"],["routerLink","/auth/register",1,"text-primary","font-weight-normal"]],template:function(i,r){if(1&i&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"ul",10,11),c.bIt("activeIdChange",function(d){return r.active=d}),c.j41(12,"li",12)(13,"a",13),c.nrm(14,"img",14),c.k0s(),c.DNE(15,hd,30,11,"ng-template",15),c.k0s(),c.j41(16,"li",16)(17,"a",13),c.nrm(18,"img",17),c.k0s(),c.DNE(19,Ma,30,6,"ng-template",15),c.k0s()()(),c.j41(20,"div",18),c.nrm(21,"div",19),c.k0s()(),c.j41(22,"div",20)(23,"div",21)(24,"div",22),c.nrm(25,"div")(26,"div")(27,"div")(28,"div")(29,"div")(30,"div")(31,"div")(32,"div")(33,"div")(34,"div"),c.k0s(),c.nrm(35,"img",23),c.k0s()()()()()()()()()()),2&i){const a=c.sdS(11);c.R7$(10),c.Y8G("activeId",r.active),c.R7$(11),c.Y8G("ngbNavOutlet",a)}},dependencies:[Pn.bT,Mr.Wk,ae.qT,ae.me,ae.BC,ae.cb,ae.YS,ae.vS,ae.cV,ae.j4,ae.JD,ts.Um,ts.X9,ts.sy,ts.Gx,ts.Ri,ts.WA,ts.m_],styles:[".credentials[_ngcontent-%COMP%]{background:#705ec8;color:#fff;padding:25px 20px;border-radius:6px}.custom-control-input[_ngcontent-%COMP%]{left:1px;top:6px}.firebase-img[_ngcontent-%COMP%]{width:75px;height:25px}.main-signin-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-width:1px}.firebase-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px}"]})}}return n})();var pa=P(4412),Si=P(3726),ac=P(152),Xa=P(6977);let lc=(()=>{class n{constructor(t){this.router=t,this.unsubscriber=new $r.B,this.screenWidth=new pa.t(window.innerWidth),this.megaMenu=!1,this.megaMenuCollapse=window.innerWidth<1199,this.collapseSidebar=window.innerWidth<991,this.fullScreen=!1,this.MENUITEMS=[{headTitle:"MAIN"},{path:"/dashboard-view",title:"Dashboard",badgeClass:"badge bg-sucess text-light bg-side-text",type:"link",icon:'<svg class="side-menu__icon" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z"/></svg>',active:!0},{headTitle:"Foreign Exchange (FX)"},{title:"Foreign Exchange (FX)",icon:'<svg class="side-menu__icon" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"/></svg>',type:"sub",active:!1,children:[{title:"Front Office (InterBank)",type:"sub",active:!1,Menusub:!0,children:[{title:"Deals for outright",type:"sub",active:!1,children:[{path:"/features/fx/fx-frontoffice/outright-deal/outright-input",title:"Input",type:"link"},{path:"/features/fx/fx-frontoffice/outright-deal/outright-authorize",title:"Authorize",type:"link"},{path:"/features/fx/fx-frontoffice/outright-deal/outright-editing",title:"Editing",type:"link"},{path:"/features/fx/fx-frontoffice/outright-deal/outright-amendment",title:"Amendment",type:"link"},{path:"/features/fx/fx-frontoffice/outright-deal/outright-cancellation",title:"Cancellation",type:"link"}]},{title:"Swap Deals",type:"sub",active:!1,children:[{path:"/features/fx/fx-frontoffice/swap-deal/swap-input",title:"Input",type:"link"},{path:"/features/fx/fx-frontoffice/swap-deal/swap-editing",title:"Editing",type:"link"},{path:"/features/fx/fx-frontoffice/swap-deal/swap-cancellation",title:"Cancellation",type:"link"},{path:"/features/fx/fx-frontoffice/swap-deal/swap-authorize",title:"Authorize",type:"link"},{path:"/features/fx/fx-frontoffice/swap-deal/swap-amendment",title:"Amendment",type:"link"}]},{title:"Nostro transfer",type:"sub",active:!1,children:[{path:"/features/fx/fx-frontoffice/transfer-deal/transfer-input",title:"Input",type:"link"},{path:"/features/fx/fx-frontoffice/transfer-deal/transfer-editing",title:"Editing",type:"link"},{path:"/features/fx/fx-frontoffice/transfer-deal/transfer-cancellation",title:"Cancellation",type:"link"}]},{title:"FC Placement Borrow",type:"sub",active:!1,children:[{path:"/features/fx/fx-frontoffice/placement-deal/placement-input",title:"Input",type:"link"}]}]}]}],this.items=new pa.t(this.MENUITEMS),this.setScreenWidth(window.innerWidth),(0,Si.R)(window,"resize").pipe((0,ac.B)(1e3),(0,Xa.Q)(this.unsubscriber)).subscribe(i=>{this.setScreenWidth(i.target.innerWidth),i.target.innerWidth<991&&(this.collapseSidebar=!1,this.megaMenu=!1),i.target.innerWidth<1199&&(this.megaMenuCollapse=!0)}),window.innerWidth<991&&this.router.events.subscribe(i=>{this.collapseSidebar=!1,this.megaMenu=!1})}ngOnDestroy(){this.unsubscriber.next(),this.unsubscriber.complete()}setScreenWidth(t){this.screenWidth.next(t)}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(Mr.Ix))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),iu=(()=>{class n{constructor(){this.emitChangeSource=new $r.B,this.changeEmitted=this.emitChangeSource.asObservable(),this.emitHoverChangeSource=new $r.B,this.changeHoverEmitted=this.emitHoverChangeSource.asObservable()}emitChange(t){this.emitChangeSource.next(t)}emitHoverChange(t){this.emitHoverChangeSource.next(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xu=(()=>{class n{constructor(){this.today=Date.now()}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"main-footer"],[1,"container-fluid","pd-t-0","ht-100p"],["href","javascript:void(0);",1,"text-primary"],[1,"fa","fa-heart","text-danger"],["href","javascript:void(0);"]],template:function(i,r){1&i&&(c.j41(0,"div",0)(1,"div",1)(2,"span"),c.EFF(3," Copyright \xa9 2023 "),c.j41(4,"a",2),c.EFF(5,"Admitro"),c.k0s(),c.EFF(6,". Designed with "),c.nrm(7,"span",3),c.EFF(8," by "),c.j41(9,"a",4),c.EFF(10," Spruko "),c.k0s(),c.EFF(11," All rights reserved."),c.k0s()()())}})}}return n})(),Ji=(()=>{class n{constructor(){this.body=document.querySelector("body")}toggleTheme(){this.body!=!this.body&&(this.body.classList.toggle("dark-theme"),this.body.classList.contains("dark-theme")?(this.body.classList.remove("light-menu"),this.body.classList.remove("light-header"),document.getElementById("myonoffswitch1").checked=!1,document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0,localStorage.setItem("AdmitroDarkTheme","true"),localStorage.removeItem("Admitrolight-theme")):(this.body.classList.remove("dark-menu"),this.body.classList.remove("dark-header"),document.querySelector("#myonoffswitch1").checked=!0,document.getElementById("myonoffswitch6").checked=!0,document.getElementById("myonoffswitch3").checked=!0,document.getElementById("myonoffswitch2").checked=!1,document.getElementById("myonoffswitch8").checked=!1,document.getElementById("myonoffswitch5").checked=!1,localStorage.setItem("Admitrolight-theme","true"),localStorage.removeItem("AdmitroDarkTheme")))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","appToggleTheme",""]],hostBindings:function(i,r){1&i&&c.bIt("click",function(){return r.toggleTheme()})}})}}return n})(),lf=(()=>{class n{constructor(t){this.document=t,this.fullScreen=!1}ngOnInit(){this.elem=document.documentElement,this.idata=document.documentElement.querySelector("body")?.querySelector(".nav-link.icon.full-screen-link")?.querySelector("i"),document.addEventListener("fullscreenchange",this.exitHandler),document.addEventListener("webkitfullscreenchange",this.exitHandler),document.addEventListener("mozfullscreenchange",this.exitHandler),document.addEventListener("MSFullscreenChange",this.exitHandler)}onClick(){this.fullScreen=!this.fullScreen,this.fullScreen?this.elem.requestFullscreen?(this.elem.requestFullscreen(),this.idata?.classList?.add("fe-minimize"),this.idata?.classList?.remove("fe-maximize")):this.elem.mozRequestFullScreen?(this.elem.mozRequestFullScreen(),this.idata.classList?.add("fe-minimize"),this.idata.classList?.remove("fe-maximize")):this.elem.webkitRequestFullscreen?(this.elem.webkitRequestFullscreen(),this.idata?.classList?.add("fe-minimize"),this.idata?.classList?.remove("fe-maximize")):this.elem.msRequestFullscreen&&(this.elem.msRequestFullscreen(),this.idata?.classList?.add("fe-minimize"),this.idata?.classList?.remove("fe-maximize")):this.document.exitFullscreen?this.document.mozCancelFullScreen?(this.document.mozCancelFullScreen(),this.idata?.classList.remove("fe-minimize"),this.idata?.classList.add("fe-maximize")):this.document.webkitExitFullscreen?(this.document.webkitExitFullscreen(),this.idata?.classList?.remove("fe-minimize"),this.idata?.classList?.add("fe-maximize")):this.document.msExitFullscreen&&(this.document.msExitFullscreen(),this.idata?.classList?.remove("fe-minimize"),this.idata?.classList?.add("fe-maximize")):(this.document.exitFullscreen(),this.idata?.classList?.remove("fe-minimize"),this.idata?.classList?.add("fe-maximize"))}exitHandler(){document.fullscreenElement||(this.idd=document.querySelector("body")?.querySelector(".nav-link.icon.full-screen-link")?.querySelector("i"),this.idd?.classList?.remove("fe-minimize"),this.idd?.classList?.add("fe-maximize"))}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(Pn.qQ))}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","appFullscreenToggle",""]],hostBindings:function(i,r){1&i&&c.bIt("click",function(){return r.onClick()})}})}}return n})();const Ru=["messageMenu1"],wg=["notifMmenu"];function ru(n,e){if(1&n){const t=c.RV6();c.j41(0,"li",146),c.bIt("click",function(){c.eBV(t);const r=c.XpG(2);return c.Njj(r.clearSearch())}),c.nrm(1,"i",147),c.EFF(2),c.k0s()}if(2&n){const t=e.$implicit;c.Y8G("routerLink",null==t?null:t.path),c.R7$(2),c.SpI("",null==t?null:t.title," ")}}function Pc(n,e){if(1&n&&(c.qSk(),c.joV(),c.j41(0,"div",141)(1,"div",142)(2,"h4",143),c.EFF(3),c.k0s(),c.nrm(4,"small"),c.k0s(),c.j41(5,"ul",144),c.DNE(6,ru,3,2,"li",145),c.nI1(7,"slice"),c.k0s()()),2&n){const t=c.XpG();c.R7$(3),c.SpI('Search result of "',t.text,'" '),c.R7$(3),c.Y8G("ngForOf",c.brH(7,2,t.menuItems,0,5))}}const Rl=function(n){return{show:n}};function pd(n,e){if(1&n&&(c.qSk(),c.joV(),c.j41(0,"ul",148)(1,"li",149),c.nrm(2,"i",150),c.EFF(3),c.k0s()()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("ngClass",c.eq3(2,Rl,t.SearchResultEmpty)),c.R7$(2),c.SpI('No Search Result Found with "',t.text,'" ')}}const gd=function(){return{standalone:!0}};let kl=(()=>{class n{toggleSidebar(){(this.navServices.collapseSidebar=!0)&&document.querySelector("body")?.classList.toggle("sidenav-toggled")}sidebarClose(){(this.navServices.collapseSidebar=!0)&&(document.querySelector(".app")?.classList.remove("sidenav-toggled"),this.navServices.collapseSidebar=!1)}constructor(t,i,r){this.navServices=t,this.SwitcherService=i,this.document=r,this.isCollapsed=!0,this.SearchResultEmpty=!1}toggleSwitcher(){this.SwitcherService.emitChange(!0),document.querySelector("body")?.classList.remove("sidenav-toggled-open")}toggleFullScreen(){this.navServices.fullScreen=!this.navServices.fullScreen,this.navServices.fullScreen?this.elem.requestFullscreen?this.elem.requestFullscreen():this.elem.mozRequestFullScreen?this.elem.mozRequestFullScreen():this.elem.webkitRequestFullscreen?this.elem.webkitRequestFullscreen():this.elem.msRequestFullscreen&&this.elem.msRequestFullscreen():this.document.exitFullscreen?this.document.mozCancelFullScreen?this.document.mozCancelFullScreen():this.document.webkitExitFullscreen?this.document.webkitExitFullscreen():this.document.msExitFullscreen&&this.document.msExitFullscreen():this.document.exitFullscreen()}sidebarToggle(){this.navServices.collapseSidebar=!this.navServices.collapseSidebar,this.navServices.megaMenu=!1}ngOnInit(){this.navServices.items.subscribe(t=>{this.items=t}),document.querySelector(".main-content")?.addEventListener("click",()=>{this.clearSearch()}),this.text=""}ngAfterViewInit(){}searchAdd(){document.querySelector("body").classList.add("search-show")}searchRemove(t){document.querySelector("body").classList.remove("search-show"),t.preventDefault()}Search(t){if(!t)return this.menuItems=[];const i=[];return t=t.toLowerCase().trim(),this.items.filter(r=>!(!r?.title||("link"===r.type&&r.title.toLowerCase().includes(t)&&r.title.toLowerCase().startsWith(t)&&i.push(r),!r.children))&&(r.children.filter(a=>("link"===a.type&&a.title.toLowerCase().includes(t)&&a.title.toLowerCase().startsWith(t)&&i.push(a),!!a.children&&(a.children.filter(d=>{d.title.toLowerCase().includes(t)&&d.title.toLowerCase().startsWith(t)&&i.push(d)}),!0))),this.menuItems=i)),this.SearchResultEmpty=!i.length,!0}clearSearch(){return this.text="",this.menuItems=[],this.SearchResultEmpty=!1,this.menuItems}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(lc),c.rXU(iu),c.rXU(Pn.qQ))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-header"]],viewQuery:function(i,r){if(1&i&&(c.GBs(Ru,5),c.GBs(wg,5)),2&i){let a;c.mGM(a=c.lsd())&&(r.messageMenu1=a.first),c.mGM(a=c.lsd())&&(r.notifMmenu=a.first)}},decls:284,vars:7,consts:[[1,"main-header","side-header","sticky","nav","nav-item"],[1,"container-fluid","main-container"],[1,"main-header-left"],[1,"responsive-logo"],["routerLink","/dashboard",1,"header-logo"],["src","./assets/images/brand/logo.png","alt","logo",1,"logo-1"],["src","./assets/images/brand/logo-white.png","alt","logo",1,"dark-logo-1"],["data-bs-toggle","sidebar",1,"app-sidebar__toggle",3,"click"],["href","javascript:void(0);",1,"open-toggle"],[1,"header-icon","fe","fe-align-left"],["href","javascript:void(0);",1,"close-toggle"],[1,"header-icon","fe","fe-x"],[1,"main-header-center","ms-3","d-sm-none","d-md-none","d-lg-block","mb-1"],[1,""],[1,"search-element"],["type","search","placeholder","Search for anything...","aria-label","Search","tabindex","1","autocomplete","off",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange","keyup"],[1,"btn"],["x","1008","y","1248","viewBox","0 0 24 24","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false",1,"header-search-icon","search-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"],["class","search-result p-absolute w-100 card border mt-1",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"main-header-right"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent-4","aria-controls","navbarSupportedContent-4","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navresponsive-toggler","d-lg-none","ms-auto",3,"click"],[1,"navbar-toggler-icon","fe","fe-more-vertical"],[1,"mb-0","navbar","navbar-expand-lg","navbar-nav-right","responsive-navbar","navbar-dark","p-0"],["id","navbarSupportedContent-4",1,"collapse","navbar-collapse",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[1,"nav","nav-item","navbar-nav-right","ms-auto"],["ngbDropdown","",1,"dropdown","nav-item","countries"],["href","javascript:void(0);","data-bs-toggle","dropdown","ngbDropdownToggle","","aria-expanded","false",1,"d-flex","nav-link","country-flag1"],[1,"country-Flag","me-0","align-self-center","bg-transparent"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"flag-icon1"],["cx","256","cy","256","r","256","fill","#f0f0f0"],["fill","#0052b4"],["d","M52.92 100.142c-20.109 26.163-35.272 56.318-44.101 89.077h133.178L52.92 100.142zM503.181 189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075 89.076h133.176zM8.819 322.784c8.83 32.758 23.993 62.913 44.101 89.075l89.074-89.075H8.819zM411.858 52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177l89.076-89.075zM100.142 459.079c26.163 20.109 56.318 35.272 89.076 44.102V370.005l-89.076 89.074zM189.217 8.819c-32.758 8.83-62.913 23.993-89.075 44.101l89.075 89.075V8.819zM322.783 503.181c32.758-8.83 62.913-23.993 89.075-44.101l-89.075-89.075v133.176zM370.005 322.784l89.075 89.076c20.108-26.162 35.272-56.318 44.101-89.076H370.005z"],["fill","#d80027"],["d","M509.833 222.609H289.392V2.167A258.556 258.556 0 00256 0c-11.319 0-22.461.744-33.391 2.167v220.441H2.167A258.556 258.556 0 000 256c0 11.319.744 22.461 2.167 33.391h220.441v220.442a258.35 258.35 0 0066.783 0V289.392h220.442A258.533 258.533 0 00512 256c0-11.317-.744-22.461-2.167-33.391z"],["d","M322.783 322.784L437.019 437.02a256.636 256.636 0 0015.048-16.435l-97.802-97.802h-31.482v.001zM189.217 322.784h-.002L74.98 437.019a256.636 256.636 0 0016.435 15.048l97.802-97.804v-31.479zM189.217 189.219v-.002L74.981 74.98a256.636 256.636 0 00-15.048 16.435l97.803 97.803h31.481zM322.783 189.219L437.02 74.981a256.328 256.328 0 00-16.435-15.047l-97.802 97.803v31.482z"],[1,"my-auto"],[1,"me-2","ms-2","my-auto"],["ngbDropdownMenu","",1,"dropdown-menu","dropdown-menu-start","dropdown-menu-arrow"],["href","javascript:void(0);","ngbDropdownItem","",1,"dropdown-item","d-flex"],[1,"avatar","me-1","align-self-center","bg-transparent"],["src","./assets/images/flags/french_flag.jpg","alt","img"],[1,"d-flex"],[1,"mt-2"],["src","./assets/images/flags/germany_flag.jpg","alt","img"],["src","./assets/images/flags/italy_flag.jpg","alt","img"],["src","./assets/images/flags/russia_flag.jpg","alt","img"],["src","./assets/images/flags/spain_flag.jpg","alt","img"],[1,"dropdown","nav-item","main-layout"],["appToggleTheme","",1,"new","nav-link","theme-layout","nav-link-bg","layout-setting"],[1,"dark-layout"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"header-icon-svgs"],["d","M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"],[1,"light-layout"],["d","M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"],[1,"nav-item","search-icon","d-lg-none","d-block"],["role","search",1,"navbar-form"],[1,"input-group"],["type","text","placeholder","Search",1,"form-control"],[1,"input-group-btn"],["type","reset",1,"btn","btn-default"],[1,"fas","fa-times"],["type","submit",1,"btn","btn-default","nav-link","resp-btn","p-0"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"header-icon-svgs"],["ngbDropdown","",1,"dropdown","nav-item","main-header-message"],["ngbDropdownToggle","",1,"new","nav-link"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"header-icon-svgs"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],[1,"pulse-danger"],["ngbDropdownMenu","",1,"dropdown-menu"],[1,"menu-header-content","text-start","border-bottom"],[1,"dropdown-title","mb-1","tx-15","fw-semibold"],["href","javascript:void(0);",1,"badge","rounded-pill","bg-primary","ms-auto","my-auto","float-end"],[1,"dropdown-title-text","subtext","mb-0","op-6","pb-0","tx-12"],[1,"main-message-list","chat-scroll"],["routerLink","/apps/chat/chat-1",1,"stretched-link"],[1,"p-3","d-flex","border-bottom","messages"],["src","./assets/images/users/3.jpg",1,"drop-img","cover-image",2,"background",'url("./assets/images/users/3.jpg") center center'],[1,"avatar-status","bg-success"],[1,"wd-90p"],["routerLink","/apps/chat/chat-1"],[1,"mb-1","name"],[1,"mb-0","desc"],[1,"time","mb-0","text-start","float-start","ms-2","mt-2"],["src","./assets/images/users/2.jpg",1,"drop-img","cover-image",2,"background",'url("./assets/images/users/2.jpg") center center'],["src","./assets/images/users/9.jpg",1,"drop-img","cover-image",2,"background",'url("./assets/images/users/9.jpg") center center'],["src","./assets/images/users/12.jpg",1,"drop-img","cover-image",2,"background",'url("./assets/images/users/12.jpg") center center'],["src","./assets/images/users/5.jpg",1,"drop-img","cover-image",2,"background",'url("./assets/images/users/5.jpg") center center'],[1,"text-center","dropdown-footer"],["ngbDropdown","",1,"dropdown","nav-item","main-header-notification"],["href","javascript:void(0);","ngbDropdownToggle","",1,"new","nav-link"],["d","M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"],["d","M13.73 21a2 2 0 0 1-3.46 0"],[1,"pulse"],["href","javascript:void(0);",1,"badge","rounded-pill","bg-warning","ms-auto","my-auto","float-end"],[1,"main-notification-list","Notification-scroll"],["ngbDropdownItem","",1,"d-flex","p-3","border-bottom"],[1,"notifyimg","bg-primary-transparent"],[1,"fe","fe-check-square","fs-16"],[1,"ms-3"],["routerLink","/pages/email/inbox"],[1,"notification-label","mb-1"],[1,"notification-subtext"],[1,"notifyimg","bg-warning-transparent"],[1,"fe","fe-package","fs-16"],[1,"notifyimg","bg-secondary-transparent"],[1,"fe","fe-check-circle","fs-16"],[1,"notifyimg","bg-success-transparent"],[1,"fe","fe-file-text","fs-16"],[1,"notifyimg","bg-info-transparent"],[1,"fe","fe-message-square","fs-16"],[1,"notifyimg","bg-danger-transparent"],[1,"fe","fe-log-in","fs-16"],[1,"dropdown-footer"],[1,"nav-item","full-screen","fullscreen-button"],["appFullscreenToggle","",1,"new","nav-link","full-screen-link"],["d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"],["ngbDropdown","",1,"dropdown","main-profile-menu","nav","nav-item","nav-link"],["ngbDropdownToggle","",1,"profile-user","d-flex"],["alt","","src","./assets/images/users/6.jpg"],[1,"text-center"],["href","javascript:void(0);",1,"dropdown-item","text-dark","justify-content-center","fs-18","user","pb-0","font-weight-bold"],[1,"text-center","user-semi-title"],[1,"dropdown-divider","mb-0"],["ngbDropdownItem","","routerLink","/pages/profile/profile-1",1,"dropdown-item"],[1,"bx","bx-user-circle"],["ngbDropdownItem","","routerLink","/pages/editprofile",1,"dropdown-item"],[1,"bx","bx-cog"],["ngbDropdownItem","","routerLink","/apps/chat/chat-1",1,"dropdown-item"],[1,"bx","bx-envelope"],[1,"bx","bx-slider-alt"],["ngbDropdownItem","","routerLink","auth/login",1,"dropdown-item"],[1,"bx","bx-log-out"],[1,"demo-icon","new","nav-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"header-icon-svgs","fa-spin"],["d","M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"],["d","m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733zm3.326-2.758A5.703 5.703 0 0 1 6 12c0-.462.058-.926.17-1.378a.999.999 0 0 0-.47-1.108l-1.123-.65.998-1.729 1.145.662a.997.997 0 0 0 1.188-.142 6.071 6.071 0 0 1 2.384-1.399A1 1 0 0 0 11 5.3V4h2v1.3a1 1 0 0 0 .708.956 6.083 6.083 0 0 1 2.384 1.399.999.999 0 0 0 1.188.142l1.144-.661 1 1.729-1.124.649a1 1 0 0 0-.47 1.108c.112.452.17.916.17 1.378 0 .461-.058.925-.171 1.378a1 1 0 0 0 .471 1.108l1.123.649-.998 1.729-1.145-.661a.996.996 0 0 0-1.188.142 6.071 6.071 0 0 1-2.384 1.399A1 1 0 0 0 13 18.7l.002 1.3H11v-1.3a1 1 0 0 0-.708-.956 6.083 6.083 0 0 1-2.384-1.399.992.992 0 0 0-1.188-.141l-1.144.662-1-1.729 1.124-.651a1 1 0 0 0 .471-1.108z"],[1,"search-result","p-absolute","w-100","card","border","mt-1"],[1,"card-header"],[1,"card-title","me-2"],[1,"list-group","text-break"],["class","list-group-item header-list-group border-start-end-top-0 br-0",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"list-group-item","header-list-group","border-start-end-top-0","br-0",3,"routerLink","click"],["aria-hidden","true",1,"fa","fa-angle-double-right","me-2"],[1,"list-group","p-absolute","w-100","mt-1","serach-result-empty","text-break"],[1,"list-group-item","no-result",3,"ngClass"],["aria-hidden","true",1,"fa","fa-frown-o","text-primary","me-2"]],template:function(i,r){if(1&i){const a=c.RV6();c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),c.nrm(5,"img",5)(6,"img",6),c.k0s()(),c.j41(7,"div",7),c.bIt("click",function(){return r.toggleSidebar()}),c.j41(8,"a",8),c.nrm(9,"i",9),c.k0s(),c.j41(10,"a",10),c.nrm(11,"i",11),c.k0s()(),c.j41(12,"div",12)(13,"form",13)(14,"div",14)(15,"input",15),c.bIt("ngModelChange",function(m){return r.text=m})("keyup",function(){return r.Search(r.text)}),c.k0s(),c.j41(16,"button",16),c.qSk(),c.j41(17,"svg",17),c.nrm(18,"path",18)(19,"path",19),c.k0s()(),c.DNE(20,Pc,8,6,"div",20),c.DNE(21,pd,4,4,"ng-template",null,21,c.C5r),c.k0s()()()(),c.joV(),c.j41(23,"div",22)(24,"button",23),c.bIt("click",function(){c.eBV(a);const m=c.sdS(28);return c.Njj(m.toggle())}),c.nrm(25,"span",24),c.k0s(),c.j41(26,"div",25)(27,"div",26,27),c.bIt("ngbCollapseChange",function(m){return r.isCollapsed=m}),c.j41(29,"ul",28)(30,"li",29)(31,"a",30)(32,"span",31),c.qSk(),c.j41(33,"svg",32),c.nrm(34,"circle",33),c.j41(35,"g",34),c.nrm(36,"path",35),c.k0s(),c.j41(37,"g",36),c.nrm(38,"path",37)(39,"path",38),c.k0s()()(),c.joV(),c.j41(40,"div",39)(41,"strong",40),c.EFF(42,"English"),c.k0s()()(),c.j41(43,"div",41)(44,"a",42)(45,"span",43),c.nrm(46,"img",44),c.k0s(),c.j41(47,"div",45)(48,"span",46),c.EFF(49,"French"),c.k0s()()(),c.j41(50,"a",42)(51,"span",43),c.nrm(52,"img",47),c.k0s(),c.j41(53,"div",45)(54,"span",46),c.EFF(55,"Germany"),c.k0s()()(),c.j41(56,"a",42)(57,"span",43),c.nrm(58,"img",48),c.k0s(),c.j41(59,"div",45)(60,"span",46),c.EFF(61,"Italy"),c.k0s()()(),c.j41(62,"a",42)(63,"span",43),c.nrm(64,"img",49),c.k0s(),c.j41(65,"div",45)(66,"span",46),c.EFF(67,"Russia"),c.k0s()()(),c.j41(68,"a",42)(69,"span",43),c.nrm(70,"img",50),c.k0s(),c.j41(71,"div",45)(72,"span",46),c.EFF(73,"spain"),c.k0s()()()()(),c.j41(74,"li",51)(75,"a",52)(76,"span",53),c.qSk(),c.j41(77,"svg",54),c.nrm(78,"path",55),c.k0s()(),c.joV(),c.j41(79,"span",56),c.qSk(),c.j41(80,"svg",54),c.nrm(81,"path",57),c.k0s()()()(),c.joV(),c.j41(82,"li",58)(83,"form",59)(84,"div",60),c.nrm(85,"input",61),c.j41(86,"span",62)(87,"button",63),c.nrm(88,"i",64),c.k0s(),c.j41(89,"button",65),c.qSk(),c.j41(90,"svg",66),c.nrm(91,"path",18)(92,"path",19),c.k0s()()()()()(),c.joV(),c.j41(93,"li",67)(94,"a",68),c.qSk(),c.j41(95,"svg",69),c.nrm(96,"path",70)(97,"polyline",71),c.k0s(),c.joV(),c.nrm(98,"span",72),c.k0s(),c.j41(99,"div",73)(100,"div",74)(101,"div",45)(102,"h6",75),c.EFF(103,"Messages"),c.k0s(),c.j41(104,"a",76),c.EFF(105,"Mark All Read"),c.k0s()(),c.j41(106,"p",77),c.EFF(107,"You have 4 unread messages"),c.k0s()(),c.j41(108,"div",78),c.nrm(109,"a",79),c.j41(110,"div",80)(111,"div",81),c.nrm(112,"span",82),c.k0s(),c.j41(113,"div",83)(114,"div",45)(115,"a",84)(116,"h5",85),c.EFF(117,"Petey Cruiser"),c.k0s()()(),c.j41(118,"p",86),c.EFF(119,"I'm sorry but i'm not sure how to help you with that......"),c.k0s(),c.j41(120,"p",87),c.EFF(121,"Mar 15 3:55 PM"),c.k0s()()(),c.nrm(122,"a",79),c.j41(123,"div",80)(124,"div",88),c.nrm(125,"span",82),c.k0s(),c.j41(126,"div",83)(127,"div",45)(128,"a",84)(129,"h5",85),c.EFF(130,"Jimmy Changa"),c.k0s()()(),c.j41(131,"p",86),c.EFF(132,"All set ! Now, time to get to you now......"),c.k0s(),c.j41(133,"p",87),c.EFF(134,"Mar 06 01:12 AM"),c.k0s()()(),c.nrm(135,"a",79),c.j41(136,"div",80)(137,"div",89),c.nrm(138,"span",82),c.k0s(),c.j41(139,"div",83)(140,"div",45)(141,"a",84)(142,"h5",85),c.EFF(143,"Graham Cracker"),c.k0s()()(),c.j41(144,"p",86),c.EFF(145,"Are you ready to pickup your Delivery..."),c.k0s(),c.j41(146,"p",87),c.EFF(147,"Feb 25 10:35 AM"),c.k0s()()(),c.nrm(148,"a",79),c.j41(149,"div",80)(150,"div",90),c.nrm(151,"span",82),c.k0s(),c.j41(152,"div",83)(153,"div",45)(154,"a",84)(155,"h5",85),c.EFF(156,"Donatella Nobatti"),c.k0s()()(),c.j41(157,"p",86),c.EFF(158,"Here are some products ..."),c.k0s(),c.j41(159,"p",87),c.EFF(160,"Feb 12 05:12 PM"),c.k0s()()(),c.nrm(161,"a",79),c.j41(162,"div",80)(163,"div",91),c.nrm(164,"span",82),c.k0s(),c.j41(165,"div",83)(166,"div",45)(167,"a",84)(168,"h5",85),c.EFF(169,"Anne Fibbiyon"),c.k0s()()(),c.j41(170,"p",86),c.EFF(171,"I'm sorry but i'm not sure how..."),c.k0s(),c.j41(172,"p",87),c.EFF(173,"Jan 29 03:16 PM"),c.k0s()()()(),c.j41(174,"div",92)(175,"a",84),c.EFF(176,"VIEW ALL"),c.k0s()()()(),c.j41(177,"li",93)(178,"a",94),c.qSk(),c.j41(179,"svg",69),c.nrm(180,"path",95)(181,"path",96),c.k0s(),c.joV(),c.nrm(182,"span",97),c.k0s(),c.j41(183,"div",73)(184,"div",74)(185,"div",45)(186,"h6",75),c.EFF(187,"Notifications"),c.k0s(),c.j41(188,"a",98),c.EFF(189,"Mark All Read"),c.k0s()(),c.j41(190,"p",77),c.EFF(191,"You have 4 unread Notifications"),c.k0s()(),c.j41(192,"div",99)(193,"div",100)(194,"div",101),c.nrm(195,"i",102),c.k0s(),c.j41(196,"div",103)(197,"a",104)(198,"h5",105),c.EFF(199,"Updates Available"),c.k0s()(),c.j41(200,"div",106),c.EFF(201,"2 days ago"),c.k0s()()(),c.j41(202,"div",100)(203,"div",107),c.nrm(204,"i",108),c.k0s(),c.j41(205,"div",103)(206,"a",104)(207,"h5",105),c.EFF(208,"New Order Received"),c.k0s()(),c.j41(209,"div",106),c.EFF(210,"1 hour ago"),c.k0s()()(),c.j41(211,"div",100)(212,"div",109),c.nrm(213,"i",110),c.k0s(),c.j41(214,"div",103)(215,"a",104)(216,"h5",105),c.EFF(217,"Project has been approved"),c.k0s()(),c.j41(218,"div",106),c.EFF(219,"4 hour ago"),c.k0s()()(),c.j41(220,"div",100)(221,"div",111),c.nrm(222,"i",112),c.k0s(),c.j41(223,"div",103)(224,"a",104)(225,"h5",105),c.EFF(226,"New files available"),c.k0s()(),c.j41(227,"div",106),c.EFF(228,"10 hour ago"),c.k0s()()(),c.j41(229,"div",100)(230,"div",113),c.nrm(231,"i",114),c.k0s(),c.j41(232,"div",103)(233,"a",104)(234,"h5",105),c.EFF(235,"New review received"),c.k0s()(),c.j41(236,"div",106),c.EFF(237,"1 day ago"),c.k0s()()(),c.j41(238,"div",100)(239,"div",115),c.nrm(240,"i",116),c.k0s(),c.j41(241,"div",103)(242,"a",104)(243,"h5",105),c.EFF(244,"22 verified registrations"),c.k0s()(),c.j41(245,"div",106),c.EFF(246,"2 hour ago"),c.k0s()()()(),c.j41(247,"div",117)(248,"a",104),c.EFF(249,"VIEW ALL"),c.k0s()()()(),c.j41(250,"li",118)(251,"a",119),c.qSk(),c.j41(252,"svg",69),c.nrm(253,"path",120),c.k0s()()(),c.joV(),c.j41(254,"li",121)(255,"a",122),c.nrm(256,"img",123),c.k0s(),c.j41(257,"div",73)(258,"div",124)(259,"a",125),c.EFF(260,"Jessica"),c.k0s(),c.j41(261,"span",126),c.EFF(262,"Web Designer"),c.k0s(),c.nrm(263,"div",127),c.k0s(),c.j41(264,"a",128),c.nrm(265,"i",129),c.EFF(266,"Profile"),c.k0s(),c.j41(267,"a",130),c.nrm(268,"i",131),c.EFF(269," Edit Profile"),c.k0s(),c.j41(270,"a",132),c.nrm(271,"i",133),c.EFF(272,"Messages"),c.k0s(),c.j41(273,"a",130),c.nrm(274,"i",134),c.EFF(275," Account Settings"),c.k0s(),c.j41(276,"a",135),c.nrm(277,"i",136),c.EFF(278," Sign Out"),c.k0s()()()()()(),c.j41(279,"div",45)(280,"div",137),c.bIt("click",function(){return r.toggleSwitcher()}),c.qSk(),c.j41(281,"svg",138),c.nrm(282,"path",139)(283,"path",140),c.k0s()()()()()()}if(2&i){const a=c.sdS(22);c.R7$(15),c.Y8G("ngModel",r.text)("ngModelOptions",c.lJ4(6,gd)),c.R7$(5),c.Y8G("ngIf",null==r.menuItems?null:r.menuItems.length)("ngIfElse",a),c.R7$(4),c.BMQ("aria-expanded",!r.isCollapsed),c.R7$(3),c.Y8G("ngbCollapse",r.isCollapsed)}},dependencies:[Pn.YU,Pn.Sq,Pn.bT,Mr.Wk,ts.$G,ts.tg,ts.do,ts.U0,ts._H,ae.qT,ae.me,ae.BC,ae.cb,ae.vS,ae.cV,Ji,lf,Pn.P9],styles:[".avatar[_ngcontent-%COMP%]{background:center center}.message-scroll[_ngcontent-%COMP%]{overflow:scroll}.search-result[_ngcontent-%COMP%]   .header-list-group[_ngcontent-%COMP%]:hover{background-color:var(--primary-bg-color);color:#fff}.list-group-item.no-result[_ngcontent-%COMP%]{display:none}.list-group-item.no-result.show[_ngcontent-%COMP%]{display:block}.p-absolute[_ngcontent-%COMP%]{position:absolute}.border-start-end-top-0[_ngcontent-%COMP%]{border-left:0!important;border-top:0!important;border-right:0!important}.br-0[_ngcontent-%COMP%]{border-radius:0!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.serach-result-empty[_ngcontent-%COMP%]{z-index:99}input[_ngcontent-%COMP%]:not(.dark-mode)::placeholder{color:#333}.search-result[_ngcontent-%COMP%]{z-index:9999}.header[_ngcontent-%COMP%]{border-bottom:1px solid #e9edf4}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.chat-scroll[_ngcontent-%COMP%], .Notification-scroll[_ngcontent-%COMP%]{overflow-y:scroll}"]})}}return n})();function cc(n,e){1&n&&(c.j41(0,"div")(1,"div",1),c.nrm(2,"img",2),c.k0s()())}let qs=(()=>{class n{constructor(t,i){this.router=t,this.document=i,this.showLoader=!0,this.isSpinnerVisible=!0,this.display=!1,this.router.events.subscribe(r=>{r instanceof Mr.Z?this.isSpinnerVisible=!0:(r instanceof Mr.wF||r instanceof Mr.j5||r instanceof Mr.L6)&&(this.isSpinnerVisible=!1)},()=>{this.isSpinnerVisible=!1})}ngOnInit(){}ngOnDestroy(){this.isSpinnerVisible=!1}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(Mr.Ix),c.rXU(Pn.qQ))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-loader"]],inputs:{display:"display"},decls:1,vars:1,consts:[[4,"ngIf"],["id","global-loader"],["src","./assets/images/svgs/loader.svg","alt","loader"]],template:function(i,r){1&i&&c.DNE(0,cc,3,0,"div",0),2&i&&c.Y8G("ngIf",r.isSpinnerVisible)},dependencies:[Pn.bT]})}}return n})();function Zo(){const n=document.querySelector(".side-menu"),e=document.querySelector(".main-sidemenu"),t=document.querySelector(".slide-left"),i=document.querySelector(".slide-right"),r=Math.ceil(Number(window?.getComputedStyle(n)?.marginLeft.split("px")[0])),a=Math.ceil(Number(window?.getComputedStyle(n)?.marginRight.split("px")[0])),d=n.scrollWidth-e.offsetWidth;setTimeout(()=>{n&&i&&t&&(n.scrollWidth>e.offsetWidth?(i.classList.remove("d-none"),t.classList.add("d-none")):(i.classList.add("d-none"),t.classList.add("d-none"),n.style.marginLeft="0px",n.style.marginRight="0px"),0==r||0==a?t.classList.add("d-none"):t.classList.remove("d-none"),document.body.classList.contains("rtl")?n.scrollWidth>e.offsetWidth&&(console.log(n.scrollWidth,e.offsetWidth),Math.abs(d)<Math.abs(a)&&(n.style.marginRight=-d+"px",t.classList.remove("d-none"),i.classList.add("d-none"))):n.scrollWidth>e.offsetWidth&&Math.abs(d)<Math.abs(r)&&(n.style.marginLeft=-d+"px",t.classList.remove("d-none"),i.classList.add("d-none")),(0!=r||0!=a)&&t.classList.remove("d-none"))},500)}function Ll(){const n=document.querySelector('.slide-item.active:not([href="/"])'),e=document.querySelector('.sub-slide-item.active:not([href="/"])');n&&n.parentElement?.parentElement?.parentElement?.firstElementChild?.classList.add("active"),e&&(e.parentElement?.classList.add("active"),e.parentElement?.parentElement?.parentElement?.firstElementChild?.classList.add("active"),e.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.firstElementChild?.classList.add("active"))}var Vs=P(9327),ih=P(7394);const rh=["perfectScroll"];function ku(n,e){if(1&n&&(c.qex(0),c.nrm(1,"span",32),c.bVm()),2&n){const t=c.XpG(2).$implicit,i=c.XpG();c.R7$(1),c.Y8G("innerHTML",i.getSanitizedSVG(t.icon),c.npT)}}function x(n,e){if(1&n&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&n){const t=c.XpG(2).$implicit;c.HbH(t.badgeClass),c.R7$(1),c.JRh(t.badgeValue)}}const F=function(n){return[n]};function X(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",26),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG();return c.Njj(a.toggleNavActive(r))}),c.nrm(1,"span",27)(2,"span",28),c.DNE(3,ku,2,1,"ng-container",29),c.j41(4,"span",30),c.EFF(5),c.k0s(),c.DNE(6,x,2,4,"span",31),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?c.eq3(4,F,t.path):null),c.R7$(3),c.Y8G("ngIf",t.icon),c.R7$(2),c.JRh(t.title),c.R7$(1),c.Y8G("ngIf",t.badgeClass&&t.badgeValue)}}function we(n,e){if(1&n&&(c.qex(0),c.nrm(1,"span",32),c.bVm()),2&n){const t=c.XpG(2).$implicit,i=c.XpG();c.R7$(1),c.Y8G("innerHTML",i.getSanitizedSVG(t.icon),c.npT)}}function et(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",33),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG();return c.Njj(a.toggleNavActive(r))}),c.nrm(1,"span",27)(2,"span",28),c.DNE(3,we,2,1,"ng-container",29),c.j41(4,"span",30),c.EFF(5),c.k0s()()}if(2&n){const t=c.XpG().$implicit;c.R7$(3),c.Y8G("ngIf",t.icon),c.R7$(2),c.JRh(t.title)}}function dt(n,e){if(1&n&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&n){const t=c.XpG(2).$implicit;c.HbH(t.badgeClass),c.R7$(1),c.JRh(t.badgeValue)}}function Nt(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",34),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG();return c.Njj(a.toggleNavActive(r))}),c.j41(1,"span",35),c.nrm(2,"i"),c.k0s(),c.j41(3,"span",30),c.EFF(4),c.k0s(),c.DNE(5,dt,2,4,"span",31),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?c.eq3(6,F,t.path):null),c.R7$(2),c.ZvI("fe fe-",t.icon," "),c.R7$(2),c.JRh(t.title),c.R7$(1),c.Y8G("ngIf",t.badgeClass&&t.badgeValue)}}function dn(n,e){if(1&n&&(c.qex(0),c.nrm(1,"span",32),c.bVm()),2&n){const t=c.XpG(2).$implicit,i=c.XpG();c.R7$(1),c.Y8G("innerHTML",i.getSanitizedSVG(t.icon),c.npT)}}function an(n,e){if(1&n&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&n){const t=c.XpG(2).$implicit;c.HbH(t.badgeClass),c.R7$(1),c.SpI(" ",t.badgeValue," ")}}const Rn=function(n){return{active:n}},qn=function(n){return{"d-none":n}};function Jn(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",36),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG();return c.Njj(a.toggleNavActive(r))}),c.nrm(1,"span",27)(2,"span",28),c.DNE(3,dn,2,1,"ng-container",29),c.j41(4,"span",30),c.EFF(5),c.k0s(),c.DNE(6,an,2,4,"span",31),c.nrm(7,"i",37),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?null:c.eq3(6,F,t.path))("ngClass",c.eq3(8,Rn,t.active)),c.R7$(3),c.Y8G("ngIf",t.icon),c.R7$(2),c.JRh(t.title),c.R7$(1),c.Y8G("ngIf",t.badgeClass&&t.badgeValue),c.R7$(1),c.Y8G("ngClass",c.eq3(10,qn,t.badgeClass))}}function Aa(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",43),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(3);return c.Njj(a.toggleNavActive(r))}),c.EFF(1),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?c.eq3(2,F,t.path):null),c.R7$(1),c.SpI(" ",t.title," ")}}function qr(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",44),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(3);return c.Njj(a.toggleNavActive(r))}),c.EFF(1),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.R7$(1),c.SpI(" ",t.title," ")}}const Rc=function(n,e){return{"is-expanded":n,active:e}};function sh(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",45),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(3);return c.Njj(a.toggleNavActive(r))}),c.j41(1,"span",46),c.EFF(2),c.k0s(),c.nrm(3,"i",47),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?null:c.eq3(3,F,t.path))("ngClass",c.l_i(5,Rc,t.active,t.active)),c.R7$(2),c.SpI(" ",t.title,"")}}function Br(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",55),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(5);return c.Njj(a.toggleNavActive(r))}),c.EFF(1),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?c.eq3(2,F,t.path):null),c.R7$(1),c.SpI(" ",t.title," ")}}function vl(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",56),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(5);return c.Njj(a.toggleNavActive(r))}),c.EFF(1),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.R7$(1),c.SpI(" ",t.title," ")}}function Oa(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",57),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(5);return c.Njj(a.toggleNavActive(r))}),c.j41(1,"span",58),c.EFF(2),c.k0s(),c.nrm(3,"i",47),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?null:c.eq3(2,F,t.path)),c.R7$(2),c.SpI(" ",t.title," ")}}function cf(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",63),c.bIt("click",function(){c.eBV(t);const r=c.XpG().$implicit,a=c.XpG(7);return c.Njj(a.toggleNavActive(r))}),c.EFF(1),c.k0s()}if(2&n){const t=c.XpG().$implicit;c.Y8G("routerLink",t.type?c.eq3(2,F,t.path):null),c.R7$(1),c.SpI(" ",t.title,"")}}const Na=function(n,e){return{"is-expanded":n,"sub-slide":e}};function oh(n,e){if(1&n&&(c.j41(0,"li",61),c.DNE(1,cf,2,4,"a",62),c.k0s()),2&n){const t=e.$implicit;c.Y8G("ngClass",c.l_i(2,Na,t.active,t.Menusub)),c.R7$(1),c.Y8G("ngIf","link"===t.type)}}const cy=function(n){return{display:n}},Lu=function(n){return{open:n}};function ah(n,e){if(1&n&&(c.j41(0,"ul",59),c.DNE(1,oh,2,5,"li",60),c.k0s()),2&n){const t=c.XpG().$implicit;c.Y8G("ngStyle",c.eq3(3,cy,t.active?"block":"none"))("ngClass",c.eq3(5,Lu,t.active)),c.R7$(1),c.Y8G("ngForOf",t.children)}}function lp(n,e){if(1&n&&(c.j41(0,"li",50),c.DNE(1,Br,2,4,"a",51),c.DNE(2,vl,2,1,"a",52),c.DNE(3,Oa,4,4,"a",53),c.DNE(4,ah,2,7,"ul",54),c.k0s()),2&n){const t=e.$implicit;c.Y8G("ngClass",c.l_i(5,Na,t.active,t.Menusub)),c.R7$(1),c.Y8G("ngIf","link"===t.type),c.R7$(1),c.Y8G("ngIf","empty"===t.type),c.R7$(1),c.Y8G("ngIf","sub"===t.type),c.R7$(1),c.Y8G("ngIf",t.children)}}function uy(n,e){if(1&n&&(c.j41(0,"ul",48),c.DNE(1,lp,5,8,"li",49),c.k0s()),2&n){const t=c.XpG().$implicit;c.Y8G("ngClass",c.eq3(3,Lu,t.active))("ngClass",c.eq3(5,Lu,t.active)),c.R7$(1),c.Y8G("ngForOf",t.children)}}const f_=function(n,e){return{"is-expanded active":n,"sub-slide":e}};function Ub(n,e){if(1&n&&(c.j41(0,"li",20),c.DNE(1,Aa,2,4,"a",39),c.DNE(2,qr,2,1,"a",40),c.DNE(3,sh,4,8,"a",41),c.DNE(4,uy,2,7,"ul",42),c.k0s()),2&n){const t=e.$implicit;c.Y8G("ngClass",c.l_i(5,f_,t.active,t.Menusub)),c.R7$(1),c.Y8G("ngIf","link"===t.type),c.R7$(1),c.Y8G("ngIf","empty"===t.type),c.R7$(1),c.Y8G("ngIf","sub"===t.type),c.R7$(1),c.Y8G("ngIf",t.children)}}const yl=function(n){return{open:n}};function cp(n,e){if(1&n&&(c.j41(0,"ul",38),c.DNE(1,Ub,5,8,"li",17),c.k0s()),2&n){const t=c.XpG().$implicit;c.Y8G("ngClass",c.eq3(2,yl,t.active)),c.R7$(1),c.Y8G("ngForOf",t.children)}}const lh=function(n,e,t,i){return{"side-item side-item-category":n,slide:e,active:t,"is-expanded":i}};function zb(n,e){if(1&n&&(c.j41(0,"li",20),c.EFF(1),c.DNE(2,X,7,6,"a",21),c.DNE(3,et,6,2,"a",22),c.DNE(4,Nt,6,8,"a",23),c.DNE(5,Jn,8,12,"a",24),c.DNE(6,cp,2,4,"ul",25),c.k0s()),2&n){const t=e.$implicit;c.Y8G("ngClass",c.ziG(7,lh,t.headTitle,t.title,t.active,t.active)),c.R7$(1),c.SpI(" ",t.headTitle," "),c.R7$(1),c.Y8G("ngIf","link"===t.type),c.R7$(1),c.Y8G("ngIf","empty"===t.type),c.R7$(1),c.Y8G("ngIf","external"===t.type),c.R7$(1),c.Y8G("ngIf","sub"===t.type),c.R7$(1),c.Y8G("ngIf",t.children&&"sub"===t.type)}}const Cg=function(n){return{"sticky-pin":n}};let dy=(()=>{class n{constructor(t,i,r,a,d){this.router=t,this.navServices=i,this.elementRef=r,this.sanitizer=a,this.breakpointObserver=d,this.margin=0,this.width=window.innerWidth,this.scrolled=!1,this.navServices.items.subscribe(m=>{this.menuItems=m,this.router.events.subscribe(w=>{w instanceof Mr.wF&&m.filter(T=>(T.path===w.url&&this.setNavActive(T),!!T.children&&(T.children.filter(B=>(B.path===w.url&&this.setNavActive(B),!!B.children&&(B.children.filter(Y=>{Y.path===w.url&&this.setNavActive(Y)}),!0))),!0)))})}),this.checkNavActiveOnLoad()}checkNavActiveOnLoad(){this.navServices.items.subscribe(t=>{this.menuItems=t,this.router.events.subscribe(i=>{i instanceof Mr.Z&&(this.menuItems.forEach(r=>{r.active||(r.active=!1),r.children&&r.children.forEach(a=>{a.active||(a.active=!1)})}),setTimeout(()=>{const r=document.querySelectorAll(".side-menu__item.active"),a=document.querySelectorAll(".sub-side-menu__item.active");r.forEach(d=>d.classList.remove("active")),a.forEach(d=>d.classList.remove("active"))},100)),i instanceof Mr.wF&&(t.filter(r=>(r.path===i.url&&this.setNavActive(r),!!r.children&&(r.children.filter(a=>(a.path===i.url&&this.setNavActive(a),!!a.children&&(a.children.filter(d=>{d.path===i.url&&this.setNavActive(d)}),!0))),!0))),setTimeout(()=>{Ll()},200))})})}onResize(t){this.width=t.target.innerWidth-480}setNavActive(t){this.menuItems.filter(i=>{i!==t&&(i.active=!1,document.querySelector(".sidebar-mini")?.classList.remove("sidenav-toggled")),i.children&&i.children.includes(t)&&(i.active=!0),i.children&&i.children.filter(r=>{r.children&&r.children.includes(t)&&(i.active=!0,r.active=!0)})})}checkCurrentActive(){this.navServices.items.subscribe(t=>{this.menuItems=t;const i=this.router.url;t.filter(r=>(r.path===i&&this.setNavActive(r),!!r.children&&(r.children.filter(a=>(a.path===i&&this.setNavActive(a),!!a.children&&(a.children.filter(d=>{d.path===i&&this.setNavActive(d)}),!0))),!0)))})}toggleNavActive(t){t.active||this.menuItems.forEach(i=>(this.menuItems.includes(t)&&(i.active=!1),!!i.children&&(i.children.forEach(r=>(i.children.includes(t)&&(r.active=!1),!!r.children&&(r.children.forEach(a=>{r.children.includes(t)&&(a.active=!1)}),!0))),!0))),t.active=!t.active,document.querySelector("#custom-main-container")?.addEventListener("click",()=>{document.querySelector("body")?.classList.contains("horizontal")&&(t.active=!1)})}closeNavActive(){this.menuItems.forEach(t=>(this.menuItems&&(t.active=!1),!!t.children&&(t.children.forEach(i=>{t.children&&(i.active=!1)}),!0)))}closeNavActive1(t,i=""){document.querySelector("body")?.classList.contains(".horizontal")&&setTimeout(()=>{t.active=!1,""!=i&&(i.active=!1)},100)}ngOnInit(){(function xc(){function n(){const i=document.querySelectorAll(".slide"),r=document.querySelectorAll(".slide-menu");i.forEach((a,d)=>{1==a.classList.contains("is-expanded")&&a.classList.remove("is-expanded")}),r.forEach((a,d)=>{1==a.classList.contains("open")&&(a.classList.remove("open"),a.style.display="none")})}Zo();const e=document.querySelector(".slide-left"),t=document.querySelector(".slide-right");e&&(0,Si.R)(e,"click").subscribe(()=>{const i=document.querySelector(".side-menu"),r=document.querySelector(".main-sidemenu"),a=Math.ceil(Number(window.getComputedStyle(i).marginLeft.split("px")[0])),d=Math.ceil(Number(window.getComputedStyle(i).marginRight.split("px")[0])),m=r.offsetWidth;i.scrollWidth>r.offsetWidth&&(document.body.classList.contains("rtl")?d<0&&!(Math.abs(d)<m)?(i.style.marginLeft=0,i.style.marginRight=Number(i.style.marginRight.split("px")[0])+Math.abs(m)+"px",t.classList.remove("d-none")):(i.style.marginRight="0px",e.classList.add("d-none"),t.classList.remove("d-none")):a<0&&!(Math.abs(a)<m)?(i.style.marginRight=0,i.style.marginLeft=Number(i.style.marginLeft.split("px")[0])+Math.abs(m)+"px",t.classList.remove("d-none")):(i.style.marginLeft="0px",e.classList.add("d-none"),t.classList.remove("d-none"))),n()}),t&&(0,Si.R)(t,"click").subscribe(()=>{const i=document.querySelector(".side-menu"),r=document.querySelector(".main-sidemenu"),a=Math.ceil(Number(window.getComputedStyle(i).marginLeft.split("px")[0])),d=Math.ceil(Number(window.getComputedStyle(i).marginRight.split("px")[0])),m=i.scrollWidth-r.offsetWidth;let w=r.offsetWidth;i.scrollWidth>r.offsetWidth&&(document.body.classList.contains("rtl")?Math.abs(m)>Math.abs(d)&&(i.style.marginLeft=0,Math.abs(m)>Math.abs(d)+w||(w=Math.abs(m)-Math.abs(d),t.classList.add("d-none")),i.style.marginRight=Number(i.style.marginRight.split("px")[0])-Math.abs(w)+"px",e.classList.remove("d-none")):Math.abs(m)>Math.abs(a)&&(i.style.marginRight=0,Math.abs(m)>Math.abs(a)+w||(w=Math.abs(m)-Math.abs(a),t.classList.add("d-none")),i.style.marginLeft=Number(i.style.marginLeft.split("px")[0])-Math.abs(w)+"px",e.classList.remove("d-none"))),n()})})(),this.breakpointObserver.observe(["(max-width: 992px)"]).subscribe(r=>{r.matches?this.checkCurrentActive():(document.querySelector("body.horizontal")?.classList.remove("sidenav-toggled"),setTimeout(()=>{document.querySelector(".horizontal")&&(this.closeNavActive(),Ll())},100))}),setTimeout(()=>{const r=document.querySelectorAll("#myonoffswitch35"),a=document.querySelectorAll("#myonoffswitch34"),d=document.querySelectorAll("#myonoffswitch111");(0,Si.R)(a,"click").subscribe(()=>{this.checkCurrentActive()}),(0,Si.R)(r,"click").subscribe(()=>{this.closeNavActive()}),(0,Si.R)(d,"click").subscribe(()=>{this.closeNavActive()})},100);const t=(0,Si.R)(window,"resize");this.windowSubscribe$=t.subscribe(()=>{Zo()});const i=document.querySelectorAll(".main-content");(0,Si.R)(i,"click").subscribe(()=>{document.querySelector("body")?.classList.contains("horizontalmenu")&&(this.closeNavActive(),setTimeout(()=>{Ll()},100))})}ngAfterViewInit(){}ngOnDestroy(){this.windowSubscribe$.unsubscribe()}hoverEffect(t){this.sidenavtoggled1="mouseover"==t.type?"sidenav-toggled1":""}getSanitizedSVG(t){return this.sanitizer.bypassSecurityTrustHtml(t)}sidebarClose(){(this.navServices.collapseSidebar=!0)&&(document.querySelector(".app")?.classList.remove("sidenav-toggled"),this.navServices.collapseSidebar=!1)}onWindowScroll(){this.scrolled=window.scrollY>74}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(Mr.Ix),c.rXU(lc),c.rXU(c.aKT),c.rXU(u.up),c.rXU(Vs.QP))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-sidebar"]],viewQuery:function(i,r){if(1&i&&c.GBs(rh,7),2&i){let a;c.mGM(a=c.lsd())&&(r.perfectScroll=a.first)}},hostBindings:function(i,r){1&i&&c.bIt("resize",function(d){return r.onResize(d)},!1,c.tSv)("scroll",function(){return r.onWindowScroll()},!1,c.tSv)},decls:22,vars:4,consts:[["data-bs-toggle","sidebar",1,"app-sidebar__overlay",3,"click"],[1,"sticky",3,"ngClass"],[1,"app-sidebar","sidebar-scroll"],[1,"main-sidebar-header","active"],["routerLink","/dashboard",1,"desktop-logo","logo-light","active"],["src","./assets/images/brand/logo.png","alt","logo",1,"main-logo"],["routerLink","/dashboard",1,"desktop-logo","logo-dark","active"],["src","./assets/images/brand/logo-white.png","alt","logo",1,"main-logo"],["routerLink","/dashboard",1,"logo-icon","mobile-logo","icon-light","active"],["src","./assets/images/brand/favicon.png","alt","logo"],["routerLink","/dashboard",1,"logo-icon","mobile-logo","icon-dark","active"],["src","./assets/images/brand/favicon-white.png","alt","logo"],[1,"main-sidemenu"],["id","slide-left",1,"slide-left","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","#7b8191","width","24","height","24","viewBox","0 0 24 24"],["d","M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"],[1,"side-menu"],[3,"ngClass",4,"ngFor","ngForOf"],["id","slide-right",1,"slide-right"],["d","M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"],[3,"ngClass"],["class","side-menu__item has__link","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","side-menu__item has__link","href","javascript:;",3,"click",4,"ngIf"],["class","side-menu__item has__link","routerLinkActive","active","target","_blank",3,"routerLink","click",4,"ngIf"],["class","side-menu__item",3,"routerLink","ngClass","click",4,"ngIf"],["class","slide-menu ",3,"ngClass",4,"ngIf"],["routerLinkActive","active",1,"side-menu__item","has__link",3,"routerLink","click"],[1,"shape1"],[1,"shape2"],[4,"ngIf"],[1,"side-menu__label"],[3,"class",4,"ngIf"],[3,"innerHTML"],["href","javascript:;",1,"side-menu__item","has__link",3,"click"],["routerLinkActive","active","target","_blank",1,"side-menu__item","has__link",3,"routerLink","click"],[1,"side-menu__icon"],[1,"side-menu__item",3,"routerLink","ngClass","click"],[1,"angle","fe","fe-chevron-down",3,"ngClass"],[1,"slide-menu",3,"ngClass"],["class","slide-item","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","slide-item","routerLinkActive","active","href","javascript:;",3,"click",4,"ngIf"],["href","javascript:;","class","slide-item",3,"routerLink","ngClass","click",4,"ngIf"],["class","sub-slide-menu",3,"ngClass",4,"ngIf"],["routerLinkActive","active",1,"slide-item",3,"routerLink","click"],["routerLinkActive","active","href","javascript:;",1,"slide-item",3,"click"],["href","javascript:;",1,"slide-item",3,"routerLink","ngClass","click"],[1,"sub-side-menu__label"],[1,"sub-angle","fe","fe-chevron-down"],[1,"sub-slide-menu",3,"ngClass"],["class","sub-slide2",3,"ngClass",4,"ngFor","ngForOf"],[1,"sub-slide2",3,"ngClass"],["class","sub-side-menu__item","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["class","sub-slide-item","href","javascript:;",3,"click",4,"ngIf"],["class","sub-side-menu__item","href","javascript:;",3,"routerLink","click",4,"ngIf"],["class","sub-slide-menu1",3,"ngStyle","ngClass",4,"ngIf"],["routerLinkActive","active",1,"sub-side-menu__item",3,"routerLink","click"],["href","javascript:;",1,"sub-slide-item",3,"click"],["href","javascript:;",1,"sub-side-menu__item",3,"routerLink","click"],[1,"sub-side-menu__label2"],[1,"sub-slide-menu1",3,"ngStyle","ngClass"],["class","",3,"ngClass",4,"ngFor","ngForOf"],[1,"",3,"ngClass"],["class","sub-slide-item2","routerLinkActive","active",3,"routerLink","click",4,"ngIf"],["routerLinkActive","active",1,"sub-slide-item2",3,"routerLink","click"]],template:function(i,r){1&i&&(c.j41(0,"div",0),c.bIt("click",function(){return r.sidebarClose()}),c.k0s(),c.j41(1,"div",1)(2,"aside",2)(3,"div",3)(4,"a",4),c.nrm(5,"img",5),c.k0s(),c.j41(6,"a",6),c.nrm(7,"img",7),c.k0s(),c.j41(8,"a",8),c.nrm(9,"img",9),c.k0s(),c.j41(10,"a",10),c.nrm(11,"img",11),c.k0s()(),c.j41(12,"ng-scrollbar")(13,"div",12)(14,"div",13),c.qSk(),c.j41(15,"svg",14),c.nrm(16,"path",15),c.k0s()(),c.joV(),c.j41(17,"ul",16),c.DNE(18,zb,7,12,"li",17),c.k0s(),c.j41(19,"div",18),c.qSk(),c.j41(20,"svg",14),c.nrm(21,"path",19),c.k0s()()()()()()),2&i&&(c.R7$(1),c.Y8G("ngClass",c.eq3(2,Cg,r.scrolled)),c.R7$(17),c.Y8G("ngForOf",r.menuItems))},dependencies:[Pn.YU,Pn.Sq,Pn.bT,Pn.B3,Mr.Wk,Mr.wQ,ih.Yh],styles:[".sidemenu-scroll[_ngcontent-%COMP%]{overflow:scroll;height:100vh}.horizontal[_ngcontent-%COMP%]   .app-sidebar.horizontal-main[_ngcontent-%COMP%]   .side-menu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:none}@media (max-width: 991.9px){.sidemenu-logo[_ngcontent-%COMP%]{display:none}}.sub-slide-menu.open[_ngcontent-%COMP%], .slide-menu.open[_ngcontent-%COMP%]{display:block}  .horizontalmenu .hor-menu li.nav-item .nav-link{min-width:max-content}  .horizontalmenu app-sidemenu ng-scrollbar{position:static!important}.side-menu[_ngcontent-%COMP%]{margin-right:105px}@media (min-width: 992px){.horizontal[_ngcontent-%COMP%]   .side-menu__item[_ngcontent-%COMP%]   .angle[_ngcontent-%COMP%]{position:relative;top:2px;right:-4px}}.layout-boxed[_ngcontent-%COMP%]   .horizontal-main[_ngcontent-%COMP%]{max-width:1400px}@media (min-width: 992px){.horizontal[_ngcontent-%COMP%]   .main-sidemenu[_ngcontent-%COMP%]   .slide-left[_ngcontent-%COMP%], .horizontal[_ngcontent-%COMP%]   .main-sidemenu[_ngcontent-%COMP%]   .slide-right[_ngcontent-%COMP%]{position:absolute;top:5px;padding:10px;font-size:16px;color:#1c1d22;display:flex;align-items:center;justify-content:center;z-index:1;cursor:pointer;border:1px solid #e3e3f7;background-color:#f0f0f9;margin:0 10px;border-radius:50px}}@media (min-width: 992px){.horizontal[_ngcontent-%COMP%]   .main-sidemenu[_ngcontent-%COMP%]   .slide-right[_ngcontent-%COMP%]{right:0}body[_ngcontent-%COMP%]:not(.horizontal-hover)   .slide-menu.open[_ngcontent-%COMP%]{display:block!important}.horizonta[_ngcontent-%COMP%]   .sub-slide-menu.open[_ngcontent-%COMP%], .sub-slide.is-expanded[_ngcontent-%COMP%]   .sub-slide-menu[_ngcontent-%COMP%], .slide-menu.open[_ngcontent-%COMP%]{display:block!important}}"]})}}return n})();function Fu(n){const e=document.querySelector(":root");e&&Object.keys(n).forEach(i=>{e.style.setProperty(i,n[i])})}const Eg=n=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(n),hy=(n,e)=>n.match(new RegExp(`.{${e}}`,"g")),Qa=n=>parseInt(n.repeat(2/n.length),16),Xr=(n,e)=>typeof n<"u"?n/255:"number"!=typeof e||e<0||e>1?1:e;function wo(n,e=1){if(!Eg(n))return null;const t=Math.floor((n.length-1)/3),i=hy(n.slice(1),t);if(null===i)return"";const[r,a,d,m]=i.map(Qa);return`rgba(${r}, ${a}, ${d}, ${Xr(m,e)})`}function ch(){document.querySelector("body")?.classList.contains("light-header")&&document.querySelector("body")?.classList.remove("light-header"),document.querySelector("body")?.classList.contains("color-header")&&document.querySelector("body")?.classList.remove("color-header"),document.querySelector("body")?.classList.contains("dark-header")&&document.querySelector("body")?.classList.remove("dark-header"),document.querySelector("body")?.classList.contains("light-menu")&&document.querySelector("body")?.classList.remove("light-menu"),document.querySelector("body")?.classList.contains("color-menu")&&document.querySelector("body")?.classList.remove("color-menu"),document.querySelector("body")?.classList.contains("dark-menu")&&document.querySelector("body")?.classList.remove("dark-menu")}let su;function Fl(){const n=getComputedStyle(document.documentElement).getPropertyValue("--primary-bg-color").trim();su=localStorage.getItem("Admitrolight-primary-color")||localStorage.getItem("Admitrodark-primary-color")||n;const e=wo(su,.1);document.querySelector("html")?.style.setProperty("--primary01",e);const t=wo(su,.2);document.querySelector("html")?.style.setProperty("--primary02",t);const i=wo(su,.3);document.querySelector("html")?.style.setProperty("--primary03",i);const r=wo(su,.6);document.querySelector("html")?.style.setProperty("--primary06",r);const a=wo(su,.9);document.querySelector("html")?.style.setProperty("--primary09",a)}Fl();var ou=P(9384);const hp=["switcher"];let p_=(()=>{class n{constructor(t,i){this.renderer=t,this.switcherServic=i,this.body=document.querySelector("body"),this.closeResult="",this.color4="#0162e8",this.color1="#0162e8",this.color2="#0162e8",this.color3="#0162e8",this.layoutSub=i.changeEmitted.subscribe(r=>{r?(this.renderer.addClass(this.switcher.nativeElement.firstElementChild,"active"),this.renderer.setStyle(this.switcher.nativeElement.firstElementChild,"right","0px"),r=!0):(this.renderer.removeClass(this.switcher.nativeElement.firstElementChild,"active"),this.renderer.setStyle(this.switcher.nativeElement.firstElementChild,"right","-270px"),r=!1)}),document.querySelector(".slide-leftRTL")?.classList.add("d-none"),document.querySelector(".slide-rightRTL")?.classList.add("d-none")}ngOnInit(){(function Gb(){const n=document.querySelector("html")?.style,e=document.querySelector("body");if(null!==localStorage.getItem("Admitrolight-primary-color")&&(e?.classList.add("light-theme"),document.getElementById("myonoffswitch1").checked=!0,e?.classList.remove("dark-theme"),e?.classList.remove("transparent-theme"),n?.setProperty("--primary-bg-color",localStorage.getItem("Admitrolight-primary-color")),n?.setProperty("--primary-bg-hover",localStorage.getItem("Admitrolight-primary-color")),n?.setProperty("--primary-bg-border",localStorage.getItem("Admitrolight-primary-color"))),null!==localStorage.getItem("Admitrodark-body")&&(e?.classList.add("dark-theme"),document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0,e?.classList.remove("light-theme"),n?.setProperty("--dark-body",localStorage.getItem("Admitrodark-body")),e?.classList.remove("light-theme"),n?.setProperty("--dark-theme",localStorage.getItem("Admitrodark-theme"))),null!==localStorage.getItem("Admitrodark-theme")&&(e?.classList.add("dark-theme"),document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0),null!==localStorage.getItem("AdmitroLightTheme")&&(document.getElementById("myonoffswitch1").checked=!0,e?.classList.add("light-theme"),e?.classList.remove("dark-theme"),e?.classList.remove("dark-header"),e?.classList.remove("dark-menu"),e?.classList.remove("transparent-theme")),null!==localStorage.getItem("AdmitroDarkTheme")&&(document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0,e?.classList.add("dark-theme"),e?.classList.remove("light-theme"),e?.classList.remove("light-header"),e?.classList.remove("light-menu")),localStorage.getItem("Admitrocolormenu")&&(document.getElementById("myonoffswitch4").checked=!0,document.querySelector("body")?.classList.add("color-menu")),localStorage.getItem("Admitrolightmenu")&&(document.getElementById("myonoffswitch3").checked=!0,document.querySelector("body")?.classList.add("light-menu")),localStorage.getItem("Admitrodarkmenu")&&(document.getElementById("myonoffswitch5").checked=!0,document.querySelector("body")?.classList.add("dark-menu")),localStorage.getItem("Admitrogradientmenu")&&(document.getElementById("myonoffswitch25").checked=!0,document.querySelector("body")?.classList.add("gradient-menu")),localStorage.getItem("Admitrodarkheader")&&(document.getElementById("myonoffswitch8").checked=!0,document.querySelector("body")?.classList.add("dark-header")),localStorage.getItem("Admitrolightheader")&&(document.getElementById("myonoffswitch6").checked=!0,document.querySelector("body")?.classList.add("light-header")),localStorage.getItem("Admitrocolorheader")&&(document.getElementById("myonoffswitch7").checked=!0,document.querySelector("body")?.classList.add("color-header")),localStorage.getItem("Admitrogradientheader")&&(document.getElementById("myonoffswitch26").checked=!0,document.querySelector("body")?.classList.add("gradient-header")),localStorage.getItem("Admitroboxed")&&(document.getElementById("myonoffswitch10").checked=!0,document.querySelector("body")?.classList.add("layout-boxed")),localStorage.getItem("Admitrortl")){document.getElementById("myonoffswitch55").checked=!0;const i=document.querySelector("#style");document.querySelector("body")?.classList.add("rtl"),document.querySelector("html")?.setAttribute("dir","rtl"),i?.setAttribute("href","./assets/plugins/bootstrap/css/bootstrap.rtl.css"),e?.classList.remove("ltr"),Zo()}if(null!==localStorage.getItem("Admitrohorizontal")){document.getElementById("myonoffswitch35").checked=!0;const i=document.querySelector(".main-content"),r=document.querySelectorAll(".main-container"),a=document.querySelector(".app-sidebar"),d=document.querySelector(".main-header"),m=document.querySelector(".main-sidemenu"),w=document.querySelector(".horizontal .side-menu");e?.classList.add("horizontal"),i?.classList.add("horizontal-content"),r.forEach(B=>{B.classList.add("container")}),d?.classList.add("hor-header"),a?.classList.add("horizontal-main"),m?.classList.add("container"),w?.classList.add("flex-nowrap"),w?.classList.remove("flex-wrap"),i?.classList.remove("app-content"),r.forEach(B=>{B.classList.remove("container-fluid")}),e?.classList.remove("sidebar-mini"),e?.classList.remove("sidenav-toggled"),e?.classList.remove("horizontal-hover"),document.querySelectorAll(".side-menu li").forEach(B=>{B.classList.remove("is-expanded")}),Zo(),setTimeout(()=>{Ll()},300)}if(null!==localStorage.getItem("AdmitrohorizontalHover")){document.getElementById("myonoffswitch111").checked=!0;const i=document.querySelector(".main-content"),r=document.querySelectorAll(".main-container"),a=document.querySelector(".app-sidebar"),d=document.querySelector(".main-header"),m=document.querySelector(".main-sidemenu"),w=document.querySelector(".horizontal .side-menu");e?.classList.add("horizontal"),e?.classList.add("horizontal-hover"),i?.classList.add("horizontal-content"),r.forEach(B=>{B.classList.add("container")}),d?.classList.add("hor-header"),a?.classList.add("horizontal-main"),m?.classList.add("container"),w?.classList.add("flex-wrap"),w?.classList.remove("flex-nowrap"),i?.classList.remove("app-content"),r.forEach(B=>{B.classList.remove("container-fluid")}),e?.classList.remove("sidebar-mini"),e?.classList.remove("sidenav-toggled"),document.querySelectorAll(".side-menu li").forEach(B=>{B.classList.remove("is-expanded")}),Zo(),setTimeout(()=>{Ll()},300)}null!==localStorage.getItem("Admitrocenter-logo")&&(e?.classList.add("centerlogo-horizontal"),e?.classList.remove("default-horizontal"),document.getElementById("#myonoffswitch36").checked=!0),null!==localStorage.getItem("Admitrodefault-logo")&&(e?.classList.add("default-horizontal"),e?.classList.remove("centerlogo-horizontal"),document.getElementById("#myonoffswitch31").checked=!0)})(),function up(){const n=document.querySelector("body"),e=document.querySelector("html"),t=document.querySelectorAll("#myonoffswitch54"),i=document.querySelectorAll("#myonoffswitch55"),r=document.querySelectorAll("#myonoffswitch34"),a=document.querySelectorAll("#myonoffswitch35"),d=document.querySelectorAll("#myonoffswitch111"),m=document.querySelector("#myonoffswitch9"),w=document.querySelector("#myonoffswitch10"),T=document.querySelector("#myonoffswitch11"),B=document.querySelector("#myonoffswitch12"),Y=document.querySelector(".main-content"),pe=document.querySelectorAll(".main-container"),xe=document.querySelector(".app-sidebar"),Je=document.querySelector(".main-header"),vt=document.querySelector(".main-sidemenu"),Lt=document.getElementById("myonoffswitch1"),fn=document.getElementById("myonoffswitch2"),Dn=document.querySelector(".horizontal .side-menu"),On=document.querySelector("#myonoffswitch3"),Bn=document.querySelector("#myonoffswitch4"),wi=document.querySelector("#myonoffswitch5"),fi=document.querySelector("#myonoffswitch25"),Pr=document.querySelector("#myonoffswitch6"),al=document.querySelector("#myonoffswitch8"),Eu=document.querySelector("#myonoffswitch26"),Xh=document.querySelector("#myonoffswitch07"),IT=document.querySelector("#myonoffswitch06"),ay=document.querySelectorAll("#myonoffswitch36"),yg=document.querySelectorAll("#myonoffswitch31"),DT=document.querySelector("#myonoffswitch7"),AE=document.querySelector("#style");(0,Si.R)(t,"click").subscribe(()=>{n?.classList.add("ltr"),e?.setAttribute("dir","ltr"),AE?.setAttribute("href","./assets/plugins/bootstrap/css/bootstrap.css"),n?.classList.remove("rtl"),Zo(),localStorage.setItem("Admitroltr","true"),localStorage.removeItem("Admitrortl")}),(0,Si.R)(i,"click").subscribe(()=>{n?.classList.add("rtl"),e?.setAttribute("dir","rtl"),AE?.setAttribute("href","./assets/plugins/bootstrap/css/bootstrap.rtl.css"),n?.classList.remove("ltr"),Zo(),localStorage.setItem("Admitrortl","true"),localStorage.removeItem("Admitroltr")}),(0,Si.R)(r,"click").subscribe(()=>{Y?.classList.add("app-content"),pe.forEach(kn=>{kn.classList.add("container-fluid")}),Je?.classList.add("side-header"),n?.classList.add("sidebar-mini"),n?.classList.remove("horizontal"),n?.classList.remove("horizontal-hover"),xe?.classList.remove("horizontal-main"),vt?.classList.remove("container"),Y?.classList.remove("horizontal-content"),Je?.classList.remove("hor-header"),pe.forEach(kn=>{kn.classList.remove("container")}),document.querySelector(".slide-left")?.classList.add("d-none"),document.querySelector(".slide-right")?.classList.add("d-none"),document.querySelector(".slide-leftRTL")?.classList.add("d-none"),document.querySelector(".slide-rightRTL")?.classList.add("d-none"),localStorage.setItem("AdmitrosidebarMini","true"),localStorage.removeItem("Admitrohorizontal"),localStorage.removeItem("AdmitrohorizontalHover")}),(0,Si.R)(a,"click").subscribe(()=>{n?.classList.add("horizontal"),Y?.classList.add("horizontal-content"),pe.forEach(Ln=>{Ln?.classList.add("container")}),Je?.classList.add("hor-header"),xe?.classList.add("horizontal-main"),vt?.classList.add("container"),Dn?.classList.add("flex-nowrap"),Dn?.classList.remove("flex-wrap"),Y?.classList.remove("app-content"),pe.forEach(Ln=>{Ln?.classList.remove("container-fluid")}),Je?.classList.remove("side-header"),n?.classList.remove("sidebar-mini"),n?.classList.remove("sidenav-toggled"),n?.classList.remove("horizontal-hover"),document.querySelectorAll(".side-menu li").forEach(Ln=>{Ln.classList.remove("is-expanded")}),Zo(),setTimeout(()=>{Ll()},300),localStorage.setItem("Admitrohorizontal","true"),localStorage.removeItem("Admitrohorizontalhover")}),(0,Si.R)(d,"click").subscribe(()=>{n?.classList.add("horizontal"),n?.classList.add("horizontal-hover"),Y?.classList.add("horizontal-content"),pe.forEach(Ln=>{Ln.classList.add("container")}),console.log(pe),Je?.classList.add("hor-header"),xe?.classList.add("horizontal-main"),vt?.classList.add("container"),Dn?.classList.add("flex-nowrap"),Dn?.classList.remove("flex-wrap"),Y?.classList.remove("app-content"),pe.forEach(Ln=>{Ln.classList.remove("container-fluid")}),Je?.classList.remove("side-header"),n?.classList.remove("sidebar-mini"),n?.classList.remove("sidenav-toggled"),document.querySelectorAll(".side-menu li").forEach(Ln=>{Ln.classList.remove("is-expanded")}),Zo(),setTimeout(()=>{Ll()},300),localStorage.setItem("AdmitrohorizontalHover","true"),localStorage.removeItem("Admitrohorizontal"),localStorage.removeItem("AdmitrosidebarMini")}),(0,Si.R)(ay,"click").subscribe(()=>{n?.classList.add("centerlogo-horizontal"),n?.classList.remove("default-horizontal"),localStorage.setItem("Admitrocenter-logo","true"),localStorage.removeItem("Admitrodefault-logo")}),(0,Si.R)(yg,"click").subscribe(()=>{n?.classList.add("default-horizontal"),n?.classList.remove("centerlogo-horizontal"),localStorage.setItem("Admitrodefault-logo","true"),localStorage.removeItem("Admitrocenter-logo")}),(0,Si.R)(Lt,"click").subscribe(()=>{Lt.checked=!0,document.querySelector("body")?.classList.add("light-theme"),document.querySelector("body")?.classList.remove("dark-theme"),n?.classList.remove("color-menu"),n?.classList.remove("dark-menu"),n?.classList.remove("color-header"),n?.classList.remove("dark-header"),n?.classList.add("light-menu"),n?.classList.add("light-header"),localStorage.setItem("Admitrolight-theme","true"),localStorage.removeItem("AdmitroDarkTheme")}),(0,Si.R)(fn,"click").subscribe(()=>{fn.checked=!0,document.querySelector("body")?.classList.add("dark-theme"),document.querySelector("body")?.classList.remove("light-theme"),document.querySelector("body")?.classList.remove("light-header"),document.querySelector("body")?.classList.remove("light-menu"),localStorage.setItem("AdmitroDarkTheme","true"),localStorage.removeItem("Admitrolight-theme"),document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0}),(0,Si.R)(m,"click").subscribe(()=>{n?.classList.add("layout-fullwidth"),n?.classList.remove("layout-boxed"),Zo(),localStorage.setItem("Admitrofullwidh","true"),localStorage.removeItem("Admitroboxed")}),(0,Si.R)(w,"click").subscribe(()=>{n?.classList.add("layout-boxed"),n?.classList.remove("layout-fullwidth"),Zo(),localStorage.setItem("Admitroboxed","true"),localStorage.removeItem("Admitrofullwidth")}),(0,Si.R)(T,"click").subscribe(()=>{n?.classList.add("fixed-layout"),n?.classList.remove("scrollable-layout")}),(0,Si.R)(B,"click").subscribe(()=>{n?.classList.add("scrollable-layout"),n?.classList.remove("fixed-layout")}),(0,Si.R)(Xh,"click").subscribe(()=>{n?.classList.add("default-body"),n?.classList.remove("body-style1"),Zo()}),(0,Si.R)(IT,"click").subscribe(()=>{n?.classList.add("body-style1"),n?.classList.remove("default-body"),Zo()}),(0,Si.R)(On,"click").subscribe(()=>{n?.classList.add("light-menu"),n?.classList.remove("color-menu"),n?.classList.remove("dark-menu"),n?.classList.remove("gradient-menu"),localStorage.setItem("Admitrolightmenu","true"),localStorage.removeItem("Admitrodarkmenu"),localStorage.removeItem("Admitrocolormenu"),localStorage.removeItem("Admitrogradientmenu")}),(0,Si.R)(Bn,"click").subscribe(()=>{n?.classList.add("color-menu"),n?.classList.remove("light-menu"),n?.classList.remove("dark-menu"),n?.classList.remove("gradient-menu"),localStorage.setItem("Admitrocolormenu","true"),localStorage.removeItem("Admitrodarkmenu"),localStorage.removeItem("Admitrolightmenu"),localStorage.removeItem("Admitrogradientmenu")}),(0,Si.R)(wi,"click").subscribe(()=>{n?.classList.add("dark-menu"),n?.classList.remove("color-menu"),n?.classList.remove("light-menu"),n?.classList.remove("gradient-menu"),localStorage.setItem("Admitrodarkmenu","true"),localStorage.removeItem("Admitrocolormenu"),localStorage.removeItem("Admitrolightmenu"),localStorage.removeItem("Admitrogradientmenu")}),(0,Si.R)(fi,"click").subscribe(()=>{n?.classList.add("gradient-menu"),n?.classList.remove("color-menu"),n?.classList.remove("light-menu"),n?.classList.remove("dark-menu"),localStorage.setItem("Admitrogradientmenu","true"),localStorage.removeItem("Admitrocolormenu"),localStorage.removeItem("Admitrolightmenu"),localStorage.removeItem("Admitrodarkmenu")}),(0,Si.R)(Pr,"click").subscribe(()=>{n?.classList.add("light-header"),n?.classList.remove("color-header"),n?.classList.remove("dark-header"),n?.classList.remove("gradient-header"),n?.classList.remove("dark-header"),localStorage.setItem("Admitrolightheader","true"),localStorage.removeItem("Admitrodarkheader"),localStorage.removeItem("Admitrocolorheader"),localStorage.removeItem("Admitrogradientheader")}),(0,Si.R)(al,"click").subscribe(()=>{n?.classList.add("dark-header"),n?.classList.remove("light-header"),n?.classList.remove("color-header"),n?.classList.remove("gradient-header"),localStorage.setItem("Admitrodarkheader","true"),localStorage.removeItem("Admitrocolorheader"),localStorage.removeItem("Admitrolightheader"),localStorage.removeItem("Admitrogradientheader")}),(0,Si.R)(DT,"click").subscribe(()=>{n?.classList.add("color-header"),n?.classList.remove("light-header"),n?.classList.remove("dark-header"),n?.classList.remove("gradient-header"),localStorage.setItem("Admitrocolorheader","true"),localStorage.removeItem("Admitrodarkheader"),localStorage.removeItem("Admitrolightheader"),localStorage.removeItem("Admitrogradientheader")}),(0,Si.R)(Eu,"click").subscribe(()=>{n?.classList.add("gradient-header"),n?.classList.remove("light-header"),n?.classList.remove("dark-header"),n?.classList.remove("color-header"),localStorage.setItem("Admitrogradientheader","true"),localStorage.removeItem("Admitrodarkheader"),localStorage.removeItem("Admitrolightheader"),localStorage.removeItem("Admitrodarkheader")})}(),Fl()}reset(){document.getElementById("myonoffswitch1").checked=!0,document.getElementById("myonoffswitch3").checked=!0,document.getElementById("myonoffswitch34").checked=!0,document.getElementById("myonoffswitch54").checked=!0,document.getElementById("myonoffswitch6").checked=!0,document.getElementById("myonoffswitch9").checked=!0,document.getElementById("myonoffswitch11").checked=!0,document.getElementById("myonoffswitch31").checked=!0,localStorage.clear();const B=document.querySelector("html"),Y=document.querySelector("body");B.style="",Y?.classList.remove("rtl"),Y?.classList.remove("dark-theme"),Y?.classList.remove("light-header"),Y?.classList.remove("dark-header"),Y?.classList.remove("color-header"),Y?.classList.remove("gradient-header"),Y?.classList.remove("light-menu"),Y?.classList.remove("color-menu"),Y?.classList.remove("dark-menu"),Y?.classList.remove("gradient-menu"),Y?.classList.remove("layout-boxed"),Y?.classList.remove("centerlogo-horizontal"),Y?.classList.remove("scrollable-layout"),Y?.classList.remove("bg-img1"),Y?.classList.remove("bg-img2"),Y?.classList.remove("bg-img3"),Y?.classList.remove("bg-img4"),Fl(),function dp(){document.querySelector("body")?.classList.contains("light-header")&&(document.getElementById("myonoffswitch6").checked=!0),document.querySelector("body")?.classList.contains("color-header")&&(document.getElementById("myonoffswitch7").checked=!0),document.querySelector("body")?.classList.contains("dark-header")&&(document.getElementById("myonoffswitch8").checked=!0),document.querySelector("body")?.classList.contains("light-menu")&&(document.getElementById("myonoffswitch3").checked=!0),document.querySelector("body")?.classList.contains("color-menu")&&(document.getElementById("myonoffswitch4").checked=!0),document.querySelector("body")?.classList.contains("dark-menu")&&(document.getElementById("myonoffswitch5").checked=!0),document.querySelector("body")?.classList.contains("dark-menu")&&(document.getElementById("myonoffswitch5").checked=!0)}(),B.setAttribute("dir","ltr"),document.querySelector("#style")?.setAttribute("href","./assets/plugins/bootstrap/css/bootstrap.css"),localStorage.removeItem("Admitrohorizontal"),localStorage.removeItem("AdmitrohorizontalHover");const xe=document.querySelector(".main-content"),Je=document.querySelectorAll(".main-container"),vt=document.querySelector(".app-sidebar"),Lt=document.querySelector(".main-header"),fn=document.querySelector(".main-sidemenu");xe?.classList.add("app-content"),Je.forEach(Dn=>{Dn.classList.add("container-fluid")}),Lt?.classList.add("side-header"),Y?.classList.add("sidebar-mini"),Y?.classList.remove("horizontal"),Y?.classList.remove("horizontal-hover"),vt?.classList.remove("horizontal-main"),fn?.classList.remove("container"),xe?.classList.remove("horizontal-content"),Lt?.classList.remove("hor-header"),Je.forEach(Dn=>{Dn.classList.remove("container")}),document.querySelector(".slide-left")?.classList.add("d-none"),document.querySelector(".slide-right")?.classList.add("d-none"),document.querySelector(".slide-leftRTL")?.classList.add("d-none"),document.querySelector(".slide-rightRTL")?.classList.add("d-none"),localStorage.setItem("AdmitrosidebarMini","true"),localStorage.removeItem("Admitrohorizontal"),localStorage.removeItem("AdmitrohorizontalHover")}LightTheme(){this.body?.classList.add("light-theme"),localStorage.setItem("AdmitroLightTheme","true"),this.body?.classList.remove("transparent-mode"),this.body?.classList.remove("dark-mode"),localStorage.removeItem("AdmitroTransparentTheme"),localStorage.removeItem("AdmitroDarkTheme")}DarkTheme(){document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0,localStorage.setItem("AdmitroDarkTheme","true"),this.body?.classList.add("dark-theme"),this.body?.classList.add("dark-header"),this.body?.classList.add("dark-menu"),this.body?.classList.remove("transparent-mode"),this.body?.classList.remove("light-mode"),this.body?.classList.remove("light-header"),this.body?.classList.remove("light-menu"),this.body?.classList.remove("color-header"),this.body?.classList.remove("color-menu"),this.body?.classList.remove("gradient-header"),this.body?.classList.remove("gradient-menu"),localStorage.removeItem("AdmitroTransparentTheme"),localStorage.removeItem("AdmitroLightTheme")}dynamicBgPrimary(t){this.color3=t,function Ig(n,e){n.forEach(t=>{const i=`--primary-${t.getAttribute("data-id")}`,r=`--primary-${t.getAttribute("data-id1")}`,a=`--primary-${t.getAttribute("data-id2")}`,d=`--primary-${t.getAttribute("data-id9")}`;Fu({[i]:wo(e),[r]:wo(e),[a]:wo(e),[d]:wo(e)})})}(document.querySelectorAll(".color-primary-Bg"),this.color1),localStorage.setItem("Admitro-primary-color",this.color1),localStorage.setItem("Admitro-primary-hover",this.color1),localStorage.setItem("Admitro-primary-border",this.color1),this.body?.classList.add("light-theme"),localStorage.setItem("AdmitrodarkTheme","true"),this.body?.classList.remove("light-theme"),localStorage.removeItem("AdmitroDarkTheme"),localStorage.removeItem("AdmitroLightTheme"),this.body?.classList.remove("light-header"),this.body?.classList.remove("dark-header"),this.body?.classList.remove("color-header"),this.body?.classList.remove("gradient-header"),this.body?.classList.remove("light-menu"),this.body?.classList.remove("color-menu"),this.body?.classList.remove("dark-menu"),this.body?.classList.remove("gradient-menu"),localStorage.removeItem("Admitrolight-primary-color"),localStorage.removeItem("Admitrolight-primary-hover"),localStorage.removeItem("Admitrolight-primary-border"),localStorage.removeItem("Admitrodark-primary-color"),localStorage.removeItem("Admitrodark-primary-hover"),localStorage.removeItem("Admitrodark-primary-border"),localStorage.removeItem("Admitrodark-body"),ch(),Fl()}dynamicBgDarkPrimary(t){document.body.classList.add("dark-theme"),this.color4=t,function md(n,e){n.forEach(t=>{const i=`--dark-${t.getAttribute("data-id5")}`,r=`--dark-${t.getAttribute("data-id6")}`;Fu({[i]:wo(e,.9),[r]:wo(e,1.2)})})}(document.querySelectorAll(".color-bg-Dark"),this.color4),localStorage.setItem("Admitrodark-body",this.color4+"dd"),localStorage.setItem("Admitrodark-theme",this.color4),document.getElementById("myonoffswitch1").checked=!1,document.getElementById("myonoffswitch2").checked=!0,document.getElementById("myonoffswitch8").checked=!0,document.getElementById("myonoffswitch5").checked=!0,localStorage.removeItem("AdmitroLightTheme"),this.body?.classList.remove("light-theme"),this.body?.classList.remove("light-header"),this.body?.classList.remove("dark-header"),this.body?.classList.remove("color-header"),this.body?.classList.remove("gradient-header"),this.body?.classList.remove("light-menu"),this.body?.classList.remove("color-menu"),this.body?.classList.remove("dark-menu"),this.body?.classList.remove("gradient-menu"),localStorage.removeItem("Admitrolight-primary-color"),localStorage.removeItem("Admitrolight-primary-hover"),localStorage.removeItem("Admitrolight-primary-border"),localStorage.removeItem("Admitrodark-primary-color"),localStorage.removeItem("AdmitroBgImage"),ch(),Fl()}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.sFG),c.rXU(iu))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-switcher"]],viewQuery:function(i,r){if(1&i&&c.GBs(hp,5),2&i){let a;c.mGM(a=c.lsd())&&(r.switcher=a.first)}},decls:211,vars:2,consts:[[1,"switcher-wrapper"],["switcher",""],[1,"demo_changer"],[1,"form_holder","sidebar-right1"],[1,"row"],[1,"predefined_styles"],[1,"swichermainleft","text-center"],[1,"skin-body"],[1,"switch_section"],[1,"switch-toggle","d-flex","mt-2"],[1,"me-auto"],[1,"onoffswitch2","my-0"],["type","radio","name","onoffswitch25","id","myonoffswitch54","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch54",1,"onoffswitch2-label"],["type","radio","name","onoffswitch25","id","myonoffswitch55",1,"onoffswitch2-checkbox"],["for","myonoffswitch55",1,"onoffswitch2-label"],[1,"swichermainleft","switcher-nav"],[1,"switch-toggle","d-flex"],["type","radio","name","onoffswitch15","id","myonoffswitch34","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch34",1,"onoffswitch2-label"],["type","radio","name","onoffswitch15","id","myonoffswitch35",1,"onoffswitch2-checkbox"],["for","myonoffswitch35",1,"onoffswitch2-label"],["type","radio","name","onoffswitch15","id","myonoffswitch111",1,"onoffswitch2-checkbox"],["for","myonoffswitch111",1,"onoffswitch2-label"],[1,"swichermainleft"],["type","radio","name","onoffswitch1","id","myonoffswitch1","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch1",1,"onoffswitch2-label"],["type","radio","name","onoffswitch1","id","myonoffswitch2",1,"onoffswitch2-checkbox"],["for","myonoffswitch2",1,"onoffswitch2-label"],[1,""],["ngx-colors-trigger","","acceptLabel","Select","data-id","bg-color","data-id1","bg-hover","data-id2","bg-border",1,"color-primary-Bg",3,"ngModel","ngModelChange","input"],["ngx-colors-trigger","","acceptLabel","Select","data-id5","body","id","transparentBackgroundColor","data-id6","theme",1,"color-bg-Dark",3,"ngModel","ngModelChange","input"],[1,"swichermainleft","horizontal-styles"],["type","radio","name","onoffswitch7","id","myonoffswitch31","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch31",1,"onoffswitch2-label"],["type","radio","name","onoffswitch7","id","myonoffswitch36",1,"onoffswitch2-checkbox"],["for","myonoffswitch36",1,"onoffswitch2-label"],[1,"swichermainleft","leftmenu-styles"],["type","radio","name","onoffswitch2","id","myonoffswitch3","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch3",1,"onoffswitch2-label"],["type","radio","name","onoffswitch2","id","myonoffswitch4",1,"onoffswitch2-checkbox"],["for","myonoffswitch4",1,"onoffswitch2-label"],["type","radio","name","onoffswitch2","id","myonoffswitch5",1,"onoffswitch2-checkbox"],["for","myonoffswitch5",1,"onoffswitch2-label"],["type","radio","name","onoffswitch2","id","myonoffswitch25",1,"onoffswitch2-checkbox"],["for","myonoffswitch25",1,"onoffswitch2-label"],[1,"swichermainleft","header-styles"],["type","radio","name","onoffswitch3","id","myonoffswitch6","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch6",1,"onoffswitch2-label"],["type","radio","name","onoffswitch3","id","myonoffswitch7",1,"onoffswitch2-checkbox"],["for","myonoffswitch7",1,"onoffswitch2-label"],["type","radio","name","onoffswitch3","id","myonoffswitch8",1,"onoffswitch2-checkbox"],["for","myonoffswitch8",1,"onoffswitch2-label"],["type","radio","name","onoffswitch3","id","myonoffswitch26",1,"onoffswitch2-checkbox"],["for","myonoffswitch26",1,"onoffswitch2-label"],[1,"onoffswitch2"],["type","radio","name","onoffswitchBody","id","myonoffswitch07","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch07",1,"onoffswitch2-label"],["type","radio","name","onoffswitchBody","id","myonoffswitch06",1,"onoffswitch2-checkbox"],["for","myonoffswitch06",1,"onoffswitch2-label"],["type","radio","name","onoffswitch4","id","myonoffswitch9","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch9",1,"onoffswitch2-label"],["type","radio","name","onoffswitch4","id","myonoffswitch10",1,"onoffswitch2-checkbox"],["for","myonoffswitch10",1,"onoffswitch2-label"],[1,"swichermainleft","switcher-layout"],["type","radio","name","onoffswitch5","id","myonoffswitch11","checked","",1,"onoffswitch2-checkbox"],["for","myonoffswitch11",1,"onoffswitch2-label"],["type","radio","name","onoffswitch5","id","myonoffswitch12",1,"onoffswitch2-checkbox"],["for","myonoffswitch12",1,"onoffswitch2-label"],[1,"switch_section","my-4"],[1,"btn","btn-danger","btn-block",3,"click"]],template:function(i,r){1&i&&(c.j41(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),c.nrm(6,"div",6),c.j41(7,"div",6)(8,"h4"),c.EFF(9,"LTR AND RTL VERSIONS"),c.k0s(),c.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"span",10),c.EFF(14,"LTR"),c.k0s(),c.j41(15,"p",11),c.nrm(16,"input",12)(17,"label",13),c.k0s()(),c.j41(18,"div",9)(19,"span",10),c.EFF(20,"RTL"),c.k0s(),c.j41(21,"p",11),c.nrm(22,"input",14)(23,"label",15),c.k0s()()()()(),c.j41(24,"div",16)(25,"h4"),c.EFF(26,"Navigation Style"),c.k0s(),c.j41(27,"div",7)(28,"div",8)(29,"div",17)(30,"span",10),c.EFF(31,"Vertical Menu"),c.k0s(),c.j41(32,"p",11),c.nrm(33,"input",18)(34,"label",19),c.k0s()(),c.j41(35,"div",9)(36,"span",10),c.EFF(37,"Horizontal Click Menu"),c.k0s(),c.j41(38,"p",11),c.nrm(39,"input",20)(40,"label",21),c.k0s()(),c.j41(41,"div",9)(42,"span",10),c.EFF(43,"Horizontal Hover Menu"),c.k0s(),c.j41(44,"p",11),c.nrm(45,"input",22)(46,"label",23),c.k0s()()()()(),c.j41(47,"div",24)(48,"h4"),c.EFF(49,"Theme Style"),c.k0s(),c.j41(50,"div",7)(51,"div",8)(52,"div",17)(53,"span",10),c.EFF(54,"Light Theme"),c.k0s(),c.j41(55,"p",11),c.nrm(56,"input",25)(57,"label",26),c.k0s()(),c.j41(58,"div",9)(59,"span",10),c.EFF(60,"Dark Theme"),c.k0s(),c.j41(61,"p",11),c.nrm(62,"input",27)(63,"label",28),c.k0s()()()()(),c.j41(64,"div",24)(65,"h4"),c.EFF(66,"Theme Color"),c.k0s(),c.j41(67,"div",7)(68,"div",8)(69,"div",17)(70,"span",10),c.EFF(71,"Primary Color"),c.k0s(),c.j41(72,"div",29)(73,"ngx-colors",30),c.bIt("ngModelChange",function(d){return r.color1=d})("input",function(d){return r.dynamicBgPrimary(d)}),c.k0s()()(),c.j41(74,"div",9)(75,"span",10),c.EFF(76,"Background Color"),c.k0s(),c.j41(77,"div",29)(78,"ngx-colors",31),c.bIt("ngModelChange",function(d){return r.color4=d})("input",function(d){return r.dynamicBgDarkPrimary(d)}),c.k0s()()()()()(),c.j41(79,"div",32)(80,"h4"),c.EFF(81,"Horizontal layout Styles"),c.k0s(),c.j41(82,"div",7)(83,"div",8)(84,"div",17)(85,"span",10),c.EFF(86,"Default Horizontal"),c.k0s(),c.j41(87,"p",11),c.nrm(88,"input",33)(89,"label",34),c.k0s()(),c.j41(90,"div",9)(91,"span",10),c.EFF(92,"Horizontal Centerlogo"),c.k0s(),c.j41(93,"p",11),c.nrm(94,"input",35)(95,"label",36),c.k0s()()()()(),c.j41(96,"div",37)(97,"h4"),c.EFF(98,"Menu Styles"),c.k0s(),c.j41(99,"div",7)(100,"div",8)(101,"div",17)(102,"span",10),c.EFF(103,"Light Menu"),c.k0s(),c.j41(104,"p",11),c.nrm(105,"input",38)(106,"label",39),c.k0s()(),c.j41(107,"div",9)(108,"span",10),c.EFF(109,"Color Menu"),c.k0s(),c.j41(110,"p",11),c.nrm(111,"input",40)(112,"label",41),c.k0s()(),c.j41(113,"div",9)(114,"span",10),c.EFF(115,"Dark Menu"),c.k0s(),c.j41(116,"p",11),c.nrm(117,"input",42)(118,"label",43),c.k0s()(),c.j41(119,"div",9)(120,"span",10),c.EFF(121,"Gradient Menu"),c.k0s(),c.j41(122,"p",11),c.nrm(123,"input",44)(124,"label",45),c.k0s()()()()(),c.j41(125,"div",46)(126,"h4"),c.EFF(127,"Header Styles"),c.k0s(),c.j41(128,"div",7)(129,"div",8)(130,"div",17)(131,"span",10),c.EFF(132,"Light Header"),c.k0s(),c.j41(133,"p",11),c.nrm(134,"input",47)(135,"label",48),c.k0s()(),c.j41(136,"div",9)(137,"span",10),c.EFF(138,"Color Header"),c.k0s(),c.j41(139,"p",11),c.nrm(140,"input",49)(141,"label",50),c.k0s()(),c.j41(142,"div",9)(143,"span",10),c.EFF(144,"Dark Header"),c.k0s(),c.j41(145,"p",11),c.nrm(146,"input",51)(147,"label",52),c.k0s()(),c.j41(148,"div",9)(149,"span",10),c.EFF(150,"Gradient Header"),c.k0s(),c.j41(151,"p",11),c.nrm(152,"input",53)(153,"label",54),c.k0s()()()()(),c.j41(154,"div",24)(155,"h4"),c.EFF(156,"Skin Modes"),c.k0s(),c.j41(157,"div",8)(158,"div",17)(159,"span",10),c.EFF(160,"Default Body"),c.k0s(),c.j41(161,"div",55),c.nrm(162,"input",56)(163,"label",57),c.k0s()(),c.j41(164,"div",17)(165,"span",10),c.EFF(166,"Body Style1"),c.k0s(),c.j41(167,"div",55),c.nrm(168,"input",58)(169,"label",59),c.k0s()()()(),c.j41(170,"div",24)(171,"h4"),c.EFF(172,"Layout Width Styles"),c.k0s(),c.j41(173,"div",7)(174,"div",8)(175,"div",17)(176,"span",10),c.EFF(177,"Full Width"),c.k0s(),c.j41(178,"p",11),c.nrm(179,"input",60)(180,"label",61),c.k0s()(),c.j41(181,"div",9)(182,"span",10),c.EFF(183,"Boxed"),c.k0s(),c.j41(184,"p",11),c.nrm(185,"input",62)(186,"label",63),c.k0s()()()()(),c.j41(187,"div",64)(188,"h4"),c.EFF(189,"Layout Positions"),c.k0s(),c.j41(190,"div",7)(191,"div",8)(192,"div",17)(193,"span",10),c.EFF(194,"Fixed"),c.k0s(),c.j41(195,"p",11),c.nrm(196,"input",65)(197,"label",66),c.k0s()(),c.j41(198,"div",9)(199,"span",10),c.EFF(200,"Scrollable"),c.k0s(),c.j41(201,"p",11),c.nrm(202,"input",67)(203,"label",68),c.k0s()()()()(),c.j41(204,"div",24)(205,"h4"),c.EFF(206,"Reset All Styles"),c.k0s(),c.j41(207,"div",7)(208,"div",69)(209,"button",70),c.bIt("click",function(){return r.reset()}),c.EFF(210," Reset All "),c.k0s()()()()()()()()()),2&i&&(c.R7$(73),c.Y8G("ngModel",r.color1),c.R7$(5),c.Y8G("ngModel",r.color4))},dependencies:[ou.FG,ou.db,ae.BC,ae.vS]})}}return n})(),g_=(()=>{class n{constructor(t,i){this.eleRef=t,this.render=i}onHover(){window.innerWidth>768&&document.querySelector(".sidenav-toggled")?.classList.add("sidenav-toggled-open")}onLeave(){window.innerWidth>768&&document.querySelector(".sidenav-toggled")?.classList.remove("sidenav-toggled-open")}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","appHoverEffectSidebar",""]],hostBindings:function(i,r){1&i&&c.bIt("mouseover",function(){return r.onHover()})("mouseleave",function(){return r.onLeave()})}})}}return n})(),Bu=(()=>{class n{constructor(t,i,r){this.navServices=t,this.elementRef=i,this.SwitcherService=r}ngOnDestroy(){location.reload()}ngOnInit(){}sidebarToggle(){this.navServices.collapseSidebar=!this.navServices.collapseSidebar}toggleSwitcherBody(){document.querySelectorAll(".slide-menu").forEach(t=>{t.classList.contains("open")}),this.SwitcherService.emitChange(!1)}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(lc),c.rXU(c.aKT),c.rXU(iu))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-content"]],decls:13,vars:0,consts:[[1,"horizontalMenucontainer"],[1,"page"],[1,"page-main"],[1,"jumps-prevent",2,"padding-top","63px"],["appHoverEffectSidebar",""],[1,"app-content","main-content"],["id","custom-main-container",1,"main-container","container-fluid",3,"click"]],template:function(i,r){1&i&&(c.j41(0,"div",0),c.nrm(1,"app-switcher"),c.j41(2,"div",1)(3,"div",2)(4,"div"),c.nrm(5,"app-header")(6,"div",3)(7,"app-sidebar",4),c.k0s(),c.j41(8,"div",5)(9,"div",6),c.bIt("click",function(){return r.toggleSwitcherBody()}),c.j41(10,"router-outlet"),c.nrm(11,"app-loader"),c.k0s()()()(),c.nrm(12,"app-footer"),c.k0s()())},dependencies:[Mr.n3,xu,kl,qs,dy,p_,g_],styles:[".loader-container{width:100%;z-index:99;padding-top:0%}  .jumps-prevent{display:none}  .pt-63{padding-top:63px}  body:not(.horizontal) .pt-63{padding-top:63px}  body:not(.horizontal) .jumps-prevent{display:block}@media (max-width: 991px){  .horizontal .jumps-prevent{display:block}}"]})}}return n})(),ju=(()=>{class n{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-full-content"]],decls:2,vars:0,consts:[[1,"h-100vh","bg-primary"]],template:function(i,r){1&i&&(c.j41(0,"div",0),c.nrm(1,"router-outlet"),c.k0s())},dependencies:[Mr.n3]})}}return n})();const _d=[{path:"dashboards",loadChildren:()=>Promise.all([P.e(697),P.e(213),P.e(74)]).then(P.bind(P,6074)).then(n=>n.DashboardModule)},{path:"dashboard-view",loadChildren:()=>Promise.all([P.e(697),P.e(213),P.e(96)]).then(P.bind(P,9096)).then(n=>n.DashboardModule)},{path:"apps/contact",loadChildren:()=>P.e(705).then(P.bind(P,86)).then(n=>n.ContactModule)},{path:"apps",loadChildren:()=>Promise.all([P.e(875),P.e(199)]).then(P.bind(P,3199)).then(n=>n.AppsModule)},{path:"features/fx/fx-frontoffice/outright-deal",loadChildren:()=>Promise.all([P.e(875),P.e(914),P.e(374),P.e(519)]).then(P.bind(P,519)).then(n=>n.OutrightDealModule)},{path:"features/fx/fx-frontoffice/swap-deal",loadChildren:()=>Promise.all([P.e(914),P.e(341)]).then(P.bind(P,1341)).then(n=>n.SwapDealModule)},{path:"features/fx/fx-frontoffice/placement-deal",loadChildren:()=>Promise.all([P.e(875),P.e(914),P.e(374),P.e(91)]).then(P.bind(P,91)).then(n=>n.PlacementDealModule)},{path:"features/fx/fx-frontoffice/transfer-deal",loadChildren:()=>Promise.all([P.e(875),P.e(914),P.e(374),P.e(928)]).then(P.bind(P,1928)).then(n=>n.TransferDealModule)}];function au(n,e){if(1&n&&(c.j41(0,"p",44),c.EFF(1),c.k0s()),2&n){const t=c.XpG();c.R7$(1),c.SpI(" ",t.errorMessage,"")}}function yd(n,e){if(1&n&&(c.j41(0,"p",44),c.EFF(1),c.k0s()),2&n){const t=c.XpG();c.R7$(1),c.SpI(" ",t.error.message," ")}}function m_(n,e){if(1&n&&(c.j41(0,"p",45),c.EFF(1),c.k0s()),2&n){const t=c.XpG();c.R7$(1),c.SpI(" ",t.message," ")}}const uc=[{path:"",redirectTo:"auth/login",pathMatch:"full"},{path:"auth/login",component:fd},{path:"auth/register",component:(()=>{class n{constructor(t,i,r,a){this.document=t,this.renderer=i,this.authservice=r,this.router=a,this.email="",this.password="",this.message="",this.errorMessage="",this.error={name:"",message:""}}ngOnInit(){this.renderer.addClass(this.document.body,"h-100vh"),this.renderer.addClass(this.document.body,"login-img"),this.renderer.addClass(this.document.body,"page-style1"),this.renderer.removeClass(this.document.body,"app"),this.renderer.removeClass(this.document.body,"ltr"),this.renderer.removeClass(this.document.body,"sidebar-mini"),this.renderer.removeClass(this.document.body,"main-body")}ngOnDestroy(){this.renderer.removeClass(this.document.body,"h-100vh"),this.renderer.removeClass(this.document.body,"login-img"),this.renderer.removeClass(this.document.body,"page-style1"),this.renderer.addClass(this.document.body,"app"),this.renderer.addClass(this.document.body,"ltr"),this.renderer.addClass(this.document.body,"sidebar-mini"),this.renderer.addClass(this.document.body,"main-body")}clearErrorMessage(){this.errorMessage="",this.error={name:"",message:""}}register(){this.clearErrorMessage(),this.validateForm(this.email,this.password)&&this.authservice.registerWithEmail(this.email,this.password).then(()=>{this.message="you are register with data on firbase",this.router.navigate(["/dashboard"])}).catch(t=>{this.error=t,this.router.navigate(["/auth/register"])})}validateForm(t,i){return 0===t.length?(this.errorMessage="please enter email id",!1):0===i.length?(this.errorMessage="please enter password",!1):i.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(Pn.qQ),c.rXU(c.sFG),c.rXU(af),c.rXU(Mr.Ix))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-register"]],decls:68,vars:5,consts:[[1,"page"],[1,"page-single"],[1,"p-5"],[1,"row"],[1,"col","mx-auto"],[1,"row","justify-content-center"],[1,"col-lg-7","col-xl-6"],[1,"card-group","mb-0"],[1,"card","p-4"],[1,"card-body"],[1,"login100-form","validate-form",3,"ngSubmit"],[1,"text-center","title-style","mb-4"],[1,"mb-2"],[1,"text-muted","fs-15"],[1,"btn-list","d-flex","mb-3"],["href","javascript:void(0);",1,"btn","btn-google","btn-block","btn-secondary","me-2"],[1,"fab","fa-google","fa-1x","me-2"],["href","javascript:void(0);",1,"btn","btn-twitter","btn-info","me-2"],[1,"fab","fa-twitter","fa-1x"],["href","javascript:void(0);",1,"btn","btn-facebook","btn-primary"],[1,"fab","fa-facebook","fa-1x"],[1,"col-12"],[1,"input-group","mb-3"],["type","button","id","button-addon1",1,"btn","btn-light","text-primary"],[1,"fe","fe-user"],["type","text","placeholder","user name","aria-label","Example text with button addon","aria-describedby","button-addon1",1,"form-control"],["type","button","id","button-addon2",1,"btn","btn-light"],["type","text","placeholder","Enter email","aria-label","Example text with button addon","aria-describedby","button-addon2","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","button","id","button-addon3",1,"btn","btn-light"],[1,"fe","fe-lock"],["type","password","placeholder","Password","aria-label","Example text with button addon","aria-describedby","button-addon3","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group"],["class","text-danger",4,"ngIf"],["class","text-info",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-block","px-4"],[1,"col-12","text-center"],["routerLink","/custom-pages/forget-password/forget-password-1",1,"btn","btn-link","box-shadow-0","px-0","text-white-80"],[1,"text-center","pt-4"],[1,"font-weight-normal","fs-14"],["routerLink","/auth/login",1,"btn-link","font-weight-normal","text-white-80"],[1,"card","text-white","bg-primary","py-5","d-md-down-none","page-content","mt-0"],[1,"text-center","justify-content-center","page-single-content"],[1,"box"],["src","./assets/images/png/login.png","alt","img"],[1,"text-danger"],[1,"text-info"]],template:function(i,r){1&i&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"form",10),c.bIt("ngSubmit",function(){return r.register()}),c.j41(11,"div",3)(12,"div",11)(13,"h2",12),c.EFF(14,"Register"),c.k0s(),c.j41(15,"p",13),c.EFF(16,"Create New Account"),c.k0s()(),c.j41(17,"div",14)(18,"a",15),c.nrm(19,"i",16),c.EFF(20," Google"),c.k0s(),c.j41(21,"a",17),c.nrm(22,"i",18),c.k0s(),c.j41(23,"a",19),c.nrm(24,"i",20),c.k0s()(),c.j41(25,"div",21)(26,"div",22)(27,"button",23),c.nrm(28,"i",24),c.k0s(),c.nrm(29,"input",25),c.k0s(),c.j41(30,"div",22)(31,"button",26),c.nrm(32,"i",24),c.k0s(),c.j41(33,"input",27),c.bIt("ngModelChange",function(d){return r.email=d}),c.k0s()(),c.j41(34,"div",22)(35,"button",28),c.nrm(36,"i",29),c.k0s(),c.j41(37,"input",30),c.bIt("ngModelChange",function(d){return r.password=d}),c.k0s()(),c.j41(38,"div",31),c.DNE(39,au,2,1,"p",32),c.DNE(40,yd,2,1,"p",32),c.DNE(41,m_,2,1,"p",33),c.k0s(),c.j41(42,"div",3)(43,"div",21)(44,"button",34),c.EFF(45,"Create New Account"),c.k0s()(),c.j41(46,"div",35)(47,"a",36),c.EFF(48,"Forgot password?"),c.k0s()()()()(),c.j41(49,"div",37)(50,"div",38),c.EFF(51,"You Already have an account "),c.j41(52,"a",39),c.EFF(53,"Login Here"),c.k0s()()()()()(),c.j41(54,"div",40)(55,"div",41)(56,"div",42),c.nrm(57,"div")(58,"div")(59,"div")(60,"div")(61,"div")(62,"div")(63,"div")(64,"div")(65,"div")(66,"div"),c.k0s(),c.nrm(67,"img",43),c.k0s()()()()()()()()()()),2&i&&(c.R7$(33),c.Y8G("ngModel",r.email),c.R7$(4),c.Y8G("ngModel",r.password),c.R7$(2),c.Y8G("ngIf",r.errorMessage.length>0),c.R7$(1),c.Y8G("ngIf",r.error.message.length>0),c.R7$(1),c.Y8G("ngIf",r.message.length>0))},dependencies:[Pn.bT,Mr.Wk,ae.qT,ae.me,ae.BC,ae.cb,ae.YS,ae.vS,ae.cV]})}}return n})()},{path:"",component:Bu,children:_d},{path:"",component:ju,children:[]},{path:"**",redirectTo:""}];let Dg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=c.$C({type:n})}static{this.\u0275inj=c.G2t({imports:[[Mr.iI.forRoot(uc,{anchorScrolling:"enabled",scrollPositionRestoration:"enabled"})],Mr.iI]})}}return n})();function pp(n,e){1&n&&(c.j41(0,"div")(1,"div",1),c.nrm(2,"img",2),c.k0s()())}let __=(()=>{class n{constructor(){this.title="admitro",this.isSpinner=!0}ngOnInit(){setTimeout(()=>{this.isSpinner=!1},3e3)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],["id","global-loader"],["src","assets/images/svgs/loader.svg","alt","loader"]],template:function(i,r){1&i&&(c.DNE(0,pp,3,0,"div",0),c.nrm(1,"router-outlet")),2&i&&c.Y8G("ngIf",r.isSpinner)},dependencies:[Pn.bT,Mr.n3],styles:[".hljs{background:none;color:inherit}  .html-code.nav-link{color:#282d3c;border:0;margin-left:30px}  .html-code.nav-link:hover{outline:0;color:#282d3c}  .nav-tabs .html-code.nav-link:hover:not(.disabled){background:#705ec8}  .nav-tabs .nav-item:not(:first-child) .html-code.nav-link{margin-left:10px}  .highlight{border:0;background:none;overflow:inherit}  .highlight pre{padding-bottom:0}"]})}}return n})();var v_=P(3887),y_=P(418),Hb=P(4972),Sg=P(2774);const $b_firebase={apiKey:"***************************************",authDomain:"************************",projectId:"***********************************",storageBucket:"************************",messagingSenderId:"*********************",appId:"*******************************************",measurementId:"*********************"};var gn,uh=P(3236),Tg=P(9172),dh=P(3946),gp=P(2816),fy=P(3294),py=(P(6922),P(3345)),gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bl={},mp=mp||{},ni=gy||self;function jl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function dc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var kc="closure_uid_"+(1e9*Math.random()>>>0),Vu=0;function hh(n,e,t){return n.call.apply(n.bind,arguments)}function fh(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function rs(n,e,t){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hh:fh).apply(null,arguments)}function bd(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function xs(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,a){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[r].apply(i,d)}}function bl(){this.s=this.s,this.o=this.o}bl.prototype.s=!1,bl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Fo(n){Object.prototype.hasOwnProperty.call(n,kc)&&n[kc]||(n[kc]=++Vu)}(this)},bl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _p=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ph(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(jl(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let d=0;d<a;d++)n[r+d]=i[d]}else n.push(i)}}function Co(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Co.prototype.h=function(){this.defaultPrevented=!0};var Mg=function(){if(!ni.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ni.addEventListener("test",()=>{},e),ni.removeEventListener("test",()=>{},e)}catch{}return n}();function Eo(n){return/^[\s\xa0]*$/.test(n)}function wd(){var n=ni.navigator;return n&&(n=n.userAgent)?n:""}function Pa(n){return-1!=wd().indexOf(n)}function uf(n){return uf[" "](n),n}uf[" "]=function(){};var df,n,so=Pa("Opera"),Fc=Pa("Trident")||Pa("MSIE"),Cd=Pa("Edge"),Ed=Cd||Fc,fs=Pa("Gecko")&&!(-1!=wd().toLowerCase().indexOf("webkit")&&!Pa("Edge"))&&!(Pa("Trident")||Pa("MSIE"))&&!Pa("Edge"),Vl=-1!=wd().toLowerCase().indexOf("webkit")&&!Pa("Edge");function Uu(){var n=ni.document;return n?n.documentMode:void 0}e:{var hf="",I=(n=wd(),fs?/rv:([^\);]+)(\)|;)/.exec(n):Cd?/Edge\/([\d\.]+)/.exec(n):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Vl?/WebKit\/(\S+)/.exec(n):so?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(I&&(hf=I?I[1]:""),Fc){var _=Uu();if(null!=_&&_>parseFloat(hf)){df=String(_);break e}}df=hf}var H=ni.document&&Fc&&(Uu()||parseInt(df,10))||void 0;function le(n,e){if(Co.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fs){e:{try{uf(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&le.$.h.call(this)}}xs(le,Co);var Xe={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function nn(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Gt,this.fa=this.ia=!1}function pn(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function In(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function xa(n){const e={};for(const t in n)e[t]=n[t];return e}const gh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yp(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<gh.length;a++)t=gh[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function wl(n){this.src=n,this.g={},this.h=0}function zu(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=_p(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(pn(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function mh(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==i)return r}return-1}wl.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=mh(n,e,i,r);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new nn(e,this.src,a,!!i,r)).ia=t,n.push(e)),e};var Id="closure_lm_"+(1e6*Math.random()|0),Dd={};function Ag(n,e,t,i,r){if(i&&i.once)return wp(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Ag(n,e[a],t,i,r);return null}return t=E_(t),n&&n[ht]?n.O(e,t,dc(i)?!!i.capture:!!i,r):bp(n,e,t,!1,i,r)}function bp(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var d=dc(r)?!!r.capture:!!r,m=Pg(n);if(m||(n[Id]=m=new wl(n)),(t=m.add(e,t,i,d,a)).proxy)return t;if(i=function w_(){const e=C_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Mg||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ng(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function wp(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)wp(n,e[a],t,i,r);return null}return t=E_(t),n&&n[ht]?n.P(e,t,dc(i)?!!i.capture:!!i,r):bp(n,e,t,!0,i,r)}function Cp(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)Cp(n,e[a],t,i,r);else i=dc(i)?!!i.capture:!!i,t=E_(t),n&&n[ht]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=mh(a=n.g[e],t,i,r))&&(pn(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Pg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=mh(e,t,i,r)),(t=-1<n?e[n]:null)&&Og(t))}function Og(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[ht])zu(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Ng(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Pg(e))?(zu(t,n),0==t.h&&(t.src=null,e[Id]=null)):pn(n)}}}function Ng(n){return n in Dd?Dd[n]:Dd[n]="on"+n}function C_(n,e){if(n.fa)n=!0;else{e=new le(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Og(n),n=t.call(i,e)}return n}function Pg(n){return(n=n[Id])instanceof wl?n:null}var ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function E_(n){return"function"==typeof n?n:(n[ff]||(n[ff]=function(e){return n.handleEvent(e)}),n[ff])}function Jo(){bl.call(this),this.i=new wl(this),this.S=this,this.J=null}function ea(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Co(e,n);else if(e instanceof Co)e.target=e.target||n;else{var r=e;yp(e=new Co(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];r=xg(d,i,!0,e)&&r}if(r=xg(d=e.g=n,i,!0,e)&&r,r=xg(d,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=xg(d=e.g=t[a],i,!1,e)&&r}function xg(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.fa&&d.capture==t){var m=d.listener,w=d.la||d.src;d.ia&&zu(n.i,d),r=!1!==m.call(w,i)&&r}}return r&&!i.defaultPrevented}xs(Jo,bl),Jo.prototype[ht]=!0,Jo.prototype.removeEventListener=function(n,e,t,i){Cp(this,n,e,t,i)},Jo.prototype.N=function(){if(Jo.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)pn(t[i]);delete n.g[e],n.h--}}this.J=null},Jo.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Jo.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Sd=ni.JSON.stringify;function Kb(){var n=Rg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var NE=new class Wb{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new I_,n=>n.reset());class I_{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function my(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Yb(n){ni.setTimeout(()=>{throw n},0)}let Ep,Ip=!1,Rg=new class OE{constructor(){this.h=this.g=null}add(e,t){const i=NE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},D_=()=>{const n=ni.Promise.resolve(void 0);Ep=()=>{n.then(S_)}};var S_=()=>{for(var n;n=Kb();){try{n.h.call(n.g)}catch(t){Yb(t)}var e=NE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ip=!1};function _h(n,e){Jo.call(this),this.h=n||1,this.g=e||ni,this.j=rs(this.qb,this),this.l=Date.now()}function kg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Lg(n,e,t){if("function"==typeof n)t&&(n=rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:ni.setTimeout(n,e||0)}function Fg(n){n.g=Lg(()=>{n.g=null,n.i&&(n.i=!1,Fg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xs(_h,Jo),(gn=_h.prototype).ga=!1,gn.T=null,gn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ea(this,"tick"),this.ga&&(kg(this),this.start()))}},gn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gn.N=function(){_h.$.N.call(this),kg(this),delete this.g};class T_ extends bl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fg(this)}N(){super.N(),this.g&&(ni.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pf(n){bl.call(this),this.h=n,this.g={}}xs(pf,bl);var Dp=[];function qb(n,e,t,i){Array.isArray(t)||(t&&(Dp[0]=t.toString()),t=Dp);for(var r=0;r<t.length;r++){var a=Ag(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function _y(n){In(n.g,function(e,t){this.g.hasOwnProperty(t)&&Og(e)},n),n.g={}}function M_(){this.g=!0}function gf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function A_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<r.length;d++)r[d]=""}}}return Sd(t)}catch{return e}}(n,t)+(i?" "+i:"")})}pf.prototype.N=function(){pf.$.N.call(this),_y(this)},pf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},M_.prototype.Ea=function(){this.g=!1},M_.prototype.info=function(){};var cu={},mf=null;function O_(){return mf=mf||new Jo}function Qb(n){Co.call(this,cu.Ta,n)}function N_(n){const e=O_();ea(e,new Qb(e))}function yy(n,e){Co.call(this,cu.STAT_EVENT,n),this.stat=e}function Ra(n){const e=O_();ea(e,new yy(e,n))}function Zb(n,e){Co.call(this,cu.Ua,n),this.size=e}function Gu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ni.setTimeout(function(){n()},e)}cu.Ta="serverreachability",xs(Qb,Co),cu.STAT_EVENT="statevent",xs(yy,Co),cu.Ua="timingevent",xs(Zb,Co);var _f={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function P_(){}function x_(){}P_.prototype.h=null;var Ey,uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wy(){Co.call(this,"d")}function Cy(){Co.call(this,"c")}function R_(){}function vf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new pf(this),this.P=yf,this.V=new _h(n=Ed?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new du}function du(){this.i=null,this.g="",this.h=!1}xs(wy,Co),xs(Cy,Co),xs(R_,P_),R_.prototype.g=function(){return new XMLHttpRequest},R_.prototype.i=function(){return{}},Ey=new R_;var yf=45e3,g={},S={};function f(n,e,t){n.L=1,n.v=Nr(gr(e)),n.s=t,n.S=!0,v(n,null)}function v(n,e){n.G=Date.now(),qe(n),n.A=gr(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),bf(t.i,"t",i),n.C=0,t=n.l.J,n.h=new du,n.g=xy(n.l,t?e:null,!n.s),0<n.O&&(n.M=new T_(rs(n.Pa,n,n.g),n.O)),qb(n.U,n.g,"readystatechange",n.nb),e=n.I?xa(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),N_(),function vy(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var d="",m=a.split("&"),w=0;w<m.length;w++){var T=m[w].split("=");if(1<T.length){var B=T[0];T=T[1];var Y=B.split("_");d=2<=Y.length&&"type"==Y[1]?d+(B+"=")+T+"&":d+(B+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function D(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function G(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=ee(n,t),r==S){4==e&&(n.o=4,Ra(14),i=!1),gf(n.j,n.m,null,"[Incomplete Response]");break}if(r==g){n.o=4,Ra(15),gf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}gf(n.j,n.m,r,null),Ht(n,r)}D(n)&&r!=S&&r!=g&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ra(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),jE(e),e.M=!0,Ra(11))):(gf(n.j,n.m,t,"[Invalid Chunked Response]"),en(n),bt(n))}function ee(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?S:(t=Number(e.substring(t,i)),isNaN(t)?g:(i+=1)+t>e.length?S:(e=e.slice(i,i+t),n.C=i+t,e))}function qe(n){n.Y=Date.now()+n.P,ct(n,n.P)}function ct(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gu(rs(n.lb,n),e)}function Tt(n){n.B&&(ni.clearTimeout(n.B),n.B=null)}function bt(n){0==n.l.H||n.J||VE(n.l,n)}function en(n){Tt(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,kg(n.V),_y(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ht(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||jg(t.i,n)))if(!n.K&&jg(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Op(t),zg(t)}nw(t),Ra(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Gu(rs(t.ib,t),6e3));if(1>=vh(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ch(t,11)}else if((n.K||t.g==n)&&Op(t),!Eo(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let T=r[e];if(t.V=T[0],T=T[1],2==t.H)if("c"==T[0]){t.K=T[1],t.pa=T[2];const B=T[3];null!=B&&(t.ra=B,t.l.info("VER="+t.ra));const Y=T[4];null!=Y&&(t.Ga=Y,t.l.info("SVER="+t.Ga));const pe=T[5];null!=pe&&"number"==typeof pe&&0<pe&&(t.L=i=1.5*pe,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const xe=n.g;if(xe){const Je=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Je){var a=i.i;a.g||-1==Je.indexOf("spdy")&&-1==Je.indexOf("quic")&&-1==Je.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(yh(a,a.h),a.h=null))}if(i.F){const vt=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;vt&&(i.Da=vt,ei(i.I,i.F,vt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((i=t).wa=Py(i,i.J?i.pa:null,i.Y),d.K){Md(i.i,d);var m=d,w=i.L;w&&m.setTimeout(w),m.B&&(Tt(m),qe(m)),i.g=d}else BE(i);0<t.j.length&&My(t)}else"stop"!=T[0]&&"close"!=T[0]||Ch(t,7);else 3==t.H&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Ch(t,7):ew(t):"noop"!=T[0]&&t.h&&t.h.Aa(T),t.A=0)}N_()}catch{}}function pi(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jl(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ii(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jl(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function tn(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jl(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(gn=vf.prototype).setTimeout=function(n){this.P=n},gn.nb=function(n){n=n.target;const e=this.M;e&&3==fu(n)?e.l():this.Pa(n)},gn.Pa=function(n){try{if(n==this.g)e:{const B=fu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>B)&&(3!=B||Ed||this.g&&(this.h.h||this.g.ja()||RE(this.g)))){this.J||4!=B||7==e||N_(),Tt(this);var t=this.g.da();this.ca=t;t:if(D(this)){var i=RE(this.g);n="";var r=i.length,a=4==fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){en(this),bt(this);var d="";break t}this.h.i=new ni.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function PE(n,e,t,i,r,a,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.W,B,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(m)){var T=m;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Ra(12),en(this),bt(this);break e}gf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ht(this,t)}this.S?(G(this,B,d),Ed&&this.i&&3==B&&(qb(this.U,this.V,"tick",this.mb),this.V.start())):(gf(this.j,this.m,d,null),Ht(this,d)),4==B&&en(this),this.i&&!this.J&&(4==B?VE(this.l,this):(this.i=!1,qe(this)))}else(function TT(n){const e={};n=(n.g&&2<=fu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Eo(n[i]))continue;var t=my(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[r]||[];e[r]=a,a.push(t)}!function ps(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ra(12)):(this.o=0,Ra(13)),en(this),bt(this)}}}catch{}},gn.mb=function(){if(this.g){var n=fu(this.g),e=this.g.ja();this.C<e.length&&(Tt(this),G(this,n,e),this.i&&4!=n&&qe(this))}},gn.cancel=function(){this.J=!0,en(this)},gn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Xb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(N_(),Ra(17)),en(this),this.o=2,bt(this)):ct(this,this.Y-n)};var jn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vi(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof vi){this.h=n.h,hi(this,n.j),this.s=n.s,this.g=n.g,Pi(this,n.m),this.l=n.l;var e=n.i,t=new Ja;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),wr(this,t),this.o=n.o}else n&&(e=String(n).match(jn))?(this.h=!1,hi(this,e[1]||"",!0),this.s=Xs(e[2]||""),this.g=Xs(e[3]||"",!0),Pi(this,e[4]),this.l=Xs(e[5]||"",!0),wr(this,e[6]||"",!0),this.o=Xs(e[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}function gr(n){return new vi(n)}function hi(n,e,t){n.j=t?Xs(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Pi(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wr(n,e,t){e instanceof Ja?(n.i=e,function Bg(n,e){e&&!n.j&&(ga(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Hu(this,i),bf(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Us(e,Td)),n.i=new Ja(e,n.h))}function ei(n,e,t){n.i.set(e,t)}function Nr(n){return ei(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xs(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Us(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ka),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ka(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}vi.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Us(e,hc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Us(e,hc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Us(t,"/"==t.charAt(0)?hu:La,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Us(t,Za)),n.join("")};var hc=/[#\/\?@]/g,La=/[#\?:]/g,hu=/[#\?]/g,Td=/[#\?@]/g,Za=/#/g;function Ja(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ga(n){n.g||(n.g=new Map,n.h=0,n.i&&function zi(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hu(n,e){ga(n),e=Bc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Tp(n,e){return ga(n),e=Bc(n,e),n.g.has(e)}function bf(n,e,t){Hu(n,e),0<t.length&&(n.i=null,n.g.set(Bc(n,e),vp(t)),n.h+=t.length)}function Bc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $u(n){this.l=n||Mp,n=ni.PerformanceNavigationTiming?0<(n=ni.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ni.g&&ni.g.Ka&&ni.g.Ka()&&ni.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gn=Ja.prototype).add=function(n,e){ga(this),this.i=null,n=Bc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gn.forEach=function(n,e){ga(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},gn.ta=function(){ga(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},gn.Z=function(n){ga(this);let e=[];if("string"==typeof n)Tp(this,n)&&(e=e.concat(this.g.get(Bc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gn.set=function(n,e){return ga(this),this.i=null,Tp(this,n=Bc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),d=this.Z(i);for(i=0;i<d.length;i++){var r=a;""!==d[i]&&(r+="="+encodeURIComponent(String(d[i]))),n.push(r)}}return this.i=n.join("&")};var Mp=10;function Cf(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vh(n){return n.h?1:n.g?n.g.size:0}function jg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yh(n,e){n.g?n.g.add(e):n.h=e}function Md(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function k_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return vp(n.i)}$u.prototype.cancel=function(){if(this.i=k_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var L_=class{stringify(n){return ni.JSON.stringify(n,void 0)}parse(n){return ni.JSON.parse(n,void 0)}};function F_(){this.g=new L_}function B_(n,e,t){const i=t||"";try{pi(n,function(r,a){let d=r;dc(r)&&(d=Sd(r)),e.push(i+a+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Ef(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function If(n){this.l=n.fc||null,this.j=n.ob||!1}function bh(n,e){Jo.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ad,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xs(If,P_),If.prototype.g=function(){return new bh(this.l,this.j)},If.prototype.i=function(n){return function(){return n}}({}),xs(bh,Jo);var Ad=0;function wh(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Df(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Od(n)}function Od(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gn=bh.prototype).open=function(n,e){if(this.readyState!=Ad)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Od(this)},gn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ni).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Df(this)),this.readyState=Ad},gn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ni.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wh(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Df(this):Od(this),3==this.readyState&&wh(this)}},gn.Za=function(n){this.g&&(this.response=this.responseText=n,Df(this))},gn.Ya=function(n){this.g&&(this.response=n,Df(this))},gn.ka=function(){this.g&&Df(this)},gn.setRequestHeader=function(n,e){this.v.append(n,e)},gn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Vg=ni.JSON.parse;function Rs(n){Jo.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wu,this.L=this.M=!1}xs(Rs,Jo);var Wu="",Dy=/^https?$/i,Ug=["POST","PUT"];function xE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ty(n),jc(n)}function Ty(n){n.F||(n.F=!0,ea(n,"complete"),ea(n,"error"))}function j_(n){if(n.h&&typeof mp<"u"&&(!n.C[1]||4!=fu(n)||2!=n.da()))if(n.v&&4==fu(n))Lg(n.La,0,n);else if(ea(n,"readystatechange"),4==fu(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.I).match(jn)[1]||null;!r&&ni.self&&ni.self.location&&(r=ni.self.location.protocol.slice(0,-1)),i=!Dy.test(r?r.toLowerCase():"")}t=i}if(t)ea(n,"complete"),ea(n,"success");else{n.m=6;try{var a=2<fu(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Ty(n)}}finally{jc(n)}}}function jc(n,e){if(n.g){Ap(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ea(n,"ready");try{t.onreadystatechange=i}catch{}}}function Ap(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ni.clearTimeout(n.A),n.A=null)}function fu(n){return n.g?n.g.readyState:0}function RE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Wu:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Jb(n){let e="";return In(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Sf(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Jb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ei(n,e,t))}function V_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function kE(n){this.Ga=0,this.j=[],this.l=new M_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=V_("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=V_("baseRetryDelayMs",5e3,n),this.hb=V_("retryDelaySeedMs",1e4,n),this.eb=V_("forwardChannelMaxRetries",2,n),this.xa=V_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new $u(n&&n.concurrentRequestLimit),this.Ja=new F_,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ew(n){if(tw(n),3==n.H){var e=n.W++,t=gr(n.I);if(ei(t,"SID",n.K),ei(t,"RID",e),ei(t,"TYPE","terminate"),Oy(n,t),(e=new vf(n,n.l,e)).L=2,e.v=Nr(gr(t)),t=!1,ni.navigator&&ni.navigator.sendBeacon)try{t=ni.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ni.Image&&((new Image).src=e.v,t=!0),t||(e.g=xy(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qe(e)}Np(n)}function zg(n){n.g&&(jE(n),n.g.cancel(),n.g=null)}function tw(n){zg(n),n.u&&(ni.clearTimeout(n.u),n.u=null),Op(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ni.clearTimeout(n.m),n.m=null)}function My(n){if(!Cf(n.i)&&!n.m){n.m=!0;var e=n.Na;Ep||D_(),Ip||(Ep(),Ip=!0),Rg.add(e,n),n.C=0}}function Ay(n,e){var t;t=e?e.m:n.W++;const i=gr(n.I);ei(i,"SID",n.K),ei(i,"RID",t),ei(i,"AID",n.V),Oy(n,i),n.o&&n.s&&Sf(i,n.o,n.s),t=new vf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=FE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),yh(n.i,t),f(t,i,e)}function Oy(n,e){n.na&&In(n.na,function(t,i){ei(e,i,t)}),n.h&&pi({},function(t,i){ei(e,i,t)})}function FE(n,e,t){t=Math.min(n.j.length,t);var i=n.h?rs(n.h.Va,n.h,n):null;e:{var r=n.j;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=r[0].g,d.push("ofs="+a)):a=0:d.push("ofs="+a);let m=!0;for(let w=0;w<t;w++){let T=r[w].g;const B=r[w].map;if(T-=a,0>T)a=Math.max(0,r[w].g-100),m=!1;else try{B_(B,d,"req"+T+"_")}catch{i&&i(B)}}if(m){i=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function BE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ep||D_(),Ip||(Ep(),Ip=!0),Rg.add(e,n),n.A=0}}function nw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Gu(rs(n.Ma,n),Ny(n,n.A)),n.A++,0))}function jE(n){null!=n.B&&(ni.clearTimeout(n.B),n.B=null)}function MT(n){n.g=new vf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gr(n.wa);ei(e,"RID","rpc"),ei(e,"SID",n.K),ei(e,"AID",n.V),ei(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ei(e,"TO",n.qa),ei(e,"TYPE","xmlhttp"),Oy(n,e),n.o&&n.s&&Sf(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Nr(gr(e)),t.s=null,t.S=!0,v(t,n)}function Op(n){null!=n.v&&(ni.clearTimeout(n.v),n.v=null)}function VE(n,e){var t=null;if(n.g==e){Op(n),jE(n),n.g=null;var i=2}else{if(!jg(n.i,e))return;t=e.F,Md(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;ea(i=O_(),new Zb(i,t)),My(n)}else BE(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function LE(n,e){return!(vh(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Gu(rs(n.Na,n,e),Ny(n,n.C)),n.C++,0)))}(n,e)||2==i&&nw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ch(n,5);break;case 4:Ch(n,10);break;case 3:Ch(n,6);break;default:Ch(n,2)}}function Ny(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ch(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=rs(n.pb,n);t||(t=new vi("//www.google.com/images/cleardot.gif"),ni.location&&"http"==ni.location.protocol||hi(t,"https"),Nr(t)),function Iy(n,e){const t=new M_;if(ni.Image){const i=new Image;i.onload=bd(Ef,t,i,"TestLoadImage: loaded",!0,e),i.onerror=bd(Ef,t,i,"TestLoadImage: error",!1,e),i.onabort=bd(Ef,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=bd(Ef,t,i,"TestLoadImage: timeout",!1,e),ni.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ra(2);n.H=0,n.h&&n.h.za(e),Np(n),tw(n)}function Np(n){if(n.H=0,n.ma=[],n.h){const e=k_(n.i);(0!=e.length||0!=n.j.length)&&(ph(n.ma,e),ph(n.ma,n.j),n.i.i.length=0,vp(n.j),n.j.length=0),n.h.ya()}}function Py(n,e,t){var i=t instanceof vi?gr(t):new vi(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Pi(i,i.m);else{var r=ni.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new vi(null);i&&hi(a,i),e&&(a.g=e),r&&Pi(a,r),t&&(a.l=t),i=a}return e=n.Da,(t=n.F)&&e&&ei(i,t,e),ei(i,"VER",n.ra),Oy(n,i),i}function xy(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Rs(t&&n.Ha&&!n.va?new If({ob:!0}):n.va)).Oa(n.J),e}function Gg(){}function Pp(){if(Fc&&!(10<=Number(H)))throw Error("Environmental error: no available transport.")}function Fa(n,e){Jo.call(this),this.g=new kE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Eo(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eo(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eh(this)}function Ry(n){wy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ky(){Cy.call(this),this.status=1}function Eh(n){this.g=n}function Vc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xp(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],d=(e=n.g[0])+(a^(t=n.g[1])&((r=n.g[2])^a))+i[0]+3614090360&4294967295;d=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=(t=(r=(a=(e=t+(d<<7&4294967295|d>>>25))+((d=a+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=r+(t^a&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^r&(a^e))+i[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(r^a))+i[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=a+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=r+(t^a&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^r&(a^e))+i[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(r^a))+i[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=a+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=r+(t^a&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^r&(a^e))+i[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(a^t&(r^a))+i[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=a+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=r+(t^a&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^r&(a^e))+i[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(r^a&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=r+(e^t&(a^e))+i[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(r^a))+i[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(r^a&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=r+(e^t&(a^e))+i[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(r^a))+i[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(r^a&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=r+(e^t&(a^e))+i[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(r^a))+i[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(r^a&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=a+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=r+(e^t&(a^e))+i[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(a^e&(r^a))+i[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^r^a)+i[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=r+(a^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(r^a^e)+i[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^r^a)+i[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=r+(a^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(r^a^e)+i[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^r^a)+i[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=r+(a^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(r^a^e)+i[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^r^a)+i[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=a+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=r+(a^e^t)+i[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(r^a^e)+i[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(r^(t|~a))+i[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=r+(e^(a|~t))+i[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(r^(t|~a))+i[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=r+(e^(a|~t))+i[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(r^(t|~a))+i[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=r+(e^(a|~t))+i[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(a^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((a=(e=t+((d=e+(r^(t|~a))+i[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=a+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((r=a+((d=r+(e^(a|~t))+i[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+a&4294967295}function ss(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var a=0|n[r];i&&a==e||(t[r]=a,i=!1)}this.g=t}(gn=Rs.prototype).Oa=function(n){this.M=n},gn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ey.g(),this.C=function by(n){return n.h||(n.h=n.i())}(this.u?this.u:Ey),this.g.onreadystatechange=rs(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void xE(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=ni.FormData&&n instanceof ni.FormData,!(0<=_p(Ug,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,d]of t)this.g.setRequestHeader(a,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ap(this),0<this.B&&((this.L=function Sy(n){return Fc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.ua,this)):this.A=Lg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){xE(this,a)}},gn.ua=function(){typeof mp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ea(this,"timeout"),this.abort(8))},gn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ea(this,"complete"),ea(this,"abort"),jc(this))},gn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jc(this,!0)),Rs.$.N.call(this)},gn.La=function(){this.s||(this.G||this.v||this.l?j_(this):this.kb())},gn.kb=function(){j_(this)},gn.isActive=function(){return!!this.g},gn.da=function(){try{return 2<fu(this)?this.g.status:-1}catch{return-1}},gn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Vg(e)}},gn.Ia=function(){return this.m},gn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gn=kE.prototype).ra=8,gn.H=1,gn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new vf(this,this.l,n);let a=this.s;if(this.U&&(a?(a=xa(a),yp(a,this.U)):a=this.U),null!==this.o||this.O||(r.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FE(this,r,e),ei(t=gr(this.I),"RID",n),ei(t,"CVER",22),this.F&&ei(t,"X-HTTP-Session-Id",this.F),Oy(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Jb(a)))+"&"+e:this.o&&Sf(t,this.o,a)),yh(this.i,r),this.bb&&ei(t,"TYPE","init"),this.P?(ei(t,"$req",e),ei(t,"SID","null"),r.aa=!0,f(r,t,null)):f(r,t,e),this.H=2}}else 3==this.H&&(n?Ay(this,n):0==this.j.length||Cf(this.i)||Ay(this))},gn.Ma=function(){if(this.u=null,MT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Gu(rs(this.jb,this),n)}},gn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ra(10),zg(this),MT(this))},gn.ib=function(){null!=this.v&&(this.v=null,zg(this),nw(this),Ra(19))},gn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ra(2)):(this.l.info("Failed to ping google.com"),Ra(1))},gn.isActive=function(){return!!this.h&&this.h.isActive(this)},(gn=Gg.prototype).Ba=function(){},gn.Aa=function(){},gn.za=function(){},gn.ya=function(){},gn.isActive=function(){return!0},gn.Va=function(){},Pp.prototype.g=function(n,e){return new Fa(n,e)},xs(Fa,Jo),Fa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ra(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Py(n,null,n.Y),My(n)},Fa.prototype.close=function(){ew(this.g)},Fa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Sd(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&My(e)},Fa.prototype.N=function(){this.g.h=null,delete this.j,ew(this.g),delete this.g,Fa.$.N.call(this)},xs(Ry,wy),xs(ky,Cy),xs(Eh,Gg),Eh.prototype.Ba=function(){ea(this.g,"a")},Eh.prototype.Aa=function(n){ea(this.g,new Ry(n))},Eh.prototype.za=function(n){ea(this.g,new ky)},Eh.prototype.ya=function(){ea(this.g,"b")},xs(Vc,function QO(){this.blockSize=-1}),Vc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,a=0;a<e;){if(0==r)for(;a<=t;)xp(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(i[r++]=n.charCodeAt(a++),r==this.blockSize){xp(this,i),r=0;break}}else for(;a<e;)if(i[r++]=n[a++],r==this.blockSize){xp(this,i),r=0;break}}this.h=r,this.i+=e},Vc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var UE={};function iw(n){return-128<=n&&128>n?function Lc(n,e){var t=UE;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ss([0|e],0>e?-1:0)}):new ss([0|n],0>n?-1:0)}function Nd(n){if(isNaN(n)||!isFinite(n))return Hg;if(0>n)return ma(Nd(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Fy;return new ss(e,0)}var Fy=4294967296,Hg=iw(0),rw=iw(1),AT=iw(16777216);function Ih(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ul(n){return-1==n.h}function ma(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ss(t,~n.h).add(rw)}function By(n,e){return n.add(ma(e))}function U_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Rp(n,e){this.g=n,this.h=e}function kp(n,e){if(Ih(e))throw Error("division by zero");if(Ih(n))return new Rp(Hg,Hg);if(Ul(n))return e=kp(ma(n),e),new Rp(ma(e.g),ma(e.h));if(Ul(e))return e=kp(n,ma(e)),new Rp(ma(e.g),e.h);if(30<n.g.length){if(Ul(n)||Ul(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rw,i=e;0>=i.X(n);)t=zE(t),i=zE(i);var r=Lp(t,1),a=Lp(i,1);for(i=Lp(i,2),t=Lp(t,2);!Ih(i);){var d=a.add(i);0>=d.X(n)&&(r=r.add(t),a=d),i=Lp(i,1),t=Lp(t,1)}return e=By(n,r.R(e)),new Rp(r,e)}for(r=Hg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),d=(a=Nd(t)).R(e);Ul(d)||0<d.X(n);)d=(a=Nd(t-=i)).R(e);Ih(a)&&(a=rw),r=r.add(a),n=By(n,d)}return new Rp(r,n)}function zE(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ss(t,n.h)}function Lp(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],a=0;a<i;a++)r[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new ss(r,n.h)}(gn=ss.prototype).ea=function(){if(Ul(this))return-ma(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Fy+i)*e,e*=Fy}return n},gn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ih(this))return"0";if(Ul(this))return"-"+ma(this).toString(n);for(var e=Nd(Math.pow(n,6)),t=this,i="";;){var r=kp(t,e).g,a=((0<(t=By(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ih(t=r))return a+i;for(;6>a.length;)a="0"+a;i=a+i}},gn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gn.X=function(n){return Ul(n=By(this,n))?-1:Ih(n)?0:1},gn.abs=function(){return Ul(this)?ma(this):this},gn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var a=i+(65535&this.D(r))+(65535&n.D(r)),d=(a>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=d>>>16,t[r]=(d&=65535)<<16|(a&=65535)}return new ss(t,-2147483648&t[t.length-1]?-1:0)},gn.R=function(n){if(Ih(this)||Ih(n))return Hg;if(Ul(this))return Ul(n)?ma(this).R(ma(n)):ma(ma(this).R(n));if(Ul(n))return ma(this.R(ma(n)));if(0>this.X(AT)&&0>n.X(AT))return Nd(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var a=this.D(i)>>>16,d=65535&this.D(i),m=n.D(r)>>>16,w=65535&n.D(r);t[2*i+2*r]+=d*w,U_(t,2*i+2*r),t[2*i+2*r+1]+=a*w,U_(t,2*i+2*r+1),t[2*i+2*r+1]+=d*m,U_(t,2*i+2*r+1),t[2*i+2*r+2]+=a*m,U_(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ss(t,0)},gn.gb=function(n){return kp(this,n).h},gn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ss(t,this.h&n.h)},gn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ss(t,this.h|n.h)},gn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ss(t,this.h^n.h)},Pp.prototype.createWebChannel=Pp.prototype.g,Fa.prototype.send=Fa.prototype.u,Fa.prototype.open=Fa.prototype.m,Fa.prototype.close=Fa.prototype.close,_f.NO_ERROR=0,_f.TIMEOUT=8,_f.HTTP_ERROR=6,Sp.COMPLETE="complete",x_.EventType=uu,uu.OPEN="a",uu.CLOSE="b",uu.ERROR="c",uu.MESSAGE="d",Jo.prototype.listen=Jo.prototype.O,Rs.prototype.listenOnce=Rs.prototype.P,Rs.prototype.getLastError=Rs.prototype.Sa,Rs.prototype.getLastErrorCode=Rs.prototype.Ia,Rs.prototype.getStatus=Rs.prototype.da,Rs.prototype.getResponseJson=Rs.prototype.Wa,Rs.prototype.getResponseText=Rs.prototype.ja,Rs.prototype.send=Rs.prototype.ha,Rs.prototype.setWithCredentials=Rs.prototype.Oa,Vc.prototype.digest=Vc.prototype.l,Vc.prototype.reset=Vc.prototype.reset,Vc.prototype.update=Vc.prototype.j,ss.prototype.add=ss.prototype.add,ss.prototype.multiply=ss.prototype.R,ss.prototype.modulo=ss.prototype.gb,ss.prototype.compare=ss.prototype.X,ss.prototype.toNumber=ss.prototype.ea,ss.prototype.toString=ss.prototype.toString,ss.prototype.getBits=ss.prototype.D,ss.fromNumber=Nd,ss.fromString=function Ly(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ma(Ly(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nd(Math.pow(e,8)),i=Hg,r=0;r<n.length;r+=8){var a=Math.min(8,n.length-r),d=parseInt(n.substring(r,r+a),e);8>a?(a=Nd(Math.pow(e,a)),i=i.R(a).add(Nd(d))):i=(i=i.R(t)).add(Nd(d))}return i};var OT=Bl.createWebChannelTransport=function(){return new Pp},GE=Bl.getStatEventTarget=function(){return O_()},HE=Bl.ErrorCode=_f,NT=Bl.EventType=Sp,z_=Bl.Event=cu,$E=Bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$g=Bl.FetchXmlHttpFactory=If,Tf=Bl.WebChannel=x_,PT=Bl.XhrIo=Rs,WE=Bl.Md5=Vc,Wg=Bl.Integer=ss;const KE="@firebase/firestore";class Ba{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ba.UNAUTHENTICATED=new Ba(null),Ba.GOOGLE_CREDENTIALS=new Ba("google-credentials-uid"),Ba.FIRST_PARTY=new Ba("first-party-uid"),Ba.MOCK_USER=new Ba("mock-user");let Fp="9.23.0";const Dh=new ne.Vy("@firebase/firestore");function G_(){return Dh.logLevel}function qt(n,...e){if(Dh.logLevel<=ne.$b.DEBUG){const t=e.map(sw);Dh.debug(`Firestore (${Fp}): ${n}`,...t)}}function Io(n,...e){if(Dh.logLevel<=ne.$b.ERROR){const t=e.map(sw);Dh.error(`Firestore (${Fp}): ${n}`,...t)}}function pu(n,...e){if(Dh.logLevel<=ne.$b.WARN){const t=e.map(sw);Dh.warn(`Firestore (${Fp}): ${n}`,...t)}}function sw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xn(n="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+n;throw Io(e),new Error(e)}function Vn(n,e){n||xn()}function yn(n,e){return n}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wt extends C.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ba.UNAUTHENTICATED))}shutdown(){}}class qE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JO{constructor(e){this.t=e,this.currentUser=Ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=T=>this.i!==r?(r=this.i,t(T)):Promise.resolve();let d=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ta,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const T=d;e.enqueueRetryable((0,Ot.A)(function*(){yield T.promise,yield a(i.currentUser)}))},w=T=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ta)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Vn("string"==typeof i.accessToken),new ow(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vn(null===e||"string"==typeof e),new Ba(e)}}class aw{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ba.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mf{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new aw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ba.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=a=>{null!=a.error&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.T;return this.T=a.token,qt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?r(a):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Vn("string"==typeof t.token),this.T=t.token,new Kg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class jy{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=RT(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[a]%62))}return i}}function Yn(n,e){return n<e?-1:n>e?1:0}function Bp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function XE(n){return n+"\0"}class oo{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oo.fromMillis(Date.now())}static fromDate(e){return oo.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new oo(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new oo(0,0))}static max(){return new wn(new oo(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class H_{constructor(e,t,i){void 0===t?t=0:t>e.length&&xn(),void 0===i?i=e.length-t:i>e.length-t&&xn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===H_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof H_?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),d=t.get(r);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class er extends H_{construct(e,t,i){return new er(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new er(t)}static emptyPath(){return new er([])}}const kT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Do extends H_{construct(e,t,i){return new Do(e,t,i)}static isValidIdentifier(e){return kT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Do.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Do(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const m=e[r];if("\\"===m){if(r+1===e.length)throw new Wt(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[r+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Wt(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=w,r+=2}else"`"===m?(d=!d,r++):"."!==m||d?(i+=m,r++):(a(),r++)}if(a(),d)throw new Wt(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Do(t)}static emptyPath(){return new Do([])}}class mn{constructor(e){this.path=e}static fromPath(e){return new mn(er.fromString(e))}static fromName(e){return new mn(er.fromString(e).popFirst(5))}static empty(){return new mn(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mn(new er(e.slice()))}}class $_{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Vy(n){return n.fields.find(e=>2===e.kind)}function jp(n){return n.fields.filter(e=>2!==e.kind)}$_.UNKNOWN_ID=-1;class W_{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yg(0,ja.min())}}function lw(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=wn.fromTimestamp(1e9===i?new oo(t+1,0):new oo(t,i));return new ja(r,mn.empty(),e)}function cw(n){return new ja(n.readTime,n.key,-1)}class ja{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ja(wn.min(),mn.empty(),-1)}static max(){return new ja(wn.max(),mn.empty(),-1)}}function Yu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=mn.comparator(n.documentKey,e.documentKey),0!==t?t:Yn(n.largestBatchId,e.largestBatchId))}const Vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Af(n){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,Ot.A)(function*(n){if(n.code!==Mt.FAILED_PRECONDITION||n.message!==Vp)throw n;qt("LocalStore","Unexpectedly lost primary lease")}),Uy.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,i)=>{t(e)})}static reject(e){return new Et((t,i)=>{i(e)})}static waitFor(e){return new Et((t,i)=>{let r=0,a=0,d=!1;e.forEach(m=>{++r,m.next(()=>{++a,d&&a===r&&t()},w=>i(w))}),d=!0,a===r&&t()})}static or(e){let t=Et.resolve(!1);for(const i of e)t=t.next(r=>r?Et.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new Et((i,r)=>{const a=e.length,d=new Array(a);let m=0;for(let w=0;w<a;w++){const T=w;t(e[T]).next(B=>{d[T]=B,++m,m===a&&i(d)},B=>r(B))}})}static doWhile(e,t){return new Et((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class qg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new ta,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Xg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=uw(i.target.error);this.v.reject(new Xg(e,r))}}static open(e,t,i,r){try{return new qg(t,e.transaction(r,i))}catch(a){throw new Xg(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new FT(t)}}class zl{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===zl.S((0,C.ZQ)())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return qt("SimpleDb","Removing database:",e),Up(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,C.zW)())return!1;if(zl.C())return!0;const e=(0,C.ZQ)(),t=zl.S(e),i=0<t&&t<10,r=zl.N(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,Ot.A)(function*(){return t.db||(qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{i(d.target.result)},a.onblocked=()=>{r(new Xg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const m=d.target.error;r("VersionError"===m.name?new Wt(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Wt(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Xg(e,m))},a.onupgradeneeded=d=>{qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ot.A)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.$(e);const w=qg.open(a.db,e,d?"readonly":"readwrite",i),T=r(w).next(B=>(w.P(),B)).catch(B=>(w.abort(B),Et.reject(B))).toPromise();return T.catch(()=>{}),yield w.R,T}catch(w){const T=w,B="FirebaseError"!==T.name&&m<3;if(qt("SimpleDb","Transaction failed with error:",T.message,"Retrying:",B),a.close(),!B)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zy{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Up(this.L.delete())}}class Xg extends Wt{constructor(e,t){super(Mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Sh(n){return"IndexedDbTransactionError"===n.name}class FT{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(qt("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Up(i)}add(e){return qt("SimpleDb","ADD",this.store.name,e,e),Up(this.store.add(e))}get(e){return Up(this.store.get(e)).next(t=>(void 0===t&&(t=null),qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return qt("SimpleDb","DELETE",this.store.name,e),Up(this.store.delete(e))}count(){return qt("SimpleDb","COUNT",this.store.name),Up(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.W(r,(d,m)=>{a.push(m)}).next(()=>a)}{const r=this.store.getAll(i.range);return new Et((a,d)=>{r.onerror=m=>{d(m.target.error)},r.onsuccess=m=>{a(m.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new Et((r,a)=>{i.onerror=d=>{a(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}J(e,t){qt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(a,d,m)=>m.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new Et((i,r)=>{t.onerror=a=>{const d=uw(a.target.error);r(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():i()}):i()}})}W(e,t){const i=[];return new Et((r,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void r();const w=new zy(m),T=t(m.primaryKey,m.value,w);if(T instanceof Et){const B=T.catch(Y=>(w.done(),Et.reject(Y)));i.push(B)}w.isDone?r():null===w.K?m.continue():m.continue(w.K)}}).next(()=>Et.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Up(n){return new Et((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=uw(i.target.error);t(r)}})}let JE=!1;function uw(n){const e=zl.S((0,C.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JE||(JE=!0,setTimeout(()=>{throw i},0)),i}}return n}class eI{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;qt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ot.A)(function*(){t.task=null;try{qt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Sh(i)?qt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Af(i)}yield t.et(6e4)}))}}class tN{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ot.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,a=!0;return Et.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!i.has(d))return qt("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,r).next(m=>{r-=m,i.add(d)});a=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(r,a)).next(m=>(qt("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,a)=>{const d=cw(a);Yu(d,i)>0&&(i=d)}),new ja(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Uc=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Gy(n){return null==n}function Hy(n){return 0===n&&1/n==-1/0}function dw(n){return"number"==typeof n&&Number.isInteger(n)&&!Hy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function el(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=K_(e)),e=nN(n.get(t),e);return K_(e)}function nN(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function K_(n){return n+"\x01\x01"}function qu(n){const e=n.length;if(Vn(e>=2),2===e)return Vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),er.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&xn(),n.charAt(d+1)){case"\x01":const m=n.substring(a,d);let w;0===r.length?w=m:(r+=m,w=r,r=""),i.push(w);break;case"\x10":r+=n.substring(a,d),r+="\0";break;case"\x11":r+=n.substring(a,d+1);break;default:xn()}a=d+2}return new er(i)}const hw=["userId","batchId"];function $y(n,e){return[n,el(e)]}function fw(n,e,t){return[n,el(e),t]}const tI={},yi=["prefixPath","collectionGroup","readTime","documentId"],nI=["prefixPath","collectionGroup","documentId"],iI=["collectionGroup","readTime","prefixPath","documentId"],Qg=["canonicalId","targetId"],rI=["targetId","path"],BT=["path","targetId"],Wy=["collectionId","parent"],Zg=["indexId","uid"],pw=["uid","sequenceNumber"],Y_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sI=["indexId","uid","orderedDocumentKey"],gw=["userId","collectionPath","documentId"],mw=["userId","collectionPath","largestBatchId"],_w=["userId","collectionGroup","largestBatchId"],vw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yw=[...vw,"documentOverlays"],oI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aI=oI,jT=[...aI,"indexConfiguration","indexState","indexEntries"];class Ky extends ZE{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Va(n,e){const t=yn(n);return zl.M(t.ht,e)}function lI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Of(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ws{constructor(e,t){this.comparator=e,this.root=t||tl.EMPTY}insert(e,t){return new ws(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tl.BLACK,null,null))}remove(e){return new ws(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new q_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new q_(this.root,e,this.comparator,!1)}getReverseIterator(){return new q_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new q_(this.root,e,this.comparator,!0)}}class q_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tl{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??tl.RED,this.left=r??tl.EMPTY,this.right=a??tl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new tl(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tl.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xn();const e=this.left.check();if(e!==this.right.check())throw xn();return e+(this.isRed()?0:1)}}tl.EMPTY=null,tl.RED=!0,tl.BLACK=!1,tl.EMPTY=new class{constructor(){this.size=0}get key(){throw xn()}get value(){throw xn()}get color(){throw xn()}get left(){throw xn()}get right(){throw xn()}copy(n,e,t,i,r){return this}insert(n,e,t){return new tl(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zs{constructor(e){this.comparator=e,this.data=new ws(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fc(this.data.getIterator())}getIteratorFrom(e){return new fc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zs(this.comparator);return t.data=e,t}}class fc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jg(n){return n.hasNext()?n.getNext():void 0}class pc{constructor(e){this.fields=e,e.sort(Do.comparator)}static empty(){return new pc([])}unionWith(e){let t=new zs(Do.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new pc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class na{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new VT("Invalid base64 string: "+r):r}}(e);return new na(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new na(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}na.EMPTY_BYTE_STRING=new na("");const UT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nf(n){if(Vn(!!n),"string"==typeof n){let e=0;const t=UT.exec(n);if(Vn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:So(n.seconds),nanos:So(n.nanos)}}function So(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Pd(n){return"string"==typeof n?na.fromBase64String(n):na.fromUint8Array(n)}function Yy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qy(n){const e=n.mapValue.fields.__previous_value__;return Yy(e)?qy(e):e}function zp(n){const e=Nf(n.mapValue.fields.__local_write_time__.timestampValue);return new oo(e.seconds,e.nanos)}class zT{constructor(e,t,i,r,a,d,m,w,T){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=T}}class Pf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}const xf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xy={nullValue:"NULL_VALUE"};function Rf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yy(n)?4:Jy(n)?9007199254740991:10:xn()}function _a(n,e){if(n===e)return!0;const t=Rf(n);if(t!==Rf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zp(n).isEqual(zp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Nf(i.timestampValue),d=Nf(r.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Pd(n.bytesValue).isEqual(Pd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return So(i.geoPointValue.latitude)===So(r.geoPointValue.latitude)&&So(i.geoPointValue.longitude)===So(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return So(i.integerValue)===So(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=So(i.doubleValue),d=So(r.doubleValue);return a===d?Hy(a)===Hy(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Bp(n.arrayValue.values||[],e.arrayValue.values||[],_a);case 10:return function(i,r){const a=i.mapValue.fields||{},d=r.mapValue.fields||{};if(lI(a)!==lI(d))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===d[m]||!_a(a[m],d[m])))return!1;return!0}(n,e);default:return xn()}var r}function Gp(n,e){return void 0!==(n.values||[]).find(t=>_a(t,e))}function kf(n,e){if(n===e)return 0;const t=Rf(n),i=Rf(e);if(t!==i)return Yn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const d=So(r.integerValue||r.doubleValue),m=So(a.integerValue||a.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return ww(n.timestampValue,e.timestampValue);case 4:return ww(zp(n),zp(e));case 5:return Yn(n.stringValue,e.stringValue);case 6:return function(r,a){const d=Pd(r),m=Pd(a);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const d=r.split("/"),m=a.split("/");for(let w=0;w<d.length&&w<m.length;w++){const T=Yn(d[w],m[w]);if(0!==T)return T}return Yn(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const d=Yn(So(r.latitude),So(a.latitude));return 0!==d?d:Yn(So(r.longitude),So(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const d=r.values||[],m=a.values||[];for(let w=0;w<d.length&&w<m.length;++w){const T=kf(d[w],m[w]);if(T)return T}return Yn(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===xf.mapValue&&a===xf.mapValue)return 0;if(r===xf.mapValue)return 1;if(a===xf.mapValue)return-1;const d=r.fields||{},m=Object.keys(d),w=a.fields||{},T=Object.keys(w);m.sort(),T.sort();for(let B=0;B<m.length&&B<T.length;++B){const Y=Yn(m[B],T[B]);if(0!==Y)return Y;const pe=kf(d[m[B]],w[T[B]]);if(0!==pe)return pe}return Yn(m.length,T.length)}(n.mapValue,e.mapValue);default:throw xn()}}function ww(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Yn(n,e);const t=Nf(n),i=Nf(e),r=Yn(t.seconds,i.seconds);return 0!==r?r:Yn(t.nanos,i.nanos)}function em(n){return Qy(n)}function Qy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Nf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Pd(n.bytesValue).toBase64():"referenceValue"in n?mn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const d of i.values||[])a?a=!1:r+=",",r+=Qy(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",d=!0;for(const m of r)d?d=!1:a+=",",a+=`${m}:${Qy(i.fields[m])}`;return a+"}"}(n.mapValue):xn();var e}function xd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Q_(n){return!!n&&"integerValue"in n}function Zy(n){return!!n&&"arrayValue"in n}function Cw(n){return!!n&&"nullValue"in n}function Ew(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Z_(n){return!!n&&"mapValue"in n}function tm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Of(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tm(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Th(n){return"nullValue"in n?Xy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?xd(Pf.empty(),mn.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:xn()}function GT(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?xd(Pf.empty(),mn.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xf:xn()}function uI(n,e){const t=kf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function e0(n,e){const t=kf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class nl{constructor(e){this.value=e}static empty(){return new nl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Z_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tm(t)}setAll(e){let t=Do.emptyPath(),i={},r=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,i,r),i={},r=[],t=m.popLast()}d?i[m.lastSegment()]=tm(d):r.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Z_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _a(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Z_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Of(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new nl(tm(this.value))}}function Iw(n){const e=[];return Of(n.fields,(t,i)=>{const r=new Do([t]);if(Z_(i)){const a=Iw(i.mapValue).fields;if(0===a.length)e.push(r);else for(const d of a)e.push(r.child(d))}else e.push(r)}),new pc(e)}class Gs{constructor(e,t,i,r,a,d,m){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Gs(e,0,wn.min(),wn.min(),wn.min(),nl.empty(),0)}static newFoundDocument(e,t,i,r){return new Gs(e,1,t,wn.min(),i,r,0)}static newNoDocument(e,t){return new Gs(e,2,t,wn.min(),wn.min(),nl.empty(),0)}static newUnknownDocument(e,t){return new Gs(e,3,t,wn.min(),wn.min(),nl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xu{constructor(e,t){this.position=e,this.inclusive=t}}function nm(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],d=n.position[r];if(i=a.field.isKeyField()?mn.comparator(mn.fromName(d.referenceValue),t.key):kf(d,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function Dw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!_a(n.position[t],e.position[t]))return!1;return!0}class Mh{constructor(e,t="asc"){this.field=e,this.dir=t}}function iN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class dI{}class Gi extends dI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new HT(e,t,i):"array-contains"===t?new WT(e,i):"in"===t?new pI(e,i):"not-in"===t?new KT(e,i):"array-contains-any"===t?new YT(e,i):new Gi(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new $T(e,i):new J_(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kf(t,this.value)):null!==t&&Rf(this.value)===Rf(t)&&this.matchesComparison(kf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qr extends dI{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Qr(e,t)}matches(e){return im(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function im(n){return"and"===n.op}function Sw(n){return"or"===n.op}function t0(n){return Tw(n)&&im(n)}function Tw(n){for(const e of n.filters)if(e instanceof Qr)return!1;return!0}function Hp(n){if(n instanceof Gi)return n.field.canonicalString()+n.op.toString()+em(n.value);if(t0(n))return n.filters.map(e=>Hp(e)).join(",");{const e=n.filters.map(t=>Hp(t)).join(",");return`${n.op}(${e})`}}function hI(n,e){return n instanceof Gi?(t=n,(i=e)instanceof Gi&&t.op===i.op&&t.field.isEqual(i.field)&&_a(t.value,i.value)):n instanceof Qr?function(t,i){return i instanceof Qr&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,d)=>r&&hI(a,i.filters[d]),!0)}(n,e):void xn();var t,i}function Mw(n,e){const t=n.filters.concat(e);return Qr.create(t,n.op)}function Aw(n){return n instanceof Gi?`${(e=n).field.canonicalString()} ${e.op} ${em(e.value)}`:n instanceof Qr?function(e){return e.op.toString()+" {"+e.getFilters().map(Aw).join(" ,")+"}"}(n):"Filter";var e}class HT extends Gi{constructor(e,t,i){super(e,t,i),this.key=mn.fromName(i.referenceValue)}matches(e){const t=mn.comparator(e.key,this.key);return this.matchesComparison(t)}}class $T extends Gi{constructor(e,t){super(e,"in",t),this.keys=fI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class J_ extends Gi{constructor(e,t){super(e,"not-in",t),this.keys=fI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>mn.fromName(i.referenceValue))}class WT extends Gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zy(t)&&Gp(t.arrayValue,this.value)}}class pI extends Gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gp(this.value.arrayValue,t)}}class KT extends Gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gp(this.value.arrayValue,t)}}class YT extends Gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Gp(this.value.arrayValue,i))}}class qT{constructor(e,t=null,i=[],r=[],a=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=d,this.endAt=m,this.dt=null}}function Ow(n,e=null,t=[],i=[],r=null,a=null,d=null){return new qT(n,e,t,i,r,a,d)}function $p(n){const e=yn(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Hp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Gy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>em(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>em(i)).join(",")),e.dt=t}return e.dt}function rm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dw(n.startAt,e.startAt)&&Dw(n.endAt,e.endAt)}function sm(n){return mn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function n0(n,e){return n.filters.filter(t=>t instanceof Gi&&t.field.isEqual(e))}function ev(n,e,t){let i=Xy,r=!0;for(const a of n0(n,e)){let d=Xy,m=!0;switch(a.op){case"<":case"<=":d=Th(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,m=!1;break;case"!=":case"not-in":d=Xy}uI({value:i,inclusive:r},{value:d,inclusive:m})<0&&(i=d,r=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];uI({value:i,inclusive:r},{value:d,inclusive:t.inclusive})<0&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}function gI(n,e,t){let i=xf,r=!0;for(const a of n0(n,e)){let d=xf,m=!0;switch(a.op){case">=":case">":d=GT(a.value),m=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,m=!1;break;case"!=":case"not-in":d=xf}e0({value:i,inclusive:r},{value:d,inclusive:m})>0&&(i=d,r=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];e0({value:i,inclusive:r},{value:d,inclusive:t.inclusive})>0&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}class Ah{constructor(e,t=null,i=[],r=[],a=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=d,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function mI(n,e,t,i,r,a,d,m){return new Ah(n,e,t,i,r,a,d,m)}function om(n){return new Ah(n)}function _I(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Nw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function tv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function r0(n){return null!==n.collectionGroup}function Lf(n){const e=yn(n);if(null===e.wt){e.wt=[];const t=tv(e),i=Nw(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Mh(t)),e.wt.push(new Mh(Do.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mh(Do.keyField(),a))}}}return e.wt}function Gl(n){const e=yn(n);if(!e._t)if("F"===e.limitType)e._t=Ow(e.path,e.collectionGroup,Lf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Lf(e))t.push(new Mh(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Xu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xu(e.startAt.position,e.startAt.inclusive):null;e._t=Ow(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function vI(n,e){e.getFirstInequalityField(),tv(n);const t=n.filters.concat([e]);return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nv(n,e,t){return new Ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function am(n,e){return rm(Gl(n),Gl(e))&&n.limitType===e.limitType}function XT(n){return`${$p(Gl(n))}|lt:${n.limitType}`}function lm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Aw(i)).join(", ")}]`),Gy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>em(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>em(i)).join(",")),`Target(${t})`}(Gl(n))}; limitType=${n.limitType})`}function iv(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):mn.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Lf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,d){const m=nm(r,a,d);return r.inclusive?m<=0:m<0}(t.startAt,Lf(t),i)||t.endAt&&!function(r,a,d){const m=nm(r,a,d);return r.inclusive?m>=0:m>0}(t.endAt,Lf(t),i)));var t,i}function yI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s0(n){return(e,t)=>{let i=!1;for(const r of Lf(n)){const a=QT(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function QT(n,e,t){const i=n.field.isKeyField()?mn.comparator(e.key,t.key):function(r,a,d){const m=a.data.field(r),w=d.data.field(r);return null!==m&&null!==w?kf(m,w):xn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xn()}}class Ua{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Of(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}const rv=new ws(mn.comparator);function os(){return rv}const Ff=new ws(mn.comparator);function Bf(...n){let e=Ff;for(const t of n)e=e.insert(t.key,t);return e}function zc(n){let e=Ff;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function gu(){return Rd()}function Wp(){return Rd()}function Rd(){return new Ua(n=>n.toString(),(n,e)=>n.isEqual(e))}const cm=new ws(mn.comparator),um=new zs(mn.comparator);function ai(...n){let e=um;for(const t of n)e=e.add(t);return e}const dm=new zs(Yn);function jf(){return dm}function Kp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hy(e)?"-0":e}}function Yp(n){return{integerValue:""+n}}function Pw(n,e){return dw(e)?Yp(e):Kp(n,e)}class sv{constructor(){this._=void 0}}function bI(n,e,t){return n instanceof qp?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Yy(r)&&(r=qy(r)),r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Vf?Rw(n,e):n instanceof Uf?o0(n,e):function(i,r){const a=xw(i,r),d=ZT(a)+ZT(i.gt);return Q_(a)&&Q_(i.gt)?Yp(d):Kp(i.serializer,d)}(n,e)}function wI(n,e,t){return n instanceof Vf?Rw(n,e):n instanceof Uf?o0(n,e):t}function xw(n,e){return n instanceof hm?Q_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class qp extends sv{}class Vf extends sv{constructor(e){super(),this.elements=e}}function Rw(n,e){const t=JT(e);for(const i of n.elements)t.some(r=>_a(r,i))||t.push(i);return{arrayValue:{values:t}}}class Uf extends sv{constructor(e){super(),this.elements=e}}function o0(n,e){let t=JT(e);for(const i of n.elements)t=t.filter(r=>!_a(r,i));return{arrayValue:{values:t}}}class hm extends sv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ZT(n){return So(n.integerValue||n.doubleValue)}function JT(n){return Zy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ov{constructor(e,t){this.field=e,this.transform=t}}class rN{constructor(e,t){this.version=e,this.transformResults=t}}class Qs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qs}static exists(e){return new Qs(void 0,e)}static updateTime(e){return new Qs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class a0{}function CI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ld(n.key,Qs.none()):new Oh(n.key,n.data,Qs.none());{const t=n.data,i=nl.empty();let r=new zs(Do.comparator);for(let a of e.fields)if(!r.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?i.delete(a):i.set(a,d),r=r.add(a)}return new kd(n.key,i,new pc(r.toArray()),Qs.none())}}function tM(n,e,t){n instanceof Oh?function(i,r,a){const d=i.value.clone(),m=Lw(i.fieldTransforms,r,a.transformResults);d.setAll(m),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof kd?function(i,r,a){if(!kw(i.precondition,r))return void r.convertToUnknownDocument(a.version);const d=Lw(i.fieldTransforms,r,a.transformResults),m=r.data;m.setAll(fm(i)),m.setAll(d),r.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xp(n,e,t,i){return n instanceof Oh?function(r,a,d,m){if(!kw(r.precondition,a))return d;const w=r.value.clone(),T=EI(r.fieldTransforms,m,a);return w.setAll(T),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null}(n,e,t,i):n instanceof kd?function(r,a,d,m){if(!kw(r.precondition,a))return d;const w=EI(r.fieldTransforms,m,a),T=a.data;return T.setAll(fm(r)),T.setAll(w),a.convertToFoundDocument(a.version,T).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(B=>B.field))}(n,e,t,i):(d=t,kw(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function av(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=xw(i.transform,r||null);null!=a&&(null===t&&(t=nl.empty()),t.set(i.field,a))}return t||null}function l0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Bp(t,i,(r,a)=>function eM(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Vf&&i instanceof Vf||t instanceof Uf&&i instanceof Uf?Bp(t.elements,i.elements,_a):t instanceof hm&&i instanceof hm?_a(t.gt,i.gt):t instanceof qp&&i instanceof qp);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Oh extends a0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kd extends a0{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Lw(n,e,t){const i=new Map;Vn(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],d=a.transform,m=e.data.field(a.field);i.set(a.field,wI(d,m,t[r]))}return i}function EI(n,e,t){const i=new Map;for(const r of n){const a=r.transform,d=t.data.field(r.field);i.set(r.field,bI(a,d,e))}return i}class Ld extends a0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fw extends a0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&tM(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Xp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Xp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Wp();return this.mutations.forEach(r=>{const a=e.get(r.key),d=a.overlayedDocument;let m=this.applyToLocalView(d,a.mutatedFields);m=t.has(r.key)?null:m;const w=CI(d,m);null!==w&&i.set(r.key,w),d.isValidDocument()||d.convertToNoDocument(wn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ai())}isEqual(e){return this.batchId===e.batchId&&Bp(this.mutations,e.mutations,(t,i)=>l0(t,i))&&Bp(this.baseMutations,e.baseMutations,(t,i)=>l0(t,i))}}class jw{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Vn(e.mutations.length===i.length);let r=cm;const a=e.mutations;for(let d=0;d<a.length;d++)r=r.insert(a[d].key,i[d].version);return new jw(e,t,i,r)}}class Vw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class c0{constructor(e,t){this.count=e,this.unchangedNames=t}}var ao,Cr;function II(n){switch(n){default:return xn();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function DI(n){if(void 0===n)return Io("GRPC error has no .code"),Mt.UNKNOWN;switch(n){case ao.OK:return Mt.OK;case ao.CANCELLED:return Mt.CANCELLED;case ao.UNKNOWN:return Mt.UNKNOWN;case ao.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case ao.INTERNAL:return Mt.INTERNAL;case ao.UNAVAILABLE:return Mt.UNAVAILABLE;case ao.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case ao.NOT_FOUND:return Mt.NOT_FOUND;case ao.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case ao.ABORTED:return Mt.ABORTED;case ao.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case ao.DATA_LOSS:return Mt.DATA_LOSS;default:return xn()}}(Cr=ao||(ao={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";class lv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return u0}static getOrCreateInstance(){return null===u0&&(u0=new lv),u0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let u0=null;function zw(){return new TextEncoder}const nM=new Wg([4294967295,4294967295],0);function SI(n){const e=zw().encode(n),t=new WE;return t.update(e),new Uint8Array(t.digest())}function Gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Wg([t,i],0),new Wg([r,a],0)]}class d0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new pm(`Invalid padding: ${t}`);if(i<0)throw new pm(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new pm(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new pm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Wg.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Wg.fromNumber(i)));return 1===r.compare(nM)&&(r=new Wg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=SI(e),[i,r]=Gw(t);for(let a=0;a<this.hashCount;a++){const d=this.Et(i,r,a);if(!this.At(d))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),d=new d0(a,r,t);return i.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=SI(e),[i,r]=Gw(t);for(let a=0;a<this.hashCount;a++){const d=this.Et(i,r,a);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class pm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cv{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,uv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new cv(wn.min(),r,new ws(Yn),os(),ai())}}class uv{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new uv(i,t,ai(),ai(),ai())}}class h0{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Hw{constructor(e,t){this.targetId=e,this.Vt=t}}class f0{constructor(e,t,i=na.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class p0{constructor(){this.St=0,this.Dt=hv(),this.Ct=na.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ai(),t=ai(),i=ai();return this.Dt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:xn()}}),new uv(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=hv()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=os(),this.zt=dv(),this.Wt=new ws(Yn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:xn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,a=this.se(i);if(a){const d=a.target;if(sm(d))if(0===r){const m=new mn(d.path);this.Yt(i,m,Gs.newNoDocument(m,wn.min()))}else Vn(1===r);else{const m=this.ie(i);if(m!==r){const w=this.re(e,m);0!==w&&(this.ee(i),this.Wt=this.Wt.insert(i,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=lv.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(T,B,Y){var pe,xe,Je,vt,Lt,fn;const Dn={localCacheCount:B,existenceFilterCount:Y.count},On=Y.unchangedNames;return On&&(Dn.bloomFilter={applied:0===T,hashCount:null!==(pe=On?.hashCount)&&void 0!==pe?pe:0,bitmapLength:null!==(vt=null===(Je=null===(xe=On?.bits)||void 0===xe?void 0:xe.bitmap)||void 0===Je?void 0:Je.length)&&void 0!==vt?vt:0,padding:null!==(fn=null===(Lt=On?.bits)||void 0===Lt?void 0:Lt.padding)&&void 0!==fn?fn:0}),Dn}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:a="",padding:d=0},hashCount:m=0}=i;let w,T;try{w=Pd(a).toUint8Array()}catch(B){if(B instanceof VT)return pu("Decoding the base64 bloom filter in existence filter failed ("+B.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw B}try{T=new d0(w,d,m)}catch(B){return pu(B instanceof pm?"BloomFilter error: ":"Applying bloom filter failed: ",B),1}return 0===T.It?1:r!==t-this.oe(e.targetId,T)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(a=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${a.path.canonicalString()}`;t.vt(m)||(this.Yt(e,a,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((a,d)=>{const m=this.se(d);if(m){if(a.current&&sm(m.target)){const w=new mn(m.target.path);null!==this.jt.get(w)||this.ae(d,w)||this.Yt(d,w,Gs.newNoDocument(w,e))}a.Mt&&(t.set(d,a.Ot()),a.Ft())}});let i=ai();this.zt.forEach((a,d)=>{let m=!0;d.forEachWhile(w=>{const T=this.se(w);return!T||"TargetPurposeLimboResolution"===T.purpose||(m=!1,!1)}),m&&(i=i.add(a))}),this.jt.forEach((a,d)=>d.setReadTime(e));const r=new cv(e,t,this.Wt,this.jt,i);return this.jt=os(),this.zt=dv(),this.Wt=new ws(Yn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new p0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new zs(Yn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||qt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new p0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function dv(){return new ws(mn.comparator)}function hv(){return new ws(mn.comparator)}const $w={asc:"ASCENDING",desc:"DESCENDING"},TI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class sM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ww(n,e){return n.useProto3Json||Gy(e)?e:{value:e}}function Nh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kw(n,e){return Nh(n,e.toTimestamp())}function To(n){return Vn(!!n),wn.fromTimestamp(function(e){const t=Nf(e);return new oo(t.seconds,t.nanos)}(n))}function Yw(n,e){return(t=n,new er(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function MI(n){const e=er.fromString(n);return Vn(FI(e)),e}function gm(n,e){return Yw(n.databaseId,e.path)}function mu(n,e){const t=MI(e);if(t.get(1)!==n.databaseId.projectId)throw new Wt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Wt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new mn(AI(t))}function g0(n,e){return Yw(n.databaseId,e)}function m0(n){const e=MI(n);return 4===e.length?er.emptyPath():AI(e)}function mm(n){return new er(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AI(n){return Vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qw(n,e,t){return{name:gm(n,e),fields:t.value.mapValue.fields}}function Xw(n,e,t){const i=mu(n,e.name),r=To(e.updateTime),a=e.createTime?To(e.createTime):wn.min(),d=new nl({mapValue:{fields:e.fields}}),m=Gs.newFoundDocument(i,r,a,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function pv(n,e){let t;if(e instanceof Oh)t={update:qw(n,e.key,e.value)};else if(e instanceof Ld)t={delete:gm(n,e.key)};else if(e instanceof kd)t={update:qw(n,e.key,e.data),updateMask:zf(e.fieldMask)};else{if(!(e instanceof Fw))return xn();t={verify:gm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const d=a.transform;if(d instanceof qp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Vf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Uf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hm)return{fieldPath:a.field.canonicalString(),increment:d.gt};throw xn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Kw(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:xn()),t;var r}function _0(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Qs.updateTime(To(r.updateTime)):void 0!==r.exists?Qs.exists(r.exists):Qs.none():Qs.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,d){let m=null;"setToServerValue"in d?(Vn("REQUEST_TIME"===d.setToServerValue),m=new qp):"appendMissingElements"in d?m=new Vf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Uf(d.removeAllFromArray.values||[]):"increment"in d?m=new hm(a,d.increment):xn();const w=Do.fromServerFormat(d.fieldPath);return new ov(w,m)}(n,r)):[];var r;if(e.update){const r=mu(n,e.update.name),a=new nl({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new pc((e.updateMask.fieldPaths||[]).map(T=>Do.fromServerFormat(T)));return new kd(r,a,d,t,i)}return new Oh(r,a,t,i)}if(e.delete){const r=mu(n,e.delete);return new Ld(r,t)}if(e.verify){const r=mu(n,e.verify);return new Fw(r,t)}return xn()}function v0(n,e){return{documents:[g0(n,e.path)]}}function _m(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=g0(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=g0(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(w){if(0!==w.length)return gv(Qr.create(w,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(w){if(0!==w.length)return w.map(T=>{return{field:Ph((B=T).field),direction:RI(B.dir)};var B})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=Ww(n,e.limit);var m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function Qw(n){let e=m0(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Vn(1===i);const B=t.from[0];B.allDescendants?r=B.collectionId:e=e.child(B.collectionId)}let a=[];t.where&&(a=function(B){const Y=Zw(B);return Y instanceof Qr&&t0(Y)?Y.getFilters():[Y]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(B=>{return new Mh(Qp((Y=B).field),function(pe){switch(pe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction));var Y}));let m=null;t.limit&&(m=function(B){let Y;return Y="object"==typeof B?B.value:B,Gy(Y)?null:Y}(t.limit));let w=null;var B;t.startAt&&(w=new Xu((B=t.startAt).values||[],!!B.before));let T=null;return t.endAt&&(T=function(B){return new Xu(B.values||[],!B.before)}(t.endAt)),mI(e,r,d,a,m,"F",w,T)}function Zw(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Qp(e.unaryFilter.field);return Gi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Qp(e.unaryFilter.field);return Gi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Qp(e.unaryFilter.field);return Gi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Qp(e.unaryFilter.field);return Gi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return xn()}}(n):void 0!==n.fieldFilter?Gi.create(Qp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Qr.create(e.compositeFilter.filters.map(t=>Zw(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return xn()}}(e.compositeFilter.op))}(n):xn();var e}function RI(n){return $w[n]}function kI(n){return TI[n]}function LI(n){return rM[n]}function Ph(n){return{fieldPath:n.canonicalString()}}function Qp(n){return Do.fromServerFormat(n.fieldPath)}function gv(n){return n instanceof Gi?function(e){if("=="===e.op){if(Ew(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ew(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NAN"}};if(Cw(e.value))return{unaryFilter:{field:Ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(e.field),op:kI(e.op),value:e.value}}}(n):n instanceof Qr?function(e){const t=e.getFilters().map(i=>gv(i));return 1===t.length?t[0]:{compositeFilter:{op:LI(e.op),filters:t}}}(n):xn()}function zf(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xh{constructor(e,t,i,r,a=wn.min(),d=wn.min(),m=na.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class y0{constructor(e){this.fe=e}}function b0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:w0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:gm(r=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Nh(r,a.version.toTimestamp()),createTime:Nh(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Rh(e.version)};else{if(!e.isUnknownDocument())return xn();i.unknownDocument={path:t.path.toArray(),version:Rh(e.version)}}var r,a;return i}function w0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vm(n){const e=new oo(n.seconds,n.nanoseconds);return wn.fromTimestamp(e)}function ym(n,e){const t=(e.baseMutations||[]).map(a=>_0(n.fe,a));for(let a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);const i=e.mutations.map(a=>_0(n.fe,a)),r=oo.fromMillis(e.localWriteTimeMs);return new Bw(e.batchId,r,t,i)}function mv(n){const e=vm(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vm(n.lastLimboFreeSnapshotVersion):wn.min();let i;var r;return void 0!==n.query.documents?(Vn(1===(r=n.query).documents.length),i=Gl(om(m0(r.documents[0])))):i=Gl(Qw(n.query)),new xh(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,na.fromBase64String(n.resumeToken))}function BI(n,e){const t=Rh(e.snapshotVersion),i=Rh(e.lastLimboFreeSnapshotVersion);let r;r=sm(e.target)?v0(n.fe,e.target):_m(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:$p(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function C0(n){const e=Qw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nv(e,e.limit,"L"):e}function Jw(n,e){return new Vw(e.largestBatchId,_0(n.fe,e.overlayMutation))}function ia(n,e){const t=e.path.lastSegment();return[n,el(e.path.popLast()),t]}function eC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Rh(i.readTime),documentKey:el(i.documentKey.path),largestBatchId:i.largestBatchId}}class oM{getBundleMetadata(e,t){return jI(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:vm(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return jI(e).put({bundleId:(i=t).id,createTime:Rh(To(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return tC(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:C0(r.bundledQuery),readTime:vm(r.readTime)};var r})}saveNamedQuery(e,t){return tC(e).put({name:(i=t).name,readTime:Rh(To(i.readTime)),bundledQuery:i.bundledQuery});var i}}function jI(n){return Va(n,"bundles")}function tC(n){return Va(n,"namedQueries")}class E0{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new E0(e,t.uid||"")}getOverlay(e,t){return bm(e).get(ia(this.userId,t)).next(i=>i?Jw(this.serializer,i):null)}getOverlays(e,t){const i=gu();return Et.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,d)=>{const m=new Vw(t,d);r.push(this.we(e,m))}),Et.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(d=>r.add(el(d.getCollectionPath())));const a=[];return r.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);a.push(bm(e).J("collectionPathOverlayIndex",m))}),Et.waitFor(a)}getOverlaysForCollection(e,t,i){const r=gu(),a=el(t),d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return bm(e).j("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const T=Jw(this.serializer,w);r.set(T.getKey(),T)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=gu();let d;const m=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bm(e).X({index:"collectionGroupOverlayIndex",range:m},(w,T,B)=>{const Y=Jw(this.serializer,T);a.size()<r||Y.largestBatchId===d?(a.set(Y.getKey(),Y),d=Y.largestBatchId):B.done()}).next(()=>a)}we(e,t){return bm(e).put(function(i,r,a){const[d,m,w]=ia(r,a.mutation.key);return{userId:r,collectionPath:m,documentId:w,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:pv(i.fe,a.mutation)}}(this.serializer,this.userId,t))}}function bm(n){return Va(n,"documentOverlays")}class Gf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(So(e.integerValue));else if("doubleValue"in e){const i=So(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Hy(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Pd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Jy(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):xn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),mn.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function wm(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function VI(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=wm(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Gf.Ve=new Gf;class aM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=VI(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=VI(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class UI{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class lM{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Cm{constructor(){this.je=new aM,this.ze=new UI(this.je),this.We=new lM(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Em{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Em(this.indexId,this.documentKey,this.arrayValue,i)}}function Fd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=I0(n.arrayValue,e.arrayValue),0!==t?t:(t=I0(n.directionalValue,e.directionalValue),0!==t?t:mn.comparator(n.documentKey,e.documentKey)))}function I0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class Qu{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Vn(e.collectionGroup===this.collectionId);const t=Vy(e);if(void 0!==t&&!this.en(t))return!1;const i=jp(e);let r=new Set,a=0,d=0;for(;a<i.length&&this.en(i[a]);++a)r=r.add(i[a].fieldPath.canonicalString());if(a===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const m=i[a];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++a}for(;a<i.length;++a)if(d>=this.Ye.length||!this.sn(this.Ye[d++],i[a]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function zI(n){var e,t;if(Vn(n instanceof Gi||n instanceof Qr),n instanceof Gi){if(n instanceof pI){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Gi.create(n.field,"==",a)))||[];return Qr.create(r,"or")}return n}const i=n.filters.map(r=>zI(r));return Qr.create(i,n.op)}function GI(n){if(0===n.getFilters().length)return[];const e=D0(zI(n));return Vn(vu(e)),_u(e)||Gc(e)?[e]:e.getFilters()}function _u(n){return n instanceof Gi}function Gc(n){return n instanceof Qr&&t0(n)}function vu(n){return _u(n)||Gc(n)||function(e){if(e instanceof Qr&&Sw(e)){for(const t of e.getFilters())if(!_u(t)&&!Gc(t))return!1;return!0}return!1}(n)}function D0(n){if(Vn(n instanceof Gi||n instanceof Qr),n instanceof Gi)return n;if(1===n.filters.length)return D0(n.filters[0]);const e=n.filters.map(i=>D0(i));let t=Qr.create(e,n.op);return t=T0(t),vu(t)?t:(Vn(t instanceof Qr),Vn(im(t)),Vn(t.filters.length>1),t.filters.reduce((i,r)=>S0(i,r)))}function S0(n,e){let t;return Vn(n instanceof Gi||n instanceof Qr),Vn(e instanceof Gi||e instanceof Qr),t=n instanceof Gi?e instanceof Gi?Qr.create([n,e],"and"):HI(n,e):e instanceof Gi?HI(e,n):function(i,r){if(Vn(i.filters.length>0&&r.filters.length>0),im(i)&&im(r))return Mw(i,r.getFilters());const a=Sw(i)?i:r,d=Sw(i)?r:i,m=a.filters.map(w=>S0(w,d));return Qr.create(m,"or")}(n,e),T0(t)}function HI(n,e){if(im(e))return Mw(e,n.getFilters());{const t=e.filters.map(i=>S0(n,i));return Qr.create(t,"or")}}function T0(n){if(Vn(n instanceof Gi||n instanceof Qr),n instanceof Gi)return n;const e=n.getFilters();if(1===e.length)return T0(e[0]);if(Tw(n))return n;const t=e.map(r=>T0(r)),i=[];return t.forEach(r=>{r instanceof Gi?i.push(r):r instanceof Qr&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Qr.create(i,n.op)}class cM{constructor(){this.rn=new nC}addToCollectionParentIndex(e,t){return this.rn.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(ja.min())}updateCollectionGroup(e,t,i){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class nC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new zs(er.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new zs(er.comparator)).toArray()}}const Im=new Uint8Array(0);class _v{constructor(e,t){this.user=e,this.databaseId=t,this.on=new nC,this.un=new Ua(i=>$p(i),(i,r)=>rm(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:i,parent:el(r)};return $I(e).put(a)}return Et.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[XE(t),""],!1,!0);return $I(e).j(r).next(a=>{for(const d of a){if(d.collectionId!==t)break;i.push(qu(d.parent))}return i})}addFieldIndex(e,t){const i=M0(e),r={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete r.indexId;const a=i.add(r);if(t.indexState){const d=vv(e);return a.next(m=>{d.put(eC(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=M0(e),r=vv(e),a=Dm(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Dm(e);let r=!0;const a=new Map;return Et.forEach(this.cn(t),d=>this.an(e,d).next(m=>{r&&(r=!!m),a.set(d,m)})).next(()=>{if(r){let d=ai();const m=[];return Et.forEach(a,(w,T)=>{var B;qt("IndexedDbIndexManager",`Using index ${B=w,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(On=>`${On.fieldPath}:${On.kind}`).join(",")}`} to execute ${$p(t)}`);const Y=function(On,Bn){const wi=Vy(Bn);if(void 0===wi)return null;for(const fi of n0(On,wi.fieldPath))switch(fi.op){case"array-contains-any":return fi.value.arrayValue.values||[];case"array-contains":return[fi.value]}return null}(T,w),pe=function(On,Bn){const wi=new Map;for(const fi of jp(Bn))for(const Pr of n0(On,fi.fieldPath))switch(Pr.op){case"==":case"in":wi.set(fi.fieldPath.canonicalString(),Pr.value);break;case"not-in":case"!=":return wi.set(fi.fieldPath.canonicalString(),Pr.value),Array.from(wi.values())}return null}(T,w),xe=function(On,Bn){const wi=[];let fi=!0;for(const Pr of jp(Bn)){const al=0===Pr.kind?ev(On,Pr.fieldPath,On.startAt):gI(On,Pr.fieldPath,On.startAt);wi.push(al.value),fi&&(fi=al.inclusive)}return new Xu(wi,fi)}(T,w),Je=function(On,Bn){const wi=[];let fi=!0;for(const Pr of jp(Bn)){const al=0===Pr.kind?gI(On,Pr.fieldPath,On.endAt):ev(On,Pr.fieldPath,On.endAt);wi.push(al.value),fi&&(fi=al.inclusive)}return new Xu(wi,fi)}(T,w),vt=this.hn(w,T,xe),Lt=this.hn(w,T,Je),fn=this.ln(w,T,pe),Dn=this.fn(w.indexId,Y,vt,xe.inclusive,Lt,Je.inclusive,fn);return Et.forEach(Dn,On=>i.H(On,t.limit).next(Bn=>{Bn.forEach(wi=>{const fi=mn.fromSegments(wi.documentKey);d.has(fi)||(d=d.add(fi),m.push(fi))})}))}).next(()=>m)}return Et.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:GI(Qr.create(e.filters,"and")).map(i=>Ow(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,a,d,m){const w=(null!=t?t.length:1)*Math.max(i.length,a.length),T=w/(null!=t?t.length:1),B=[];for(let Y=0;Y<w;++Y){const pe=t?this.dn(t[Y/T]):Im,xe=this.wn(e,pe,i[Y%T],r),Je=this._n(e,pe,a[Y%T],d),vt=m.map(Lt=>this.wn(e,pe,Lt,!0));B.push(...this.createRange(xe,Je,vt))}return B}wn(e,t,i,r){const a=new Em(e,mn.empty(),t,i);return r?a:a.Je()}_n(e,t,i,r){const a=new Em(e,mn.empty(),t,i);return r?a.Je():a}an(e,t){const i=new Qu(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let d=null;for(const m of a)i.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let i=2;const r=this.cn(t);return Et.forEach(r,a=>this.an(e,a).next(d=>{d?0!==i&&d.fields.length<function(m){let w=new zs(Do.comparator),T=!1;for(const B of m.filters)for(const Y of B.getFlattenedFilters())Y.field.isKeyField()||("array-contains"===Y.op||"array-contains-any"===Y.op?T=!0:w=w.add(Y.field));for(const B of m.orderBy)B.field.isKeyField()||(w=w.add(B.field));return w.size+(T?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Cm;for(const r of jp(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const d=i.He(r.kind);Gf.Ve._e(a,d)}return i.Qe()}dn(e){const t=new Cm;return Gf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Cm;return Gf.Ve._e(xd(this.databaseId,t),i.He(function(r){const a=jp(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Cm);let a=0;for(const d of jp(e)){const m=i[a++];for(const w of r)if(this.yn(t,d.fieldPath)&&Zy(m))r=this.pn(r,d,m);else{const T=w.He(d.kind);Gf.Ve._e(m,T)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],a=[];for(const d of i.arrayValue.values||[])for(const m of r){const w=new Cm;w.seed(m.Qe()),Gf.Ve._e(d,w.He(t.kind)),a.push(w)}return a}yn(e,t){return!!e.filters.find(i=>i instanceof Gi&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=M0(e),r=vv(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(a=>{const d=[];return Et.forEach(a,m=>r.get([m.indexId,this.uid]).next(w=>{d.push(function(T,B){const Y=B?new Yg(B.sequenceNumber,new ja(vm(B.readTime),new mn(qu(B.documentKey)),B.largestBatchId)):Yg.empty(),pe=T.fields.map(([xe,Je])=>new W_(Do.fromServerFormat(xe),Je));return new $_(T.indexId,T.collectionGroup,pe,Y)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Yn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=M0(e),a=vv(e);return this.Tn(e).next(d=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Et.forEach(m,w=>a.put(eC(w.indexId,this.user,d,i)))))}updateIndexEntries(e,t){const i=new Map;return Et.forEach(t,(r,a)=>{const d=i.get(r.collectionGroup);return(d?Et.resolve(d):this.getFieldIndexes(e,r.collectionGroup)).next(m=>(i.set(r.collectionGroup,m),Et.forEach(m,w=>this.En(e,r,w).next(T=>{const B=this.An(a,w);return T.isEqual(B)?Et.resolve():this.vn(e,a,w,T,B)}))))})}Rn(e,t,i,r){return Dm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Dm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Dm(e);let a=new zs(Fd);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(d,m)=>{a=a.add(new Em(i.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}An(e,t){let i=new zs(Fd);const r=this.mn(t,e);if(null==r)return i;const a=Vy(t);if(null!=a){const d=e.data.field(a.fieldPath);if(Zy(d))for(const m of d.arrayValue.values||[])i=i.add(new Em(t.indexId,e.key,this.dn(m),r))}else i=i.add(new Em(t.indexId,e.key,Im,r));return i}vn(e,t,i,r,a){qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,T,B,Y){const pe=m.getIterator(),xe=w.getIterator();let Je=Jg(pe),vt=Jg(xe);for(;Je||vt;){let Lt=!1,fn=!1;if(Je&&vt){const Dn=T(Je,vt);Dn<0?fn=!0:Dn>0&&(Lt=!0)}else null!=Je?fn=!0:Lt=!0;Lt?(B(vt),vt=Jg(xe)):fn?(Y(Je),Je=Jg(pe)):(Je=Jg(pe),vt=Jg(xe))}}(r,a,Fd,m=>{d.push(this.Rn(e,t,i,m))},m=>{d.push(this.Pn(e,t,i,m))}),Et.waitFor(d)}Tn(e){let t=1;return vv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,m)=>Fd(d,m)).filter((d,m,w)=>!m||0!==Fd(d,w[m-1]));const r=[];r.push(e);for(const d of i){const m=Fd(d,e),w=Fd(d,t);if(0===m)r[0]=e.Je();else if(m>0&&w<0)r.push(d),r.push(d.Je());else if(w>0)break}r.push(t);const a=[];for(let d=0;d<r.length;d+=2){if(this.bn(r[d],r[d+1]))return[];a.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,Im,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,Im,[]]))}return a}bn(e,t){return Fd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iC)}getMinOffset(e,t){return Et.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||xn())).next(iC)}}function $I(n){return Va(n,"collectionParents")}function Dm(n){return Va(n,"indexEntries")}function M0(n){return Va(n,"indexConfiguration")}function vv(n){return Va(n,"indexState")}function iC(n){Vn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Yu(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ja(e.readTime,e.documentKey,t)}const rC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class va{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new va(e,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function WI(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=i.X({range:d},(B,Y,pe)=>(m++,pe.delete()));a.push(w.next(()=>{Vn(1===m)}));const T=[];for(const B of t.mutations){const Y=fw(e,B.key.path,t.batchId);a.push(r.delete(Y)),T.push(B.key)}return Et.waitFor(a).next(()=>T)}function yv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw xn();e=n.noDocument}return JSON.stringify(e).length}va.DEFAULT_COLLECTION_PERCENTILE=10,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,va.DEFAULT=new va(41943040,va.DEFAULT_COLLECTION_PERCENTILE,va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),va.DISABLED=new va(-1,0,0);class bv{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Vn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new bv(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hf(e).X({index:"userMutationsIndex",range:i},(r,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Sm(e),d=Hf(e);return d.add({}).next(m=>{Vn("number"==typeof m);const w=new Bw(m,t,i,r),T=function(pe,xe,Je){const vt=Je.baseMutations.map(fn=>pv(pe.fe,fn)),Lt=Je.mutations.map(fn=>pv(pe.fe,fn));return{userId:xe,batchId:Je.batchId,localWriteTimeMs:Je.localWriteTime.toMillis(),baseMutations:vt,mutations:Lt}}(this.serializer,this.userId,w),B=[];let Y=new zs((pe,xe)=>Yn(pe.canonicalString(),xe.canonicalString()));for(const pe of r){const xe=fw(this.userId,pe.key.path,m);Y=Y.add(pe.key.path.popLast()),B.push(d.put(T)),B.push(a.put(xe,tI))}return Y.forEach(pe=>{B.push(this.indexManager.addToCollectionParentIndex(e,pe))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),Et.waitFor(B).next(()=>w)})}lookupMutationBatch(e,t){return Hf(e).get(t).next(i=>i?(Vn(i.userId===this.userId),ym(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?Et.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Hf(e).X({index:"userMutationsIndex",range:r},(d,m,w)=>{m.userId===this.userId&&(Vn(m.batchId>=i),a=ym(this.serializer,m)),w.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Hf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,a,d)=>{i=a.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hf(e).j("userMutationsIndex",t).next(i=>i.map(r=>ym(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=$y(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Sm(e).X({range:r},(d,m,w)=>{const[T,B,Y]=d,pe=qu(B);if(T===this.userId&&t.path.isEqual(pe))return Hf(e).get(Y).next(xe=>{if(!xe)throw xn();Vn(xe.userId===this.userId),a.push(ym(this.serializer,xe))});w.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zs(Yn);const r=[];return t.forEach(a=>{const d=$y(this.userId,a.path),m=IDBKeyRange.lowerBound(d),w=Sm(e).X({range:m},(T,B,Y)=>{const[pe,xe,Je]=T,vt=qu(xe);pe===this.userId&&a.path.isEqual(vt)?i=i.add(Je):Y.done()});r.push(w)}),Et.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=$y(this.userId,i),d=IDBKeyRange.lowerBound(a);let m=new zs(Yn);return Sm(e).X({range:d},(w,T,B)=>{const[Y,pe,xe]=w,Je=qu(pe);Y===this.userId&&i.isPrefixOf(Je)?Je.length===r&&(m=m.add(xe)):B.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Hf(e).get(a).next(d=>{if(null===d)throw xn();Vn(d.userId===this.userId),i.push(ym(this.serializer,d))}))}),Et.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return WI(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Et.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Et.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Sm(e).X({range:i},(a,d,m)=>{if(a[0]===this.userId){const w=qu(a[1]);r.push(w)}else m.done()}).next(()=>{Vn(0===r.length)})})}containsKey(e,t){return sC(e,this.userId,t)}xn(e){return A0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sC(n,e,t){const i=$y(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let d=!1;return Sm(n).X({range:a,Y:!0},(m,w,T)=>{const[B,Y,pe]=m;B===e&&Y===r&&(d=!0),T.done()}).next(()=>d)}function Hf(n){return Va(n,"mutations")}function Sm(n){return Va(n,"documentMutations")}function A0(n){return Va(n,"mutationQueues")}class Bd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Bd(0)}static Mn(){return new Bd(-1)}}class oC{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Bd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>wn.fromTimestamp(new oo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jp(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Vn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return Jp(e).X((d,m)=>{const w=mv(m);w.sequenceNumber<=t&&null===i.get(w.targetId)&&(r++,a.push(this.removeTargetData(e,w)))}).next(()=>Et.waitFor(a)).next(()=>r)}forEachTarget(e,t){return Jp(e).X((i,r)=>{const a=mv(r);t(a)})}$n(e){return aC(e).get("targetGlobalKey").next(t=>(Vn(null!==t),t))}On(e,t){return aC(e).put("targetGlobalKey",t)}Fn(e,t){return Jp(e).put(BI(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=$p(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return Jp(e).X({range:r,index:"queryTargetsIndex"},(d,m,w)=>{const T=mv(m);rm(t,T.target)&&(a=T,w.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=kh(e);return t.forEach(d=>{const m=el(d.path);r.push(a.put({targetId:i,path:m})),r.push(this.referenceDelegate.addReference(e,i,d))}),Et.waitFor(r)}removeMatchingKeys(e,t,i){const r=kh(e);return Et.forEach(t,a=>{const d=el(a.path);return Et.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=kh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=kh(e);let a=ai();return r.X({range:i,Y:!0},(d,m,w)=>{const T=qu(d[1]),B=new mn(T);a=a.add(B)}).next(()=>a)}containsKey(e,t){const i=el(t.path),r=IDBKeyRange.bound([i],[XE(i)],!1,!0);let a=0;return kh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([d,m],w,T)=>{0!==d&&(a++,T.done())}).next(()=>a>0)}le(e,t){return Jp(e).get(t).next(i=>i?mv(i):null)}}function Jp(n){return Va(n,"targets")}function aC(n){return Va(n,"targetGlobal")}function kh(n){return Va(n,"targetDocuments")}function lC([n,e],[t,i]){const r=Yn(n,t);return 0===r?Yn(e,i):r}class KI{constructor(e){this.Ln=e,this.buffer=new zs(lC),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;qt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ot.A)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Sh(i)?qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Af(i)}yield t.Qn(3e5)}))}}class YI{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return Et.resolve(Uc.ct);const i=new KI(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(rC)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,a,d,m,w,T;const B=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Y=>(Y>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Y}`),r=this.params.maximumSequenceNumbersToCollect):r=Y,d=Date.now(),this.nthSequenceNumber(e,r))).next(Y=>(i=Y,m=Date.now(),this.removeTargets(e,i,t))).next(Y=>(a=Y,w=Date.now(),this.removeOrphanedDocuments(e,i))).next(Y=>(T=Date.now(),G_()<=ne.$b.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-B}ms\n\tDetermined least recently used ${r} in `+(m-d)+`ms\n\tRemoved ${a} targets in `+(w-m)+`ms\n\tRemoved ${Y} documents in `+(T-w)+`ms\nTotal Duration: ${T-B}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:Y})))}}class qI{constructor(e,t){this.db=e,this.garbageCollector=function uC(n,e){return new YI(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return O0(e,i)}removeReference(e,t,i){return O0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return O0(e,t)}Xn(e,t){return function(i,r){let a=!1;return A0(i).Z(d=>sC(i,d,r).next(m=>(m&&(a=!0),Et.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Yn(e,(d,m)=>{if(m<=t){const w=this.Xn(e,d).next(T=>{if(!T)return a++,i.getEntry(e,d).next(()=>(i.removeEntry(d,wn.min()),kh(e).delete([0,el(d.path)])))});r.push(w)}}).next(()=>Et.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return O0(e,t)}Yn(e,t){const i=kh(e);let r,a=Uc.ct;return i.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:T})=>{0===d?(a!==Uc.ct&&t(new mn(qu(r)),a),a=T,r=w):a=Uc.ct}).next(()=>{a!==Uc.ct&&t(new mn(qu(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function O0(n,e){return kh(n).put((i=n.currentSequenceNumber,{targetId:0,path:el(e.path),sequenceNumber:i}));var i}class XI{constructor(){this.changes=new Ua(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?Et.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return eg(e).put(i)}removeEntry(e,t,i){return eg(e).delete(function(r,a){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],w0(a),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Gs.newInvalidDocument(t);return eg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wv(t))},(r,a)=>{i=this.ts(t,a)}).next(()=>i)}es(e,t){let i={size:0,document:Gs.newInvalidDocument(t)};return eg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(wv(t))},(r,a)=>{i={document:this.ts(t,a),size:yv(a)}}).next(()=>i)}getEntries(e,t){let i=os();return this.ns(e,t,(r,a)=>{const d=this.ts(r,a);i=i.insert(r,d)}).next(()=>i)}ss(e,t){let i=os(),r=new ws(mn.comparator);return this.ns(e,t,(a,d)=>{const m=this.ts(a,d);i=i.insert(a,m),r=r.insert(a,yv(d))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return Et.resolve();let r=new zs(eD);t.forEach(w=>r=r.add(w));const a=IDBKeyRange.bound(wv(r.first()),wv(r.last())),d=r.getIterator();let m=d.getNext();return eg(e).X({index:"documentKeyIndex",range:a},(w,T,B)=>{const Y=mn.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;m&&eD(m,Y)<0;)i(m,null),m=d.getNext();m&&m.isEqual(Y)&&(i(m,T),m=d.hasNext()?d.getNext():null),m?B.G(wv(m)):B.done()}).next(()=>{for(;m;)i(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,d=[a.popLast().toArray(),a.lastSegment(),w0(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eg(e).j(IDBKeyRange.bound(d,m,!0)).next(w=>{let T=os();for(const B of w){const Y=this.ts(mn.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);Y.isFoundDocument()&&(iv(t,Y)||r.has(Y.key))&&(T=T.insert(Y.key,Y))}return T})}getAllFromCollectionGroup(e,t,i,r){let a=os();const d=JI(t,i),m=JI(t,ja.max());return eg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,T,B)=>{const Y=this.ts(mn.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);a=a.insert(Y.key,Y),a.size===r&&B.done()}).next(()=>a)}newChangeBuffer(e){return new dM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZI(e).get("remoteDocumentGlobalKey").next(t=>(Vn(!!t),t))}Zn(e,t){return ZI(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function Zp(n,e){let t;if(e.document)t=Xw(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=mn.fromSegments(e.noDocument.path),r=vm(e.noDocument.readTime);t=Gs.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return xn();{const i=mn.fromSegments(e.unknownDocument.path),r=vm(e.unknownDocument.version);t=Gs.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new oo(i[0],i[1]);return wn.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(wn.min()))return i}return Gs.newInvalidDocument(e)}}function QI(n){return new uM(n)}class dM extends XI{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ua(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new zs((a,d)=>Yn(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const m=this.us.get(a);if(t.push(this.os.removeEntry(e,a,m.readTime)),d.isValidDocument()){const w=b0(this.os.serializer,d);r=r.add(a.path.popLast());const T=yv(w);i+=T-m.size,t.push(this.os.addEntry(e,a,w))}else if(i-=m.size,this.trackRemovals){const w=b0(this.os.serializer,d.convertToNoDocument(wn.min()));t.push(this.os.addEntry(e,a,w))}}),r.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,i)),Et.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((a,d)=>{this.us.set(a,{size:d,readTime:i.get(a).readTime})}),i))}}function ZI(n){return Va(n,"remoteDocumentGlobal")}function eg(n){return Va(n,"remoteDocumentsV14")}function wv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function JI(n,e){const t=e.documentKey.path.toArray();return[n,w0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function eD(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Yn(t[a],i[a]),r)return r;return r=Yn(t.length,i.length),r||(r=Yn(t[t.length-2],i[i.length-2]),r||Yn(t[t.length-1],i[i.length-1]))}class hM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tD{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Xp(i.mutation,r,pc.empty(),oo.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ai()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ai()){const r=gu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let d=Bf();return a.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=gu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ai()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,i,r){let a=os();const d=Rd(),m=Rd();return t.forEach((w,T)=>{const B=i.get(T.key);r.has(T.key)&&(void 0===B||B.mutation instanceof kd)?a=a.insert(T.key,T):void 0!==B?(d.set(T.key,B.mutation.getFieldMask()),Xp(B.mutation,T,B.mutation.getFieldMask(),oo.now())):d.set(T.key,pc.empty())}),this.recalculateAndSaveOverlays(e,a).next(w=>(w.forEach((T,B)=>d.set(T,B)),t.forEach((T,B)=>{var Y;return m.set(T,new hM(B,null!==(Y=d.get(T))&&void 0!==Y?Y:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Rd();let r=new ws((d,m)=>d-m),a=ai();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const T=t.get(w);if(null===T)return;let B=i.get(w)||pc.empty();B=m.applyToLocalView(T,B),i.set(w,B);const Y=(r.get(m.batchId)||ai()).add(w);r=r.insert(m.batchId,Y)})}).next(()=>{const d=[],m=r.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),T=w.key,B=w.value,Y=Wp();B.forEach(pe=>{if(!a.has(pe)){const xe=CI(t.get(pe),i.get(pe));null!==xe&&Y.set(pe,xe),a=a.add(pe)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,Y))}return Et.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return mn.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):r0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const d=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):Et.resolve(gu());let m=-1,w=a;return d.next(T=>Et.forEach(T,(B,Y)=>(m<Y.largestBatchId&&(m=Y.largestBatchId),a.get(B)?Et.resolve():this.remoteDocumentCache.getEntry(e,B).next(pe=>{w=w.insert(B,pe)}))).next(()=>this.populateOverlays(e,T,a)).next(()=>this.computeViews(e,w,T,ai())).next(B=>({batchId:m,changes:zc(B)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mn(t)).next(i=>{let r=Bf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Bf();return this.indexManager.getCollectionParents(e,r).next(d=>Et.forEach(d,m=>{const w=(T=t,B=m.child(r),new Ah(B,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,B;return this.getDocumentsMatchingCollectionQuery(e,w,i).next(T=>{T.forEach((B,Y)=>{a=a.insert(B,Y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((m,w)=>{const T=w.getKey();null===a.get(T)&&(a=a.insert(T,Gs.newInvalidDocument(T)))});let d=Bf();return a.forEach((m,w)=>{const T=r.get(m);void 0!==T&&Xp(T.mutation,w,pc.empty(),oo.now()),iv(t,w)&&(d=d.insert(m,w))}),d})}}class fM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Et.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:To(i.createTime)}),Et.resolve()}getNamedQuery(e,t){return Et.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:C0(i.bundledQuery),readTime:To(i.readTime)}),Et.resolve();var i}}class pM{constructor(){this.overlays=new ws(mn.comparator),this.ls=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const i=gu();return Et.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.we(e,t,a)}),Et.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(i)),Et.resolve()}getOverlaysForCollection(e,t,i){const r=gu(),a=t.length+1,d=new mn(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,T=w.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===a&&w.largestBatchId>i&&r.set(w.getKey(),w)}return Et.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ws((T,B)=>T-B);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>i){let B=a.get(T.largestBatchId);null===B&&(B=gu(),a=a.insert(T.largestBatchId,B)),B.set(T.getKey(),T)}}const m=gu(),w=a.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((T,B)=>m.set(T,B)),!(m.size()>=r)););return Et.resolve(m)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new Vw(t,i));let a=this.ls.get(t);void 0===a&&(a=ai(),this.ls.set(t,a)),this.ls.set(t,a.add(i.key))}}class dC{constructor(){this.fs=new zs(za.ds),this.ws=new zs(za._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new za(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new za(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new mn(new er([])),i=new za(t,e),r=new za(t,e+1),a=[];return this.ws.forEachInRange([i,r],d=>{this.ys(d),a.push(d.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new mn(new er([])),i=new za(t,e),r=new za(t,e+1);let a=ai();return this.ws.forEachInRange([i,r],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new za(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class za{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return mn.comparator(e.key,t.key)||Yn(e.As,t.As)}static _s(e,t){return Yn(e.As,t.As)||mn.comparator(e.key,t.key)}}class nD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new zs(za.ds)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.vs;this.vs++;const d=new Bw(a,t,i,r);this.mutationQueue.push(d);for(const m of r)this.Rs=this.Rs.add(new za(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Et.resolve(d)}lookupMutationBatch(e,t){return Et.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),a=r<0?0:r;return Et.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new za(t,0),r=new za(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([i,r],d=>{const m=this.Ps(d.As);a.push(m)}),Et.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zs(Yn);return t.forEach(r=>{const a=new za(r,0),d=new za(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,d],m=>{i=i.add(m.As)})}),Et.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;mn.isDocumentKey(a)||(a=a.child(""));const d=new za(new mn(a),0);let m=new zs(Yn);return this.Rs.forEachWhile(w=>{const T=w.key.path;return!!i.isPrefixOf(T)&&(T.length===r&&(m=m.add(w.As)),!0)},d),Et.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Vn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return Et.forEach(t.mutations,r=>{const a=new za(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new za(t,0),r=this.Rs.firstAfterOrEqual(i);return Et.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Et.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iD{constructor(e){this.Ds=e,this.docs=new ws(mn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,d=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Et.resolve(i?i.document.mutableCopy():Gs.newInvalidDocument(t))}getEntries(e,t){let i=os();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Gs.newInvalidDocument(r))}),Et.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=os();const d=t.path,m=new mn(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:T,value:{document:B}}=w.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||Yu(cw(B),i)<=0||(r.has(B.key)||iv(t,B))&&(a=a.insert(B.key,B.mutableCopy()))}return Et.resolve(a)}getAllFromCollectionGroup(e,t,i,r){xn()}Cs(e,t){return Et.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new rD(this)}getSize(e){return Et.resolve(this.size)}}class rD extends XI{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),Et.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class sD{constructor(e){this.persistence=e,this.xs=new Ua(t=>$p(t),rm),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new dC,this.targetCount=0,this.Ms=Bd.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),Et.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Fn(t),Et.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===i.get(m.targetId)&&(this.xs.delete(d),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),r++)}),Et.waitFor(a).next(()=>r)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return Et.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),Et.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(d=>{a.push(r.markPotentiallyOrphaned(e,d))}),Et.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return Et.resolve(i)}containsKey(e,t){return Et.resolve(this.ks.containsKey(t))}}class N0{constructor(e,t){this.$s={},this.overlays={},this.Os=new Uc(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new sD(this),this.indexManager=new cM,this.remoteDocumentCache=new iD(i=>this.referenceDelegate.Ls(i)),this.serializer=new y0(t),this.qs=new fM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new nD(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){qt("MemoryPersistence","Starting transaction:",e);const r=new oD(this.Os.next());return this.referenceDelegate.Us(),i(r).next(a=>this.referenceDelegate.Ks(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Gs(e,t){return Et.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class oD extends ZE{constructor(e){super(),this.currentSequenceNumber=e}}class Cv{constructor(e){this.persistence=e,this.Qs=new dC,this.js=null}static zs(e){return new Cv(e)}get Ws(){if(this.js)return this.js;throw xn()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),Et.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Et.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ws.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Ws,i=>{const r=mn.fromPath(i);return this.Hs(e,r).next(a=>{a||t.removeEntry(r,wn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Et.or([()=>Et.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class aD{constructor(e){this.serializer=e}O(e,t,i,r){const a=new qg("createOrUpgrade",t);var m;i<1&&r>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hw,{unique:!0}),m.createObjectStore("documentMutations"),P0(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Et.resolve();return i<3&&r>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),P0(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wn.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",T)}(a))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(m,w){return w.store("mutations").j().next(T=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",hw,{unique:!0});const B=w.store("mutations"),Y=T.map(pe=>B.put(pe));return Et.waitFor(Y)})}(e,a))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Ys(a))),i<6&&r>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),i<7&&r>=7&&(d=d.next(()=>this.Zs(a))),i<8&&r>=8&&(d=d.next(()=>this.ti(e,a))),i<9&&r>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(d=d.next(()=>this.ei(a))),i<11&&r>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:gw});w.createIndex("collectionPathOverlayIndex",mw,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",_w,{unique:!1})}(e)})),i<13&&r>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:yi});w.createIndex("documentKeyIndex",nI),w.createIndex("collectionGroupIndex",iI)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.si(e,a))),i<15&&r>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Zg}).createIndex("sequenceNumberIndex",pw,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Y_}).createIndex("documentKeyIndex",sI,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=yv(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>Et.forEach(r,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",d).next(m=>Et.forEach(m,w=>{Vn(w.userId===a.userId);const T=ym(this.serializer,w);return WI(e,a.userId,T).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.X((d,m)=>{const w=new er(d),T=[0,el(w)];a.push(t.get(T).next(B=>B?Et.resolve():t.put({targetId:0,path:el(w),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Et.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Wy});const i=t.store("collectionParents"),r=new nC,a=d=>{if(r.add(d)){const m=d.lastSegment(),w=d.popLast();return i.put({collectionId:m,parent:el(w)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const w=new er(d);return a(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,w],T)=>{const B=qu(m);return a(B.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const a=mv(r),d=BI(this.serializer,a);return t.put(d)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((a,d)=>{const m=t.store("remoteDocumentsV14"),w=(T=d,T.document?new mn(er.fromString(T.document.name).popFirst(5)):T.noDocument?mn.fromSegments(T.noDocument.path):T.unknownDocument?mn.fromSegments(T.unknownDocument.path):xn()).path.toArray();var T;const B={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(m.put(B))}).next(()=>Et.waitFor(r))}si(e,t){const i=t.store("mutations"),r=QI(this.serializer),a=new N0(Cv.zs,this.serializer.fe);return i.j().next(d=>{const m=new Map;return d.forEach(w=>{var T;let B=null!==(T=m.get(w.userId))&&void 0!==T?T:ai();ym(this.serializer,w).keys().forEach(Y=>B=B.add(Y)),m.set(w.userId,B)}),Et.forEach(m,(w,T)=>{const B=new Ba(T),Y=E0.de(this.serializer,B),pe=a.getIndexManager(B),xe=bv.de(B,this.serializer,pe,a.referenceDelegate);return new tD(r,xe,Y,pe).recalculateAndSaveOverlaysForDocumentKeys(new Ky(t,Uc.ct),w).next()})})}}function P0(n){n.createObjectStore("targetDocuments",{keyPath:rI}).createIndex("documentTargetsIndex",BT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qg,{unique:!0}),n.createObjectStore("targetGlobal")}const Iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,t,i,r,a,d,m,w,T,B,Y=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=a,this.window=d,this.document=m,this.ri=T,this.oi=B,this.ui=Y,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=pe=>Promise.resolve(),!Lh.D())throw new Wt(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qI(this,r),this.di=t+"main",this.serializer=new y0(w),this.wi=new zl(this.di,this.ui,new aD(this.serializer)),this.Bs=new oC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=QI(this.serializer),this.qs=new oM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===B&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wt(Mt.FAILED_PRECONDITION,Iv);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Uc(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,Ot.A)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ot.A)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ot.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>x0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Sh(e))return qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Dv(e).get("owner").next(t=>Et.resolve(this.Ri(t)))}Pi(e){return x0(e).delete(this.clientId)}bi(){var e=this;return(0,Ot.A)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Va(i,"clientMetadata");return r.j().next(a=>{const d=e.Si(a,18e5),m=a.filter(w=>-1===d.indexOf(w));return Et.forEach(m,w=>r.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Et.resolve(!0):Dv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Wt(Mt.FAILED_PRECONDITION,Iv);return!1}}return!(!this.networkEnabled||!this.inForeground)||x0(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ot.A)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Ky(t,Uc.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>x0(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return bv.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new _v(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return E0.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){qt("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(d=this.ui)?jT:14===d?aI:13===d?oI:12===d?yw:11===d?vw:void xn();var d;let m;return this.wi.runTransaction(e,r,a,w=>(m=new Ky(w,this.Os?this.Os.next():Uc.ct),"readwrite-primary"===t?this.Ti(m).next(T=>!!T||this.Ei(m)).next(T=>{if(!T)throw Io(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Wt(Mt.FAILED_PRECONDITION,Vp);return i(m)}).next(T=>this.vi(m).next(()=>T)):this.Oi(m).next(()=>i(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return Dv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Wt(Mt.FAILED_PRECONDITION,Iv)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dv(e).put("owner",t)}static D(){return zl.D()}Ai(e){const t=Dv(e);return t.get("owner").next(i=>this.Ri(i)?(qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Et.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Io(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,C.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return qt("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Io("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Io("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dv(n){return Va(n,"owner")}function x0(n){return Va(n,"clientMetadata")}function $f(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class lD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=ai(),r=ai();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new lD(e,t.fromCache,i,r)}}class R0{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(a=>a||this.Gi(e,t,r,i)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(_I(t))return Et.resolve(null);let i=Gl(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=nv(t,null,"F"),i=Gl(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const d=ai(...a);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,i).next(w=>{const T=this.ji(t,m);return this.zi(t,T,d,w.readTime)?this.Ki(e,nv(t,null,"F")):this.Wi(e,T,t,w)}))})))}Gi(e,t,i,r){return _I(t)||r.isEqual(wn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(a=>{const d=this.ji(t,a);return this.zi(t,d,i,r)?this.Qi(e,t):(G_()<=ne.$b.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lm(t)),this.Wi(e,d,t,lw(r,-1)))})}ji(e,t){let i=new zs(s0(e));return t.forEach((r,a)=>{iv(e,a)&&(i=i.add(a))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Qi(e,t){return G_()<=ne.$b.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",lm(t)),this.Ui.getDocumentsMatchingQuery(e,t,ja.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class sN{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ws(Yn),this.Yi=new Ua(a=>$p(a),rm),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function hC(n,e,t,i){return new sN(n,e,t,i)}function fC(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,Ot.A)(function*(n,e){const t=yn(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const d=[],m=[];let w=ai();for(const T of r){d.push(T.batchId);for(const B of T.mutations)w=w.add(B.key)}for(const T of a){m.push(T.batchId);for(const B of T.mutations)w=w.add(B.key)}return t.localDocuments.getDocuments(i,w).next(T=>({er:T,removedBatchIds:d,addedBatchIds:m}))})})}),cD.apply(this,arguments)}function uD(n){const e=yn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function dD(n,e,t){let i=ai(),r=ai();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let d=os();return t.forEach((m,w)=>{const T=a.get(m);w.isFoundDocument()!==T.isFoundDocument()&&(r=r.add(m)),w.isNoDocument()&&w.version.isEqual(wn.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!T.isValidDocument()||w.version.compareTo(T.version)>0||0===w.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):qt("LocalStore","Ignoring outdated watch update for ",m,". Current version:",T.version," Watch version:",w.version)}),{nr:d,sr:r}})}function Mm(n,e){const t=yn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Am(n,e){const t=yn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(a=>a?(r=a,Et.resolve(r)):t.Bs.allocateTargetId(i).next(d=>(r=new xh(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Fh(n,e,t){return Om.apply(this,arguments)}function Om(){return Om=(0,Ot.A)(function*(n,e,t){const i=yn(n),r=i.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Sh(d))throw d;qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Om.apply(this,arguments)}function il(n,e,t){const i=yn(n);let r=wn.min(),a=ai();return i.persistence.runTransaction("Execute query","readonly",d=>function(m,w,T){const B=yn(m),Y=B.Yi.get(T);return void 0!==Y?Et.resolve(B.Ji.get(Y)):B.Bs.getTargetData(w,T)}(i,d,Gl(e)).next(m=>{if(m)return r=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{a=w})}).next(()=>i.Hi.getDocumentsMatchingQuery(d,e,t?r:wn.min(),t?a:ai())).next(m=>(gC(i,yI(e),m),{documents:m,ir:a})))}function mM(n,e){const t=yn(n),i=yn(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.le(a,e).next(d=>d?d.target:null))}function pC(n,e){const t=yn(n),i=t.Xi.get(e)||wn.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,lw(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(gC(t,e,r),r))}function gC(n,e,t){let i=n.Xi.get(e)||wn.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Xi.set(e,i)}function k0(){return k0=(0,Ot.A)(function*(n,e,t,i){const r=yn(n);let a=ai(),d=os();for(const T of t){const B=e.rr(T.metadata.name);T.document&&(a=a.add(B));const Y=e.ur(T);Y.setReadTime(e.cr(T.metadata.readTime)),d=d.insert(B,Y)}const m=r.Zi.newChangeBuffer({trackRemovals:!0}),w=yield Am(r,(T=i,Gl(om(er.fromString(`__bundle__/docs/${T}`)))));var T;return r.persistence.runTransaction("Apply bundle documents","readwrite",T=>dD(T,m,d).next(B=>(m.apply(T),B)).next(B=>r.Bs.removeMatchingKeysForTargetId(T,w.targetId).next(()=>r.Bs.addMatchingKeys(T,a,w.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(T,B.nr,B.sr)).next(()=>B.nr)))}),k0.apply(this,arguments)}function hD(n,e){return L0.apply(this,arguments)}function L0(){return L0=(0,Ot.A)(function*(n,e,t=ai()){const i=yield Am(n,Gl(C0(e.bundledQuery))),r=yn(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const d=To(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.qs.saveNamedQuery(a,e);const m=i.withResumeToken(na.EMPTY_BYTE_STRING,d);return r.Ji=r.Ji.insert(m.targetId,m),r.Bs.updateTargetData(a,m).next(()=>r.Bs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Bs.addMatchingKeys(a,t,i.targetId)).next(()=>r.qs.saveNamedQuery(a,e))})}),L0.apply(this,arguments)}function mC(n,e){return`firestore_clients_${n}_${e}`}function fD(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _C(n,e){return`firestore_targets_${n}_${e}`}class F0{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let a,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new Wt(r.error.code,r.error.message))),d?new F0(e,t,r.state,a):(Io("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bh{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Wt(i.error.code,i.error.message))),a?new Bh(e,i.state,r):(Io("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class B0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=jf();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=dw(i.activeTargetIds[d]),a=a.add(i.activeTargetIds[d]);return r?new B0(e,a):(Io("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class vC{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vC(t.clientId,t.onlineState):(Io("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yC{constructor(){this.activeTargetIds=jf()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nm{constructor(e,t,i,r,a){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ws(Yn),this.started=!1,this.yr=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=mC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new yC),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ot.A)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const a=e.getItem(mC(e.persistenceKey,r));if(a){const d=B0.ar(r,a);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_C(this.persistenceKey,e));if(i){const r=Bh.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_C(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return qt("SharedClientState","READ",e,t),t}setItem(e,t){qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(qt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ot.A)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(a){let d=Uc.ct;if(null!=a)try{const m=JSON.parse(a);Vn("number"==typeof m),d=m}catch(m){Io("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(i.newValue);r!==Uc.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new F0(this.currentUser,e,t,i),a=fD(this.persistenceKey,this.currentUser,e);this.setItem(a,r.hr())}Cr(e){const t=fD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=_C(this.persistenceKey,e),a=new Bh(e,t,i);this.setItem(r,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return B0.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return F0.ar(new Ba(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Bh.ar(r,t)}br(e){return vC.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ot.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),a=this.Sr(i),d=[],m=[];return a.forEach(w=>{r.has(w)||d.push(w)}),r.forEach(w=>{a.has(w)||m.push(w)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=jf();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class bC{constructor(){this.Hr=new yC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pD{Yr(e){}shutdown(){}}class wC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let j0=null;function tg(){return null===j0?j0=268435456+Math.round(2147483648*Math.random()):j0++,"0x"+j0.toString(16)}const Sv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Cl="WebChannelConnection";class yM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,a){const d=tg(),m=this.To(e,t);qt("RestConnection",`Sending RPC '${e}' ${d}:`,m,i);const w={};return this.Eo(w,r,a),this.Ao(e,m,w,i).then(T=>(qt("RestConnection",`Received RPC '${e}' ${d}: `,T),T),T=>{throw pu("RestConnection",`RPC '${e}' ${d} failed with error: `,T,"url: ",m,"request:",i),T})}vo(e,t,i,r,a,d){return this.Io(e,t,i,r,a)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}To(e,t){return`${this.mo}/v1/${t}:${Sv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const a=tg();return new Promise((d,m)=>{const w=new PT;w.setWithCredentials(!0),w.listenOnce(NT.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case HE.NO_ERROR:const B=w.getResponseJson();qt(Cl,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(B)),d(B);break;case HE.TIMEOUT:qt(Cl,`RPC '${e}' ${a} timed out`),m(new Wt(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case HE.HTTP_ERROR:const Y=w.getStatus();if(qt(Cl,`RPC '${e}' ${a} failed with status:`,Y,"response text:",w.getResponseText()),Y>0){let pe=w.getResponseJson();Array.isArray(pe)&&(pe=pe[0]);const xe=pe?.error;if(xe&&xe.status&&xe.message){const Je=function(vt){const Lt=vt.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(Lt)>=0?Lt:Mt.UNKNOWN}(xe.status);m(new Wt(Je,xe.message))}else m(new Wt(Mt.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Wt(Mt.UNAVAILABLE,"Connection failed."));break;default:xn()}}finally{qt(Cl,`RPC '${e}' ${a} completed.`)}});const T=JSON.stringify(r);qt(Cl,`RPC '${e}' ${a} sending request:`,r),w.send(t,"POST",T,i,15)})}Ro(e,t,i){const r=tg(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=OT(),m=GE(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;void 0!==T&&(w.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(w.xmlHttpFactory=new $g({})),this.Eo(w.initMessageHeaders,t,i),w.encodeInitMessageHeaders=!0;const B=a.join("");qt(Cl,`Creating RPC '${e}' stream ${r}: ${B}`,w);const Y=d.createWebChannel(B,w);let pe=!1,xe=!1;const Je=new vM({ro:Lt=>{xe?qt(Cl,`Not sending because RPC '${e}' stream ${r} is closed:`,Lt):(pe||(qt(Cl,`Opening RPC '${e}' stream ${r} transport.`),Y.open(),pe=!0),qt(Cl,`RPC '${e}' stream ${r} sending:`,Lt),Y.send(Lt))},oo:()=>Y.close()}),vt=(Lt,fn,Dn)=>{Lt.listen(fn,On=>{try{Dn(On)}catch(Bn){setTimeout(()=>{throw Bn},0)}})};return vt(Y,Tf.EventType.OPEN,()=>{xe||qt(Cl,`RPC '${e}' stream ${r} transport opened.`)}),vt(Y,Tf.EventType.CLOSE,()=>{xe||(xe=!0,qt(Cl,`RPC '${e}' stream ${r} transport closed`),Je.wo())}),vt(Y,Tf.EventType.ERROR,Lt=>{xe||(xe=!0,pu(Cl,`RPC '${e}' stream ${r} transport errored:`,Lt),Je.wo(new Wt(Mt.UNAVAILABLE,"The operation could not be completed")))}),vt(Y,Tf.EventType.MESSAGE,Lt=>{var fn;if(!xe){const Dn=Lt.data[0];Vn(!!Dn);const Bn=Dn.error||(null===(fn=Dn[0])||void 0===fn?void 0:fn.error);if(Bn){qt(Cl,`RPC '${e}' stream ${r} received error:`,Bn);const wi=Bn.status;let fi=function(al){const Eu=ao[al];if(void 0!==Eu)return DI(Eu)}(wi),Pr=Bn.message;void 0===fi&&(fi=Mt.INTERNAL,Pr="Unknown error status: "+wi+" with message "+Bn.message),xe=!0,Je.wo(new Wt(fi,Pr)),Y.close()}else qt(Cl,`RPC '${e}' stream ${r} received:`,Dn),Je._o(Dn)}}),vt(m,z_.STAT_EVENT,Lt=>{Lt.stat===$E.PROXY?qt(Cl,`RPC '${e}' stream ${r} detected buffering proxy`):Lt.stat===$E.NOPROXY&&qt(Cl,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{Je.fo()},0),Je}}function CC(){return typeof window<"u"?window:null}function Tv(){return typeof document<"u"?document:null}function Pm(n){return new sM(n,!0)}class EC{constructor(e,t,i=1e3,r=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&qt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class IC{constructor(e,t,i,r,a,d,m,w){this.ii=e,this.$o=i,this.Oo=r,this.connection=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new EC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ot.A)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ot.A)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Ot.A)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Mt.RESOURCE_EXHAUSTED?(Io(t.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Mt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Wt(Mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Ot.A)(function*(){e.state=0,e.start()}))}tu(e){return qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bM extends IC{constructor(e,t,i,r,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function NI(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:xn(),r=e.targetChange.targetIds||[],a=function(w,T){return w.useProto3Json?(Vn(void 0===T||"string"==typeof T),na.fromBase64String(T||"")):(Vn(void 0===T||T instanceof Uint8Array),na.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const T=void 0===w.code?Mt.UNKNOWN:DI(w.code);return new Wt(T,w.message||"")}(d);t=new f0(i,r,a,m||null)}else if("documentChange"in e){const i=e.documentChange,r=mu(n,i.document.name),a=To(i.document.updateTime),d=i.document.createTime?To(i.document.createTime):wn.min(),m=new nl({mapValue:{fields:i.document.fields}}),w=Gs.newFoundDocument(r,a,d,m);t=new h0(i.targetIds||[],i.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const i=e.documentDelete,r=mu(n,i.document),a=i.readTime?To(i.readTime):wn.min(),d=Gs.newNoDocument(r,a);t=new h0([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=mu(n,i.document);t=new h0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return xn();{const i=e.filter,{count:r=0,unchangedNames:a}=i,d=new c0(r,a);t=new Hw(i.targetId,d)}}var w;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return wn.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?wn.min():a.readTime?To(a.readTime):wn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=mm(this.serializer),t.addTarget=function(r,a){let d;const m=a.target;if(d=sm(m)?{documents:v0(r,m)}:{query:_m(r,m)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){d.resumeToken=fv(r,a.resumeToken);const w=Ww(r,a.expectedCount);null!==w&&(d.expectedCount=w)}else if(a.snapshotVersion.compareTo(wn.min())>0){d.readTime=Nh(r,a.snapshotVersion.toTimestamp());const w=Ww(r,a.expectedCount);null!==w&&(d.expectedCount=w)}return d}(this.serializer,e);const i=function xI(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=mm(this.serializer),t.removeTarget=e,this.Wo(t)}}class wM extends IC{constructor(e,t,i,r,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function PI(n,e){return n&&n.length>0?(Vn(void 0!==e),n.map(t=>function(i,r){let a=To(i.updateTime?i.updateTime:r);return a.isEqual(wn.min())&&(a=To(r)),new rN(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=To(e.commitTime);return this.listener.cu(i,t)}return Vn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=mm(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>pv(this.serializer,i))};this.Wo(t)}}class oN extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Wt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Io(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Wt(Mt.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.vo(e,t,i,a,d,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Wt(Mt.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class lN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Io(t),this.mu=!1):qt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class mD{constructor(e,t,i,r,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(m=>{i.enqueueAndForget((0,Ot.A)(function*(){var w;Yf(d)&&(qt("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,Ot.A)(function*(T){const B=yn(T);B.vu.add(4),yield xm(B),B.bu.set("Unknown"),B.vu.delete(4),yield Wf(B)}),function(T){return w.apply(this,arguments)})(d))}))}),this.bu=new lN(i,r)}}function Wf(n){return DC.apply(this,arguments)}function DC(){return DC=(0,Ot.A)(function*(n){if(Yf(n))for(const e of n.Ru)yield e(!0)}),DC.apply(this,arguments)}function xm(n){return V0.apply(this,arguments)}function V0(){return V0=(0,Ot.A)(function*(n){for(const e of n.Ru)yield e(!1)}),V0.apply(this,arguments)}function Kf(n,e){const t=yn(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),vD(t)?TC(t):km(t).Ko()&&SC(t,e))}function Mv(n,e){const t=yn(n),i=km(t);t.Au.delete(e),i.Ko()&&_D(t,e),0===t.Au.size&&(i.Ko()?i.jo():Yf(t)&&t.bu.set("Unknown"))}function SC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}km(n).su(e)}function _D(n,e){n.Vu.qt(e),km(n).iu(e)}function TC(n){n.Vu=new iM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),km(n).start(),n.bu.gu()}function vD(n){return Yf(n)&&!km(n).Uo()&&n.Au.size>0}function Yf(n){return 0===yn(n).vu.size}function MC(n){n.Vu=void 0}function CM(n){return AC.apply(this,arguments)}function AC(){return AC=(0,Ot.A)(function*(n){n.Au.forEach((e,t)=>{SC(n,e)})}),AC.apply(this,arguments)}function Av(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,Ot.A)(function*(n,e){MC(n),vD(n)?(n.bu.Iu(e),TC(n)):n.bu.set("Unknown")}),OC.apply(this,arguments)}function yD(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=(0,Ot.A)(function*(n,e,t){if(n.bu.set("Online"),e instanceof f0&&2===e.state&&e.cause)try{yield(i=(0,Ot.A)(function*(r,a){const d=a.cause;for(const m of a.targetIds)r.Au.has(m)&&(yield r.remoteSyncer.rejectListen(m,d),r.Au.delete(m),r.Vu.removeTarget(m))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ov(n,i)}else if(e instanceof h0?n.Vu.Ht(e):e instanceof Hw?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(wn.min()))try{const i=yield uD(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const d=r.Vu.ce(a);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const T=r.Au.get(w);T&&r.Au.set(w,T.withResumeToken(m.resumeToken,a))}}),d.targetMismatches.forEach((m,w)=>{const T=r.Au.get(m);if(!T)return;r.Au.set(m,T.withResumeToken(na.EMPTY_BYTE_STRING,T.snapshotVersion)),_D(r,m);const B=new xh(T.target,m,w,T.sequenceNumber);SC(r,B)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){qt("RemoteStore","Failed to raise snapshot:",i),yield Ov(n,i)}var i}),NC.apply(this,arguments)}function Ov(n,e,t){return PC.apply(this,arguments)}function PC(){return PC=(0,Ot.A)(function*(n,e,t){if(!Sh(e))throw e;n.vu.add(1),yield xm(n),n.bu.set("Offline"),t||(t=()=>uD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ot.A)(function*(){qt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Wf(n)}))}),PC.apply(this,arguments)}function xC(n,e){return e().catch(t=>Ov(n,t,e))}function Rm(n){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,Ot.A)(function*(n){const e=yn(n),t=jh(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;EM(e);)try{const r=yield Mm(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,bD(e,r)}catch(r){yield Ov(e,r)}RC(e)&&wD(e)}),Nv.apply(this,arguments)}function EM(n){return Yf(n)&&n.Eu.length<10}function bD(n,e){n.Eu.push(e);const t=jh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function RC(n){return Yf(n)&&!jh(n).Uo()&&n.Eu.length>0}function wD(n){jh(n).start()}function IM(n){return kC.apply(this,arguments)}function kC(){return kC=(0,Ot.A)(function*(n){jh(n).hu()}),kC.apply(this,arguments)}function LC(n){return FC.apply(this,arguments)}function FC(){return FC=(0,Ot.A)(function*(n){const e=jh(n);for(const t of n.Eu)e.uu(t.mutations)}),FC.apply(this,arguments)}function CD(n,e,t){return BC.apply(this,arguments)}function BC(){return BC=(0,Ot.A)(function*(n,e,t){const i=n.Eu.shift(),r=jw.from(i,e,t);yield xC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Rm(n)}),BC.apply(this,arguments)}function DM(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,Ot.A)(function*(n,e){var t;e&&jh(n).ou&&(yield(t=(0,Ot.A)(function*(i,r){if(II(a=r.code)&&a!==Mt.ABORTED){const d=i.Eu.shift();jh(i).Qo(),yield xC(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield Rm(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),RC(n)&&wD(n)}),jC.apply(this,arguments)}function ED(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,Ot.A)(function*(n,e){const t=yn(n);t.asyncQueue.verifyOperationInProgress(),qt("RemoteStore","RemoteStore received new credentials");const i=Yf(t);t.vu.add(3),yield xm(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Wf(t)}),VC.apply(this,arguments)}function UC(n,e){return zC.apply(this,arguments)}function zC(){return zC=(0,Ot.A)(function*(n,e){const t=yn(n);e?(t.vu.delete(2),yield Wf(t)):e||(t.vu.add(2),yield xm(t),t.bu.set("Unknown"))}),zC.apply(this,arguments)}function km(n){return n.Su||(n.Su=function(e,t,i){const r=yn(e);return r.fu(),new bM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:CM.bind(null,n),ao:Av.bind(null,n),nu:yD.bind(null,n)}),n.Ru.push(function(){var e=(0,Ot.A)(function*(t){t?(n.Su.Qo(),vD(n)?TC(n):n.bu.set("Unknown")):(yield n.Su.stop(),MC(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function jh(n){return n.Du||(n.Du=function(e,t,i){const r=yn(e);return r.fu(),new wM(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:IM.bind(null,n),ao:DM.bind(null,n),au:LC.bind(null,n),cu:CD.bind(null,n)}),n.Ru.push(function(){var e=(0,Ot.A)(function*(t){t?(n.Du.Qo(),yield Rm(n)):(yield n.Du.stop(),n.Eu.length>0&&(qt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class U0{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,a){const d=Date.now()+i,m=new U0(e,t,d,r,a);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wt(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(n,e){if(Io("AsyncQueue",`${e}: ${n}`),Sh(n))return new Wt(Mt.UNAVAILABLE,`${e}: ${n}`);throw n}class Lm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||mn.comparator(t.key,i.key):(t,i)=>mn.comparator(t.key,i.key),this.keyedMap=Bf(),this.sortedSet=new ws(this.comparator)}static emptySet(e){return new Lm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Lm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class GC{constructor(){this.Cu=new ws(mn.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):xn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Fm{constructor(e,t,i,r,a,d,m,w,T){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=T}static fromInitialDocuments(e,t,i,r,a){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Fm(e,t,Lm.emptySet(t),d,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class SM{constructor(){this.Nu=void 0,this.listeners=[]}}class TM{constructor(){this.queries=new Ua(e=>XT(e),am),this.onlineState="Unknown",this.ku=new Set}}function HC(n,e){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,Ot.A)(function*(n,e){const t=yn(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new SM),r)try{a.Nu=yield t.onListen(i)}catch(d){const m=ng(d,`Initialization of query '${lm(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&WC(t)}),Pv.apply(this,arguments)}function xv(n,e){return z0.apply(this,arguments)}function z0(){return z0=(0,Ot.A)(function*(n,e){const t=yn(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),z0.apply(this,arguments)}function $C(n,e){const t=yn(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const m of d.listeners)m.$u(r)&&(i=!0);d.Nu=r}}i&&WC(t)}function MM(n,e,t){const i=yn(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function WC(n){n.ku.forEach(e=>{e.next()})}class Rv{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Fm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Fm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class AM{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class KC{constructor(e){this.serializer=e}rr(e){return mu(this.serializer,e)}ur(e){return e.metadata.exists?Xw(this.serializer,e.document,!1):Gs.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return To(e)}}class ig{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YC(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=er.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new KC(this.serializer);for(const r of e)if(r.metadata.queries){const a=i.rr(r.metadata.name);for(const d of r.metadata.queries){const m=(t.get(d)||ai()).add(a);t.set(d,m)}}return t}complete(){var e=this;return(0,Ot.A)(function*(){const t=yield function _M(n,e,t,i){return k0.apply(this,arguments)}(e.localStore,new KC(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield hD(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function YC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ID{constructor(e){this.key=e}}class OM{constructor(e){this.key=e}}class G0{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ai(),this.mutatedKeys=ai(),this.tc=s0(e),this.ec=new Lm(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new GC,r=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,d=r,m=!1;const w="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,T="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((B,Y)=>{const pe=r.get(B),xe=iv(this.query,Y)?Y:null,Je=!!pe&&this.mutatedKeys.has(pe.key),vt=!!xe&&(xe.hasLocalMutations||this.mutatedKeys.has(xe.key)&&xe.hasCommittedMutations);let Lt=!1;pe&&xe?pe.data.isEqual(xe.data)?Je!==vt&&(i.track({type:3,doc:xe}),Lt=!0):this.rc(pe,xe)||(i.track({type:2,doc:xe}),Lt=!0,(w&&this.tc(xe,w)>0||T&&this.tc(xe,T)<0)&&(m=!0)):!pe&&xe?(i.track({type:0,doc:xe}),Lt=!0):pe&&!xe&&(i.track({type:1,doc:pe}),Lt=!0,(w||T)&&(m=!0)),Lt&&(xe?(d=d.add(xe),a=vt?a.add(B):a.delete(B)):(d=d.delete(B),a=a.delete(B)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const B="F"===this.query.limitType?d.last():d.first();d=d.delete(B.key),a=a.delete(B.key),i.track({type:1,doc:B})}return{ec:d,ic:i,zi:m,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((T,B)=>function(Y,pe){const xe=Je=>{switch(Je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn()}};return xe(Y)-xe(pe)}(T.type,B.type)||this.tc(T.doc,B.doc)),this.oc(i);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==a.length||w?{snapshot:new Fm(this.query,e.ec,r,a,e.mutatedKeys,0===m,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new GC,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ai(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new OM(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new ID(i))}),t}hc(e){this.Yu=e.ir,this.Zu=ai();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Fm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class qC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NM{constructor(e){this.key=e,this.fc=!1}}class DD{constructor(e,t,i,r,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new Ua(m=>XT(m),am),this._c=new Map,this.mc=new Set,this.gc=new ws(mn.comparator),this.yc=new Map,this.Ic=new dC,this.Tc={},this.Ec=new Map,this.Ac=Bd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function SD(n,e){return XC.apply(this,arguments)}function XC(){return XC=(0,Ot.A)(function*(n,e){const t=Bm(n);let i,r;const a=t.wc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.lc();else{const d=yield Am(t.localStore,Gl(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield H0(t,e,i,"current"===m,d.resumeToken),t.isPrimaryClient&&Kf(t.remoteStore,d)}return r}),XC.apply(this,arguments)}function H0(n,e,t,i,r){return kv.apply(this,arguments)}function kv(){return kv=(0,Ot.A)(function*(n,e,t,i,r){n.Rc=(Y,pe,xe)=>{return(Je=(0,Ot.A)(function*(vt,Lt,fn,Dn){let On=Lt.view.sc(fn);On.zi&&(On=yield il(vt.localStore,Lt.query,!1).then(({documents:fi})=>Lt.view.sc(fi,On)));const Bn=Dn&&Dn.targetChanges.get(Lt.targetId),wi=Lt.view.applyChanges(On,vt.isPrimaryClient,Bn);return X0(vt,Lt.targetId,wi.cc),wi.snapshot}),function(vt,Lt,fn,Dn){return Je.apply(this,arguments)})(n,Y,pe,xe);var Je};const a=yield il(n.localStore,e,!0),d=new G0(e,a.ir),m=d.sc(a.documents),w=uv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),T=d.applyChanges(m,n.isPrimaryClient,w);X0(n,t,T.cc);const B=new qC(e,t,d);return n.wc.set(e,B),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),T.snapshot}),kv.apply(this,arguments)}function TD(n,e){return $0.apply(this,arguments)}function $0(){return $0=(0,Ot.A)(function*(n,e){const t=yn(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(a=>!am(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Mv(t.remoteStore,i.targetId),rg(t,i.targetId)}).catch(Af))):(rg(t,i.targetId),yield Fh(t.localStore,i.targetId,!0))}),$0.apply(this,arguments)}function W0(){return W0=(0,Ot.A)(function*(n,e,t){const i=c1(n);try{const r=yield function(a,d){const m=yn(a),w=oo.now(),T=d.reduce((pe,xe)=>pe.add(xe.key),ai());let B,Y;return m.persistence.runTransaction("Locally write mutations","readwrite",pe=>{let xe=os(),Je=ai();return m.Zi.getEntries(pe,T).next(vt=>{xe=vt,xe.forEach((Lt,fn)=>{fn.isValidDocument()||(Je=Je.add(Lt))})}).next(()=>m.localDocuments.getOverlayedDocuments(pe,xe)).next(vt=>{B=vt;const Lt=[];for(const fn of d){const Dn=av(fn,B.get(fn.key).overlayedDocument);null!=Dn&&Lt.push(new kd(fn.key,Dn,Iw(Dn.value.mapValue),Qs.exists(!0)))}return m.mutationQueue.addMutationBatch(pe,w,Lt,d)}).next(vt=>{Y=vt;const Lt=vt.applyToLocalDocumentSet(B,Je);return m.documentOverlayCache.saveOverlays(pe,vt.batchId,Lt)})}).then(()=>({batchId:Y.batchId,changes:zc(B)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,d,m){let w=a.Tc[a.currentUser.toKey()];w||(w=new ws(Yn)),w=w.insert(d,m),a.Tc[a.currentUser.toKey()]=w}(i,r.batchId,t),yield Vh(i,r.changes),yield Rm(i.remoteStore)}catch(r){const a=ng(r,"Failed to persist write");t.reject(a)}}),W0.apply(this,arguments)}function AD(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,Ot.A)(function*(n,e){const t=yn(n);try{const i=yield function gM(n,e){const t=yn(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const m=[];e.targetChanges.forEach((B,Y)=>{const pe=r.get(Y);if(!pe)return;m.push(t.Bs.removeMatchingKeys(a,B.removedDocuments,Y).next(()=>t.Bs.addMatchingKeys(a,B.addedDocuments,Y)));let xe=pe.withSequenceNumber(a.currentSequenceNumber);var Je,vt,Lt;null!==e.targetMismatches.get(Y)?xe=xe.withResumeToken(na.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):B.resumeToken.approximateByteSize()>0&&(xe=xe.withResumeToken(B.resumeToken,i)),r=r.insert(Y,xe),vt=xe,Lt=B,(0===(Je=pe).resumeToken.approximateByteSize()||vt.snapshotVersion.toMicroseconds()-Je.snapshotVersion.toMicroseconds()>=3e8||Lt.addedDocuments.size+Lt.modifiedDocuments.size+Lt.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(a,xe))});let w=os(),T=ai();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,B))}),m.push(dD(a,d,e.documentUpdates).next(B=>{w=B.nr,T=B.sr})),!i.isEqual(wn.min())){const B=t.Bs.getLastRemoteSnapshotVersion(a).next(Y=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,i));m.push(B)}return Et.waitFor(m).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,w,T)).next(()=>w)}).then(a=>(t.Ji=r,a))}(t.localStore,e);e.targetChanges.forEach((r,a)=>{const d=t.yc.get(a);d&&(Vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.fc=!0:r.modifiedDocuments.size>0?Vn(d.fc):r.removedDocuments.size>0&&(Vn(d.fc),d.fc=!1))}),yield Vh(t,i,e)}catch(i){yield Af(i)}}),QC.apply(this,arguments)}function OD(n,e,t){const i=yn(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((a,d)=>{const m=d.view.Mu(e);m.snapshot&&r.push(m.snapshot)}),function(a,d){const m=yn(a);m.onlineState=d;let w=!1;m.queries.forEach((T,B)=>{for(const Y of B.listeners)Y.Mu(d)&&(w=!0)}),w&&WC(m)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function PM(n,e,t){return K0.apply(this,arguments)}function K0(){return K0=(0,Ot.A)(function*(n,e,t){const i=yn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),a=r&&r.key;if(a){let d=new ws(mn.comparator);d=d.insert(a,Gs.newNoDocument(a,wn.min()));const m=ai().add(a),w=new cv(wn.min(),new Map,new ws(Yn),d,m);yield AD(i,w),i.gc=i.gc.remove(a),i.yc.delete(e),n1(i)}else yield Fh(i.localStore,e,!1).then(()=>rg(i,e,t)).catch(Af)}),K0.apply(this,arguments)}function cN(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,Ot.A)(function*(n,e){const t=yn(n),i=e.batch.batchId;try{const r=yield function Tm(n,e){const t=yn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,T){const B=w.batch,Y=B.keys();let pe=Et.resolve();return Y.forEach(xe=>{pe=pe.next(()=>T.getEntry(m,xe)).next(Je=>{const vt=w.docVersions.get(xe);Vn(null!==vt),Je.version.compareTo(vt)<0&&(B.applyToRemoteDocument(Je,w),Je.isValidDocument()&&(Je.setReadTime(w.commitVersion),T.addEntry(Je)))})}),pe.next(()=>d.mutationQueue.removeMutationBatch(m,B))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=ai();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);q0(t,i,null),e1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Vh(t,r)}catch(r){yield Af(r)}}),Y0.apply(this,arguments)}function xM(n,e,t){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,Ot.A)(function*(n,e,t){const i=yn(n);try{const r=yield function(a,d){const m=yn(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return m.mutationQueue.lookupMutationBatch(w,d).next(B=>(Vn(null!==B),T=B.keys(),m.mutationQueue.removeMutationBatch(w,B))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,T,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T)).next(()=>m.localDocuments.getDocuments(w,T))})}(i.localStore,e);q0(i,e,t),e1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Vh(i,r)}catch(r){yield Af(r)}}),ZC.apply(this,arguments)}function JC(){return JC=(0,Ot.A)(function*(n,e){const t=yn(n);Yf(t.remoteStore)||qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const d=yn(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=ng(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),JC.apply(this,arguments)}function e1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function q0(n,e,t){const i=yn(n);let r=i.Tc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function rg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||t1(n,i)})}function t1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Mv(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),n1(n))}function X0(n,e,t){for(const i of t)i instanceof ID?(n.Ic.addReference(i.key,e),ND(n,i)):i instanceof OM?(qt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||t1(n,i.key)):xn()}function ND(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(qt("SyncEngine","New document in limbo: "+t),n.mc.add(i),n1(n))}function n1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new mn(er.fromString(e)),i=n.Ac.next();n.yc.set(i,new NM(t)),n.gc=n.gc.insert(t,i),Kf(n.remoteStore,new xh(Gl(om(t.path)),i,"TargetPurposeLimboResolution",Uc.ct))}}function Vh(n,e,t){return i1.apply(this,arguments)}function i1(){return i1=(0,Ot.A)(function*(n,e,t){const i=yn(n),r=[],a=[],d=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,w)=>{d.push(i.Rc(w,e,t).then(T=>{if((T||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(w.targetId,T?.fromCache?"not-current":"current"),T){r.push(T);const B=lD.Li(w.targetId,T);a.push(B)}}))}),yield Promise.all(d),i.dc.nu(r),yield(m=(0,Ot.A)(function*(w,T){const B=yn(w);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",Y=>Et.forEach(T,pe=>Et.forEach(pe.Fi,xe=>B.persistence.referenceDelegate.addReference(Y,pe.targetId,xe)).next(()=>Et.forEach(pe.Bi,xe=>B.persistence.referenceDelegate.removeReference(Y,pe.targetId,xe)))))}catch(Y){if(!Sh(Y))throw Y;qt("LocalStore","Failed to update sequence numbers: "+Y)}for(const Y of T){const pe=Y.targetId;if(!Y.fromCache){const xe=B.Ji.get(pe),vt=xe.withLastLimboFreeSnapshotVersion(xe.snapshotVersion);B.Ji=B.Ji.insert(pe,vt)}}}),function(w,T){return m.apply(this,arguments)})(i.localStore,a))}),i1.apply(this,arguments)}function RM(n,e){return r1.apply(this,arguments)}function r1(){return r1=(0,Ot.A)(function*(n,e){const t=yn(n);if(!t.currentUser.isEqual(e)){qt("SyncEngine","User change. New user:",e.toKey());const i=yield fC(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new Wt(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Vh(t,i.er)}var r}),r1.apply(this,arguments)}function Lv(n,e){const t=yn(n),i=t.yc.get(e);if(i&&i.fc)return ai().add(i.key);{let r=ai();const a=t._c.get(e);if(!a)return r;for(const d of a){const m=t.wc.get(d);r=r.unionWith(m.view.nc)}return r}}function PD(n,e){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,Ot.A)(function*(n,e){const t=yn(n),i=yield il(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&X0(t,e.targetId,r.cc),r}),Q0.apply(this,arguments)}function xD(n,e){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,Ot.A)(function*(n,e){const t=yn(n);return pC(t.localStore,e).then(i=>Vh(t,i))}),Z0.apply(this,arguments)}function RD(n,e,t,i){return J0.apply(this,arguments)}function J0(){return J0=(0,Ot.A)(function*(n,e,t,i){const r=yn(n),a=yield function(d,m){const w=yn(d),T=yn(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",B=>T.Sn(B,m).next(Y=>Y?w.localDocuments.getDocuments(B,Y):Et.resolve(null)))}(r.localStore,e);var m;null!==a?("pending"===t?yield Rm(r.remoteStore):"acknowledged"===t||"rejected"===t?(q0(r,e,i||null),e1(r,e),m=e,yn(yn(r.localStore).mutationQueue).Cn(m)):xn(),yield Vh(r,a)):qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),J0.apply(this,arguments)}function kD(){return kD=(0,Ot.A)(function*(n,e){const t=yn(n);if(Bm(t),c1(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield LM(t,i.toArray());t.vc=!0,yield UC(t.remoteStore,!0);for(const a of r)Kf(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(rg(t,d),Fh(t.localStore,d,!0))),Mv(t.remoteStore,d)}),yield r,yield LM(t,i),function(a){const d=yn(a);d.yc.forEach((m,w)=>{Mv(d.remoteStore,w)}),d.Ic.Ts(),d.yc=new Map,d.gc=new ws(mn.comparator)}(t),t.vc=!1,yield UC(t.remoteStore,!1)}}),kD.apply(this,arguments)}function LM(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=(0,Ot.A)(function*(n,e,t){const i=yn(n),r=[],a=[];for(const d of e){let m;const w=i._c.get(d);if(w&&0!==w.length){m=yield Am(i.localStore,Gl(w[0]));for(const T of w){const B=i.wc.get(T),Y=yield PD(i,B);Y.snapshot&&a.push(Y.snapshot)}}else{const T=yield mM(i.localStore,d);m=yield Am(i.localStore,T),yield H0(i,o1(T),d,!1,m.resumeToken)}r.push(m)}return i.dc.nu(a),r}),s1.apply(this,arguments)}function o1(n){return mI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function LD(n){const e=yn(n);return yn(yn(e.localStore).persistence).$i()}function FM(n,e,t,i){return a1.apply(this,arguments)}function a1(){return a1=(0,Ot.A)(function*(n,e,t,i){const r=yn(n);if(r.vc)return void qt("SyncEngine","Ignoring unexpected query state notification.");const a=r._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield pC(r.localStore,yI(a[0])),m=cv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,na.EMPTY_BYTE_STRING);yield Vh(r,d,m);break}case"rejected":yield Fh(r.localStore,e,!0),rg(r,e,i);break;default:xn()}}),a1.apply(this,arguments)}function Fv(n,e,t){return l1.apply(this,arguments)}function l1(){return l1=(0,Ot.A)(function*(n,e,t){const i=Bm(n);if(i.vc){for(const r of e){if(i._c.has(r)){qt("SyncEngine","Adding an already active target "+r);continue}const a=yield mM(i.localStore,r),d=yield Am(i.localStore,a);yield H0(i,o1(a),d.targetId,!1,d.resumeToken),Kf(i.remoteStore,d)}for(const r of t)i._c.has(r)&&(yield Fh(i.localStore,r,!1).then(()=>{Mv(i.remoteStore,r),rg(i,r)}).catch(Af))}}),l1.apply(this,arguments)}function Bm(n){const e=yn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PM.bind(null,e),e.dc.nu=$C.bind(null,e.eventManager),e.dc.Pc=MM.bind(null,e.eventManager),e}function c1(n){const e=yn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xM.bind(null,e),e}class jm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ot.A)(function*(){t.serializer=Pm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return hC(this.persistence,new R0,e.initialUser,this.serializer)}createPersistence(e){return new N0(Cv.zs,this.serializer)}createSharedClientState(e){return new bC}terminate(){var e=this;return(0,Ot.A)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sg extends jm{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ot.A)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield c1(i.Vc.syncEngine),yield Rm(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return hC(this.persistence,new R0,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new cC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new tN(t,this.persistence);return new eI(e.asyncQueue,i)}createPersistence(e){const t=$f(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?va.withCacheSize(this.cacheSizeBytes):va.DEFAULT;return new Lh(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,CC(),Tv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bC}}class FD extends sg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ot.A)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof Nm&&(i.sharedClientState.syncEngine={jr:RD.bind(null,r),zr:FM.bind(null,r),Wr:Fv.bind(null,r),$i:LD.bind(null,r),Qr:xD.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var a=(0,Ot.A)(function*(d){yield function kM(n,e){return kD.apply(this,arguments)}(i.Vc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=CC();if(!Nm.D(t))throw new Wt(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=$f(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nm(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Vm{initialize(e,t){var i=this;return(0,Ot.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>OD(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=RM.bind(null,i.syncEngine),yield UC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new TM}createDatastore(e){const t=Pm(e.databaseInfo.databaseId),i=new yM(e.databaseInfo);return new oN(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=m=>OD(this.syncEngine,m,0),d=wC.D()?new wC:new pD,new mD(t,i,r,a,d);var t,i,r,a,d}createSyncEngine(e,t){return function(i,r,a,d,m,w,T){const B=new DD(i,r,a,d,m,w);return T&&(B.vc=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ot.A)(function*(t){const i=yn(t);qt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield xm(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function BD(n,e=10240){let t=0;return{read:()=>(0,Ot.A)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ot.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Io("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jD{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new ta,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ot.A)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ot.A)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ot.A)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const a=yield e.$c(r);return new AM(JSON.parse(a),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ot.A)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,Ot.A)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ot.A)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class BM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ot.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Wt(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ot.A)(function*(a,d){const m=yn(a),w=mm(m.serializer)+"/documents",T={documents:d.map(xe=>gm(m.serializer,xe))},B=yield m.vo("BatchGetDocuments",w,T,d.length),Y=new Map;B.forEach(xe=>{const Je=function OI(n,e){return"found"in e?function(t,i){Vn(!!i.found);const r=mu(t,i.found.name),a=To(i.found.updateTime),d=i.found.createTime?To(i.found.createTime):wn.min(),m=new nl({mapValue:{fields:i.found.fields}});return Gs.newFoundDocument(r,a,d,m)}(n,e):"missing"in e?function(t,i){Vn(!!i.missing),Vn(!!i.readTime);const r=mu(t,i.missing),a=To(i.readTime);return Gs.newNoDocument(r,a)}(n,e):xn()}(m.serializer,xe);Y.set(Je.key.toString(),Je)});const pe=[];return d.forEach(xe=>{const Je=Y.get(xe.toString());Vn(!!Je),pe.push(Je)}),pe}),function(a,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ld(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ot.A)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=mn.fromPath(r);e.mutations.push(new Fw(a,e.precondition(a)))}),yield(i=(0,Ot.A)(function*(r,a){const d=yn(r),m=mm(d.serializer)+"/documents",w={writes:a.map(T=>pv(d.serializer,T))};yield d.Io("Commit",m,w)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xn();t=wn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Wt(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wn.min())?Qs.exists(!1):Qs.updateTime(t):Qs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wn.min()))throw new Wt(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qs.updateTime(t)}return Qs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VD{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Bc=i.maxAttempts,this.qo=new EC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ot.A)(function*(){const t=new BM(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Uc(a)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Gy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!II(t)}return!1}}class eb{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ba.UNAUTHENTICATED,this.clientId=jy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ot.A)(function*(m){qt("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(qt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ot.A)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ot.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ng(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function tb(n,e){return u1.apply(this,arguments)}function u1(){return u1=(0,Ot.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ot.A)(function*(a){i.isEqual(a)||(yield fC(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),u1.apply(this,arguments)}function nb(n,e){return d1.apply(this,arguments)}function d1(){return d1=(0,Ot.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ib(n);qt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ED(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>ED(e.remoteStore,a)),n._onlineComponents=e}),d1.apply(this,arguments)}function UD(n){return"FirebaseError"===n.name?n.code===Mt.FAILED_PRECONDITION||n.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ib(n){return Um.apply(this,arguments)}function Um(){return Um=(0,Ot.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){qt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!UD(t))throw t;pu("Error using user provided cache. Falling back to memory cache: "+t),yield tb(n,new jm)}}else qt("FirestoreClient","Using default OfflineComponentProvider"),yield tb(n,new jm);return n._offlineComponents}),Um.apply(this,arguments)}function rb(n){return h1.apply(this,arguments)}function h1(){return h1=(0,Ot.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(qt("FirestoreClient","Using user provided OnlineComponentProvider"),yield nb(n,n._uninitializedComponentsProvider._online)):(qt("FirestoreClient","Using default OnlineComponentProvider"),yield nb(n,new Vm))),n._onlineComponents}),h1.apply(this,arguments)}function f1(n){return ib(n).then(e=>e.persistence)}function Bv(n){return ib(n).then(e=>e.localStore)}function sb(n){return rb(n).then(e=>e.remoteStore)}function ob(n){return rb(n).then(e=>e.syncEngine)}function ag(n){return ab.apply(this,arguments)}function ab(){return ab=(0,Ot.A)(function*(n){const e=yield rb(n),t=e.eventManager;return t.onListen=SD.bind(null,e.syncEngine),t.onUnlisten=TD.bind(null,e.syncEngine),t}),ab.apply(this,arguments)}function lb(n,e,t={}){const i=new ta;return n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function(r,a,d,m,w){const T=new og({next:Y=>{a.enqueueAndForget(()=>xv(r,B));const pe=Y.docs.has(d);!pe&&Y.fromCache?w.reject(new Wt(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):pe&&Y.fromCache&&m&&"server"===m.source?w.reject(new Wt(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(Y)},error:Y=>w.reject(Y)}),B=new Rv(om(d.path),T,{includeMetadataChanges:!0,Ku:!0});return HC(r,B)}(yield ag(n),n.asyncQueue,e,t,i)})),i.promise}function cb(n,e,t={}){const i=new ta;return n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function(r,a,d,m,w){const T=new og({next:Y=>{a.enqueueAndForget(()=>xv(r,B)),Y.fromCache&&"server"===m.source?w.reject(new Wt(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(Y)},error:Y=>w.reject(Y)}),B=new Rv(d,T,{includeMetadataChanges:!0,Ku:!0});return HC(r,B)}(yield ag(n),n.asyncQueue,e,t,i)})),i.promise}function HD(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const m1=new Map;function jv(n,e,t){if(!t)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _1(n,e,t,i){if(!0===e&&!0===i)throw new Wt(Mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function v1(n){if(!mn.isDocumentKey(n))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y1(n){if(mn.isDocumentKey(n))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":xn()}function tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Wt(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vv(n);throw new Wt(Mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function b1(n,e){if(e<=0)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class w1{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Wt(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wt(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=HD(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Wt(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Wt(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Wt(Mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uv{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Ku;switch(t.type){case"firstParty":return new Mf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Wt(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m1.get(e);t&&(qt("ComponentProvider","Removing Datastore"),m1.delete(e),t.terminate())}(this),Promise.resolve()}}class ks{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ks(this.firestore,e,this._key)}}class jr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class Hl extends jr{constructor(e,t,i){super(e,t,om(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ks(this.firestore,null,new mn(e))}withConverter(e){return new Hl(this.firestore,e,this._path)}}function $D(n,e,...t){if(n=(0,C.Ku)(n),jv("collection","path",e),n instanceof Uv){const i=er.fromString(e,...t);return y1(i),new Hl(n,null,i)}{if(!(n instanceof ks||n instanceof Hl))throw new Wt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(er.fromString(e,...t));return y1(i),new Hl(n.firestore,null,i)}}function E1(n,e,...t){if(n=(0,C.Ku)(n),1===arguments.length&&(e=jy.A()),jv("doc","path",e),n instanceof Uv){const i=er.fromString(e,...t);return v1(i),new ks(n,null,new mn(i))}{if(!(n instanceof ks||n instanceof Hl))throw new Wt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(er.fromString(e,...t));return v1(i),new ks(n.firestore,n instanceof Hl?n.converter:null,new mn(i))}}function $M(n,e){return n=(0,C.Ku)(n),e=(0,C.Ku)(e),(n instanceof ks||n instanceof Hl)&&(e instanceof ks||e instanceof Hl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ub(n,e){return n=(0,C.Ku)(n),e=(0,C.Ku)(e),n instanceof jr&&e instanceof jr&&n.firestore===e.firestore&&am(n._query,e._query)&&n.converter===e.converter}class I1{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new EC(this,"async_queue_retry"),this.Xc=()=>{const t=Tv();t&&qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Tv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Tv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ta;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ot.A)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Sh(t))throw t;qt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Io("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=U0.createAndSchedule(this,e,t,i,a=>this.na(a));return this.zc.push(r),r}Zc(){this.Wc&&xn()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ot.A)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function WD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class fN{constructor(){this._progressObserver={},this._taskCompletionResolver=new ta,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class as extends Uv{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new I1,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D1(this),this._firestoreClient.terminate()}}function Bo(n){return n._firestoreClient||D1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D1(n){var e,t,i;const r=n._freezeSettings(),a=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zT(n._databaseId,m,n._persistenceKey,(T=r).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,HD(T.experimentalLongPollingOptions),T.useFetchStreams));var m,T;n._firestoreClient=new eb(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function YD(n,e,t){const i=new ta;return n.asyncQueue.enqueue((0,Ot.A)(function*(){try{yield tb(n,t),yield nb(n,e),i.resolve()}catch(r){const a=r;if(!UD(a))throw a;pu("Error enabling indexeddb cache. Falling back to memory cache: "+a),i.reject(a)}})).then(()=>i.promise)}function ZD(n){if(n._initialized||n._terminated)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jd(na.fromBase64String(e))}catch(t){throw new Wt(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jd(na.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Do(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hm{constructor(e){this._methodName=e}}class hb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wt(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wt(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}const _N=/^__.*__$/;class qM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new kd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Oh(e,this.data,t,this.fieldTransforms)}}class eS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new kd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn()}}class zv{constructor(e,t,i,r,a,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return O1(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tS(this.ca)&&_N.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class nS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Pm(e)}ya(e,t,i,r=!1){return new zv({ca:e,methodName:t,ga:i,path:Do.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(n){const e=n._freezeSettings(),t=Pm(n._databaseId);return new nS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gv(n,e,t,i,r,a={}){const d=n.ya(a.merge||a.mergeFields?2:0,e,t,r);gb("Data must be an object, but it was:",d,i);const m=oS(i,d);let w,T;if(a.merge)w=new pc(d.fieldMask),T=d.fieldTransforms;else if(a.mergeFields){const B=[];for(const Y of a.mergeFields){const pe=mb(e,Y,t);if(!d.contains(pe))throw new Wt(Mt.INVALID_ARGUMENT,`Field '${pe}' is specified in your field mask but missing from your input data.`);ZM(B,pe)||B.push(pe)}w=new pc(B),T=d.fieldTransforms.filter(Y=>w.covers(Y.field))}else w=null,T=d.fieldTransforms;return new qM(new nl(m),w,T)}class $m extends Hm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $m}}function iS(n,e,t){return new zv({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class T1 extends Hm{_toFieldTransform(e){return new ov(e.path,new qp)}isEqual(e){return e instanceof T1}}class rS extends Hm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iS(this,e,!0),i=this.pa.map(a=>cg(a,t)),r=new Vf(i);return new ov(e.path,r)}isEqual(e){return this===e}}class XM extends Hm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=iS(this,e,!0),i=this.pa.map(a=>cg(a,t)),r=new Uf(i);return new ov(e.path,r)}isEqual(e){return this===e}}class sS extends Hm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new hm(e.serializer,Pw(e.serializer,this.Ia));return new ov(e.path,t)}isEqual(e){return this===e}}function fb(n,e,t,i){const r=n.ya(1,e,t);gb("Data must be an object, but it was:",r,i);const a=[],d=nl.empty();Of(i,(w,T)=>{const B=A1(e,w,t);T=(0,C.Ku)(T);const Y=r.da(B);if(T instanceof $m)a.push(B);else{const pe=cg(T,Y);null!=pe&&(a.push(B),d.set(B,pe))}});const m=new pc(a);return new eS(d,m,r.fieldTransforms)}function pb(n,e,t,i,r,a){const d=n.ya(1,e,t),m=[mb(e,i,t)],w=[r];if(a.length%2!=0)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pe=0;pe<a.length;pe+=2)m.push(mb(e,a[pe])),w.push(a[pe+1]);const T=[],B=nl.empty();for(let pe=m.length-1;pe>=0;--pe)if(!ZM(T,m[pe])){const xe=m[pe];let Je=w[pe];Je=(0,C.Ku)(Je);const vt=d.da(xe);if(Je instanceof $m)T.push(xe);else{const Lt=cg(Je,vt);null!=Lt&&(T.push(xe),B.set(xe,Lt))}}const Y=new pc(T);return new eS(B,Y,d.fieldTransforms)}function M1(n,e,t,i=!1){return cg(t,n.ya(i?4:3,e))}function cg(n,e){if(QM(n=(0,C.Ku)(n)))return gb("Unsupported field value:",e,n),oS(n,e);if(n instanceof Hm)return function(t,i){if(!tS(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const d of t){let m=cg(d,i.wa(a));null==m&&(m={nullValue:"NULL_VALUE"}),r.push(m),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,C.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pw(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=oo.fromDate(t);return{timestampValue:Nh(i.serializer,r)}}if(t instanceof oo){const r=new oo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nh(i.serializer,r)}}if(t instanceof hb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jd)return{bytesValue:fv(i.serializer,t._byteString)};if(t instanceof ks){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Yw(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Vv(t)}`)}(n,e)}function oS(n,e){const t={};return cI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Of(n,(i,r)=>{const a=cg(r,e.ha(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function QM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof oo||n instanceof hb||n instanceof jd||n instanceof ks||n instanceof Hm)}function gb(n,e,t){if(!QM(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Vv(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function mb(n,e,t){if((e=(0,C.Ku)(e))instanceof Vd)return e._internalPath;if("string"==typeof e)return A1(n,e);throw O1("Field path arguments must be of type string or ",n,!1,void 0,t)}const vN=new RegExp("[~\\*/\\[\\]]");function A1(n,e,t){if(e.search(vN)>=0)throw O1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw O1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function O1(n,e,t,i,r){const a=i&&!i.isEmpty(),d=void 0!==r;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(a||d)&&(w+=" (found",a&&(w+=` in field ${i}`),d&&(w+=` in document ${r}`),w+=")"),new Wt(Mt.INVALID_ARGUMENT,m+n+w)}function ZM(n,e){return n.some(t=>t.isEqual(e))}class _b{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ks(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yN extends _b{data(){return super.data()}}function N1(n,e){return"string"==typeof e?A1(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}function JM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Wt(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vb{}class ug extends vb{}function Uh(n,e,...t){let i=[];e instanceof vb&&i.push(e),i=i.concat(t),function(r){const a=r.filter(m=>m instanceof Wm).length,d=r.filter(m=>m instanceof Hv).length;if(a>1||a>0&&d>0)throw new Wt(Mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hv extends ug{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hv(e,t,i)}_apply(e){const t=this._parse(e);return dS(e._query,t),new jr(e.firestore,e.converter,vI(e._query,t))}_parse(e){const t=lg(e.firestore);return function(r,a,d,m,w,T,B){let Y;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){uS(B,T);const pe=[];for(const xe of B)pe.push(cS(m,r,xe));Y={arrayValue:{values:pe}}}else Y=cS(m,r,B)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||uS(B,T),Y=M1(d,"where",B,"in"===T||"not-in"===T);return Gi.create(w,T,Y)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Wm extends vb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const d=r.getFlattenedFilters();for(const m of d)dS(a,m),a=vI(a,m)}(e._query,t),new jr(e.firestore,e.converter,vI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class P1 extends ug{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new P1(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Mh(r,a);return function(m,w){if(null===Nw(m)){const T=tv(m);null!==T&&wb(0,T,w.field)}}(i,d),d}(e._query,this._field,this._direction);return new jr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Ah(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class bb extends ug{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new bb(e,t,i)}_apply(e){return new jr(e.firestore,e.converter,nv(e._query,this._limit,this._limitType))}}class x1 extends ug{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new x1(e,t,i)}_apply(e){const t=lS(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,(r=t,new Ah((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class dg extends ug{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new dg(e,t,i)}_apply(e){const t=lS(e,this.type,this._docOrFields,this._inclusive);return new jr(e.firestore,e.converter,(r=t,new Ah((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lS(n,e,t,i){if(t[0]=(0,C.Ku)(t[0]),t[0]instanceof _b)return function(r,a,d,m,w){if(!m)throw new Wt(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const T=[];for(const B of Lf(r))if(B.field.isKeyField())T.push(xd(a,m.key));else{const Y=m.data.field(B.field);if(Yy(Y))throw new Wt(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+B.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Y){const pe=B.field.canonicalString();throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pe}' (used as the orderBy) does not exist.`)}T.push(Y)}return new Xu(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=lg(n.firestore);return function(a,d,m,w,T,B){const Y=a.explicitOrderBy;if(T.length>Y.length)throw new Wt(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pe=[];for(let xe=0;xe<T.length;xe++){const Je=T[xe];if(Y[xe].field.isKeyField()){if("string"!=typeof Je)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Je}`);if(!r0(a)&&-1!==Je.indexOf("/"))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Je}' contains a slash.`);const vt=a.path.child(er.fromString(Je));if(!mn.isDocumentKey(vt))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${vt}' is not because it contains an odd number of segments.`);const Lt=new mn(vt);pe.push(xd(d,Lt))}else{const vt=M1(m,w,Je);pe.push(vt)}}return new Xu(pe,B)}(n._query,n.firestore._databaseId,r,e,t,i)}}function cS(n,e,t){if("string"==typeof(t=(0,C.Ku)(t))){if(""===t)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r0(e)&&-1!==t.indexOf("/"))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(er.fromString(t));if(!mn.isDocumentKey(i))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return xd(n,new mn(i))}if(t instanceof ks)return xd(n,t._key);throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vv(t)}.`)}function uS(n,e){if(!Array.isArray(n)||0===n.length)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dS(n,e){if(e.isInequality()){const i=tv(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=Nw(n);null!==a&&wb(0,r,a)}const t=function(i,r){for(const a of i)for(const d of a.getFlattenedFilters())if(r.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Wt(Mt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wb(n,e,t){if(!t.isEqual(e))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class R1{convertValue(e,t="none"){switch(Rf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return So(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Of(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new hb(So(e.latitude),So(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qy(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zp(e));default:return null}}convertTimestamp(e){const t=Nf(e);return new oo(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=er.fromString(e);Vn(FI(i));const r=new Pf(i.get(1),i.get(3)),a=new mn(i.popFirst(5));return r.isEqual(t)||Io(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function Cb(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class sA extends R1{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,t)}}class hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zh extends _b{constructor(e,t,i,r,a,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(N1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Km extends zh{data(e={}){return super.data(e)}}class Ud{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Km(this._firestore,this._userDataWriter,i.key,i,new hg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wt(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Km(i._firestore,i._userDataWriter,d.doc.key,d.doc,new hg(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const m=new Km(i._firestore,i._userDataWriter,d.doc.key,d.doc,new hg(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let w=-1,T=-1;return 0!==d.type&&(w=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),T=a.indexOf(d.doc.key)),{type:aA(d.type),doc:m,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn()}}function fS(n,e){return n instanceof zh&&e instanceof zh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ud&&e instanceof Ud&&n._firestore===e._firestore&&ub(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Gh extends R1{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ks(this.firestore,null,t)}}function k1(n,e,t){n=tr(n,ks);const i=tr(n.firestore,as),r=Cb(n.converter,e,t);return Xf(i,[Gv(lg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Qs.none())])}function _S(n,e,t,...i){n=tr(n,ks);const r=tr(n.firestore,as),a=lg(r);let d;return d="string"==typeof(e=(0,C.Ku)(e))||e instanceof Vd?pb(a,"updateDoc",n._key,e,t,i):fb(a,"updateDoc",n._key,e),Xf(r,[d.toMutation(n._key,Qs.exists(!0))])}function F1(n,...e){var t,i,r;n=(0,C.Ku)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||WD(e[d])||(a=e[d],d++);const m={includeMetadataChanges:a.includeMetadataChanges};if(WD(e[d])){const Y=e[d];e[d]=null===(t=Y.next)||void 0===t?void 0:t.bind(Y),e[d+1]=null===(i=Y.error)||void 0===i?void 0:i.bind(Y),e[d+2]=null===(r=Y.complete)||void 0===r?void 0:r.bind(Y)}let w,T,B;if(n instanceof ks)T=tr(n.firestore,as),B=om(n._key.path),w={next:Y=>{e[d]&&e[d](j1(T,n,Y))},error:e[d+1],complete:e[d+2]};else{const Y=tr(n,jr);T=tr(Y.firestore,as),B=Y._query;const pe=new Gh(T);w={next:xe=>{e[d]&&e[d](new Ud(T,pe,Y,xe))},error:e[d+1],complete:e[d+2]},JM(n._query)}return function(Y,pe,xe,Je){const vt=new og(Je),Lt=new Rv(pe,vt,xe);return Y.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return HC(yield ag(Y),Lt)})),()=>{vt.Dc(),Y.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return xv(yield ag(Y),Lt)}))}}(Bo(T),B,m,w)}function Xf(n,e){return function(t,i){const r=new ta;return t.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function MD(n,e,t){return W0.apply(this,arguments)}(yield ob(t),i,r)})),r.promise}(Bo(n),e)}function j1(n,e,t){const i=t.docs.get(e._key),r=new Gh(n);return new zh(n,r,e._key,i,new hg(t.hasPendingWrites,t.fromCache),e.converter)}const bS={maxAttempts:5};class wS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,i){this._verifyNotCommitted();const r=Hh(e,this._firestore),a=Cb(r.converter,t,i),d=Gv(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,Qs.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Hh(e,this._firestore);let d;return d="string"==typeof(t=(0,C.Ku)(t))||t instanceof Vd?pb(this._dataReader,"WriteBatch.update",a._key,t,i,r):fb(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Qs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hh(e,this._firestore);return this._mutations=this._mutations.concat(new Ld(t._key,Qs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wt(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(n,e){if((n=(0,C.Ku)(n)).firestore!==e)throw new Wt(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lg(e)}get(e){const t=Hh(e,this._firestore),i=new sA(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return xn();const a=r[0];if(a.isFoundDocument())return new _b(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new _b(this._firestore,i,t._key,null,t.converter);throw xn()})}set(e,t,i){const r=Hh(e,this._firestore),a=Cb(r.converter,t,i),d=Gv(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const a=Hh(e,this._firestore);let d;return d="string"==typeof(t=(0,C.Ku)(t))||t instanceof Vd?pb(this._dataReader,"Transaction.update",a._key,t,i,r):fb(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=Hh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hh(e,this._firestore),i=new Gh(this._firestore);return super.get(e).then(r=>new zh(this._firestore,i,t._key,r._document,new hg(!1,!1),t.converter))}}function SS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bA(){if(typeof Uint8Array>"u")throw new Wt("unimplemented","Uint8Arrays are not available in this environment.")}function U1(){if(!function bw(){return typeof atob<"u"}())throw new Wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fp=ns.SDK_VERSION,(0,ns._registerComponent)(new mo.uA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),d=new as(new JO(t.getProvider("auth-internal")),new xT(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Wt(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(m.options.projectId,w)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),d._setSettings(r),d},"PUBLIC").setMultipleInstances(!0)),(0,ns.registerVersion)(KE,"3.13.0",n),(0,ns.registerVersion)(KE,"3.13.0","esm2017")}();class Wv{constructor(e){this._delegate=e}static fromBase64String(e){return U1(),new Wv(jd.fromBase64String(e))}static fromUint8Array(e){return bA(),new Wv(jd.fromUint8Array(e))}toBase64(){return U1(),this._delegate.toBase64()}toUint8Array(){return bA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function z1(n){return function wA(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class MN{enableIndexedDbPersistence(e,t){return function WM(n,e){ZD(n=tr(n,as));const t=Bo(n);if(t._uninitializedComponentsProvider)throw new Wt(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");pu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Vm;return YD(t,r,new sg(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KM(n){ZD(n=tr(n,as));const e=Bo(n);if(e._uninitializedComponentsProvider)throw new Wt(Mt.FAILED_PRECONDITION,"SDK cache is already specified.");pu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Vm;return YD(e,i,new FD(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function S1(n){if(n._initialized&&!n._terminated)throw new Wt(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ta;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ot.A)(function*(){try{yield(t=(0,Ot.A)(function*(i){if(!zl.D())return Promise.resolve();const r=i+"main";yield zl.delete(r)}),function(i){return t.apply(this,arguments)})($f(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class CA{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&pu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function C1(n,e,t,i={}){var r;const a=(n=tr(n,Uv))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==d&&pu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:d,ssl:!1})),i.mockUserToken){let m,w;if("string"==typeof i.mockUserToken)m=i.mockUserToken,w=Ba.MOCK_USER;else{m=(0,C.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Wt(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ba(T)}n._authCredentials=new qE(new ow(m,w))}}(this._delegate,e,t,i)}enableNetwork(){return function YM(n){return function jM(n){return n.asyncQueue.enqueue((0,Ot.A)(function*(){const e=yield f1(n),t=yield sb(n);return e.setNetworkEnabled(!0),function(i){const r=yn(i);return r.vu.delete(0),Wf(r)}(t)}))}(Bo(n=tr(n,as)))}(this._delegate)}disableNetwork(){return function db(n){return function VM(n){return n.asyncQueue.enqueue((0,Ot.A)(function*(){const e=yield f1(n),t=yield sb(n);return e.setNetworkEnabled(!1),(i=(0,Ot.A)(function*(r){const a=yn(r);a.vu.add(0),yield xm(a),a.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Bo(n=tr(n,as)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,_1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qD(n){return function(e){const t=new ta;return e.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function uN(n,e){return JC.apply(this,arguments)}(yield ob(e),t)})),t.promise}(Bo(n=tr(n,as)))}(this._delegate)}onSnapshotsInSync(e){return function B1(n,e){return function g1(n,e){const t=new og(e);return n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return i=yield ag(n),r=t,yn(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return i=yield ag(n),r=t,void yn(i).ku.delete(r);var i,r}))}}(Bo(n=tr(n,as)),WD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zf(this,$D(this._delegate,e))}catch(t){throw $l(t,"collection()","Firestore.collection()")}}doc(e){try{return new yu(this,E1(this._delegate,e))}catch(t){throw $l(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rl(this,function HM(n,e){if(n=tr(n,Uv),jv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jr(n,null,(t=e,new Ah(er.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw $l(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Ym(n,e,t){n=tr(n,as);const i=Object.assign(Object.assign({},bS),t);return function(r){if(r.maxAttempts<1)throw new Wt(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,d){const m=new ta;return r.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){const w=yield function zD(n){return rb(n).then(e=>e.datastore)}(r);new VD(r.asyncQueue,w,d,a,m).run()})),m.promise}(Bo(n),r=>e(new CS(n,r)),i)}(this._delegate,t=>e(new EA(this,t)))}batch(){return Bo(this._delegate),new H1(new wS(this._delegate,e=>Xf(this._delegate,e)))}loadBundle(e){return function mN(n,e){const t=Bo(n=tr(n,as)),i=new fN;return function UM(n,e,t,i){const r=function(a,d){let m;return m="string"==typeof a?zw().encode(a):a,w=function(w,T){if(w instanceof Uint8Array)return BD(w,T);if(w instanceof ArrayBuffer)return BD(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new jD(w,d);var w}(t,Pm(e));n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){!function dN(n,e,t){const i=yn(n);var r;(r=(0,Ot.A)(function*(a,d,m){try{const w=yield d.getMetadata();if(yield function(pe,xe){const Je=yn(pe),vt=To(xe.createTime);return Je.persistence.runTransaction("hasNewerBundle","readonly",Lt=>Je.qs.getBundleMetadata(Lt,xe.id)).then(Lt=>!!Lt&&Lt.createTime.compareTo(vt)>=0)}(a.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(pe=w).totalDocuments,bytesLoaded:pe.totalBytes,totalDocuments:pe.totalDocuments,totalBytes:pe.totalBytes}),Promise.resolve(new Set);m._updateProgress(YC(w));const T=new ig(w,a.localStore,d.serializer);let B=yield d.bc();for(;B;){const pe=yield T.zu(B);pe&&m._updateProgress(pe),B=yield d.bc()}const Y=yield T.complete();return yield Vh(a,Y.Ju,void 0),yield function(pe,xe){const Je=yn(pe);return Je.persistence.runTransaction("Save bundle","readwrite",vt=>Je.qs.saveBundleMetadata(vt,xe))}(a.localStore,w),m._completeWith(Y.progress),Promise.resolve(Y.Hu)}catch(w){return pu("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var pe}),function(a,d,m){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield ob(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function QD(n,e){return function zM(n,e){return n.asyncQueue.enqueue((0,Ot.A)(function*(){return function(t,i){const r=yn(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.qs.getNamedQuery(a,i))}(yield Bv(n),e)}))}(Bo(n=tr(n,as)),e).then(t=>t?new jr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rl(this,t):null)}}class G1 extends R1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wv(new jd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yu.forKey(t,this.firestore,null)}}class EA{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new G1(e)}get(e){const t=Gd(e);return this._delegate.get(t).then(i=>new qm(this._firestore,new zh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Gd(e);return i?(SS("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Gd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Gd(e);return this._delegate.delete(t),this}}class H1{constructor(e){this._delegate=e}set(e,t,i){const r=Gd(e);return i?(SS("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=Gd(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=Gd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zd{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Km(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fg(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=zd.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new zd(e,new G1(e),t),r.set(t,a)),a}}zd.INSTANCES=new WeakMap;class yu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new G1(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yu(t,new ks(t._delegate,i,new mn(e)))}static forKey(e,t,i){return new yu(t,new ks(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zf(this.firestore,$D(this._delegate,e))}catch(t){throw $l(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,C.Ku)(e))instanceof ks&&$M(this._delegate,e)}set(e,t){t=SS("DocumentReference.set",t);try{return t?k1(this._delegate,e,t):k1(this._delegate,e)}catch(i){throw $l(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?_S(this._delegate,e):_S(this._delegate,e,t,...i)}catch(r){throw $l(r,"updateDoc()","DocumentReference.update()")}}delete(){return function L1(n){return Xf(tr(n.firestore,as),[new Ld(n._key,Qs.none())])}(this._delegate)}onSnapshot(...e){const t=$1(e),i=Qf(e,r=>new qm(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return F1(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function IN(n){n=tr(n,ks);const e=tr(n.firestore,as),t=Bo(e),i=new Gh(e);return function p1(n,e){const t=new ta;return n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return(i=(0,Ot.A)(function*(r,a,d){try{const m=yield function(w,T){const B=yn(w);return B.persistence.runTransaction("read document","readonly",Y=>B.localDocuments.getDocument(Y,T))}(r,a);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Wt(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=ng(m,`Failed to get document '${a} from cache`);d.reject(w)}}),function(r,a,d){return i.apply(this,arguments)})(yield Bv(n),e,t);var i})),t.promise}(t,n._key).then(r=>new zh(e,i,n._key,r,new hg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gc(n){n=tr(n,ks);const e=tr(n.firestore,as);return lb(Bo(e),n._key,{source:"server"}).then(t=>j1(e,n,t))}(this._delegate):function pS(n){n=tr(n,ks);const e=tr(n.firestore,as);return lb(Bo(e),n._key).then(t=>j1(e,n,t))}(this._delegate),t.then(i=>new qm(this.firestore,new zh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new yu(this.firestore,this._delegate.withConverter(e?zd.getInstance(this.firestore,e):null))}}function $l(n,e,t){return n.message=n.message.replace(e,t),n}function $1(n){for(const e of n)if("object"==typeof e&&!z1(e))return e;return{}}function Qf(n,e){var t,i;let r;return r=z1(n[0])?n[0]:z1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class qm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return fS(this._delegate,e._delegate)}}class fg extends qm{data(e){const t=this._delegate.data(e);return function YE(n,e){n||xn()}(void 0!==t),t}}class rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new G1(e)}where(e,t,i){try{return new rl(this.firestore,Uh(this._delegate,function yb(n,e,t){const i=e,r=N1("where",n);return Hv._create(r,i,t)}(e,t,i)))}catch(r){throw $l(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rl(this.firestore,Uh(this._delegate,function aS(n,e="asc"){const t=e,i=N1("orderBy",n);return P1._create(i,t)}(e,t)))}catch(i){throw $l(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rl(this.firestore,Uh(this._delegate,function eA(n){return b1("limit",n),bb._create("limit",n,"F")}(e)))}catch(t){throw $l(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rl(this.firestore,Uh(this._delegate,function tA(n){return b1("limitToLast",n),bb._create("limitToLast",n,"L")}(e)))}catch(t){throw $l(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rl(this.firestore,Uh(this._delegate,function nA(...n){return x1._create("startAt",n,!0)}(...e)))}catch(t){throw $l(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rl(this.firestore,Uh(this._delegate,function $v(...n){return x1._create("startAfter",n,!1)}(...e)))}catch(t){throw $l(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rl(this.firestore,Uh(this._delegate,function iA(...n){return dg._create("endBefore",n,!1)}(...e)))}catch(t){throw $l(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rl(this.firestore,Uh(this._delegate,function rA(...n){return dg._create("endAt",n,!0)}(...e)))}catch(t){throw $l(t,"endAt()","Query.endAt()")}}isEqual(e){return ub(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function mS(n){n=tr(n,jr);const e=tr(n.firestore,as),t=Bo(e),i=new Gh(e);return function GD(n,e){const t=new ta;return n.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return(i=(0,Ot.A)(function*(r,a,d){try{const m=yield il(r,a,!0),w=new G0(a,m.ir),T=w.sc(m.documents),B=w.applyChanges(T,!1);d.resolve(B.snapshot)}catch(m){const w=ng(m,`Failed to execute query '${a} against cache`);d.reject(w)}}),function(r,a,d){return i.apply(this,arguments)})(yield Bv(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Ud(e,i,n,r))}(this._delegate):"server"===e?.source?function lA(n){n=tr(n,jr);const e=tr(n.firestore,as),t=Bo(e),i=new Gh(e);return cb(t,n._query,{source:"server"}).then(r=>new Ud(e,i,n,r))}(this._delegate):function gS(n){n=tr(n,jr);const e=tr(n.firestore,as),t=Bo(e),i=new Gh(e);return JM(n._query),cb(t,n._query).then(r=>new Ud(e,i,n,r))}(this._delegate),t.then(i=>new Kv(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=$1(e),i=Qf(e,r=>new Kv(this.firestore,new Ud(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return F1(this._delegate,t,i)}withConverter(e){return new rl(this.firestore,this._delegate.withConverter(e?zd.getInstance(this.firestore,e):null))}}class IA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rl(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new IA(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new fg(this._firestore,i))})}isEqual(e){return fS(this._delegate,e._delegate)}}class Zf extends rl{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yu(this.firestore,e):null}doc(e){try{return new yu(this.firestore,void 0===e?E1(this._delegate):E1(this._delegate,e))}catch(t){throw $l(t,"doc()","CollectionReference.doc()")}}add(e){return function qf(n,e){const t=tr(n.firestore,as),i=E1(n),r=Cb(n.converter,e);return Xf(t,[Gv(lg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Qs.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new yu(this.firestore,t))}isEqual(e){return $M(this._delegate,e._delegate)}withConverter(e){return new Zf(this.firestore,this._delegate.withConverter(e?zd.getInstance(this.firestore,e):null))}}function Gd(n){return tr(n,ks)}class TS{constructor(...e){this._delegate=new Vd(...e)}static documentId(){return new TS(Do.keyField().canonicalString())}isEqual(e){return(e=(0,C.Ku)(e))instanceof Vd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Xm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ES(){return new T1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Xm(e)}static delete(){const e=function Eb(){return new $m("deleteField")}();return e._methodName="FieldValue.delete",new Xm(e)}static arrayUnion(...e){const t=function IS(...n){return new rS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Xm(t)}static arrayRemove(...e){const t=function mA(...n){return new XM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Xm(t)}static increment(e){const t=function _A(n){return new sS("increment",n)}(e);return t._methodName="FieldValue.increment",new Xm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ON={Firestore:CA,GeoPoint:hb,Timestamp:oo,Blob:Wv,Transaction:EA,WriteBatch:H1,DocumentReference:yu,DocumentSnapshot:qm,Query:rl,QueryDocumentSnapshot:fg,QuerySnapshot:Kv,CollectionReference:Zf,FieldPath:TS,FieldValue:Xm,setLogLevel:function AN(n){!function ZO(n){Dh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function AS(n,e){return function SA(n,e=uh.E){return new io.c(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Ib(n,e){return AS(n,e).pipe((0,Xi.T)(t=>({payload:t,type:"query"})))}function Yv(n,e){return Ib(n,e).pipe((0,Tg.Z)(void 0),(0,dh.J)(),(0,Xi.T)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,m)=>{const w=r.find(B=>B.doc.ref.isEqual(d.ref)),T=t?.payload.docs.find(B=>B.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),a}))}function W1(n,e,t){return Yv(n,t).pipe((0,gp.S)((i,r)=>function MA(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function OS(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return K1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return K1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return K1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),(0,fy.F)(),(0,Xi.T)(i=>i.map(r=>({type:r.type,payload:r}))))}function K1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Db(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function DA(n){(function MS(n,e){n.INTERNAL.registerComponent(new mo.uA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},ON)))})(n,(e,t)=>new CA(e,t,new MN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(py.A);class AA{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=Yv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Xi.T)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe((0,Tg.Z)(void 0),(0,dh.J)(),(0,qo.p)(([i,r])=>r.length>0||!i),(0,Xi.T)(([i,r])=>r),Qi.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,gp.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Db(e);return W1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.U0)}valueChanges(e={}){return Ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xi.T)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Qi.U0)}get(e){return(0,Wr.H)(this.query.get(e)).pipe(Qi.U0)}add(e){return this.ref.add(e)}doc(e){return new Y1(this.ref.doc(e),this.afs)}}class Y1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=xS(i,t);return new AA(r,a,this.afs)}snapshotChanges(){return function TA(n,e){return AS(n,e).pipe((0,Tg.Z)(void 0),(0,dh.J)(),(0,Xi.T)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qi.U0)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Xi.T)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wr.H)(this.ref.get(e)).pipe(Qi.U0)}}class q1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Yv(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xi.T)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,qo.p)(t=>t.length>0),Qi.U0):Yv(this.query,this.afs.schedulers.outsideAngular).pipe(Qi.U0)}auditTrail(e){return this.stateChanges(e).pipe((0,gp.S)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Db(e);return W1(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qi.U0)}valueChanges(e={}){return Ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xi.T)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Qi.U0)}get(e){return(0,Wr.H)(this.query.get(e)).pipe(Qi.U0)}}const NS=new c.nKC("angularfire2.enableFirestorePersistence"),PS=new c.nKC("angularfire2.firestore.persistenceSettings"),NN=new c.nKC("angularfire2.firestore.settings"),PN=new c.nKC("angularfire2.firestore.use-emulator");function xS(n,e=(t=>t)){return{query:e(n),ref:n}}let OA=(()=>{class n{constructor(t,i,r,a,d,m,w,T,B,Y,pe,xe,Je,vt,Lt,fn,Dn){this.schedulers=w;const On=(0,Ei.iB)(t,m,i),Bn=B;Y&&Oc(On,m,pe,Je,vt,Lt,xe,fn),[this.firestore,this.persistenceEnabled$]=(0,Ei.BM)(`${On.name}.firestore`,"AngularFirestore",On.name,()=>{const wi=m.runOutsideAngular(()=>On.firestore());if(a&&wi.settings(a),Bn&&wi.useEmulator(...Bn),r&&!(0,Pn.Vy)(d)){const fi=()=>{try{return(0,Wr.H)(wi.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Pr){return typeof console<"u"&&console.warn(Pr),(0,da.of)(!1)}};return[wi,m.runOutsideAngular(fi)]}return[wi,(0,da.of)(!1)]},[a,Bn,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=xS(r,i),m=this.schedulers.ngZone.run(()=>a);return new AA(m,d,this)}collectionGroup(t,i){const r=i||(d=>d),a=this.firestore.collectionGroup(t);return new q1(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Y1(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.KVO(Ei.rx),c.KVO(Ei.uP,8),c.KVO(NS,8),c.KVO(NN,8),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(Qi.u0),c.KVO(PS,8),c.KVO(PN,8),c.KVO(Nc,8),c.KVO(oc,8),c.KVO(ld,8),c.KVO(cd,8),c.KVO(tu,8),c.KVO(Ac,8),c.KVO(Pu,8),c.KVO(Pl,8))},n.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),NA=(()=>{class n{constructor(){nh.A.registerVersion("angularfire",Qi.xv.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NS,useValue:!0},{provide:PS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.$C({type:n}),n.\u0275inj=c.G2t({providers:[OA]}),n})();var PA=P(7647),RS=P(3993),kS=P(9974),xA=P(4360);const X1="@firebase/database";let Q1="";function Sb(n){Q1=n}class FS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,C.As)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,C.$L)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class BS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,C.gR)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jS=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new FS(e)}}catch{}return new BS},Hd=jS("localStorage"),Z1=jS("sessionStorage"),Qm=new ne.Vy("@firebase/database"),J1=function(){let n=1;return function(){return n++}}(),eE=function(n){const e=(0,C.kj)(n),t=new C.gz;t.update(e);const i=t.digest();return C.K3.encodeByteArray(i)},Tb=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Tb.apply(null,i):e+="object"==typeof i?(0,C.As)(i):i,e+=" "}return e};let pg=null,kA=!0;const VS=function(n,e){(0,C.vA)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Qm.logLevel=ne.$b.VERBOSE,pg=Qm.log.bind(Qm),e&&Z1.set("logging_enabled",!0)):"function"==typeof n?pg=n:(pg=null,Z1.remove("logging_enabled"))},sl=function(...n){if(!0===kA&&(kA=!1,null===pg&&!0===Z1.get("logging_enabled")&&VS(!0)),pg){const e=Tb.apply(null,n);pg(e)}},Mb=function(n){return function(...e){sl(n,...e)}},tE=function(...n){const e="FIREBASE INTERNAL ERROR: "+Tb(...n);Qm.error(e)},$d=function(...n){const e=`FIREBASE FATAL ERROR: ${Tb(...n)}`;throw Qm.error(e),new Error(e)},Wl=function(...n){const e="FIREBASE WARNING: "+Tb(...n);Qm.warn(e)},nE=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},gg="[MIN_NAME]",$h="[MAX_NAME]",Zm=function(n,e){if(n===e)return 0;if(n===gg||e===$h)return-1;if(e===gg||n===$h)return 1;{const t=E(n),i=E(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},kN=function(n,e){return n===e?0:n<e?-1:1},Ab=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,C.As)(e))},US=function(n){if("object"!=typeof n||null===n)return(0,C.As)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,C.As)(e[i]),t+=":",t+=US(n[e[i]]);return t+="}",t},zS=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Ga(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const LA=function(n){(0,C.vA)(!nE(n),"Invalid JSON number");const i=1023;let r,a,d,m,w;0===n?(a=0,d=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),i),a=m+i,d=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(a=0,d=Math.round(n/Math.pow(2,-1074))));const T=[];for(w=52;w;w-=1)T.push(d%2?1:0),d=Math.floor(d/2);for(w=11;w;w-=1)T.push(a%2?1:0),a=Math.floor(a/2);T.push(r?1:0),T.reverse();const B=T.join("");let Y="";for(w=0;w<64;w+=8){let pe=parseInt(B.substr(w,8),2).toString(16);1===pe.length&&(pe="0"+pe),Y+=pe}return Y.toLowerCase()},h=new RegExp("^-?(0*)\\d{1,10}$"),E=function(n){if(h.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},O=function(n){try{n()}catch(e){setTimeout(()=>{throw Wl("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},$=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class ce{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ee{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(sl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wl(e)}}let it=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const $t=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kl="websocket",Wd="long_polling";class Jf{constructor(e,t,i,r,a=!1,d="",m=!1,w=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=a,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=w,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hd.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hd.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function GS(n,e,t){let i;if((0,C.vA)("string"==typeof e,"typeof type must == string"),(0,C.vA)("object"==typeof t,"typeof params must == object"),e===Kl)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Wd)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function iE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Ga(t,(a,d)=>{r.push(a+"="+d)}),i+r.join("&")}class FA{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,C.gR)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,C.A4)(this.counters_)}}const BA={},jA={};function VA(n){const e=n.toString();return BA[e]||(BA[e]=new FA),BA[e]}class uR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&O(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jm{constructor(e,t,i,r,a,d,m){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=a,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mb(e),this.stats_=VA(t),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),GS(t,Wd,w))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,C.$g)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new UA((...a)=>{const[d,m,w,T,B]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=m,this.password=w;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[d,m]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&$t.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jm.forceAllow_=!0}static forceDisallow(){Jm.forceDisallow_=!0}static isAvailable(){return!((0,C.$g)()||!Jm.forceAllow_&&(Jm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,C.As)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,C.KA)(t),r=zS(i,1840);for(let a=0;a<r.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,C.$g)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,C.As)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class UA{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,C.$g)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=J1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=UA.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){sl("frame writing exception"),m.stack&&sl(m.stack),sl(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||sl("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+r+"="+d.seg+"&ts"+r+"="+d.ts+"&d"+r+"="+d.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,C.$g)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{sl("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let HS=null;typeof MozWebSocket<"u"?HS=MozWebSocket:typeof WebSocket<"u"&&(HS=WebSocket);let Ob=(()=>{class n{constructor(t,i,r,a,d,m,w){this.connId=t,this.applicationId=r,this.appCheckToken=a,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mb(this.connId),this.stats_=VA(i),this.connURL=n.connectionURL_(i,m,w,a,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,a,d){const m={v:"5"};return!(0,C.$g)()&&typeof location<"u"&&location.hostname&&$t.test(location.hostname)&&(m.r="f"),i&&(m.s=i),r&&(m.ls=r),a&&(m.ac=a),d&&(m.p=d),GS(t,Kl,m)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hd.set("previous_websocket_failure",!0);try{let r;if((0,C.$g)()){r={headers:{"User-Agent":`Firebase/5/${Q1}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,m=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;m&&(r.proxy={origin:m})}this.mySock=new HS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==HS&&!n.forceDisallow_}static previouslyFailed(){return Hd.isInMemoryStorage||!0===Hd.get("previous_websocket_failure")}markConnectionHealthy(){Hd.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,C.$L)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,C.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,C.As)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=zS(i,16384);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),zN=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Jm,Ob]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Ob&&Ob.isAvailable();let r=i&&!Ob.previouslyFailed();if(t.webSocketOnly&&(i||Wl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ob];else{const a=this.transports_=[];for(const d of n.ALL_TRANSPORTS)d&&d.isAvailable()&&a.push(d);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qN{constructor(e,t,i,r,a,d,m,w,T,B){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=a,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=w,this.onKill_=T,this.lastSessionId=B,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mb("c:"+this.id+":"),this.transportManager_=new zN(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=$(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ab("t",e),i=Ab("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ab("t",e),i=Ab("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ab("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?tE("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Wl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),$(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hd.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class XN{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class QN{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,C.vA)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let a=0;a<r.length;a++)if(r[a].callback===t&&(!i||i===r[a].context))return void r.splice(a,1)}validateEventType_(e){(0,C.vA)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $S extends QN{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,C.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $S}getInitialEvent(e){return(0,C.vA)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class gs{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Zr(){return new gs("")}function Hi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function e_(n){return n.pieces_.length-n.pieceNum_}function Hs(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new gs(n.pieces_,e)}function GA(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rE(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function eP(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new gs(e,0)}function Mo(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof gs)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new gs(t,0)}function $i(n){return n.pieceNum_>=n.pieces_.length}function Hc(n,e){const t=Hi(n),i=Hi(e);if(null===t)return e;if(t===i)return Hc(Hs(n),Hs(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function PR(n,e){const t=rE(n,0),i=rE(e,0);for(let r=0;r<t.length&&r<i.length;r++){const a=Zm(t[r],i[r]);if(0!==a)return a}return t.length===i.length?0:t.length<i.length?-1:1}function HA(n,e){if(e_(n)!==e_(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Kd(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(e_(n)>e_(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class xR{constructor(e,t){this.errorPrefix_=t,this.parts_=rE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,C.OE)(this.parts_[i]);tP(this)}}function tP(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+qv(n))}function qv(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $A extends QN{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $A}getInitialEvent(e){return(0,C.vA)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sE=1e3;let KS,Xv=(()=>{class n extends XN{constructor(t,i,r,a,d,m,w,T){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=w,this.authOverride_=T,this.id=n.nextPersistentConnectionId_++,this.log_=Mb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,C.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$A.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$S.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const a=++this.requestNumber_,d={r:a,a:t,b:i};this.log_((0,C.As)(d)),(0,C.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),r&&(this.requestCBHash_[a]=r)}get(t){this.initConnection_();const i=new C.cY,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:m=>{const w=m.d;"ok"===m.s?i.resolve(w):i.reject(w)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,a){this.initConnection_();const d=t._queryIdentifier,m=t._path.toString();this.log_("Listen called for "+m+" "+d),this.listens.has(m)||this.listens.set(m,new Map),(0,C.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,C.vA)(!this.listens.get(m).has(d),"listen() called twice for same path/queryId.");const w={onComplete:a,hashFn:i,query:t,tag:r};this.listens.get(m).set(d,w),this.connected_&&this.sendListen_(w)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+r+" for "+a);const d={p:r};t.tag&&(d.q=i._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest("q",d,w=>{const T=w.d,B=w.s;n.warnOnListenWarnings_(T,i),(this.listens.get(r)&&this.listens.get(r).get(a))===t&&(this.log_("listen response",w),"ok"!==B&&this.removeListen_(r,a),t.onComplete&&t.onComplete(B,T))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,C.gR)(t,"w")){const r=(0,C.yw)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Wl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,C.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,C.Cv)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,a=>{const d=a.s,m=a.d||"error";this.authToken_===t&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),(0,C.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,t._queryObject,i)}sendUnlisten_(t,i,r,a){this.log_("Unlisten on "+t+" for "+i);const d={p:t};a&&(d.q=r,d.t=a),this.sendRequest("n",d)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,a){const d={p:i,d:r};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,m=>{a&&setTimeout(()=>{a(m.s,m.d)},Math.floor(0))})}put(t,i,r,a){this.putInternal("p",t,i,r,a)}merge(t,i,r,a){this.putInternal("m",t,i,r,a)}putInternal(t,i,r,a,d){this.initConnection_();const m={p:i,d:r};void 0!==d&&(m.h=d),this.outstandingPuts_.push({action:t,request:m,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(d.s,d.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,C.As)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):tE("Unrecognized action received from server: "+(0,C.As)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,C.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sE,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=sE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ot.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),d=t.id+":"+n.nextConnectionId_++,m=t.lastSessionId;let w=!1,T=null;const B=function(){T?T.close():(w=!0,a())};t.realtime_={close:B,sendRequest:function(xe){(0,C.vA)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(xe)}};const pe=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[xe,Je]=yield Promise.all([t.authTokenProvider_.getToken(pe),t.appCheckTokenProvider_.getToken(pe)]);w?sl("getToken() completed but was canceled"):(sl("getToken() completed. Creating connection."),t.authToken_=xe&&xe.accessToken,t.appCheckToken_=Je&&Je.token,T=new qN(d,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,a,vt=>{Wl(vt+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},m))}catch(xe){t.log_("Failed to get token: "+xe),w||(t.repoInfo_.nodeAdmin&&Wl(xe),B())}}})()}interrupt(t){sl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){sl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,C.Im)(this.interruptReasons_)&&(this.reconnectDelay_=sE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(d=>US(d)).join("$"):"default";const a=this.removeListen_(t,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,i){const r=new gs(t).toString();let a;if(this.listens.has(r)){const d=this.listens.get(r);a=d.get(i),d.delete(i),0===d.size&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(t,i){sl("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){sl("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,C.$g)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Q1.replace(/\./g,"-")]=1,(0,C.jZ)()?t["framework.cordova"]=1:(0,C.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$S.getInstance().currentlyOnline();return(0,C.Im)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nr{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new nr(e,t)}}class WS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new nr(gg,e),r=new nr(gg,t);return 0!==this.compare(i,r)}minPost(){return nr.MIN}}class rP extends WS{static get __EMPTY_NODE(){return KS}static set __EMPTY_NODE(e){KS=e}compare(e,t){return Zm(e.name,t.name)}isDefinedOn(e){throw(0,C.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return nr.MIN}maxPost(){return new nr($h,KS)}makePost(e,t){return(0,C.vA)("string"==typeof e,"KeyIndex indexValue must always be a string."),new nr(e,KS)}toString(){return".key"}}const ep=new rP;class YS{constructor(e,t,i,r,a=null){this.isReverse_=r,this.resultGenerator_=a,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,r&&(d*=-1),d<0)e=this.isReverse_?e.left:e.right;else{if(0===d){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KA,Wh=(()=>{class n{constructor(t,i,r,a,d){this.key=t,this.value=i,this.color=r??n.RED,this.left=a??bu.EMPTY_NODE,this.right=d??bu.EMPTY_NODE}copy(t,i,r,a,d){return new n(t??this.key,i??this.value,r??this.color,a??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let a=this;const d=r(t,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(t,i,r),null):0===d?a.copy(null,i,null,null,null):a.copy(null,null,null,null,a.right.insert(t,i,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return bu.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,a;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return bu.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class bu{constructor(e,t=bu.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new bu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Wh.BLACK,null,null))}remove(e){return new bu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wh.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new YS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new YS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new YS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new YS(this.root_,null,this.comparator_,!0,e)}}function UR(n,e){return Zm(n.name,e.name)}function WA(n,e){return Zm(n,e)}bu.EMPTY_NODE=new class VR{copy(e,t,i,r,a){return this}insert(e,t,i){return new Wh(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const sP=function(n){return"number"==typeof n?"number:"+LA(n):"string:"+n},oP=function(n){if(n.isLeafNode()){const e=n.val();(0,C.vA)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,C.gR)(e,".sv"),"Priority must be a string or number.")}else(0,C.vA)(n===KA||n.isEmpty(),"priority of unexpected type.");(0,C.vA)(n===KA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let aP,lP,cP,Nb=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,C.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oP(this.priorityNode_)}static set __childrenNodeConstructor(t){aP=t}static get __childrenNodeConstructor(){return aP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return $i(t)?this:".priority"===Hi(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Hi(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,C.vA)(".priority"!==r||1===e_(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hs(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+sP(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?LA(this.value_):this.value_,this.lazyHash_=eE(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,C.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(i),d=n.VALUE_TYPE_ORDER.indexOf(r);return(0,C.vA)(a>=0,"Unknown leaf type: "+i),(0,C.vA)(d>=0,"Unknown leaf type: "+r),a===d?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Zs=new class $R extends WS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),a=i.compareTo(r);return 0===a?Zm(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return nr.MIN}maxPost(){return new nr($h,new Nb("[PRIORITY-POST]",cP))}makePost(e,t){const i=lP(e);return new nr(t,new Nb("[PRIORITY-POST]",i))}toString(){return".priority"}},WR=Math.log(2);class KR{constructor(e){this.count=parseInt(Math.log(e+1)/WR,10),this.current_=this.count-1;const r=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qS=function(n,e,t,i){n.sort(e);const r=function(w,T){const B=T-w;let Y,pe;if(0===B)return null;if(1===B)return Y=n[w],pe=t?t(Y):Y,new Wh(pe,Y.node,Wh.BLACK,null,null);{const xe=parseInt(B/2,10)+w,Je=r(w,xe),vt=r(xe+1,T);return Y=n[xe],pe=t?t(Y):Y,new Wh(pe,Y.node,Wh.BLACK,Je,vt)}},m=function(w){let T=null,B=null,Y=n.length;const pe=function(Je,vt){const Lt=Y-Je,fn=Y;Y-=Je;const Dn=r(Lt+1,fn),On=n[Lt],Bn=t?t(On):On;xe(new Wh(Bn,On.node,vt,null,Dn))},xe=function(Je){T?(T.left=Je,T=Je):(B=Je,T=Je)};for(let Je=0;Je<w.count;++Je){const vt=w.nextBitIsOne(),Lt=Math.pow(2,w.count-(Je+1));vt?pe(Lt,Wh.BLACK):(pe(Lt,Wh.BLACK),pe(Lt,Wh.RED))}return B}(new KR(n.length));return new bu(i||e,m)};let YA;const Pb={};class mg{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,C.vA)(Pb&&Zs,"ChildrenNode.ts has not been loaded"),YA=YA||new mg({".priority":Pb},{".priority":Zs}),YA}get(e){const t=(0,C.yw)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bu?t:null}hasIndex(e){return(0,C.gR)(this.indexSet_,e.toString())}addIndex(e,t){(0,C.vA)(e!==ep,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const a=t.getIterator(nr.Wrap);let m,d=a.getNext();for(;d;)r=r||e.isDefinedOn(d.node),i.push(d),d=a.getNext();m=r?qS(i,e.getCompare()):Pb;const w=e.toString(),T=Object.assign({},this.indexSet_);T[w]=e;const B=Object.assign({},this.indexes_);return B[w]=m,new mg(B,T)}addToIndexes(e,t){const i=(0,C.kH)(this.indexes_,(r,a)=>{const d=(0,C.yw)(this.indexSet_,a);if((0,C.vA)(d,"Missing index implementation for "+a),r===Pb){if(d.isDefinedOn(e.node)){const m=[],w=t.getIterator(nr.Wrap);let T=w.getNext();for(;T;)T.name!==e.name&&m.push(T),T=w.getNext();return m.push(e),qS(m,d.getCompare())}return Pb}{const m=t.get(e.name);let w=r;return m&&(w=w.remove(new nr(e.name,m))),w.insert(e,e.node)}});return new mg(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,C.kH)(this.indexes_,r=>{if(r===Pb)return r;{const a=t.get(e.name);return a?r.remove(new nr(e.name,a)):r}});return new mg(i,this.indexSet_)}}let oE,Ai=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oP(this.priorityNode_),this.children_.isEmpty()&&(0,C.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oE||(oE=new n(new bu(WA),null,mg.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oE}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?oE:i}}getChild(t){const i=Hi(t);return null===i?this:this.getImmediateChild(i).getChild(Hs(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,C.vA)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new nr(t,i);let a,d;i.isEmpty()?(a=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(t,i),d=this.indexMap_.addToIndexes(r,this.children_));const m=a.isEmpty()?oE:this.priorityNode_;return new n(a,m,d)}}updateChild(t,i){const r=Hi(t);if(null===r)return i;{(0,C.vA)(".priority"!==Hi(t)||1===e_(t),".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(Hs(t),i);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,a=0,d=!0;if(this.forEachChild(Zs,(m,w)=>{i[m]=w.val(t),r++,d&&n.INTEGER_REGEXP_.test(m)?a=Math.max(a,Number(m)):d=!1}),!t&&d&&a<2*r){const m=[];for(const w in i)m[w]=i[w];return m}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+sP(this.getPriority().val())+":"),this.forEachChild(Zs,(i,r)=>{const a=r.hash();""!==a&&(t+=":"+i+":"+a)}),this.lazyHash_=""===t?"":eE(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const a=this.resolveIndex_(r);if(a){const d=a.getPredecessorKey(new nr(t,i));return d?d.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new nr(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new nr(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(a=>i(a.name,a.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,nr.Wrap);let d=a.peek();for(;null!=d&&i.compare(d,t)<0;)a.getNext(),d=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,nr.Wrap);let d=a.peek();for(;null!=d&&i.compare(d,t)>0;)a.getNext(),d=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===aE?-1:0}withIndex(t){if(t===ep||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ep||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Zs),a=i.getIterator(Zs);let d=r.getNext(),m=a.getNext();for(;d&&m;){if(d.name!==m.name||!d.node.equals(m.node))return!1;d=r.getNext(),m=a.getNext()}return null===d&&null===m}return!1}return!1}}resolveIndex_(t){return t===ep?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const aE=new class YR extends Ai{constructor(){super(new bu(WA),Ai.EMPTY_NODE,mg.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ai.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nr,{MIN:{value:new nr(gg,Ai.EMPTY_NODE)},MAX:{value:new nr($h,aE)}}),rP.__EMPTY_NODE=Ai.EMPTY_NODE,Nb.__childrenNodeConstructor=Ai,function zR(n){KA=n}(aE),function HR(n){cP=n}(aE);const qR=!0;function jo(n,e=null){if(null===n)return Ai.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,C.vA)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Nb(n,jo(e));if(n instanceof Array||!qR){let t=Ai.EMPTY_NODE;return Ga(n,(i,r)=>{if((0,C.gR)(n,i)&&"."!==i.substring(0,1)){const a=jo(r);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(i,a))}}),t.updatePriority(jo(e))}{const t=[];let i=!1;if(Ga(n,(d,m)=>{if("."!==d.substring(0,1)){const w=jo(m);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),t.push(new nr(d,w)))}}),0===t.length)return Ai.EMPTY_NODE;const a=qS(t,UR,d=>d.name,WA);if(i){const d=qS(t,Zs.getCompare());return new Ai(a,jo(e),new mg({".priority":d},{".priority":Zs}))}return new Ai(a,jo(e),mg.Default)}}!function GR(n){lP=n}(jo);class qA extends WS{constructor(e){super(),this.indexPath_=e,(0,C.vA)(!$i(e)&&".priority"!==Hi(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),a=i.compareTo(r);return 0===a?Zm(e.name,t.name):a}makePost(e,t){const i=jo(e),r=Ai.EMPTY_NODE.updateChild(this.indexPath_,i);return new nr(t,r)}maxPost(){const e=Ai.EMPTY_NODE.updateChild(this.indexPath_,aE);return new nr($h,e)}toString(){return rE(this.indexPath_,0).join("/")}}const XA=new class XR extends WS{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Zm(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return nr.MIN}maxPost(){return nr.MAX}makePost(e,t){const i=jo(e);return new nr(t,i)}toString(){return".value"}};function uP(n){return{type:"value",snapshotNode:n}}function xb(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function lE(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function cE(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class QA{constructor(e){this.index_=e}updateChild(e,t,i,r,a,d){(0,C.vA)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(t);return m.getChild(r).equals(i.getChild(r))&&m.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?e.hasChild(t)?d.trackChildChange(lE(t,m)):(0,C.vA)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(xb(t,i)):d.trackChildChange(cE(t,i,m))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Zs,(r,a)=>{t.hasChild(r)||i.trackChildChange(lE(r,a))}),t.isLeafNode()||t.forEachChild(Zs,(r,a)=>{if(e.hasChild(r)){const d=e.getImmediateChild(r);d.equals(a)||i.trackChildChange(cE(r,a,d))}else i.trackChildChange(xb(r,a))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ai.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class uE{constructor(e){this.indexedFilter_=new QA(e.getIndex()),this.index_=e.getIndex(),this.startPost_=uE.getStartPost_(e),this.endPost_=uE.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,a,d){return this.matches(new nr(t,i))||(i=Ai.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,a,d)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ai.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ai.EMPTY_NODE);const a=this;return t.forEachChild(Zs,(d,m)=>{a.matches(new nr(d,m))||(r=r.updateImmediateChild(d,Ai.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ZR{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new uE(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,a,d){return this.rangedFilter_.matches(new nr(t,i))||(i=Ai.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,a,d):this.fullLimitUpdateChild_(e,t,i,a,d)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ai.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let a;r=Ai.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;a.hasNext()&&d<this.limit_;){const m=a.getNext();if(this.withinDirectionalStart(m)){if(!this.withinDirectionalEnd(m))break;r=r.updateImmediateChild(m.name,m.node),d++}}}else{let a;r=t.withIndex(this.index_),r=r.updatePriority(Ai.EMPTY_NODE),a=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let d=0;for(;a.hasNext();){const m=a.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:r=r.updateImmediateChild(m.name,Ai.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,a){let d;if(this.reverse_){const Y=this.index_.getCompare();d=(pe,xe)=>Y(xe,pe)}else d=this.index_.getCompare();const m=e;(0,C.vA)(m.numChildren()===this.limit_,"");const w=new nr(t,i),T=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),B=this.rangedFilter_.matches(w);if(m.hasChild(t)){const Y=m.getImmediateChild(t);let pe=r.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=pe&&(pe.name===t||m.hasChild(pe.name));)pe=r.getChildAfterChild(this.index_,pe,this.reverse_);const xe=null==pe?1:d(pe,w);if(B&&!i.isEmpty()&&xe>=0)return a?.trackChildChange(cE(t,i,Y)),m.updateImmediateChild(t,i);{a?.trackChildChange(lE(t,Y));const vt=m.updateImmediateChild(t,Ai.EMPTY_NODE);return null!=pe&&this.rangedFilter_.matches(pe)?(a?.trackChildChange(xb(pe.name,pe.node)),vt.updateImmediateChild(pe.name,pe.node)):vt}}return i.isEmpty()?e:B&&d(T,w)>=0?(null!=a&&(a.trackChildChange(lE(T.name,T.node)),a.trackChildChange(xb(t,i))),m.updateImmediateChild(t,i).updateImmediateChild(T.name,Ai.EMPTY_NODE)):e}}class XS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zs}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,C.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,C.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,C.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,C.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$h}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,C.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zs}copy(){const e=new XS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ZA(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function JA(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function QS(n,e){const t=n.copy();return t.index_=e,t}function dP(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Zs?t="$priority":n.index_===XA?t="$value":n.index_===ep?t="$key":((0,C.vA)(n.index_ instanceof qA,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,C.As)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,C.As)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,C.As)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,C.As)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,C.As)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function hP(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Zs&&(e.i=n.index_.toString()),e}class ZS extends XN{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Mb("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,C.vA)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const d=ZS.getListenId_(e,i),m={};this.listens_[d]=m;const w=dP(e._queryParams);this.restRequest_(a+".json",w,(T,B)=>{let Y=B;if(404===T&&(Y=null,T=null),null===T&&this.onDataUpdate_(a,Y,!1,i),(0,C.yw)(this.listens_,d)===m){let pe;pe=T?401===T?"permission_denied":"rest_error:"+T:"ok",r(pe,null)}})}unlisten(e,t){const i=ZS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=dP(e._queryParams),i=e._path.toString(),r=new C.cY;return this.restRequest_(i+".json",t,(a,d)=>{let m=d;404===a&&(m=null,a=null),null===a?(this.onDataUpdate_(i,m,!1,null),r.resolve(m)):r.reject(new Error(m))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,a])=>{r&&r.accessToken&&(t.auth=r.accessToken),a&&a.token&&(t.ac=a.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,C.Am)(t);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(i&&4===m.readyState){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let w=null;if(m.status>=200&&m.status<300){try{w=(0,C.$L)(m.responseText)}catch{Wl("Failed to parse JSON response for "+d+": "+m.responseText)}i(null,w)}else 401!==m.status&&404!==m.status&&Wl("Got unsuccessful REST response for "+d+" Status: "+m.status),i(m.status);i=null}},m.open("GET",d,!0),m.send()})}}class rk{constructor(){this.rootNode_=Ai.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function JS(){return{value:null,children:new Map}}function Rb(n,e,t){if($i(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Hi(e);n.children.has(i)||n.children.set(i,JS()),Rb(n.children.get(i),e=Hs(e),t)}}function eO(n,e){if($i(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Zs,(i,r)=>{Rb(n,new gs(i),r)}),eO(n,e)}}if(n.children.size>0){const t=Hi(e);return e=Hs(e),n.children.has(t)&&eO(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function tO(n,e,t){null!==n.value?t(e,n.value):function sk(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{tO(r,new gs(e.toString()+"/"+i),t)})}class ok{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Ga(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class ck{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ok(e);const i=1e4+2e4*Math.random();$(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Ga(e,(r,a)=>{a>0&&(0,C.gR)(this.statsToReport_,r)&&(t[r]=a,i=!0)}),i&&this.server_.reportStats(t),$(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var tp=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(tp||{});function rO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class eT{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=tp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if($i(this.path)){if(null!=this.affectedTree.value)return(0,C.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new gs(e));return new eT(Zr(),t,this.revert)}}return(0,C.vA)(Hi(this.path)===e,"operationForChild called for unrelated child."),new eT(Hs(this.path),this.affectedTree,this.revert)}}class dE{constructor(e,t){this.source=e,this.path=t,this.type=tp.LISTEN_COMPLETE}operationForChild(e){return $i(this.path)?new dE(this.source,Zr()):new dE(this.source,Hs(this.path))}}class Qv{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=tp.OVERWRITE}operationForChild(e){return $i(this.path)?new Qv(this.source,Zr(),this.snap.getImmediateChild(e)):new Qv(this.source,Hs(this.path),this.snap)}}class kb{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=tp.MERGE}operationForChild(e){if($i(this.path)){const t=this.children.subtree(new gs(e));return t.isEmpty()?null:t.value?new Qv(this.source,Zr(),t.value):new kb(this.source,Zr(),t)}return(0,C.vA)(Hi(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new kb(this.source,Hs(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class t_{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($i(e))return this.isFullyInitialized()&&!this.filtered_;const t=Hi(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class uk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function hE(n,e,t,i,r,a){const d=i.filter(m=>m.type===t);d.sort((m,w)=>function fk(n,e,t){if(null==e.childName||null==t.childName)throw(0,C.Hk)("Should only compare child_ events.");const i=new nr(e.childName,e.snapshotNode),r=new nr(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,m,w)),d.forEach(m=>{const w=function hk(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,m,a);r.forEach(T=>{T.respondsTo(m.type)&&e.push(T.createEvent(w,n.query_))})})}function tT(n,e){return{eventCache:n,serverCache:e}}function fE(n,e,t,i){return tT(new t_(e,t,i),n.serverCache)}function pP(n,e,t,i){return tT(n.eventCache,new t_(e,t,i))}function nT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zv(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let sO;class Js{constructor(e,t=(()=>(sO||(sO=new bu(kN)),sO))()){this.value=e,this.children=t}static fromObject(e){let t=new Js(null);return Ga(e,(i,r)=>{t=t.set(new gs(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Zr(),value:this.value};if($i(e))return null;{const i=Hi(e),r=this.children.get(i);if(null!==r){const a=r.findRootMostMatchingPathAndValue(Hs(e),t);return null!=a?{path:Mo(new gs(i),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($i(e))return this;{const t=Hi(e),i=this.children.get(t);return null!==i?i.subtree(Hs(e)):new Js(null)}}set(e,t){if($i(e))return new Js(t,this.children);{const i=Hi(e),a=(this.children.get(i)||new Js(null)).set(Hs(e),t),d=this.children.insert(i,a);return new Js(this.value,d)}}remove(e){if($i(e))return this.children.isEmpty()?new Js(null):new Js(null,this.children);{const t=Hi(e),i=this.children.get(t);if(i){const r=i.remove(Hs(e));let a;return a=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&a.isEmpty()?new Js(null):new Js(this.value,a)}return this}}get(e){if($i(e))return this.value;{const t=Hi(e),i=this.children.get(t);return i?i.get(Hs(e)):null}}setTree(e,t){if($i(e))return t;{const i=Hi(e),a=(this.children.get(i)||new Js(null)).setTree(Hs(e),t);let d;return d=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new Js(this.value,d)}}fold(e){return this.fold_(Zr(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,a)=>{i[r]=a.fold_(Mo(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Zr(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if($i(e))return null;{const a=Hi(e),d=this.children.get(a);return d?d.findOnPath_(Hs(e),Mo(t,a),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Zr(),t)}foreachOnPath_(e,t,i){if($i(e))return this;{this.value&&i(t,this.value);const r=Hi(e),a=this.children.get(r);return a?a.foreachOnPath_(Hs(e),Mo(t,r),i):new Js(null)}}foreach(e){this.foreach_(Zr(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Mo(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Kh{constructor(e){this.writeTree_=e}static empty(){return new Kh(new Js(null))}}function pE(n,e,t){if($i(e))return new Kh(new Js(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let a=i.value;const d=Hc(r,e);return a=a.updateChild(d,t),new Kh(n.writeTree_.set(r,a))}{const r=new Js(t),a=n.writeTree_.setTree(e,r);return new Kh(a)}}}function oO(n,e,t){let i=n;return Ga(t,(r,a)=>{i=pE(i,Mo(e,r),a)}),i}function gP(n,e){if($i(e))return Kh.empty();{const t=n.writeTree_.setTree(e,new Js(null));return new Kh(t)}}function aO(n,e){return null!=Jv(n,e)}function Jv(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Hc(t.path,e)):null}function mP(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Zs,(i,r)=>{e.push(new nr(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new nr(i,r.value))}),e}function n_(n,e){if($i(e))return n;{const t=Jv(n,e);return new Kh(null!=t?new Js(t):n.writeTree_.subtree(e))}}function lO(n){return n.writeTree_.isEmpty()}function Lb(n,e){return _P(Zr(),n.writeTree_,e)}function _P(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,a)=>{".priority"===r?((0,C.vA)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):t=_P(Mo(n,r),a,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Mo(n,".priority"),i)),t}}function iT(n,e){return CP(e,n)}function yk(n,e){if(n.snap)return Kd(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Kd(Mo(n.path,t),e))return!0;return!1}function wk(n){return n.visible}function vP(n,e,t){let i=Kh.empty();for(let r=0;r<n.length;++r){const a=n[r];if(e(a)){const d=a.path;let m;if(a.snap)Kd(t,d)?(m=Hc(t,d),i=pE(i,m,a.snap)):Kd(d,t)&&(m=Hc(d,t),i=pE(i,Zr(),a.snap.getChild(m)));else{if(!a.children)throw(0,C.Hk)("WriteRecord should have .snap or .children");if(Kd(t,d))m=Hc(t,d),i=oO(i,m,a.children);else if(Kd(d,t))if(m=Hc(d,t),$i(m))i=oO(i,Zr(),a.children);else{const w=(0,C.yw)(a.children,Hi(m));if(w){const T=w.getChild(Hs(m));i=pE(i,Zr(),T)}}}}}return i}function yP(n,e,t,i,r){if(i||r){const a=n_(n.visibleWrites,e);return!r&&lO(a)?t:r||null!=t||aO(a,Zr())?Lb(vP(n.allWrites,function(T){return(T.visible||r)&&(!i||!~i.indexOf(T.writeId))&&(Kd(T.path,e)||Kd(e,T.path))},e),t||Ai.EMPTY_NODE):null}{const a=Jv(n.visibleWrites,e);if(null!=a)return a;{const d=n_(n.visibleWrites,e);return lO(d)?t:null!=t||aO(d,Zr())?Lb(d,t||Ai.EMPTY_NODE):null}}}function rT(n,e,t,i){return yP(n.writeTree,n.treePath,e,t,i)}function cO(n,e){return function Ck(n,e,t){let i=Ai.EMPTY_NODE;const r=Jv(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Zs,(a,d)=>{i=i.updateImmediateChild(a,d)}),i;if(t){const a=n_(n.visibleWrites,e);return t.forEachChild(Zs,(d,m)=>{const w=Lb(n_(a,new gs(d)),m);i=i.updateImmediateChild(d,w)}),mP(a).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return mP(n_(n.visibleWrites,e)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(n.writeTree,n.treePath,e)}function bP(n,e,t,i){return function Ek(n,e,t,i,r){(0,C.vA)(i||r,"Either existingEventSnap or existingServerSnap must exist");const a=Mo(e,t);if(aO(n.visibleWrites,a))return null;{const d=n_(n.visibleWrites,a);return lO(d)?r.getChild(t):Lb(d,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function sT(n,e){return function Dk(n,e){return Jv(n.visibleWrites,e)}(n.writeTree,Mo(n.treePath,e))}function uO(n,e,t){return function Ik(n,e,t,i){const r=Mo(e,t),a=Jv(n.visibleWrites,r);return null!=a?a:i.isCompleteForChild(t)?Lb(n_(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function wP(n,e){return CP(Mo(n.treePath,e),n.writeTree)}function CP(n,e){return{treePath:n,writeTree:e}}class Ak{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,C.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,C.vA)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const a=r.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(i,cE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(i,lE(i,r.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(i,xb(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,C.Hk)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,cE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const EP=new class Ok{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class dO{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new t_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uO(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zv(this.viewCache_),a=function Mk(n,e,t,i,r,a){return function Sk(n,e,t,i,r,a,d){let m;const w=n_(n.visibleWrites,e),T=Jv(w,Zr());if(null!=T)m=T;else{if(null==t)return[];m=Lb(w,t)}if(m=m.withIndex(d),m.isEmpty()||m.isLeafNode())return[];{const B=[],Y=d.getCompare(),pe=a?m.getReverseIteratorFrom(i,d):m.getIteratorFrom(i,d);let xe=pe.getNext();for(;xe&&B.length<r;)0!==Y(xe,i)&&B.push(xe),xe=pe.getNext();return B}}(n.writeTree,n.treePath,e,t,i,r,a)}(this.writes_,r,t,1,i,e);return 0===a.length?null:a[0]}}function IP(n,e,t,i,r,a){const d=e.eventCache;if(null!=sT(i,t))return e;{let m,w;if($i(t))if((0,C.vA)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const T=Zv(e),Y=cO(i,T instanceof Ai?T:Ai.EMPTY_NODE);m=n.filter.updateFullNode(e.eventCache.getNode(),Y,a)}else{const T=rT(i,Zv(e));m=n.filter.updateFullNode(e.eventCache.getNode(),T,a)}else{const T=Hi(t);if(".priority"===T){(0,C.vA)(1===e_(t),"Can't have a priority with additional path components");const B=d.getNode();w=e.serverCache.getNode();const Y=bP(i,t,B,w);m=null!=Y?n.filter.updatePriority(B,Y):d.getNode()}else{const B=Hs(t);let Y;if(d.isCompleteForChild(T)){w=e.serverCache.getNode();const pe=bP(i,t,d.getNode(),w);Y=null!=pe?d.getNode().getImmediateChild(T).updateChild(B,pe):d.getNode().getImmediateChild(T)}else Y=uO(i,T,e.serverCache);m=null!=Y?n.filter.updateChild(d.getNode(),T,Y,B,r,a):d.getNode()}}return fE(e,m,d.isFullyInitialized()||$i(t),n.filter.filtersNodes())}}function oT(n,e,t,i,r,a,d,m){const w=e.serverCache;let T;const B=d?n.filter:n.filter.getIndexedFilter();if($i(t))T=B.updateFullNode(w.getNode(),i,null);else if(B.filtersNodes()&&!w.isFiltered()){const xe=w.getNode().updateChild(t,i);T=B.updateFullNode(w.getNode(),xe,null)}else{const xe=Hi(t);if(!w.isCompleteForPath(t)&&e_(t)>1)return e;const Je=Hs(t),Lt=w.getNode().getImmediateChild(xe).updateChild(Je,i);T=".priority"===xe?B.updatePriority(w.getNode(),Lt):B.updateChild(w.getNode(),xe,Lt,Je,EP,null)}const Y=pP(e,T,w.isFullyInitialized()||$i(t),B.filtersNodes());return IP(n,Y,t,r,new dO(r,Y,a),m)}function hO(n,e,t,i,r,a,d){const m=e.eventCache;let w,T;const B=new dO(r,e,a);if($i(t))T=n.filter.updateFullNode(e.eventCache.getNode(),i,d),w=fE(e,T,!0,n.filter.filtersNodes());else{const Y=Hi(t);if(".priority"===Y)T=n.filter.updatePriority(e.eventCache.getNode(),i),w=fE(e,T,m.isFullyInitialized(),m.isFiltered());else{const pe=Hs(t),xe=m.getNode().getImmediateChild(Y);let Je;if($i(pe))Je=i;else{const vt=B.getCompleteChild(Y);Je=null!=vt?".priority"===GA(pe)&&vt.getChild(eP(pe)).isEmpty()?vt:vt.updateChild(pe,i):Ai.EMPTY_NODE}w=xe.equals(Je)?e:fE(e,n.filter.updateChild(m.getNode(),Y,Je,pe,B,d),m.isFullyInitialized(),n.filter.filtersNodes())}}return w}function DP(n,e){return n.eventCache.isCompleteForChild(e)}function SP(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function fO(n,e,t,i,r,a,d,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let T,w=e;T=$i(t)?i:new Js(null).setTree(t,i);const B=e.serverCache.getNode();return T.children.inorderTraversal((Y,pe)=>{if(B.hasChild(Y)){const Je=SP(0,e.serverCache.getNode().getImmediateChild(Y),pe);w=oT(n,w,new gs(Y),Je,r,a,d,m)}}),T.children.inorderTraversal((Y,pe)=>{const xe=!e.serverCache.isCompleteForChild(Y)&&null===pe.value;if(!B.hasChild(Y)&&!xe){const vt=SP(0,e.serverCache.getNode().getImmediateChild(Y),pe);w=oT(n,w,new gs(Y),vt,r,a,d,m)}}),w}class jk{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new QA(i.getIndex()),a=function JR(n){return n.loadsAllData()?new QA(n.getIndex()):n.hasLimit()?new ZR(n):new uE(n)}(i);this.processor_=function Nk(n){return{filter:n}}(a);const d=t.serverCache,m=t.eventCache,w=r.updateFullNode(Ai.EMPTY_NODE,d.getNode(),null),T=a.updateFullNode(Ai.EMPTY_NODE,m.getNode(),null),B=new t_(w,d.isFullyInitialized(),r.filtersNodes()),Y=new t_(T,m.isFullyInitialized(),a.filtersNodes());this.viewCache_=tT(Y,B),this.eventGenerator_=new uk(this.query_)}get query(){return this.query_}}function zk(n,e){const t=Zv(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!$i(e)&&!t.getImmediateChild(Hi(e)).isEmpty())?t.getChild(e):null}function TP(n){return 0===n.eventRegistrations_.length}function MP(n,e,t){const i=[];if(t){(0,C.vA)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(a=>{const d=a.createCancelEvent(t,r);d&&i.push(d)})}if(e){let r=[];for(let a=0;a<n.eventRegistrations_.length;++a){const d=n.eventRegistrations_[a];if(d.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(a+1));break}}else r.push(d)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function AP(n,e,t,i){e.type===tp.MERGE&&null!==e.source.queryId&&((0,C.vA)(Zv(n.viewCache_),"We should always have a full cache before handling merges"),(0,C.vA)(nT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,a=function xk(n,e,t,i,r){const a=new Ak;let d,m;if(t.type===tp.OVERWRITE){const T=t;T.source.fromUser?d=hO(n,e,T.path,T.snap,i,r,a):((0,C.vA)(T.source.fromServer,"Unknown source."),m=T.source.tagged||e.serverCache.isFiltered()&&!$i(T.path),d=oT(n,e,T.path,T.snap,i,r,m,a))}else if(t.type===tp.MERGE){const T=t;T.source.fromUser?d=function kk(n,e,t,i,r,a,d){let m=e;return i.foreach((w,T)=>{const B=Mo(t,w);DP(e,Hi(B))&&(m=hO(n,m,B,T,r,a,d))}),i.foreach((w,T)=>{const B=Mo(t,w);DP(e,Hi(B))||(m=hO(n,m,B,T,r,a,d))}),m}(n,e,T.path,T.children,i,r,a):((0,C.vA)(T.source.fromServer,"Unknown source."),m=T.source.tagged||e.serverCache.isFiltered(),d=fO(n,e,T.path,T.children,i,r,m,a))}else if(t.type===tp.ACK_USER_WRITE){const T=t;d=T.revert?function Bk(n,e,t,i,r,a){let d;if(null!=sT(i,t))return e;{const m=new dO(i,e,r),w=e.eventCache.getNode();let T;if($i(t)||".priority"===Hi(t)){let B;if(e.serverCache.isFullyInitialized())B=rT(i,Zv(e));else{const Y=e.serverCache.getNode();(0,C.vA)(Y instanceof Ai,"serverChildren would be complete if leaf node"),B=cO(i,Y)}T=n.filter.updateFullNode(w,B,a)}else{const B=Hi(t);let Y=uO(i,B,e.serverCache);null==Y&&e.serverCache.isCompleteForChild(B)&&(Y=w.getImmediateChild(B)),T=null!=Y?n.filter.updateChild(w,B,Y,Hs(t),m,a):e.eventCache.getNode().hasChild(B)?n.filter.updateChild(w,B,Ai.EMPTY_NODE,Hs(t),m,a):w,T.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=rT(i,Zv(e)),d.isLeafNode()&&(T=n.filter.updateFullNode(T,d,a)))}return d=e.serverCache.isFullyInitialized()||null!=sT(i,Zr()),fE(e,T,d,n.filter.filtersNodes())}}(n,e,T.path,i,r,a):function Lk(n,e,t,i,r,a,d){if(null!=sT(r,t))return e;const m=e.serverCache.isFiltered(),w=e.serverCache;if(null!=i.value){if($i(t)&&w.isFullyInitialized()||w.isCompleteForPath(t))return oT(n,e,t,w.getNode().getChild(t),r,a,m,d);if($i(t)){let T=new Js(null);return w.getNode().forEachChild(ep,(B,Y)=>{T=T.set(new gs(B),Y)}),fO(n,e,t,T,r,a,m,d)}return e}{let T=new Js(null);return i.foreach((B,Y)=>{const pe=Mo(t,B);w.isCompleteForPath(pe)&&(T=T.set(B,w.getNode().getChild(pe)))}),fO(n,e,t,T,r,a,m,d)}}(n,e,T.path,T.affectedTree,i,r,a)}else{if(t.type!==tp.LISTEN_COMPLETE)throw(0,C.Hk)("Unknown operation type: "+t.type);d=function Fk(n,e,t,i,r){const a=e.serverCache;return IP(n,pP(e,a.getNode(),a.isFullyInitialized()||$i(t),a.isFiltered()),t,i,EP,r)}(n,e,t.path,i,a)}const w=a.getChanges();return function Rk(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=nT(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&t.push(uP(nT(e)))}}(e,d,w),{viewCache:d,changes:w}}(n.processor_,r,e,t,i);return function Pk(n,e){(0,C.vA)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,C.vA)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,C.vA)(a.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,OP(n,a.changes,a.viewCache.eventCache.getNode(),null)}function OP(n,e,t,i){return function dk(n,e,t,i){const r=[],a=[];return e.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&a.push(function QR(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(d.childName,d.snapshotNode))}),hE(n,r,"child_removed",e,i,t),hE(n,r,"child_added",e,i,t),hE(n,r,"child_moved",a,i,t),hE(n,r,"child_changed",e,i,t),hE(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let aT,cT;class NP{constructor(){this.views=new Map}}function pO(n,e,t,i){const r=e.source.queryId;if(null!==r){const a=n.views.get(r);return(0,C.vA)(null!=a,"SyncTree gave us an op for an invalid query."),AP(a,e,t,i)}{let a=[];for(const d of n.views.values())a=a.concat(AP(d,e,t,i));return a}}function PP(n,e,t,i,r){const d=n.views.get(e._queryIdentifier);if(!d){let m=rT(t,r?i:null),w=!1;m?w=!0:i instanceof Ai?(m=cO(t,i),w=!1):(m=Ai.EMPTY_NODE,w=!1);const T=tT(new t_(m,w,!1),new t_(i,r,!1));return new jk(e,T)}return d}function xP(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function i_(n,e){let t=null;for(const i of n.views.values())t=t||zk(i,e);return t}function RP(n,e){return e._queryParams.loadsAllData()?lT(n):n.views.get(e._queryIdentifier)}function kP(n,e){return null!=RP(n,e)}function r_(n){return null!=lT(n)}function lT(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Zk=1;class LP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Js(null),this.pendingWriteTree_=function Tk(){return{visibleWrites:Kh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gO(n,e,t,i,r){return function gk(n,e,t,i,r){(0,C.vA)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=pE(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Fb(n,new Qv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function s_(n,e,t=!1){const i=function _k(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function vk(n,e){const t=n.allWrites.findIndex(m=>m.writeId===e);(0,C.vA)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,a=!1,d=n.allWrites.length-1;for(;r&&d>=0;){const m=n.allWrites[d];m.visible&&(d>=t&&yk(m,i.path)?r=!1:Kd(i.path,m.path)&&(a=!0)),d--}return!!r&&(a?(function bk(n){n.visibleWrites=vP(n.allWrites,wk,Zr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=gP(n.visibleWrites,i.path):Ga(i.children,w=>{n.visibleWrites=gP(n.visibleWrites,Mo(i.path,w))}),!0))}(n.pendingWriteTree_,e)){let a=new Js(null);return null!=i.snap?a=a.set(Zr(),!0):Ga(i.children,d=>{a=a.set(new gs(d),!0)}),Fb(n,new eT(i.path,a,t))}return[]}function gE(n,e,t){return Fb(n,new Qv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function uT(n,e,t,i,r=!1){const a=e._path,d=n.syncPointTree_.get(a);let m=[];if(d&&("default"===e._queryIdentifier||kP(d,e))){const w=function qk(n,e,t,i){const r=e._queryIdentifier,a=[];let d=[];const m=r_(n);if("default"===r)for(const[w,T]of n.views.entries())d=d.concat(MP(T,t,i)),TP(T)&&(n.views.delete(w),T.query._queryParams.loadsAllData()||a.push(T.query));else{const w=n.views.get(r);w&&(d=d.concat(MP(w,t,i)),TP(w)&&(n.views.delete(r),w.query._queryParams.loadsAllData()||a.push(w.query)))}return m&&!r_(n)&&a.push(new(function Wk(){return(0,C.vA)(aT,"Reference.ts has not been loaded"),aT}())(e._repo,e._path)),{removed:a,events:d}}(d,e,t,i);(function Kk(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const T=w.removed;if(m=w.events,!r){const B=-1!==T.findIndex(pe=>pe._queryParams.loadsAllData()),Y=n.syncPointTree_.findOnPath(a,(pe,xe)=>r_(xe));if(B&&!Y){const pe=n.syncPointTree_.subtree(a);if(!pe.isEmpty()){const xe=function sL(n){return n.fold((e,t,i)=>{if(t&&r_(t))return[lT(t)];{let r=[];return t&&(r=xP(t)),Ga(i,(a,d)=>{r=r.concat(d)}),r}})}(pe);for(let Je=0;Je<xe.length;++Je){const vt=xe[Je],Lt=vt.query,fn=VP(n,vt);n.listenProvider_.startListening(_E(Lt),mE(n,Lt),fn.hashFn,fn.onComplete)}}}!Y&&T.length>0&&!i&&(B?n.listenProvider_.stopListening(_E(e),null):T.forEach(pe=>{const xe=n.queryToTagMap.get(hT(pe));n.listenProvider_.stopListening(_E(pe),xe)}))}!function oL(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=hT(i),a=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(a)}}}(n,T)}return m}function FP(n,e,t,i){const r=_O(n,i);if(null!=r){const a=vO(r),d=a.path,m=a.queryId,w=Hc(d,e);return yO(n,d,new Qv(rO(m),w,t))}return[]}function mO(n,e,t,i=!1){const r=e._path;let a=null,d=!1;n.syncPointTree_.foreachOnPath(r,(pe,xe)=>{const Je=Hc(pe,r);a=a||i_(xe,Je),d=d||r_(xe)});let w,m=n.syncPointTree_.get(r);m?(d=d||r_(m),a=a||i_(m,Zr())):(m=new NP,n.syncPointTree_=n.syncPointTree_.set(r,m)),null!=a?w=!0:(w=!1,a=Ai.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((xe,Je)=>{const vt=i_(Je,Zr());vt&&(a=a.updateImmediateChild(xe,vt))}));const T=kP(m,e);if(!T&&!e._queryParams.loadsAllData()){const pe=hT(e);(0,C.vA)(!n.queryToTagMap.has(pe),"View does not exist, but we have a tag");const xe=function aL(){return Zk++}();n.queryToTagMap.set(pe,xe),n.tagToQueryMap.set(xe,pe)}let Y=function Yk(n,e,t,i,r,a){const d=PP(n,e,i,r,a);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,d),function Gk(n,e){n.eventRegistrations_.push(e)}(d,t),function Hk(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Zs,(a,d)=>{i.push(xb(a,d))}),t.isFullyInitialized()&&i.push(uP(t.getNode())),OP(n,i,t.getNode(),e)}(d,t)}(m,e,t,iT(n.pendingWriteTree_,r),a,w);if(!T&&!d&&!i){const pe=RP(m,e);Y=Y.concat(function lL(n,e,t){const i=e._path,r=mE(n,e),a=VP(n,t),d=n.listenProvider_.startListening(_E(e),r,a.hashFn,a.onComplete),m=n.syncPointTree_.subtree(i);if(r)(0,C.vA)(!r_(m.value),"If we're adding a query, it shouldn't be shadowed");else{const w=m.fold((T,B,Y)=>{if(!$i(T)&&B&&r_(B))return[lT(B).query];{let pe=[];return B&&(pe=pe.concat(xP(B).map(xe=>xe.query))),Ga(Y,(xe,Je)=>{pe=pe.concat(Je)}),pe}});for(let T=0;T<w.length;++T){const B=w[T];n.listenProvider_.stopListening(_E(B),mE(n,B))}}return d}(n,e,pe))}return Y}function dT(n,e,t){const r=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(d,m)=>{const T=i_(m,Hc(d,e));if(T)return T});return yP(r,e,a,t,!0)}function Fb(n,e){return BP(e,n.syncPointTree_,null,iT(n.pendingWriteTree_,Zr()))}function BP(n,e,t,i){if($i(n.path))return jP(n,e,t,i);{const r=e.get(Zr());null==t&&null!=r&&(t=i_(r,Zr()));let a=[];const d=Hi(n.path),m=n.operationForChild(d),w=e.children.get(d);if(w&&m){const T=t?t.getImmediateChild(d):null,B=wP(i,d);a=a.concat(BP(m,w,T,B))}return r&&(a=a.concat(pO(r,n,i,t))),a}}function jP(n,e,t,i){const r=e.get(Zr());null==t&&null!=r&&(t=i_(r,Zr()));let a=[];return e.children.inorderTraversal((d,m)=>{const w=t?t.getImmediateChild(d):null,T=wP(i,d),B=n.operationForChild(d);B&&(a=a.concat(jP(B,m,w,T)))}),r&&(a=a.concat(pO(r,n,i,t))),a}function VP(n,e){const t=e.query,i=mE(n,t);return{hashFn:()=>(function Vk(n){return n.viewCache_.serverCache.getNode()}(e)||Ai.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function nL(n,e,t){const i=_O(n,t);if(i){const r=vO(i),a=r.path,d=r.queryId,m=Hc(a,e);return yO(n,a,new dE(rO(d),m))}return[]}(n,t._path,i):function tL(n,e){return Fb(n,new dE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const a=function l(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return uT(n,t,null,a)}}}}function mE(n,e){const t=hT(e);return n.queryToTagMap.get(t)}function hT(n){return n._path.toString()+"$"+n._queryIdentifier}function _O(n,e){return n.tagToQueryMap.get(e)}function vO(n){const e=n.indexOf("$");return(0,C.vA)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new gs(n.substr(0,e))}}function yO(n,e,t){const i=n.syncPointTree_.get(e);return(0,C.vA)(i,"Missing sync point for query tag that we're tracking"),pO(i,t,iT(n.pendingWriteTree_,e),null)}function _E(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Qk(){return(0,C.vA)(cT,"Reference.ts has not been loaded"),cT}())(n._repo,n._path):n}class bO{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new bO(t)}node(){return this.node_}}class wO{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Mo(this.path_,e);return new wO(this.syncTree_,t)}node(){return dT(this.syncTree_,this.path_)}}const cL=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},UP=function(n,e,t){return n&&"object"==typeof n?((0,C.vA)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?uL(n[".sv"],e,t):"object"==typeof n[".sv"]?dL(n[".sv"],e):void(0,C.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uL=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,C.vA)(!1,"Unexpected server value: "+n)},dL=function(n,e,t){n.hasOwnProperty("increment")||(0,C.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,C.vA)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,C.vA)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const d=r.getValue();return"number"!=typeof d?i:d+i},zP=function(n,e,t,i){return EO(e,new wO(t,n),i)},CO=function(n,e,t){return EO(n,new bO(e),t)};function EO(n,e,t){const i=n.getPriority().val(),r=UP(i,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const d=n,m=UP(d.getValue(),e,t);return m!==d.getValue()||r!==d.getPriority().val()?new Nb(m,jo(r)):n}{const d=n;return a=d,r!==d.getPriority().val()&&(a=a.updatePriority(new Nb(r))),d.forEachChild(Zs,(m,w)=>{const T=EO(w,e.getImmediateChild(m),t);T!==w&&(a=a.updateImmediateChild(m,T))}),a}}class IO{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function fT(n,e){let t=e instanceof gs?e:new gs(e),i=n,r=Hi(t);for(;null!==r;){const a=(0,C.yw)(i.node.children,r)||{children:{},childCount:0};i=new IO(r,i,a),t=Hs(t),r=Hi(t)}return i}function ey(n){return n.node.value}function DO(n,e){n.node.value=e,SO(n)}function GP(n){return n.node.childCount>0}function pT(n,e){Ga(n.node.children,(t,i)=>{e(new IO(t,n,i))})}function HP(n,e,t,i){t&&!i&&e(n),pT(n,r=>{HP(r,e,!0,i)}),t&&i&&e(n)}function vE(n){return new gs(null===n.parent?n.name:vE(n.parent)+"/"+n.name)}function SO(n){null!==n.parent&&function pL(n,e,t){const i=function hL(n){return void 0===ey(n)&&!GP(n)}(t),r=(0,C.gR)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,SO(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,SO(n))}(n.parent,n.name,n)}const gL=/[\[\].#$\/\u0000-\u001F\u007F]/,mL=/[\[\].#$\u0000-\u001F\u007F]/,TO=10485760,gT=function(n){return"string"==typeof n&&0!==n.length&&!gL.test(n)},$P=function(n){return"string"==typeof n&&0!==n.length&&!mL.test(n)},yE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!nE(n)||n&&"object"==typeof n&&(0,C.gR)(n,".sv")},np=function(n,e,t,i){i&&void 0===e||bE((0,C.dI)(n,"value"),e,t)},bE=function(n,e,t){const i=t instanceof gs?new xR(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+qv(i));if("function"==typeof e)throw new Error(n+"contains a function "+qv(i)+" with contents = "+e.toString());if(nE(e))throw new Error(n+"contains "+e.toString()+" "+qv(i));if("string"==typeof e&&e.length>TO/3&&(0,C.OE)(e)>TO)throw new Error(n+"contains a string greater than "+TO+" utf8 bytes "+qv(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,a=!1;if(Ga(e,(d,m)=>{if(".value"===d)r=!0;else if(".priority"!==d&&".sv"!==d&&(a=!0,!gT(d)))throw new Error(n+" contains an invalid key ("+d+") "+qv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function RR(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,C.OE)(e),tP(n)})(i,d),bE(n,m,i),function kR(n){const e=n.parts_.pop();n.byteLength_-=(0,C.OE)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&a)throw new Error(n+' contains ".value" child '+qv(i)+" in addition to actual children.")}},WP=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,C.dI)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const a=[];Ga(e,(d,m)=>{const w=new gs(d);if(bE(r,m,Mo(t,w)),".priority"===GA(w)&&!yE(m))throw new Error(r+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(w)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const a=rE(i);for(let d=0;d<a.length;d++)if((".priority"!==a[d]||d!==a.length-1)&&!gT(a[d]))throw new Error(n+"contains an invalid key ("+a[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(PR);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Kd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,a)},MO=function(n,e,t){if(!t||void 0!==e){if(nE(e))throw new Error((0,C.dI)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yE(e))throw new Error((0,C.dI)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wE=function(n,e,t,i){if(!(i&&void 0===t||gT(t)))throw new Error((0,C.dI)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},CE=function(n,e,t,i){if(!(i&&void 0===t||$P(t)))throw new Error((0,C.dI)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yL=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CE(n,e,t,i)},Yd=function(n,e){if(".info"===Hi(e))throw new Error(n+" failed = Can't modify data under /.info/")},KP=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!gT(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$P(n)}(t))throw new Error((0,C.dI)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mT(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],a=r.getPath();null!==t&&!HA(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(r)}t&&n.eventLists_.push(t)}function YP(n,e,t){mT(n,t),qP(n,i=>HA(i,e))}function Zu(n,e,t){mT(n,t),qP(n,i=>Kd(i,e)||Kd(e,i))}function qP(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(wL(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function wL(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();pg&&sl("event: "+t.toString()),O(i)}}}const XP="repo_interrupt",CL=25;class EL{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JS(),this.transactionQueueTree_=new IO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QP(n){const t=n.infoData_.getNode(new gs(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function EE(n){return cL({timestamp:QP(n)})}function ZP(n,e,t,i,r){n.dataUpdateCount++;const a=new gs(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let d=[];if(r)if(i){const w=(0,C.kH)(t,T=>jo(T));d=function iL(n,e,t,i){const r=_O(n,i);if(r){const a=vO(r),d=a.path,m=a.queryId,w=Hc(d,e),T=Js.fromObject(t);return yO(n,d,new kb(rO(m),w,T))}return[]}(n.serverSyncTree_,a,w,r)}else{const w=jo(t);d=FP(n.serverSyncTree_,a,w,r)}else if(i){const w=(0,C.kH)(t,T=>jo(T));d=function eL(n,e,t){const i=Js.fromObject(t);return Fb(n,new kb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,a,w)}else{const w=jo(t);d=gE(n.serverSyncTree_,a,w)}let m=a;d.length>0&&(m=jb(n,a)),Zu(n.eventQueue_,m,d)}function JP(n,e){AO(n,"connected",e),!1===e&&function ML(n){Bb(n,"onDisconnectEvents");const e=EE(n),t=JS();tO(n.onDisconnect_,Zr(),(r,a)=>{const d=zP(r,a,n.serverSyncTree_,e);Rb(t,r,d)});let i=[];tO(t,Zr(),(r,a)=>{i=i.concat(gE(n.serverSyncTree_,r,a));const d=xO(n,r);jb(n,d)}),n.onDisconnect_=JS(),Zu(n.eventQueue_,Zr(),i)}(n)}function AO(n,e,t){const i=new gs("/.info/"+e),r=jo(t);n.infoData_.updateSnapshot(i,r);const a=gE(n.infoSyncTree_,i,r);Zu(n.eventQueue_,i,a)}function _T(n){return n.nextWriteId_++}function OO(n,e,t,i,r){Bb(n,"set",{path:e.toString(),value:t,priority:i});const a=EE(n),d=jo(t,i),m=dT(n.serverSyncTree_,e),w=CO(d,m,a),T=_T(n),B=gO(n.serverSyncTree_,e,w,T,!0);mT(n.eventQueue_,B),n.server_.put(e.toString(),d.val(!0),(pe,xe)=>{const Je="ok"===pe;Je||Wl("set at "+e+" failed: "+pe);const vt=s_(n.serverSyncTree_,T,!Je);Zu(n.eventQueue_,e,vt),o_(0,r,pe,xe)});const Y=xO(n,e);jb(n,Y),Zu(n.eventQueue_,Y,[])}function AL(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&eO(n.onDisconnect_,e),o_(0,t,i,r)})}function ex(n,e,t,i){const r=jo(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(a,d)=>{"ok"===a&&Rb(n.onDisconnect_,e,r),o_(0,i,a,d)})}function NO(n,e,t){let i;i=".info"===Hi(e._path)?uT(n.infoSyncTree_,e,t):uT(n.serverSyncTree_,e,t),YP(n.eventQueue_,e._path,i)}function tx(n){n.persistentConnection_&&n.persistentConnection_.interrupt(XP)}function Bb(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),sl(t,...e)}function o_(n,e,t,i){e&&O(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let a=r;i&&(a+=": "+i);const d=new Error(a);d.code=r,e(d)}})}function PO(n,e,t){return dT(n.serverSyncTree_,e,t)||Ai.EMPTY_NODE}function vT(n,e=n.transactionQueueTree_){if(e||yT(n,e),ey(e)){const t=ix(n,e);(0,C.vA)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function kL(n,e,t){const i=t.map(T=>T.currentWriteId),r=PO(n,e,i);let a=r;const d=r.hash();for(let T=0;T<t.length;T++){const B=t[T];(0,C.vA)(0===B.status,"tryToSendTransactionQueue_: items in queue should all be run."),B.status=1,B.retryCount++;const Y=Hc(e,B.path);a=a.updateChild(Y,B.currentOutputSnapshotRaw)}const m=a.val(!0),w=e;n.server_.put(w.toString(),m,T=>{Bb(n,"transaction put response",{path:w.toString(),status:T});let B=[];if("ok"===T){const Y=[];for(let pe=0;pe<t.length;pe++)t[pe].status=2,B=B.concat(s_(n.serverSyncTree_,t[pe].currentWriteId)),t[pe].onComplete&&Y.push(()=>t[pe].onComplete(null,!0,t[pe].currentOutputSnapshotResolved)),t[pe].unwatcher();yT(n,fT(n.transactionQueueTree_,e)),vT(n,n.transactionQueueTree_),Zu(n.eventQueue_,e,B);for(let pe=0;pe<Y.length;pe++)O(Y[pe])}else{if("datastale"===T)for(let Y=0;Y<t.length;Y++)t[Y].status=3===t[Y].status?4:0;else{Wl("transaction at "+w.toString()+" failed: "+T);for(let Y=0;Y<t.length;Y++)t[Y].status=4,t[Y].abortReason=T}jb(n,e)}},d)}(n,vE(e),t)}else GP(e)&&pT(e,t=>{vT(n,t)})}function jb(n,e){const t=nx(n,e),i=vE(t);return function LL(n,e,t){if(0===e.length)return;const i=[];let r=[];const d=e.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const w=e[m],T=Hc(t,w.path);let Y,B=!1;if((0,C.vA)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)B=!0,Y=w.abortReason,r=r.concat(s_(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=CL)B=!0,Y="maxretry",r=r.concat(s_(n.serverSyncTree_,w.currentWriteId,!0));else{const pe=PO(n,w.path,d);w.currentInputSnapshot=pe;const xe=e[m].update(pe.val());if(void 0!==xe){bE("transaction failed: Data returned ",xe,w.path);let Je=jo(xe);"object"==typeof xe&&null!=xe&&(0,C.gR)(xe,".priority")||(Je=Je.updatePriority(pe.getPriority()));const Lt=w.currentWriteId,fn=EE(n),Dn=CO(Je,pe,fn);w.currentOutputSnapshotRaw=Je,w.currentOutputSnapshotResolved=Dn,w.currentWriteId=_T(n),d.splice(d.indexOf(Lt),1),r=r.concat(gO(n.serverSyncTree_,w.path,Dn,w.currentWriteId,w.applyLocally)),r=r.concat(s_(n.serverSyncTree_,Lt,!0))}else B=!0,Y="nodata",r=r.concat(s_(n.serverSyncTree_,w.currentWriteId,!0))}Zu(n.eventQueue_,t,r),r=[],B&&(e[m].status=2,setTimeout(e[m].unwatcher,Math.floor(0)),e[m].onComplete&&i.push("nodata"===Y?()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot):()=>e[m].onComplete(new Error(Y),!1,null)))}yT(n,n.transactionQueueTree_);for(let m=0;m<i.length;m++)O(i[m]);vT(n,n.transactionQueueTree_)}(n,ix(n,t),i),i}function nx(n,e){let t,i=n.transactionQueueTree_;for(t=Hi(e);null!==t&&void 0===ey(i);)i=fT(i,t),t=Hi(e=Hs(e));return i}function ix(n,e){const t=[];return rx(n,e,t),t.sort((i,r)=>i.order-r.order),t}function rx(n,e,t){const i=ey(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);pT(e,r=>{rx(n,r,t)})}function yT(n,e){const t=ey(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,DO(e,t.length>0?t:void 0)}pT(e,i=>{yT(n,i)})}function xO(n,e){const t=vE(nx(n,e)),i=fT(n.transactionQueueTree_,e);return function fL(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{RO(n,r)}),RO(n,i),HP(i,r=>{RO(n,r)}),t}function RO(n,e){const t=ey(e);if(t){const i=[];let r=[],a=-1;for(let d=0;d<t.length;d++)3===t[d].status||(1===t[d].status?((0,C.vA)(a===d-1,"All SENT items should be at beginning of queue."),a=d,t[d].status=3,t[d].abortReason="set"):((0,C.vA)(0===t[d].status,"Unexpected transaction status in abort"),t[d].unwatcher(),r=r.concat(s_(n.serverSyncTree_,t[d].currentWriteId,!0)),t[d].onComplete&&i.push(t[d].onComplete.bind(null,new Error("set"),!1,null))));-1===a?DO(e,void 0):t.length=a+1,Zu(n.eventQueue_,vE(e),r);for(let d=0;d<i.length;d++)O(i[d])}}const kO=function(n,e){const t=jL(n),i=t.namespace;return"firebase.com"===t.domain&&$d(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&$d("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Jf(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new gs(t.pathString)}},jL=function(n){let e="",t="",i="",r="",a="",d=!0,m="https",w=443;if("string"==typeof n){let T=n.indexOf("//");T>=0&&(m=n.substring(0,T-1),n=n.substring(T+2));let B=n.indexOf("/");-1===B&&(B=n.length);let Y=n.indexOf("?");-1===Y&&(Y=n.length),e=n.substring(0,Math.min(B,Y)),B<Y&&(r=function FL(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(B,Y)));const pe=function BL(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wl(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,Y)));T=e.indexOf(":"),T>=0?(d="https"===m||"wss"===m,w=parseInt(e.substring(T+1),10)):T=e.length;const xe=e.slice(0,T);if("localhost"===xe.toLowerCase())t="localhost";else if(xe.split(".").length<=2)t=xe;else{const Je=e.indexOf(".");i=e.substring(0,Je).toLowerCase(),t=e.substring(Je+1),a=i}"ns"in pe&&(a=pe.ns)}return{host:e,port:w,domain:t,subdomain:i,secure:d,scheme:m,pathString:r,namespace:a}},sx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VL=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const a=new Array(8);for(r=7;r>=0;r--)a[r]=sx.charAt(t%64),t=Math.floor(t/64);(0,C.vA)(0===t,"Cannot push at time == 0");let d=a.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)d+=sx.charAt(e[r]);return(0,C.vA)(20===d.length,"nextPushId: Length should be 20."),d}}();class ox{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,C.As)(this.snapshot.exportVal())}}class ax{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class LO{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,C.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class lx{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new C.cY;return AL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Yd("OnDisconnect.remove",this._path);const e=new C.cY;return ex(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Yd("OnDisconnect.set",this._path),np("OnDisconnect.set",e,this._path,!1);const t=new C.cY;return ex(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Yd("OnDisconnect.setWithPriority",this._path),np("OnDisconnect.setWithPriority",e,this._path,!1),MO("OnDisconnect.setWithPriority",t,!1);const i=new C.cY;return function OL(n,e,t,i,r){const a=jo(t,i);n.server_.onDisconnectPut(e.toString(),a.val(!0),(d,m)=>{"ok"===d&&Rb(n.onDisconnect_,e,a),o_(0,r,d,m)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Yd("OnDisconnect.update",this._path),WP("OnDisconnect.update",e,this._path,!1);const t=new C.cY;return function NL(n,e,t,i){if((0,C.Im)(t))return sl("onDisconnect().update() called with empty data.  Don't do anything."),void o_(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,a)=>{"ok"===r&&Ga(t,(d,m)=>{const w=jo(m);Rb(n.onDisconnect_,Mo(e,d),w)}),o_(0,i,r,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class wu{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return $i(this._path)?null:GA(this._path)}get ref(){return new qd(this._repo,this._path)}get _queryIdentifier(){const e=hP(this._queryParams),t=US(e);return"{}"===t?"default":t}get _queryObject(){return hP(this._queryParams)}isEqual(e){if(!((e=(0,C.Ku)(e))instanceof wu))return!1;const t=this._repo===e._repo,i=HA(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function NR(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function bT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function a_(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ep){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==gg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==$h)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Zs){if(null!=e&&!yE(e)||null!=t&&!yE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,C.vA)(n.getIndex()instanceof qA||n.getIndex()===XA,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function wT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class qd extends wu{constructor(e,t){super(e,t,new XS,!1)}get parent(){const e=eP(this._path);return null===e?null:new qd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ty{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new gs(e),i=ny(this.ref,e);return new ty(this._node.getChild(t),i,Zs)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new ty(r,ny(this.ref,i),Zs)))}hasChild(e){const t=new gs(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cx(n,e){return(n=(0,C.Ku)(n))._checkNotDeleted("ref"),void 0!==e?ny(n._root,e):n._root}function ux(n,e){(n=(0,C.Ku)(n))._checkNotDeleted("refFromURL");const t=kO(e,n._repo.repoInfo_.nodeAdmin);KP("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&$d("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),cx(n,t.path.toString())}function ny(n,e){return null===Hi((n=(0,C.Ku)(n))._path)?yL("child","path",e,!1):CE("child","path",e,!1),new qd(n._repo,Mo(n._path,e))}function FO(n,e){n=(0,C.Ku)(n),Yd("set",n._path),np("set",e,n._path,!1);const t=new C.cY;return OO(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function $L(n,e){WP("update",e,n._path,!1);const t=new C.cY;return function TL(n,e,t,i){Bb(n,"update",{path:e.toString(),value:t});let r=!0;const a=EE(n),d={};if(Ga(t,(m,w)=>{r=!1,d[m]=zP(Mo(e,m),jo(w),n.serverSyncTree_,a)}),r)sl("update() called with empty data.  Don't do anything."),o_(0,i,"ok",void 0);else{const m=_T(n),w=function Jk(n,e,t,i){!function mk(n,e,t,i){(0,C.vA)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=oO(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Js.fromObject(t);return Fb(n,new kb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,d,m);mT(n.eventQueue_,w),n.server_.merge(e.toString(),t,(T,B)=>{const Y="ok"===T;Y||Wl("update at "+e+" failed: "+T);const pe=s_(n.serverSyncTree_,m,!Y),xe=pe.length>0?jb(n,e):e;Zu(n.eventQueue_,xe,pe),o_(0,i,T,B)}),Ga(t,T=>{const B=xO(n,Mo(e,T));jb(n,B)}),Zu(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function WL(n){n=(0,C.Ku)(n);const e=new LO(()=>{}),t=new IE(e);return function SL(n,e,t){const i=function rL(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(T,B)=>{const Y=Hc(T,t);i=i||i_(B,Y)});let r=n.syncPointTree_.get(t);r?i=i||i_(r,Zr()):(r=new NP,n.syncPointTree_=n.syncPointTree_.set(t,r));const a=null!=i,d=a?new t_(i,!0,!1):null;return function Uk(n){return nT(n.viewCache_)}(PP(r,e,iT(n.pendingWriteTree_,e._path),a?d.getNode():Ai.EMPTY_NODE,a))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const a=jo(r).withIndex(e._queryParams.getIndex());let d;if(mO(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())d=gE(n.serverSyncTree_,e._path,a);else{const m=mE(n.serverSyncTree_,e);d=FP(n.serverSyncTree_,e._path,a,m)}return Zu(n.eventQueue_,e._path,d),uT(n.serverSyncTree_,e,t,null,!0),a},r=>(Bb(n,"get for query "+(0,C.As)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new ty(i,new qd(n._repo,n._path),n._queryParams.getIndex()))}class IE{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new ox("value",this,new ty(e.snapshotNode,new qd(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ax(this,e,t):null}matches(e){return e instanceof IE&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class CT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ax(this,e,t):null}createEvent(e,t){(0,C.vA)(null!=e.childName,"Child events should have a childName.");const i=ny(new qd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ox(e.type,this,new ty(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof CT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function DE(n,e,t,i,r){let a;if("object"==typeof i&&(a=void 0,r=i),"function"==typeof i&&(a=i),r&&r.onlyOnce){const w=t,T=(B,Y)=>{NO(n._repo,n,m),w(B,Y)};T.userCallback=t.userCallback,T.context=t.context,t=T}const d=new LO(t,a||void 0),m="value"===e?new IE(d):new CT(e,d);return function PL(n,e,t){let i;i=".info"===Hi(e._path)?mO(n.infoSyncTree_,e,t):mO(n.serverSyncTree_,e,t),YP(n.eventQueue_,e._path,i)}(n._repo,n,m),()=>NO(n._repo,n,m)}function BO(n,e,t,i){return DE(n,"value",e,t,i)}function dx(n,e,t,i){return DE(n,"child_added",e,t,i)}function hx(n,e,t,i){return DE(n,"child_changed",e,t,i)}function fx(n,e,t,i){return DE(n,"child_moved",e,t,i)}function px(n,e,t,i){return DE(n,"child_removed",e,t,i)}function gx(n,e,t){let i=null;const r=t?new LO(t):null;"value"===e?i=new IE(r):e&&(i=new CT(e,r)),NO(n._repo,n,i)}class Yh{}class mx extends Yh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){np("endAt",this._value,e._path,!0);const t=JA(e._queryParams,this._value,this._key);if(wT(t),a_(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wu(e._repo,e._path,t,e._orderByCalled)}}class YL extends Yh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){np("endBefore",this._value,e._path,!1);const t=function ik(n,e,t){let i;return i=JA(n,e,n.index_===ep||t?t:gg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(wT(t),a_(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wu(e._repo,e._path,t,e._orderByCalled)}}class _x extends Yh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){np("startAt",this._value,e._path,!0);const t=ZA(e._queryParams,this._value,this._key);if(wT(t),a_(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wu(e._repo,e._path,t,e._orderByCalled)}}class QL extends Yh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){np("startAfter",this._value,e._path,!1);const t=function nk(n,e,t){let i;return i=ZA(n,e,n.index_===ep||t?t:$h),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(wT(t),a_(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wu(e._repo,e._path,t,e._orderByCalled)}}class JL extends Yh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wu(e._repo,e._path,function ek(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class t2 extends Yh{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wu(e._repo,e._path,function tk(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class r2 extends Yh{constructor(e){super(),this._path=e}_apply(e){bT(e,"orderByChild");const t=new gs(this._path);if($i(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new qA(t),r=QS(e._queryParams,i);return a_(r),new wu(e._repo,e._path,r,!0)}}class o2 extends Yh{_apply(e){bT(e,"orderByKey");const t=QS(e._queryParams,ep);return a_(t),new wu(e._repo,e._path,t,!0)}}class l2 extends Yh{_apply(e){bT(e,"orderByPriority");const t=QS(e._queryParams,Zs);return a_(t),new wu(e._repo,e._path,t,!0)}}class u2 extends Yh{_apply(e){bT(e,"orderByValue");const t=QS(e._queryParams,XA);return a_(t),new wu(e._repo,e._path,t,!0)}}class h2 extends Yh{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(np("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mx(this._value,this._key)._apply(new _x(this._value,this._key)._apply(e))}}function qh(n,...e){let t=(0,C.Ku)(n);for(const i of e)t=i._apply(t);return t}(function $k(n){(0,C.vA)(!aT,"__referenceConstructor has already been defined"),aT=n})(qd),function Xk(n){(0,C.vA)(!cT,"__referenceConstructor has already been defined"),cT=n}(qd);const jO={};function yx(n,e,t,i,r){let a=i||n.options.databaseURL;void 0===a&&(n.options.projectId||$d("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sl("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,T,d=kO(a,r),m=d.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(w=!0,a=`http://${T}?ns=${m.namespace}`,d=kO(a,r),m=d.repoInfo):w=!d.repoInfo.secure;const B=r&&w?new it(it.OWNER):new Ee(n.name,n.options,e);KP("Invalid Firebase Database URL",d),$i(d.path)||$d("Database URL must point to the root of a Firebase Database (not including a child path).");const Y=function _2(n,e,t,i){let r=jO[e.name];r||(r={},jO[e.name]=r);let a=r[n.toURLString()];return a&&$d("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new EL(n,false,t,i),r[n.toURLString()]=a,a}(m,n,B,new ce(n.name,t));return new y2(Y,n)}class y2{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function IL(n,e,t){if(n.stats_=VA(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ZS(n.repoInfo_,(i,r,a,d)=>{ZP(n,i,r,a,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>JP(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,C.As)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Xv(n.repoInfo_,e,(i,r,a,d)=>{ZP(n,i,r,a,d)},i=>{JP(n,i)},i=>{!function DL(n,e){Ga(e,(t,i)=>{AO(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function cR(n,e){const t=n.toString();return jA[t]||(jA[t]=e()),jA[t]}(n.repoInfo_,()=>new ck(n.stats_,n.server_)),n.infoData_=new rk,n.infoSyncTree_=new LP({startListening:(i,r,a,d)=>{let m=[];const w=n.infoData_.getNode(i._path);return w.isEmpty()||(m=gE(n.infoSyncTree_,i._path,w),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),AO(n,"connected",!1),n.serverSyncTree_=new LP({startListening:(i,r,a,d)=>(n.server_.listen(i,a,r,(m,w)=>{const T=d(m,w);Zu(n.eventQueue_,i._path,T)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new qd(this._repo,Zr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function m2(n,e){const t=jO[e];(!t||t[n.key]!==n)&&$d(`Database ${e}(${n.repoInfo_}) has already been deleted.`),tx(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$d("Cannot call "+e+" on a deleted database.")}}function bx(){zN.IS_TRANSPORT_INITIALIZED&&Wl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function b2(){bx(),Jm.forceDisallow()}function w2(){bx(),Ob.forceDisallow(),Jm.forceAllow()}function I2(n,e){VS(n,e)}const S2={".sv":"timestamp"};class A2{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Xv.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Xv.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function D2(n){Sb(ns.SDK_VERSION),(0,ns._registerComponent)(new mo.uA("database",(e,{instanceIdentifier:t})=>yx(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,ns.registerVersion)(X1,"0.14.4",n),(0,ns.registerVersion)(X1,"0.14.4","esm2017")}();const x2=new ne.Vy("@firebase/database-compat"),Cx=function(n){x2.warn("FIREBASE WARNING: "+n)};class L2{constructor(e){this._delegate=e}cancel(e){(0,C.od)("OnDisconnect.cancel",0,1,arguments.length),(0,C.oD)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,C.od)("OnDisconnect.remove",0,1,arguments.length),(0,C.oD)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,C.od)("OnDisconnect.set",1,2,arguments.length),(0,C.oD)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,C.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,C.oD)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),a=>i(a)),r}update(e,t){if((0,C.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let a=0;a<e.length;++a)r[""+a]=e[a];e=r,Cx("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,C.oD)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class F2{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,C.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class l_{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,C.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,C.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,C.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,C.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,C.od)("DataSnapshot.child",0,1,arguments.length),e=String(e),CE("DataSnapshot.child","path",e,!1),new l_(this._database,this._delegate.child(e))}hasChild(e){return(0,C.od)("DataSnapshot.hasChild",1,1,arguments.length),CE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,C.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,C.od)("DataSnapshot.forEach",1,1,arguments.length),(0,C.oD)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new l_(this._database,t)))}hasChildren(){return(0,C.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,C.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,C.od)("DataSnapshot.ref",0,0,arguments.length),new Ju(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yl{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var a;(0,C.od)("Query.on",2,4,arguments.length),(0,C.oD)("Query.on","callback",t,!1);const d=Yl.getCancelAndContextArgs_("Query.on",i,r),m=(T,B)=>{t.call(d.context,new l_(this.database,T),B)};m.userCallback=t,m.context=d.context;const w=null===(a=d.cancel)||void 0===a?void 0:a.bind(d.context);switch(e){case"value":return BO(this._delegate,m,w),t;case"child_added":return dx(this._delegate,m,w),t;case"child_removed":return px(this._delegate,m,w),t;case"child_changed":return hx(this._delegate,m,w),t;case"child_moved":return fx(this._delegate,m,w),t;default:throw new Error((0,C.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,C.od)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,C.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,C.oD)("Query.off","callback",t,!0),(0,C.HN)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,gx(this._delegate,e,r)}else gx(this._delegate,e)}get(){return WL(this._delegate).then(e=>new l_(this.database,e))}once(e,t,i,r){(0,C.od)("Query.once",1,4,arguments.length),(0,C.oD)("Query.once","callback",t,!0);const a=Yl.getCancelAndContextArgs_("Query.once",i,r),d=new C.cY,m=(T,B)=>{const Y=new l_(this.database,T);t&&t.call(a.context,Y,B),d.resolve(Y)};m.userCallback=t,m.context=a.context;const w=T=>{a.cancel&&a.cancel.call(a.context,T),d.reject(T)};switch(e){case"value":BO(this._delegate,m,w,{onlyOnce:!0});break;case"child_added":dx(this._delegate,m,w,{onlyOnce:!0});break;case"child_removed":px(this._delegate,m,w,{onlyOnce:!0});break;case"child_changed":hx(this._delegate,m,w,{onlyOnce:!0});break;case"child_moved":fx(this._delegate,m,w,{onlyOnce:!0});break;default:throw new Error((0,C.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(e){return(0,C.od)("Query.limitToFirst",1,1,arguments.length),new Yl(this.database,qh(this._delegate,function e2(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new JL(n)}(e)))}limitToLast(e){return(0,C.od)("Query.limitToLast",1,1,arguments.length),new Yl(this.database,qh(this._delegate,function n2(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new t2(n)}(e)))}orderByChild(e){return(0,C.od)("Query.orderByChild",1,1,arguments.length),new Yl(this.database,qh(this._delegate,function s2(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return CE("orderByChild","path",n,!1),new r2(n)}(e)))}orderByKey(){return(0,C.od)("Query.orderByKey",0,0,arguments.length),new Yl(this.database,qh(this._delegate,function a2(){return new o2}()))}orderByPriority(){return(0,C.od)("Query.orderByPriority",0,0,arguments.length),new Yl(this.database,qh(this._delegate,function c2(){return new l2}()))}orderByValue(){return(0,C.od)("Query.orderByValue",0,0,arguments.length),new Yl(this.database,qh(this._delegate,function d2(){return new u2}()))}startAt(e=null,t){return(0,C.od)("Query.startAt",0,2,arguments.length),new Yl(this.database,qh(this._delegate,function XL(n=null,e){return wE("startAt","key",e,!0),new _x(n,e)}(e,t)))}startAfter(e=null,t){return(0,C.od)("Query.startAfter",0,2,arguments.length),new Yl(this.database,qh(this._delegate,function ZL(n,e){return wE("startAfter","key",e,!0),new QL(n,e)}(e,t)))}endAt(e=null,t){return(0,C.od)("Query.endAt",0,2,arguments.length),new Yl(this.database,qh(this._delegate,function KL(n,e){return wE("endAt","key",e,!0),new mx(n,e)}(e,t)))}endBefore(e=null,t){return(0,C.od)("Query.endBefore",0,2,arguments.length),new Yl(this.database,qh(this._delegate,function qL(n,e){return wE("endBefore","key",e,!0),new YL(n,e)}(e,t)))}equalTo(e,t){return(0,C.od)("Query.equalTo",1,2,arguments.length),new Yl(this.database,qh(this._delegate,function f2(n,e){return wE("equalTo","key",e,!0),new h2(n,e)}(e,t)))}toString(){return(0,C.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,C.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,C.od)("Query.isEqual",1,1,arguments.length),!(e instanceof Yl))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,C.oD)(e,"cancel",r.cancel,!0),r.context=i,(0,C.HN)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,C.dI)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ju(this.database,new qd(this._delegate._repo,this._delegate._path))}}class Ju extends Yl{constructor(e,t){super(e,new wu(t._repo,t._path,new XS,!1)),this.database=e,this._delegate=t}getKey(){return(0,C.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,C.od)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ju(this.database,ny(this._delegate,e))}getParent(){(0,C.od)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ju(this.database,e):null}getRoot(){return(0,C.od)("Reference.root",0,0,arguments.length),new Ju(this.database,this._delegate.root)}set(e,t){(0,C.od)("Reference.set",1,2,arguments.length),(0,C.oD)("Reference.set","onComplete",t,!0);const i=FO(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,C.od)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let a=0;a<e.length;++a)r[""+a]=e[a];e=r,Cx("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Yd("Reference.update",this._delegate._path),(0,C.oD)("Reference.update","onComplete",t,!0);const i=$L(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,C.od)("Reference.setWithPriority",2,3,arguments.length),(0,C.oD)("Reference.setWithPriority","onComplete",i,!0);const r=function HL(n,e,t){if(Yd("setWithPriority",n._path),np("setWithPriority",e,n._path,!1),MO("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new C.cY;return OO(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),a=>i(a)),r}remove(e){(0,C.od)("Reference.remove",0,1,arguments.length),(0,C.oD)("Reference.remove","onComplete",e,!0);const t=function zL(n){return Yd("remove",n._path),FO(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,C.od)("Reference.transaction",1,3,arguments.length),(0,C.oD)("Reference.transaction","transactionUpdate",e,!1),(0,C.oD)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,C.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function O2(n,e,t){var i;if(n=(0,C.Ku)(n),Yd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,a=new C.cY,m=BO(n,()=>{});return function RL(n,e,t,i,r,a){Bb(n,"transaction on "+e);const d={path:e,update:t,onComplete:i,status:null,order:J1(),applyLocally:a,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=PO(n,e,void 0);d.currentInputSnapshot=m;const w=d.update(m.val());if(void 0===w)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{bE("transaction failed: Data returned ",w,d.path),d.status=0;const T=fT(n.transactionQueueTree_,e),B=ey(T)||[];let Y;B.push(d),DO(T,B),"object"==typeof w&&null!==w&&(0,C.gR)(w,".priority")?(Y=(0,C.yw)(w,".priority"),(0,C.vA)(yE(Y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Y=(dT(n.serverSyncTree_,e)||Ai.EMPTY_NODE).getPriority().val();const pe=EE(n),xe=jo(w,Y),Je=CO(xe,m,pe);d.currentOutputSnapshotRaw=xe,d.currentOutputSnapshotResolved=Je,d.currentWriteId=_T(n);const vt=gO(n.serverSyncTree_,e,Je,d.currentWriteId,d.applyLocally);Zu(n.eventQueue_,e,vt),vT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(w,T,B)=>{let Y=null;w?a.reject(w):(Y=new ty(B,new qd(n._repo,n._path),Zs),a.resolve(new A2(T,Y)))},m,r),a.promise}(this._delegate,e,{applyLocally:i}).then(a=>new F2(a.committed,new l_(this.database,a.snapshot)));return t&&r.then(a=>t(null,a.committed,a.snapshot),a=>t(a,!1,null)),r}setPriority(e,t){(0,C.od)("Reference.setPriority",1,2,arguments.length),(0,C.oD)("Reference.setPriority","onComplete",t,!0);const i=function GL(n,e){n=(0,C.Ku)(n),Yd("setPriority",n._path),MO("setPriority",e,!1);const t=new C.cY;return OO(n._repo,Mo(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,C.od)("Reference.push",0,2,arguments.length),(0,C.oD)("Reference.push","onComplete",t,!0);const i=function UL(n,e){n=(0,C.Ku)(n),Yd("push",n._path),np("push",e,n._path,!0);const t=QP(n._repo),i=VL(t),r=ny(n,i),a=ny(n,i);let d;return d=null!=e?FO(a,e).then(()=>a):Promise.resolve(a),r.then=d.then.bind(d),r.catch=d.then.bind(d,void 0),r}(this._delegate,e),r=i.then(d=>new Ju(this.database,d));t&&r.then(()=>t(null),d=>t(d));const a=new Ju(this.database,i);return a.then=r.then.bind(r),a.catch=r.catch.bind(r,void 0),a}onDisconnect(){return Yd("Reference.onDisconnect",this._delegate._path),new L2(new lx(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class SE{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:b2,forceLongPolling:w2}}useEmulator(e,t,i={}){!function wx(n,e,t,i={}){(n=(0,C.Ku)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&$d("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let a;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&$d('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new it(it.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,C.Fy)(i.mockUserToken,n.app.options.projectId);a=new it(d)}!function g2(n,e,t,i){n.repoInfo_=new Jf(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,a)}(this._delegate,e,t,i)}ref(e){if((0,C.od)("database.ref",0,1,arguments.length),e instanceof Ju){const t=ux(this._delegate,e.toString());return new Ju(this,t)}{const t=cx(this._delegate,e);return new Ju(this,t)}}refFromURL(e){(0,C.od)("database.refFromURL",1,1,arguments.length);const i=ux(this._delegate,e);return new Ju(this,i)}goOffline(){return(0,C.od)("database.goOffline",0,0,arguments.length),function C2(n){(n=(0,C.Ku)(n))._checkNotDeleted("goOffline"),tx(n._repo)}(this._delegate)}goOnline(){return(0,C.od)("database.goOnline",0,0,arguments.length),function E2(n){(n=(0,C.Ku)(n))._checkNotDeleted("goOnline"),function xL(n){n.persistentConnection_&&n.persistentConnection_.resume(XP)}(n._repo)}(this._delegate)}}SE.ServerValue={TIMESTAMP:function T2(){return S2}(),increment:n=>function M2(n){return{".sv":{increment:n}}}(n)};var j2=Object.freeze({__proto__:null,initStandalone:function B2({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:a=!1}){Sb(t);const d=new mo.Kq("auth-internal",new mo.h1("database-standalone"));return d.setComponent(new mo.uA("auth-internal",()=>i,"PRIVATE")),{instance:new SE(yx(n,d,void 0,e,a),n),namespace:r}}});const V2=SE.ServerValue;function Ex(n){return null==n}function Ix(n){return"function"==typeof n.set}function Dx(n,e){return Ix(e)?e:n.ref(e)}function Sx(n,e){if(function z2(n){return"string"==typeof n}(n))return e.stringCase();if(Ix(n))return e.firebaseCase();if(function G2(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function TE(n,e,t="on",i=uh.E){return new io.c(r=>{let a=null;return a=n[t](e,(d,m)=>{i.schedule(()=>{r.next({snapshot:d,prevKey:m})}),"once"===t&&i.schedule(()=>r.complete())},d=>{i.schedule(()=>r.error(d))}),"on"===t?{unsubscribe(){null!=a&&n.off(e,a)}}:{unsubscribe(){}}}).pipe((0,Xi.T)(r=>{const{snapshot:a,prevKey:d}=r;let m=null;return a.exists()&&(m=a.key),{type:e,payload:a,prevKey:d,key:m}}),(0,PA.u)())}function Tx(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function W2(n,e){const{payload:t,prevKey:i,key:r}=e,a=Tx(n,r),d=function $2(n,e){if(Ex(e))return 0;{const t=Tx(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let m=null;e.payload.forEach(w=>{const T={payload:w,type:"value",prevKey:m,key:w.key};return m=w.key,n=[...n,T],!1})}return n;case"child_added":if(a>-1){const m=n[a-1];(m&&m.key||null)!==i&&(n=n.filter(w=>w.payload.key!==t.key)).splice(d,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(d,0,e)}return n;case"child_removed":return n.filter(m=>m.payload.key!==t.key);case"child_changed":return n.map(m=>m.payload.key===r?e:m);case"child_moved":if(a>-1){const m=n.splice(a,1)[0];return(n=n.slice()).splice(d,0,m),n}return n;default:return n}}function Mx(n){return(Ex(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Ax(n,e,t){return function H2(n,e,t){return TE(n,"value","once",t).pipe((0,Ni.n)(i=>{const r=[(0,da.of)(i)];return e.forEach(a=>r.push(TE(n,a,"on",t))),(0,Bs.h)(...r).pipe((0,gp.S)(W2,[]))}),(0,fy.F)())}(n,e=Mx(e),t)}function Ox(n,e,t){const i=(e=Mx(e)).map(r=>TE(n,r,"on",t));return(0,Bs.h)(...i)}function Nx(n,e){return function(i,r){return Sx(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function X2(n){return function(t){return t?Sx(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Px(n,e){return function(){return TE(n,"value","on",e)}}!function U2(n){n.INTERNAL.registerComponent(new mo.uA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new SE(r,i)},"PUBLIC").setServiceProps({Reference:Ju,Query:Yl,Database:SE,DataSnapshot:l_,enableLogging:I2,INTERNAL:j2,ServerValue:V2}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(py.A);const J2=new c.nKC("angularfire2.realtimeDatabaseURL"),eF=new c.nKC("angularfire2.database.use-emulator");let tF=(()=>{class n{constructor(t,i,r,a,d,m,w,T,B,Y,pe,xe,Je,vt,Lt){this.schedulers=m;const fn=w,Dn=(0,Ei.iB)(t,d,i);T&&Oc(Dn,d,B,pe,xe,Je,Y,vt),this.database=(0,Ei.BM)(`${Dn.name}.database.${r}`,"AngularFireDatabase",Dn.name,()=>{const On=d.runOutsideAngular(()=>Dn.database(r||void 0));return fn&&On.useEmulator(...fn),On},[fn])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Dx(this.database,t));let a=r;return i&&(a=i(r)),function Q2(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Nx(i,"update"),set:Nx(i,"set"),push:r=>i.push(r),remove:X2(i),snapshotChanges:r=>Ax(n,r,t).pipe(Qi.U0),stateChanges:r=>Ox(n,r,t).pipe(Qi.U0),auditTrail:r=>function K2(n,e,t){return function q2(n,e,t){return function Y2(n,e){return TE(n,"value","on",e).pipe((0,Xi.T)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe((0,RS.E)(e),(0,Xi.T)(([r,a])=>{const d=r.lastKeyToLoad,m=a.map(w=>w.key);return{actions:a,lastKeyToLoad:d,loadedKeys:m}}),function LS(n){return(0,kS.N)((e,t)=>{let i=!1,r=0;e.subscribe((0,xA._)(t,a=>(i||(i=!n(a,r++)))&&t.next(a)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Xi.T)(r=>r.actions))}(n,Ox(n,e).pipe((0,gp.S)((r,a)=>[...r,a],[])),t)}(n,r,t).pipe(Qi.U0),valueChanges:(r,a)=>Ax(n,r,t).pipe((0,Xi.T)(m=>m.map(w=>a&&a.idField?Object.assign(Object.assign({},w.payload.val()),{[a.idField]:w.key}):w.payload.val())),Qi.U0)}}(a,this)}object(t){return function Z2(n,e){return{query:n,snapshotChanges:()=>Px(n,e.schedulers.outsideAngular)().pipe(Qi.U0),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Px(n,e.schedulers.outsideAngular)().pipe(Qi.U0,(0,Xi.T)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dx(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.KVO(Ei.rx),c.KVO(Ei.uP,8),c.KVO(J2,8),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(Qi.u0),c.KVO(eF,8),c.KVO(Nc,8),c.KVO(oc,8),c.KVO(ld,8),c.KVO(cd,8),c.KVO(tu,8),c.KVO(Ac,8),c.KVO(Pu,8),c.KVO(Pl,8))},n.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nF=(()=>{class n{constructor(){nh.A.registerVersion("angularfire",Qi.xv.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.$C({type:n}),n.\u0275inj=c.G2t({providers:[tF]}),n})();var VO=P(7987),xx=P(1584),iF=P(6939);const _g=function(n,e){return{width:n,height:e}},aF=function(n){return{active:n}};function lF(n,e){if(1&n){const t=c.RV6();c.j41(0,"div",3),c.bIt("click",function(r){const d=c.eBV(t).index,m=c.XpG(2);return c.Njj(m.onDotEvent(d,r))})("keyup",function(r){const d=c.eBV(t).index,m=c.XpG(2);return c.Njj(m.onDotEvent(d,r))}),c.k0s()}if(2&n){const t=e.index,i=c.XpG(2);c.Y8G("ngClass",c.eq3(3,aF,i.isActive(t)))("tabIndex",0),c.BMQ("aria-label",(null==i.accessibilityConfig?null:i.accessibilityConfig.dotAriaLabel)+" "+(t+1))}}function cF(n,e){if(1&n&&(c.qex(0),c.DNE(1,lF,1,5,"div",2),c.bVm()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("ngForOf",t.images)("ngForTrackBy",t.trackById)}}const bF=function(n){return{"font-size":n}};function wF(n,e){if(1&n){const t=c.RV6();c.j41(0,"a",3),c.bIt("click",function(r){const d=c.eBV(t).$implicit,m=c.XpG(2);return c.Njj(m.onEvent(d,r))})("keyup",function(r){const d=c.eBV(t).$implicit,m=c.XpG(2);return c.Njj(m.onEvent(d,r))}),c.nrm(1,"div",4),c.k0s()}if(2&n){const t=e.$implicit;c.Y8G("sizeConfig",c.l_i(8,_g,null==t.size?null:t.size.width,null==t.size?null:t.size.height))("ngStyle",c.eq3(11,bF,t.fontSize))("tabIndex",0),c.BMQ("aria-label",t.ariaLabel),c.R7$(1),c.ZvI("inside ",t.className,""),c.FS9("title",t.title)}}function CF(n,e){if(1&n&&(c.qex(0),c.DNE(1,wF,2,13,"a",2),c.bVm()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("ngForOf",t.buttons)("ngForTrackBy",t.trackById)}}function EF(n,e){1&n&&c.eu8(0)}function IF(n,e){if(1&n&&c.nrm(0,"img",10),2&n){const t=c.XpG(2).$implicit,i=c.XpG(2);c.ZvI("inside preview-image ",i.isActive(t)?"active":"",""),c.FS9("alt",t.modal.alt?t.modal.alt:""),c.Y8G("loading",t.loading)("src",null!=t.plain&&t.plain.img?null==t.plain?null:t.plain.img:t.modal.img,c.B4B)("fallbackImg",null!=t.plain&&t.plain.fallbackImg?null==t.plain?null:t.plain.fallbackImg:t.modal.fallbackImg)("sizeConfig",c.l_i(12,_g,null!=i.previewConfig&&i.previewConfig.size?null==i.previewConfig||null==i.previewConfig.size?null:i.previewConfig.size.width:i.defaultPreviewSize.width,null!=i.previewConfig&&i.previewConfig.size?null==i.previewConfig||null==i.previewConfig.size?null:i.previewConfig.size.height:i.defaultPreviewSize.height))("title",t.modal.title||""===t.modal.title?t.modal.title:"")("tabIndex",0),c.BMQ("fetchpriority",t.fetchpriority)("aria-label",t.modal.ariaLabel?t.modal.ariaLabel:"")}}function DF(n,e){if(1&n&&c.DNE(0,IF,1,15,"img",9),2&n){const t=c.XpG().$implicit;c.Y8G("ngIf",null==t||null==t.modal?null:t.modal.img)}}const SF=function(n,e){return{preview:n,defaultTemplate:e}};function TF(n,e){if(1&n){const t=c.RV6();c.qex(0),c.j41(1,"div",6),c.bIt("click",function(r){const d=c.eBV(t).$implicit,m=c.XpG(2);return c.Njj(m.onImageEvent(d,r,m.clickAction))})("keyup",function(r){const d=c.eBV(t).$implicit,m=c.XpG(2);return c.Njj(m.onImageEvent(d,r,m.keyboardAction))}),c.DNE(2,EF,1,0,"ng-container",7),c.DNE(3,DF,1,1,"ng-template",null,8,c.C5r),c.k0s(),c.bVm()}if(2&n){const t=e.$implicit,i=c.sdS(4),r=c.XpG(2);c.R7$(1),c.ZvI("preview-container ",null!=r.previewConfig&&r.previewConfig.clickable?"":" unclickable",""),c.R7$(1),c.Y8G("ngTemplateOutlet",r.customTemplate?r.customTemplate:i)("ngTemplateOutletContext",c.l_i(5,SF,t,i))}}function MF(n,e){if(1&n){const t=c.RV6();c.qex(0),c.j41(1,"a",2),c.bIt("click",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.onNavigationEvent("left",r))})("keyup",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.onNavigationEvent("left",r))}),c.nrm(2,"div",3),c.k0s(),c.DNE(3,TF,5,8,"ng-container",4),c.j41(4,"a",5),c.bIt("click",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.onNavigationEvent("right",r))})("keyup",function(r){c.eBV(t);const a=c.XpG();return c.Njj(a.onNavigationEvent("right",r))}),c.nrm(5,"div",3),c.k0s(),c.bVm()}if(2&n){const t=c.XpG();c.R7$(1),c.Y8G("tabIndex",t.displayLeftPreviewsArrow()?0:-1),c.BMQ("aria-label",null==t.accessibilityConfig?null:t.accessibilityConfig.previewScrollPrevAriaLabel),c.R7$(1),c.ZvI("inside ",t.displayLeftPreviewsArrow()?"left-arrow-preview-image":"empty-arrow-preview-image",""),c.Y8G("title",null==t.accessibilityConfig?null:t.accessibilityConfig.previewScrollPrevTitle),c.R7$(1),c.Y8G("ngForOf",t.previews)("ngForTrackBy",t.trackById),c.R7$(1),c.Y8G("tabIndex",t.displayRightPreviewsArrow()?0:-1),c.BMQ("aria-label",null==t.accessibilityConfig?null:t.accessibilityConfig.previewScrollNextAriaLabel),c.R7$(1),c.ZvI("inside ",t.displayRightPreviewsArrow()?"right-arrow-preview-image":"empty-arrow-preview-image",""),c.Y8G("title",null==t.accessibilityConfig?null:t.accessibilityConfig.previewScrollNextTitle)}}function OF(n,e){1&n&&(c.qex(0),c.j41(1,"div",3),c.nrm(2,"div",4)(3,"div",5)(4,"div",6),c.k0s(),c.bVm())}function NF(n,e){1&n&&(c.qex(0),c.nrm(1,"div",7),c.bVm())}function PF(n,e){1&n&&(c.qex(0),c.nrm(1,"div",8),c.bVm())}function xF(n,e){1&n&&(c.qex(0),c.nrm(1,"div",9),c.bVm())}function RF(n,e){1&n&&(c.qex(0),c.j41(1,"div",10)(2,"div",11),c.nrm(3,"span",12)(4,"span",13)(5,"span",14)(6,"span",15),c.k0s()(),c.bVm())}function kF(n,e){1&n&&(c.qex(0),c.j41(1,"div",16),c.nrm(2,"div",17),c.k0s(),c.bVm())}function LF(n,e){1&n&&(c.qex(0),c.j41(1,"div",18),c.nrm(2,"span")(3,"span")(4,"span")(5,"span"),c.k0s(),c.bVm())}function FF(n,e){if(1&n){const t=c.RV6();c.j41(0,"img",13),c.bIt("click",function(r){c.eBV(t);const a=c.XpG(3);return c.Njj(a.onNavigationEvent("left",r,a.clickAction))})("keyup",function(r){c.eBV(t);const a=c.XpG(3);return c.Njj(a.onNavigationEvent("left",r,a.keyboardAction))}),c.k0s()}if(2&n){const t=c.XpG().ngIf,i=c.XpG(2);c.FS9("alt",t.modal.alt?t.modal.alt:i.getAltDescriptionByImage(t)),c.Y8G("loading",t.loading)("src",null!=t.plain&&t.plain.img?null==t.plain?null:t.plain.img:t.modal.img,c.B4B)("fallbackImg",null!=t.plain&&t.plain.fallbackImg?null==t.plain?null:t.plain.fallbackImg:t.modal.fallbackImg)("hidden",i.loading)("sizeConfig",c.l_i(10,_g,null==i.slideConfig||null==i.slideConfig.sidePreviews?null:i.slideConfig.sidePreviews.size.width,null==i.slideConfig||null==i.slideConfig.sidePreviews?null:i.slideConfig.sidePreviews.size.height))("title",t.modal.title||""===t.modal.title?t.modal.title:i.getDescriptionToDisplay(t))("tabIndex",0),c.BMQ("fetchpriority",t.fetchpriority)("aria-label",t.modal.ariaLabel)}}function BF(n,e){if(1&n&&c.nrm(0,"div",14),2&n){const t=c.XpG(3);c.Y8G("sizeConfig",c.l_i(1,_g,null==t.slideConfig||null==t.slideConfig.sidePreviews?null:t.slideConfig.sidePreviews.size.width,null==t.slideConfig||null==t.slideConfig.sidePreviews?null:t.slideConfig.sidePreviews.size.height))}}function jF(n,e){if(1&n&&(c.qex(0),c.DNE(1,FF,1,13,"img",11),c.DNE(2,BF,1,4,"ng-template",null,12,c.C5r),c.bVm()),2&n){const t=c.sdS(3),i=c.XpG(2);c.R7$(1),c.Y8G("ngIf",!i.isFirstImage)("ngIfElse",t)}}function VF(n,e){if(1&n&&(c.qex(0),c.DNE(1,jF,4,2,"ng-container",4),c.bVm()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("ngIf",t.getLeftPreviewImage())}}function UF(n,e){if(1&n&&(c.qex(0),c.nrm(1,"source",15),c.bVm()),2&n){const t=e.$implicit;c.R7$(1),c.Y8G("media",t.media)("srcset",t.srcset)}}function zF(n,e){if(1&n&&c.nrm(0,"figcaption",16),2&n){const t=c.XpG();c.Y8G("description",null==t.currentImageConfig?null:t.currentImageConfig.description)("innerHTML",t.getDescriptionToDisplay(),c.npT)}}function GF(n,e){if(1&n){const t=c.RV6();c.j41(0,"img",19),c.bIt("click",function(r){c.eBV(t);const a=c.XpG(3);return c.Njj(a.onNavigationEvent("right",r,a.clickAction))})("keyup",function(r){c.eBV(t);const a=c.XpG(3);return c.Njj(a.onNavigationEvent("right",r,a.keyboardAction))}),c.k0s()}if(2&n){const t=c.XpG().ngIf,i=c.XpG(2);c.FS9("alt",t.modal.alt?t.modal.alt:i.getAltDescriptionByImage(t)),c.Y8G("loading",t.loading)("src",null!=t.plain&&t.plain.img?null==t.plain?null:t.plain.img:t.modal.img,c.B4B)("fallbackImg",null!=t.plain&&t.plain.fallbackImg?null==t.plain?null:t.plain.fallbackImg:t.modal.fallbackImg)("hidden",i.loading)("sizeConfig",c.l_i(10,_g,null==i.slideConfig||null==i.slideConfig.sidePreviews?null:i.slideConfig.sidePreviews.size.width,null==i.slideConfig||null==i.slideConfig.sidePreviews?null:i.slideConfig.sidePreviews.size.height))("title",t.modal.title||""===t.modal.title?t.modal.title:i.getDescriptionToDisplay(t))("tabIndex",0),c.BMQ("fetchpriority",t.fetchpriority)("aria-label",t.modal.ariaLabel)}}function HF(n,e){if(1&n&&c.nrm(0,"div",20),2&n){const t=c.XpG(3);c.Y8G("sizeConfig",c.l_i(1,_g,null==t.slideConfig||null==t.slideConfig.sidePreviews?null:t.slideConfig.sidePreviews.size.width,null==t.slideConfig||null==t.slideConfig.sidePreviews?null:t.slideConfig.sidePreviews.size.height))}}function $F(n,e){if(1&n&&(c.qex(0),c.DNE(1,GF,1,13,"img",17),c.DNE(2,HF,1,4,"ng-template",null,18,c.C5r),c.bVm()),2&n){const t=c.sdS(3),i=c.XpG(2);c.R7$(1),c.Y8G("ngIf",!i.isLastImage)("ngIfElse",t)}}function WF(n,e){if(1&n&&(c.qex(0),c.DNE(1,$F,4,2,"ng-container",4),c.bVm()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("ngIf",t.getRightPreviewImage())}}function KF(n,e){if(1&n&&(c.qex(0),c.nrm(1,"ks-loading-spinner",21),c.bVm()),2&n){const t=c.XpG();c.R7$(1),c.Y8G("loadingConfig",null==t.currentImageConfig?null:t.currentImageConfig.loadingConfig)("accessibilityConfig",t.accessibilityConfig)}}let d_=(()=>{class n{constructor(){}handleNavigationEvent(t,i){return i?i instanceof KeyboardEvent?this.handleKeyboardNavigationEvent(t,i):i instanceof MouseEvent?this.handleMouseNavigationEvent(t,i):0:0}handleImageEvent(t){return t?t instanceof KeyboardEvent?this.handleImageKeyboardEvent(t):t instanceof MouseEvent?this.handleImageMouseEvent(t):0:0}handleImageKeyboardEvent(t){const i=t.code;return"Space"===i||"Enter"===i?1:0}handleImageMouseEvent(t){return 0===t.button?1:0}handleKeyboardNavigationEvent(t,i){const r=i.code;return"Space"===r||"Enter"===r?"right"===t?1:-1:0}handleMouseNavigationEvent(t,i){return 0===i.button?"right"===t?1:-1:0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-accessible"]],decls:0,vars:0,template:function(i,r){},encapsulation:2,changeDetection:0})}}return n})();class ET{constructor(e,t,i){this.galleryId=e,this.action=t,this.result=i}}class ip extends ET{constructor(e,t,i){super(e,t,i)}}var xi=function(n){return n[n.NORMAL=0]="NORMAL",n[n.CLICK=1]="CLICK",n[n.KEYBOARD=2]="KEYBOARD",n[n.SWIPE=3]="SWIPE",n[n.LOAD=4]="LOAD",n[n.AUTOPLAY=5]="AUTOPLAY",n}(xi||{});function Cs(n,e){if(!n)throw new Error("image must be a valid Image object");if(!e)throw new Error("arrayOfImages must be a valid Image[]");if(!n.id&&0!==n.id)throw new Error("A numeric Image 'id' is mandatory");if(n.id<0)throw new Error("Image 'id' must be >= 0");return e.findIndex(t=>t.id===n.id)}var iy=function(n){return n[n.ALWAYS_HIDDEN=1]="ALWAYS_HIDDEN",n[n.ALWAYS_VISIBLE=2]="ALWAYS_VISIBLE",n[n.HIDE_IF_EMPTY=3]="HIDE_IF_EMPTY",n}(iy||{});const jx={backgroundAriaLabel:"Modal gallery full screen background",backgroundTitle:"",plainGalleryContentAriaLabel:"Plain gallery content",plainGalleryContentTitle:"",modalGalleryContentAriaLabel:"Modal gallery content",modalGalleryContentTitle:"",loadingSpinnerAriaLabel:"The current image is loading. Please be patient.",loadingSpinnerTitle:"The current image is loading. Please be patient.",mainContainerAriaLabel:"Current image and navigation",mainContainerTitle:"",mainPrevImageAriaLabel:"Previous image",mainPrevImageTitle:"Previous image",mainNextImageAriaLabel:"Next image",mainNextImageTitle:"Next image",dotsContainerAriaLabel:"Image navigation dots",dotsContainerTitle:"",dotAriaLabel:"Navigate to image number",previewsContainerAriaLabel:"Image previews",previewsContainerTitle:"",previewScrollPrevAriaLabel:"Scroll previous previews",previewScrollPrevTitle:"Scroll previous previews",previewScrollNextAriaLabel:"Scroll next previews",previewScrollNextTitle:"Scroll next previews",carouselContainerAriaLabel:"Current image and navigation",carouselContainerTitle:"",carouselPrevImageAriaLabel:"Previous image",carouselPrevImageTitle:"Previous image",carouselNextImageAriaLabel:"Next image",carouselNextImageTitle:"Next image",carouselPreviewsContainerAriaLabel:"Image previews",carouselPreviewsContainerTitle:"",carouselPreviewScrollPrevAriaLabel:"Scroll previous previews",carouselPreviewScrollPrevTitle:"Scroll previous previews",carouselPreviewScrollNextAriaLabel:"Scroll next previews",carouselPreviewScrollNextTitle:"Scroll next previews"};var ry=function(n){return n[n.DEFAULT=1]="DEFAULT",n[n.SIMPLE=2]="SIMPLE",n[n.ADVANCED=3]="ADVANCED",n[n.FULL=4]="FULL",n[n.CUSTOM=5]="CUSTOM",n}(ry||{}),ol=function(n){return n[n.DELETE=1]="DELETE",n[n.EXTURL=2]="EXTURL",n[n.DOWNLOAD=3]="DOWNLOAD",n[n.CLOSE=4]="CLOSE",n[n.CUSTOM=5]="CUSTOM",n[n.FULLSCREEN=6]="FULLSCREEN",n}(ol||{});const oB=[ol.FULLSCREEN,ol.DELETE,ol.EXTURL,ol.DOWNLOAD,ol.CLOSE,ol.CUSTOM];class UO{constructor(e,t,i){this.size=e,this.breakConfig=t,this.justify=i}}class Vx{constructor(e,t){this.size=e,this.breakConfig=t}}var sy=function(n){return n[n.ROW=1]="ROW",n[n.COLUMN=2]="COLUMN",n[n.GRID=3]="GRID",n[n.CUSTOM=4]="CUSTOM",n}(sy||{}),vg=function(n){return n[n.STANDARD=1]="STANDARD",n[n.CIRCULAR=2]="CIRCULAR",n[n.BARS=3]="BARS",n[n.DOTS=4]="DOTS",n[n.CUBE_FLIPPING=5]="CUBE_FLIPPING",n[n.CIRCLES=6]="CIRCLES",n[n.EXPLOSING_SQUARES=7]="EXPLOSING_SQUARES",n}(vg||{});const zO={height:"50px",width:"auto"},aB=new UO(zO,{length:-1,wrap:!1},"flex-start"),Ux={bgColor:"rgba(0, 0, 0, .5)",textColor:"white",marginTop:"0px",marginBottom:"0px",marginLeft:"0px",marginRight:"0px"},GO={visible:!0,number:4,arrows:!0,clickable:!0,width:"25%",maxHeight:"200px",breakpoints:{xSmall:100,small:100,medium:150,large:200,xLarge:200}},$n=Object.freeze({slideConfig:{infinite:!1,playConfig:{autoPlay:!1,interval:5e3,pauseOnHover:!0},sidePreviews:{show:!0,size:{width:"100px",height:"auto"}}},accessibilityConfig:jx,previewConfig:{visible:!0,number:3,arrows:!0,clickable:!0,size:zO},buttonsConfig:{visible:!0,strategy:ry.DEFAULT},dotsConfig:{visible:!0},plainGalleryConfig:{strategy:sy.ROW,layout:aB,advanced:{aTags:!1,additionalBackground:"50% 50%/cover"}},currentImageConfig:{navigateOnClick:!0,loadingConfig:{enable:!0,type:vg.STANDARD},description:{strategy:iy.ALWAYS_VISIBLE,imageText:"Image ",numberSeparator:"/",beforeTextDescription:" - ",style:Ux},downloadable:!1,invertSwipe:!1},keyboardConfig:void 0,carouselConfig:{maxWidth:"100%",maxHeight:"400px",showArrows:!0,objectFit:"cover",keyboardEnable:!0,modalGalleryEnable:!1},carouselImageConfig:{description:{strategy:iy.ALWAYS_HIDDEN,imageText:"Image ",numberSeparator:"/",beforeTextDescription:" - ",style:Ux},invertSwipe:!1},carouselPreviewsConfig:GO,carouselPlayConfig:{autoPlay:!0,interval:5e3,pauseOnHover:!0},carouselDotsConfig:{visible:!0},carouselSlideInfinite:!0,enableCloseOutside:!0});let rp=(()=>{class n{constructor(){this.configMap=new Map}getConfig(t){return this.initIfNotExists(t),this.configMap.get(t)}setConfig(t,i){if(this.initIfNotExists(t),!i)return;if(!($n&&$n.slideConfig&&$n.slideConfig.sidePreviews&&$n.previewConfig&&$n.previewConfig.size&&$n.previewConfig.number&&$n.plainGalleryConfig&&$n.currentImageConfig&&$n.currentImageConfig&&$n.currentImageConfig.description&&$n.carouselImageConfig&&$n.carouselImageConfig.description&&$n.carouselPreviewsConfig&&$n.carouselPreviewsConfig.breakpoints&&GO.number))throw new Error("Internal library error - DEFAULT_CONFIG must be fully initialized!!!");const r=Object.assign({},this.configMap.get(t));if(i.slideConfig){let a,d,m;a=i.slideConfig.playConfig?Object.assign({},$n.slideConfig.playConfig,i.slideConfig.playConfig):$n.slideConfig.playConfig,i.slideConfig.sidePreviews?(m=i.slideConfig.sidePreviews.size?Object.assign({},$n.slideConfig.sidePreviews.size,i.slideConfig.sidePreviews.size):$n.slideConfig.sidePreviews.size,d=Object.assign({},$n.slideConfig.sidePreviews,i.slideConfig.sidePreviews)):(d=$n.slideConfig.sidePreviews,m=$n.slideConfig.sidePreviews.size);const w=Object.assign({},$n.slideConfig,i.slideConfig);w.playConfig=a,w.sidePreviews=d,w.sidePreviews.size=m,r.slideConfig=w}if(i.accessibilityConfig&&(r.accessibilityConfig=Object.assign({},$n.accessibilityConfig,i.accessibilityConfig)),i.previewConfig){let a,d;a=i.previewConfig.size?Object.assign({},$n.previewConfig.size,i.previewConfig.size):$n.previewConfig.size,d=i.previewConfig.number?i.previewConfig.number<=0?$n.previewConfig.number:i.previewConfig.number:$n.previewConfig.number;const m=Object.assign({},$n.previewConfig,i.previewConfig);m.size=a,m.number=d,r.previewConfig=m}if(i.buttonsConfig&&(r.buttonsConfig=Object.assign({},$n.buttonsConfig,i.buttonsConfig)),i.dotsConfig&&(r.dotsConfig=Object.assign({},$n.dotsConfig,i.dotsConfig)),i.plainGalleryConfig){let a,d;a=i.plainGalleryConfig.advanced?Object.assign({},$n.plainGalleryConfig.advanced,i.plainGalleryConfig.advanced):$n.plainGalleryConfig.advanced,d=i.plainGalleryConfig.layout?i.plainGalleryConfig.layout:$n.plainGalleryConfig.layout;const m=Object.assign({},$n.plainGalleryConfig,i.plainGalleryConfig);m.layout=d,m.advanced=a,r.plainGalleryConfig=function _B(n){const e=Object.assign({},$n.plainGalleryConfig,n);if(e.layout instanceof UO){if(e.strategy!==sy.ROW&&e.strategy!==sy.COLUMN)throw new Error("LineLayout requires either ROW or COLUMN strategy");if(!e.layout||!e.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid")}if(e.layout instanceof Vx){if(e.strategy!==sy.GRID)throw new Error("GridLayout requires GRID strategy");if(!e.layout||!e.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid");e.layout.breakConfig.wrap=!0}return e}(m)}if(i.currentImageConfig){let a,d,m;a=i.currentImageConfig.loadingConfig?Object.assign({},$n.currentImageConfig.loadingConfig,i.currentImageConfig.loadingConfig):$n.currentImageConfig.loadingConfig,i.currentImageConfig.description?(d=Object.assign({},$n.currentImageConfig.description,i.currentImageConfig.description),m=i.currentImageConfig.description.style?Object.assign({},$n.currentImageConfig.description.style,i.currentImageConfig.description.style):$n.currentImageConfig.description.style):(d=$n.currentImageConfig.description,m=$n.currentImageConfig.description.style);const w=Object.assign({},$n.currentImageConfig,i.currentImageConfig);w.loadingConfig=a,w.description=d,w.description.style=m,r.currentImageConfig=w}if(i.keyboardConfig&&(r.keyboardConfig=Object.assign({},$n.keyboardConfig,i.keyboardConfig)),i.carouselConfig&&(r.carouselConfig=Object.assign({},$n.carouselConfig,i.carouselConfig)),i.carouselImageConfig){let a,d;i.carouselImageConfig.description?(a=Object.assign({},$n.carouselImageConfig.description,i.carouselImageConfig.description),d=i.carouselImageConfig.description.style?Object.assign({},$n.carouselImageConfig.description.style,i.carouselImageConfig.description.style):$n.carouselImageConfig.description.style):(a=$n.carouselImageConfig.description,d=$n.carouselImageConfig.description.style);const m=Object.assign({},$n.carouselImageConfig,i.carouselImageConfig);m.description=a,m.description.style=d,r.carouselImageConfig=m}if(i.carouselPlayConfig){if(i.carouselPlayConfig.interval<=0)throw new Error("Carousel's interval must be a number >= 0");r.carouselPlayConfig=Object.assign({},$n.carouselPlayConfig,i.carouselPlayConfig)}if(i.carouselPreviewsConfig){let a,d;a=!i.carouselPreviewsConfig.number||i.carouselPreviewsConfig.number<=0?GO.number:i.carouselPreviewsConfig.number,d=i.carouselPreviewsConfig.breakpoints?Object.assign({},$n.carouselPreviewsConfig.breakpoints,i.carouselPreviewsConfig.breakpoints):$n.carouselPreviewsConfig.breakpoints,r.carouselPreviewsConfig=Object.assign({},$n.carouselPreviewsConfig,i.carouselPreviewsConfig),r.carouselPreviewsConfig.number=a,r.carouselPreviewsConfig.breakpoints=d,r.carouselPreviewsConfig.width=100/r.carouselPreviewsConfig.number+"%"}i.carouselDotsConfig&&(r.carouselDotsConfig=Object.assign({},$n.carouselDotsConfig,i.carouselDotsConfig)),r.carouselSlideInfinite=void 0===i.carouselSlideInfinite?$n.carouselSlideInfinite:i.carouselSlideInfinite,r.enableCloseOutside=void 0===i.enableCloseOutside?$n.enableCloseOutside:i.enableCloseOutside,this.configMap.set(t,r)}initIfNotExists(t){this.configMap.has(t)||this.configMap.set(t,$n)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class zx{constructor(e){this.overlayRef=e,this.close=new $r.B,this.close$=this.close.asObservable(),this.show=new $r.B,this.show$=this.show.asObservable(),this.firstImage=new $r.B,this.firstImage$=this.firstImage.asObservable(),this.lastImage=new $r.B,this.lastImage$=this.lastImage.asObservable(),this.hasData=new $r.B,this.hasData$=this.hasData.asObservable(),this.buttonBeforeHook=new $r.B,this.buttonBeforeHook$=this.buttonBeforeHook.asObservable(),this.buttonAfterHook=new $r.B,this.buttonAfterHook$=this.buttonAfterHook.asObservable()}closeModal(){this.overlayRef.dispose()}emitClose(e){this.close.next(e)}emitShow(e){this.show.next(e)}emitFirstImage(e){this.firstImage.next(e)}emitLastImage(e){this.lastImage.next(e)}emitHasData(e){this.hasData.next(e)}emitButtonBeforeHook(e){this.buttonBeforeHook.next(e)}emitButtonAfterHook(e){this.buttonAfterHook.next(e)}}let $O=(()=>{class n{constructor(t,i){this.overlay=t,this.configService=i,this.updateImages=new $r.B,this.updateImages$=this.updateImages.asObservable(),this.triggerAttachToOverlay=new c.bkB}open(t){const i=this.createOverlay();return this.dialogRef=new zx(i),this.triggerAttachToOverlay.emit({overlayRef:i,config:t,dialogRef:this.dialogRef}),i.backdropClick().subscribe(()=>{this.dialogRef&&this.dialogRef.closeModal()}),this.dialogRef}close(t,i){const r=this.configService.getConfig(t);i?this.dialogRef&&r&&r.enableCloseOutside&&this.dialogRef.closeModal():this.dialogRef&&this.dialogRef.closeModal()}updateModalImages(t){this.updateImages.next(t)}emitClose(t){this.dialogRef&&this.dialogRef.emitClose(t)}emitShow(t){this.dialogRef&&this.dialogRef.emitShow(t)}emitFirstImage(t){this.dialogRef&&this.dialogRef.emitFirstImage(t)}emitLastImage(t){this.dialogRef&&this.dialogRef.emitLastImage(t)}emitHasData(t){this.dialogRef&&this.dialogRef.emitHasData(t)}emitButtonBeforeHook(t){this.dialogRef&&this.dialogRef.emitButtonBeforeHook(t)}emitButtonAfterHook(t){this.dialogRef&&this.dialogRef.emitButtonAfterHook(t)}createOverlay(){const t=this.getOverlayConfig();return this.overlay.create(t)}getOverlayConfig(){const t=this.overlay.position().global().centerHorizontally().centerVertically();return new VO.rR({hasBackdrop:true,backdropClass:"ks-modal-gallery-backdrop",panelClass:"ks-modal-gallery-panel",scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:t})}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(VO.hJ),c.KVO(rp))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oy=(()=>{class n{constructor(t,i){this.renderer=t,this.el=i}ngOnInit(){this.applyStyle()}ngOnChanges(){this.applyStyle()}applyStyle(){this.sizeConfig&&(this.sizeConfig.width&&this.renderer.setStyle(this.el.nativeElement,"width",this.sizeConfig.width),this.sizeConfig.height&&this.renderer.setStyle(this.el.nativeElement,"height",this.sizeConfig.height))}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksSize",""]],inputs:{sizeConfig:"sizeConfig"},features:[c.OA$]})}}return n})(),Vb=(()=>{class n{constructor(t,i){this.renderer=t,this.el=i,this.fallbackApplied=new c.bkB}onError(){this.fallbackImg?(this.renderer.setAttribute(this.el.nativeElement,"src",this.fallbackImg.toString()),this.fallbackApplied.emit(!0)):this.fallbackApplied.emit(!1)}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksFallbackImage",""]],hostBindings:function(i,r){1&i&&c.bIt("error",function(){return r.onError()})},inputs:{fallbackImg:"fallbackImg"},outputs:{fallbackApplied:"fallbackApplied"}})}}return n})(),WO=(()=>{class n extends d_{constructor(t){super(),this.configService=t,this.clickDot=new c.bkB}ngOnInit(){const t=this.configService.getConfig(this.id);if(!t)throw new Error("Internal library error - libConfig must be defined");this.accessibilityConfig=t.accessibilityConfig,this.configDots=Object.assign({},this.dotsConfig)}ngOnChanges(t){const i=t.dotsConfig;i&&i.currentValue!==i.previousValue&&(this.configDots=i.currentValue)}isActive(t){if(!this.currentImage||!this.images||0===this.images.length)return!1;let i;try{i=Cs(this.currentImage,this.images)}catch(r){return console.error("Internal error while trying to show the active 'dot'",r),!1}return t===i}onDotEvent(t,i){1===super.handleImageEvent(i)&&this.clickDot.emit(t)}trackById(t,i){return i.id}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(rp))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-dots"]],inputs:{id:"id",currentImage:"currentImage",images:"images",dotsConfig:"dotsConfig"},outputs:{clickDot:"clickDot"},features:[c.Vt3,c.OA$],decls:2,vars:3,consts:[[1,"dots-container",3,"title"],[4,"ngIf"],["class","inside dot","role","navigation",3,"ngClass","tabIndex","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["role","navigation",1,"inside","dot",3,"ngClass","tabIndex","click","keyup"]],template:function(i,r){1&i&&(c.j41(0,"nav",0),c.DNE(1,cF,2,2,"ng-container",1),c.k0s()),2&i&&(c.Y8G("title",null==r.accessibilityConfig?null:r.accessibilityConfig.dotsContainerTitle),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.dotsContainerAriaLabel),c.R7$(1),c.Y8G("ngIf",!r.dotsConfig||(null==r.dotsConfig?null:r.dotsConfig.visible)))},dependencies:[Pn.YU,Pn.Sq,Pn.bT],styles:[".dots-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:30px}.dots-container[_ngcontent-%COMP%] > .dot[_ngcontent-%COMP%]{background:#fff;border-radius:5px;height:10px;margin-left:4px;margin-right:4px;width:10px;cursor:pointer;opacity:.5}.dots-container[_ngcontent-%COMP%] > .dot[_ngcontent-%COMP%]:hover{opacity:.9;transition:all .5s ease;transition-property:opacity}.dots-container[_ngcontent-%COMP%] > .dot.active[_ngcontent-%COMP%]{cursor:pointer;opacity:.9}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}"],changeDetection:0})}}return n})(),KO=(()=>{class n{constructor(t,i){this.renderer=t,this.el=i}ngOnInit(){this.applyStyle()}ngOnChanges(){this.applyStyle()}applyStyle(){this.description&&this.description.style&&(this.renderer.setStyle(this.el.nativeElement,"background",this.description.style.bgColor),this.renderer.setStyle(this.el.nativeElement,"color",this.description.style.textColor),this.description.style.width&&this.renderer.setStyle(this.el.nativeElement,"width",this.description.style.width),this.description.style.height&&this.renderer.setStyle(this.el.nativeElement,"height",this.description.style.height),this.description.style.position&&this.renderer.setStyle(this.el.nativeElement,"position",this.description.style.position),this.description.style.top&&this.renderer.setStyle(this.el.nativeElement,"top",this.description.style.top),this.description.style.bottom&&this.renderer.setStyle(this.el.nativeElement,"bottom",this.description.style.bottom),this.description.style.left&&this.renderer.setStyle(this.el.nativeElement,"left",this.description.style.left),this.description.style.right&&this.renderer.setStyle(this.el.nativeElement,"right",this.description.style.right),this.renderer.setStyle(this.el.nativeElement,"margin-top",this.description.style.marginTop?this.description.style.marginTop:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-bottom",this.description.style.marginBottom?this.description.style.marginBottom:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-left",this.description.style.marginLeft?this.description.style.marginLeft:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-right",this.description.style.marginRight?this.description.style.marginRight:"0px"))}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksDescription",""]],inputs:{description:"description"},features:[c.OA$]})}}return n})();const ME={height:"auto",width:"30px"},yB={className:"close-image",size:ME,type:ol.CLOSE,title:"Close this modal image gallery",ariaLabel:"Close this modal image gallery"},bB={className:"download-image",size:ME,type:ol.DOWNLOAD,title:"Download the current image",ariaLabel:"Download the current image"},wB={className:"ext-url-image",size:ME,type:ol.EXTURL,title:"Navigate the current image",ariaLabel:"Navigate the current image"},CB={className:"delete-image",size:ME,type:ol.DELETE,title:"Delete the current image",ariaLabel:"Delete the current image"},EB={className:"fullscreen-image",size:ME,type:ol.FULLSCREEN,title:"Switch to full-screen",ariaLabel:"Switch to full-screen"};let Wx=(()=>{class n extends d_{constructor(t){super(),this.configService=t,this.refresh=new c.bkB,this.delete=new c.bkB,this.navigate=new c.bkB,this.download=new c.bkB,this.closeButton=new c.bkB,this.fullscreen=new c.bkB,this.customEmit=new c.bkB,this.defaultButtonsDefault=[yB],this.simpleButtonsDefault=[bB,...this.defaultButtonsDefault],this.advancedButtonsDefault=[wB,...this.simpleButtonsDefault],this.fullButtonsDefault=[EB,CB,...this.advancedButtonsDefault]}ngOnInit(){const t=this.configService.getConfig(this.id);if(!t||!t.buttonsConfig)throw new Error("Internal library error - libConfig and buttonsConfig must be defined");switch(this.buttonsConfig=t.buttonsConfig,this.buttonsConfig.strategy){case ry.SIMPLE:this.buttons=this.addButtonIds(this.simpleButtonsDefault);break;case ry.ADVANCED:this.buttons=this.addButtonIds(this.advancedButtonsDefault);break;case ry.FULL:this.buttons=this.addButtonIds(this.fullButtonsDefault);break;case ry.CUSTOM:this.buttons=this.addButtonIds(this.validateCustomButtons(this.buttonsConfig.buttons));break;default:this.buttons=this.addButtonIds(this.defaultButtonsDefault)}}onEvent(t,i,r=xi.CLICK){if(!i)return;const a={button:t,image:null,action:r,galleryId:this.id};switch(t.type){case ol.DELETE:this.triggerOnMouseAndKeyboard(this.delete,i,a);break;case ol.EXTURL:if(!this.currentImage||!this.currentImage.modal||!this.currentImage.modal.extUrl)return;this.triggerOnMouseAndKeyboard(this.navigate,i,a);break;case ol.DOWNLOAD:this.triggerOnMouseAndKeyboard(this.download,i,a);break;case ol.CLOSE:this.triggerOnMouseAndKeyboard(this.closeButton,i,a);break;case ol.CUSTOM:this.triggerOnMouseAndKeyboard(this.customEmit,i,a);break;case ol.FULLSCREEN:this.triggerOnMouseAndKeyboard(this.fullscreen,i,a);break;default:throw new Error("Unknown button's type into ButtonConfig")}}trackById(t,i){return i?i.id:void 0}triggerOnMouseAndKeyboard(t,i,r){if(!t)throw new Error("UpperButtonsComponent unknown emitter in triggerOnMouseAndKeyboard");1===super.handleImageEvent(i)&&t.emit(r)}addButtonIds(t){return t.map((i,r)=>Object.assign(i,{id:t.length-1-r}))}validateCustomButtons(t=[]){return t.forEach(i=>{if(-1===oB.findIndex(a=>a===i.type))throw new Error("Unknown ButtonType. For custom types use ButtonType.CUSTOM")}),t}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(rp))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-upper-buttons"]],inputs:{id:"id",currentImage:"currentImage"},outputs:{refresh:"refresh",delete:"delete",navigate:"navigate",download:"download",closeButton:"closeButton",fullscreen:"fullscreen",customEmit:"customEmit"},features:[c.Vt3],decls:2,vars:1,consts:[[1,"buttons-container"],[4,"ngIf"],["class","upper-button","ksSize","","role","button",3,"sizeConfig","ngStyle","tabIndex","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["ksSize","","role","button",1,"upper-button",3,"sizeConfig","ngStyle","tabIndex","click","keyup"],["aria-hidden","true",3,"title"]],template:function(i,r){1&i&&(c.j41(0,"header",0),c.DNE(1,CF,2,2,"ng-container",1),c.k0s()),2&i&&(c.R7$(1),c.Y8G("ngIf",!r.buttonsConfig||(null==r.buttonsConfig?null:r.buttonsConfig.visible)))},dependencies:[Pn.Sq,Pn.bT,Pn.B3,oy],styles:[".buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.buttons-container[_ngcontent-%COMP%] > .upper-button[_ngcontent-%COMP%]{align-self:center;margin-right:30px;margin-top:28px;font-size:50px;text-decoration:none;cursor:pointer;animation:_ngcontent-%COMP%_animatezoom .6s;color:#fff}@keyframes _ngcontent-%COMP%_animatezoom{0%{transform:scale(0)}to{transform:scale(1)}}.base-btn[_ngcontent-%COMP%], .copy[_ngcontent-%COMP%], .refresh-image[_ngcontent-%COMP%], .close-image[_ngcontent-%COMP%], .download-image[_ngcontent-%COMP%], .ext-url-image[_ngcontent-%COMP%], .delete-image[_ngcontent-%COMP%], .fullscreen-image[_ngcontent-%COMP%], .rotate-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;opacity:.8;transition:all .5s}.base-btn[_ngcontent-%COMP%]:hover, .copy[_ngcontent-%COMP%]:hover, .refresh-image[_ngcontent-%COMP%]:hover, .close-image[_ngcontent-%COMP%]:hover, .download-image[_ngcontent-%COMP%]:hover, .ext-url-image[_ngcontent-%COMP%]:hover, .delete-image[_ngcontent-%COMP%]:hover, .fullscreen-image[_ngcontent-%COMP%]:hover, .rotate-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.rotate-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDY0IDY0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2NCA2NDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMzLDJjNy43NDYsMCwxNS4wMjgsMy4wMTcsMjAuNTA1LDguNDk0YzEwLjEzOCwxMC4xMzcsMTEuMzEsMjYuMzk2LDIuNzQsMzcuODQ5TDUyLDUyLjU4OVY0NGgtMnYxMWwxLDFoMTF2LTJoLTguNTgyICAgIGw0LjI5Mi00LjI5M2wwLjA5Mi0wLjEwNmM5LjIxMS0xMi4yNDcsNy45NzItMjkuNjY3LTIuODgzLTQwLjUyMUM0OS4wNjQsMy4yMjUsNDEuMjgsMCwzMywwVjJ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTcuNzU1LDE1LjY1N0wxMiwxMS40MTFWMjBoMlY5bC0xLTFIMnYyaDguNTgyTDYuMjksMTQuMjkzbC0wLjA5MiwwLjEwNkMtMy4wMTMsMjYuNjQ2LTEuNzczLDQ0LjA2Niw5LjA4MSw1NC45MiAgICBDMTQuOTM2LDYwLjc3NSwyMi43Miw2NCwzMSw2NHYtMmMtNy43NDYsMC0xNS4wMjgtMy4wMTctMjAuNTA1LTguNDk0QzAuMzU3LDQzLjM2OS0wLjgxNCwyNy4xMSw3Ljc1NSwxNS42NTd6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}.fullscreen-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTMgNTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUzIDUzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNNTIuOTIzLDAuNjE4Yy0wLjEwMS0wLjI0NC0wLjI5Ni0wLjQzOS0wLjU0MS0wLjU0MUM1Mi4yNiwwLjAyNyw1Mi4xMywwLDUyLDBINDBjLTAuNTUyLDAtMSwwLjQ0OC0xLDFzMC40NDgsMSwxLDFoOS41ODYgICBMMzMuMjkzLDE4LjI5M2MtMC4zOTEsMC4zOTEtMC4zOTEsMS4wMjMsMCwxLjQxNEMzMy40ODgsMTkuOTAyLDMzLjc0NCwyMCwzNCwyMHMwLjUxMi0wLjA5OCwwLjcwNy0wLjI5M0w1MSwzLjQxNFYxMyAgIGMwLDAuNTUyLDAuNDQ4LDEsMSwxczEtMC40NDgsMS0xVjFDNTMsMC44Nyw1Mi45NzMsMC43NCw1Mi45MjMsMC42MTh6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTE4LjI5MywzMy4yOTNMMiw0OS41ODZWNDBjMC0wLjU1Mi0wLjQ0OC0xLTEtMXMtMSwwLjQ0OC0xLDF2MTJjMCwwLjEzLDAuMDI3LDAuMjYsMC4wNzcsMC4zODIgICBjMC4xMDEsMC4yNDQsMC4yOTYsMC40MzksMC41NDEsMC41NDFDMC43NCw1Mi45NzMsMC44Nyw1MywxLDUzaDEyYzAuNTUyLDAsMS0wLjQ0OCwxLTFzLTAuNDQ4LTEtMS0xSDMuNDE0bDE2LjI5My0xNi4yOTMgICBjMC4zOTEtMC4zOTEsMC4zOTEtMS4wMjMsMC0xLjQxNFMxOC42ODQsMzIuOTAyLDE4LjI5MywzMy4yOTN6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTEsMTRjMC41NTIsMCwxLTAuNDQ4LDEtMVYzLjQxNGwxNi4yOTIsMTYuMjkyYzAuMTk1LDAuMTk1LDAuNDUxLDAuMjkzLDAuNzA3LDAuMjkzczAuNTEyLTAuMDk4LDAuNzA3LTAuMjkzICAgYzAuMzkxLTAuMzkxLDAuMzkxLTEuMDIzLDAtMS40MTRMMy40MTQsMkgxM2MwLjU1MiwwLDEtMC40NDgsMS0xcy0wLjQ0OC0xLTEtMUgxQzAuODcsMCwwLjc0LDAuMDI3LDAuNjE4LDAuMDc3ICAgQzAuMzczLDAuMTc5LDAuMTc5LDAuMzczLDAuMDc3LDAuNjE4QzAuMDI3LDAuNzQsMCwwLjg3LDAsMXYxMkMwLDEzLjU1MiwwLjQ0OCwxNCwxLDE0eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik01MiwzOWMtMC41NTIsMC0xLDAuNDQ4LTEsMXY5LjU4NkwzNC43MDcsMzMuMjkyYy0wLjM5MS0wLjM5MS0xLjAyMy0wLjM5MS0xLjQxNCwwcy0wLjM5MSwxLjAyMywwLDEuNDE0TDQ5LjU4Niw1MUg0MCAgIGMtMC41NTIsMC0xLDAuNDQ4LTEsMXMwLjQ0OCwxLDEsMWgxMmMwLjEzLDAsMC4yNi0wLjAyNywwLjM4Mi0wLjA3N2MwLjI0NC0wLjEwMSwwLjQzOS0wLjI5NiwwLjU0MS0wLjU0MSAgIEM1Mi45NzMsNTIuMjYsNTMsNTIuMTMsNTMsNTJWNDBDNTMsMzkuNDQ4LDUyLjU1MiwzOSw1MiwzOXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.delete-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4Ni40IDQ4Ni40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODYuNCA0ODYuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ0Niw3MEgzNDQuOFY1My41YzAtMjkuNS0yNC01My41LTUzLjUtNTMuNWgtOTYuMmMtMjkuNSwwLTUzLjUsMjQtNTMuNSw1My41VjcwSDQwLjRjLTcuNSwwLTEzLjUsNi0xMy41LDEzLjUgICAgUzMyLjksOTcsNDAuNCw5N2gyNC40djMxNy4yYzAsMzkuOCwzMi40LDcyLjIsNzIuMiw3Mi4yaDIxMi40YzM5LjgsMCw3Mi4yLTMyLjQsNzIuMi03Mi4yVjk3SDQ0NmM3LjUsMCwxMy41LTYsMTMuNS0xMy41ICAgIFM0NTMuNSw3MCw0NDYsNzB6IE0xNjguNiw1My41YzAtMTQuNiwxMS45LTI2LjUsMjYuNS0yNi41aDk2LjJjMTQuNiwwLDI2LjUsMTEuOSwyNi41LDI2LjVWNzBIMTY4LjZWNTMuNXogTTM5NC42LDQxNC4yICAgIGMwLDI0LjktMjAuMyw0NS4yLTQ1LjIsNDUuMkgxMzdjLTI0LjksMC00NS4yLTIwLjMtNDUuMi00NS4yVjk3aDMwMi45djMxNy4ySDM5NC42eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0yNDMuMiw0MTFjNy41LDAsMTMuNS02LDEzLjUtMTMuNVYxNTguOWMwLTcuNS02LTEzLjUtMTMuNS0xMy41cy0xMy41LDYtMTMuNSwxMy41djIzOC41ICAgIEMyMjkuNyw0MDQuOSwyMzUuNyw0MTEsMjQzLjIsNDExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNTUuMSwzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzE0MS42LDM5MC4xLDE0Ny43LDM5Ni4xLDE1NS4xLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0zMzEuMywzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzMxNy44LDM5MC4xLDMyMy44LDM5Ni4xLDMzMS4zLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.ext-url-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPjxnPjxnPjxnPjxwYXRoIGQ9Ik00ODAsMjg4djExMmMwLDQ0LjE4My0zNS44MTcsODAtODAsODBIMTEyYy00NC4xODMsMC04MC0zNS44MTctODAtODBWMTEyYzAtNDQuMTgzLDM1LjgxNy04MCw4MC04MGg5NlYwaC05NiAgICAgQzUwLjE0NCwwLDAsNTAuMTQ0LDAsMTEydjI4OGMwLDYxLjg1Niw1MC4xNDQsMTEyLDExMiwxMTJoMjg4YzYxLjg1NiwwLDExMi01MC4xNDQsMTEyLTExMlYyODhINDgweiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNzYsNDE2aDMyVjI4OGMwLTEyNS43NiwxMDcuNTItMTI4LDExMi0xMjhoMTA1LjQ0bC04NC42NCw4NC42NGwyMi41NiwyMi41NmwxMTItMTEyYzYuMjA0LTYuMjQxLDYuMjA0LTE2LjMxOSwwLTIyLjU2ICAgICBsLTExMi0xMTJsLTIyLjcyLDIyLjcybDg0LjgsODQuNjRIMzIwYy0xLjQ0LDAtMTQ0LDEuNzYtMTQ0LDE2MFY0MTZ6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.download-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3MS4yIDQ3MS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzEuMiA0NzEuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ1Ny43LDIzMC4xNWMtNy41LDAtMTMuNSw2LTEzLjUsMTMuNXYxMjIuOGMwLDMzLjQtMjcuMiw2MC41LTYwLjUsNjAuNUg4Ny41Yy0zMy40LDAtNjAuNS0yNy4yLTYwLjUtNjAuNXYtMTI0LjggICAgYzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MTI0LjhjMCw0OC4zLDM5LjMsODcuNSw4Ny41LDg3LjVoMjk2LjJjNDguMywwLDg3LjUtMzkuMyw4Ny41LTg3LjV2LTEyMi44ICAgIEM0NzEuMiwyMzYuMjUsNDY1LjIsMjMwLjE1LDQ1Ny43LDIzMC4xNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMjI2LjEsMzQ2Ljc1YzIuNiwyLjYsNi4xLDQsOS41LDRzNi45LTEuMyw5LjUtNGw4NS44LTg1LjhjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC02Mi43LDYyLjggICAgVjMwLjc1YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjczLjlsLTYyLjgtNjIuOGMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xICAgIEwyMjYuMSwzNDYuNzV6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}.close-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3NS4yIDQ3NS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzUuMiA0NzUuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQwNS42LDY5LjZDMzYwLjcsMjQuNywzMDEuMSwwLDIzNy42LDBzLTEyMy4xLDI0LjctMTY4LDY5LjZTMCwxNzQuMSwwLDIzNy42czI0LjcsMTIzLjEsNjkuNiwxNjhzMTA0LjUsNjkuNiwxNjgsNjkuNiAgICBzMTIzLjEtMjQuNywxNjgtNjkuNnM2OS42LTEwNC41LDY5LjYtMTY4UzQ1MC41LDExNC41LDQwNS42LDY5LjZ6IE0zODYuNSwzODYuNWMtMzkuOCwzOS44LTkyLjcsNjEuNy0xNDguOSw2MS43ICAgIHMtMTA5LjEtMjEuOS0xNDguOS02MS43Yy04Mi4xLTgyLjEtODIuMS0yMTUuNywwLTI5Ny44QzEyOC41LDQ4LjksMTgxLjQsMjcsMjM3LjYsMjdzMTA5LjEsMjEuOSwxNDguOSw2MS43ICAgIEM0NjguNiwxNzAuOCw0NjguNiwzMDQuNCwzODYuNSwzODYuNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzQyLjMsMTMyLjljLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC04NS42LDg1LjZMMTUyLDEzMi45Yy01LjMtNS4zLTEzLjgtNS4zLTE5LjEsMGMtNS4zLDUuMy01LjMsMTMuOCwwLDE5LjEgICAgbDg1LjYsODUuNmwtODUuNiw4NS42Yy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0czYuOS0xLjMsOS41LTRsODUuNi04NS42bDg1LjYsODUuNmMyLjYsMi42LDYuMSw0LDkuNSw0ICAgIGMzLjUsMCw2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xbC04NS40LTg1LjZsODUuNi04NS42QzM0Ny42LDE0Ni43LDM0Ny42LDEzOC4yLDM0Mi4zLDEzMi45eiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.refresh-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OS43MTEgNDg5LjcxMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjcxMSA0ODkuNzExOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz48cGF0aCBkPSJNMTEyLjE1Niw5Ny4xMTFjNzIuMy02NS40LDE4MC41LTY2LjQsMjUzLjgtNi43bC01OC4xLDIuMmMtNy41LDAuMy0xMy4zLDYuNS0xMywxNGMwLjMsNy4zLDYuMywxMywxMy41LDEzICAgIGMwLjIsMCwwLjMsMCwwLjUsMGw4OS4yLTMuM2M3LjMtMC4zLDEzLTYuMiwxMy0xMy41di0xYzAtMC4yLDAtMC4zLDAtMC41di0wLjFsMCwwbC0zLjMtODguMmMtMC4zLTcuNS02LjYtMTMuMy0xNC0xMyAgICBjLTcuNSwwLjMtMTMuMyw2LjUtMTMsMTRsMi4xLDU1LjNjLTM2LjMtMjkuNy04MS00Ni45LTEyOC44LTQ5LjNjLTU5LjItMy0xMTYuMSwxNy4zLTE2MCw1Ny4xYy02MC40LDU0LjctODYsMTM3LjktNjYuOCwyMTcuMSAgICBjMS41LDYuMiw3LDEwLjMsMTMuMSwxMC4zYzEuMSwwLDIuMS0wLjEsMy4yLTAuNGM3LjItMS44LDExLjctOS4xLDkuOS0xNi4zQzM2LjY1NiwyMTguMjExLDU5LjA1NiwxNDUuMTExLDExMi4xNTYsOTcuMTExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik00NjIuNDU2LDE5NS41MTFjLTEuOC03LjItOS4xLTExLjctMTYuMy05LjljLTcuMiwxLjgtMTEuNyw5LjEtOS45LDE2LjNjMTYuOSw2OS42LTUuNiwxNDIuNy01OC43LDE5MC43ICAgIGMtMzcuMywzMy43LTg0LjEsNTAuMy0xMzAuNyw1MC4zYy00NC41LDAtODguOS0xNS4xLTEyNC43LTQ0LjlsNTguOC01LjNjNy40LTAuNywxMi45LTcuMiwxMi4yLTE0LjdzLTcuMi0xMi45LTE0LjctMTIuMmwtODguOSw4ICAgIGMtNy40LDAuNy0xMi45LDcuMi0xMi4yLDE0LjdsOCw4OC45YzAuNiw3LDYuNSwxMi4zLDEzLjQsMTIuM2MwLjQsMCwwLjgsMCwxLjItMC4xYzcuNC0wLjcsMTIuOS03LjIsMTIuMi0xNC43bC00LjgtNTQuMSAgICBjMzYuMywyOS40LDgwLjgsNDYuNSwxMjguMyw0OC45YzMuOCwwLjIsNy42LDAuMywxMS4zLDAuM2M1NS4xLDAsMTA3LjUtMjAuMiwxNDguNy01Ny40ICAgIEM0NTYuMDU2LDM1Ny45MTEsNDgxLjY1NiwyNzQuODExLDQ2Mi40NTYsMTk1LjUxMXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvc3ZnPg==)}.copy[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OC4zIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODguMyA0ODguMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMxNC4yNSw4NS40aC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42djMyNS43YzAsMjEuMywxNy4zLDM4LjYsMzguNiwzOC42aDIyN2MyMS4zLDAsMzguNi0xNy4zLDM4LjYtMzguNlYxMjQgICAgQzM1Mi43NSwxMDIuNywzMzUuNDUsODUuNCwzMTQuMjUsODUuNHogTTMyNS43NSw0NDkuNmMwLDYuNC01LjIsMTEuNi0xMS42LDExLjZoLTIyN2MtNi40LDAtMTEuNi01LjItMTEuNi0xMS42VjEyNCAgICBjMC02LjQsNS4yLTExLjYsMTEuNi0xMS42aDIyN2M2LjQsMCwxMS42LDUuMiwxMS42LDExLjZWNDQ5LjZ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTQwMS4wNSwwaC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42YzAsNy41LDYsMTMuNSwxMy41LDEzLjVzMTMuNS02LDEzLjUtMTMuNWMwLTYuNCw1LjItMTEuNiwxMS42LTExLjZoMjI3ICAgIGM2LjQsMCwxMS42LDUuMiwxMS42LDExLjZ2MzI1LjdjMCw2LjQtNS4yLDExLjYtMTEuNiwxMS42Yy03LjUsMC0xMy41LDYtMTMuNSwxMy41czYsMTMuNSwxMy41LDEzLjVjMjEuMywwLDM4LjYtMTcuMywzOC42LTM4LjYgICAgVjM4LjZDNDM5LjY1LDE3LjMsNDIyLjM1LDAsNDAxLjA1LDB6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}"],changeDetection:0})}}return n})(),Kx=(()=>{class n extends d_{constructor(t){super(),this.configService=t,this.clickPreview=new c.bkB,this.clickAction=xi.CLICK,this.keyboardAction=xi.KEYBOARD,this.previews=[],this.defaultPreviewSize=zO}ngOnInit(){const t=this.configService.getConfig(this.id);if(!t)throw new Error("Internal library error - libConfig must be defined");this.accessibilityConfig=t.accessibilityConfig,this.slideConfig=t.slideConfig,this.previewConfig=t.previewConfig,this.initPreviews(this.currentImage,this.images)}isActive(t){return!!t&&t.id===this.currentImage.id}ngOnChanges(t){let i=t.currentImage?.currentValue??this.currentImage,r=t.images?.currentValue??this.images;this.previewConfig&&i&&r&&this.initPreviews(i,r)}onImageEvent(t,i,r=xi.NORMAL){if(i?.stopPropagation(),!this.previewConfig||!this.previewConfig.clickable)return;const a=super.handleImageEvent(i);(1===a||-1===a)&&this.clickPreview.emit(new ip(this.id,r,Cs(t,this.images)))}onNavigationEvent(t,i,r=xi.NORMAL){const a=super.handleNavigationEvent(t,i);1===a?this.next():-1===a&&this.previous()}trackById(t,i){return i.id}displayLeftPreviewsArrow(){return!(void 0!==this.previewConfig?.number&&this.images&&this.previewConfig?.number>=this.images?.length)&&(this.previewConfig?.arrows&&this.start>0||!!this.slideConfig?.infinite)}displayRightPreviewsArrow(){return!(void 0!==this.previewConfig?.number&&this.images&&this.previewConfig?.number>=this.images?.length)&&(this.previewConfig?.arrows&&this.images&&this.end<this.images.length||!!this.slideConfig?.infinite)}initPreviews(t,i){this.setIndexesPreviews(t,i),this.previews=i.filter((r,a)=>a>=this.start&&a<this.end)}setIndexesPreviews(t,i){if(!this.previewConfig||!i||!t)throw new Error("Internal library error - previewConfig, currentImage and images must be defined");const r=this.previewConfig.number;let a=Cs(t,i)-Math.floor(r/2);a<0&&(a=0);let d=a+r;d>i.length&&(a-=d-i.length,a<0&&(a=0),d=i.length),this.start=a,this.end=d}next(){if(!this.previewConfig)throw new Error("Internal library error - previewConfig must be defined");if(this.end>=this.images.length){if(this.slideConfig&&!1===this.slideConfig.infinite)return;this.start=0}else this.start++;this.end=this.start+Math.min(this.previewConfig.number,this.images.length),this.previews=this.images.filter((t,i)=>i>=this.start&&i<this.end)}previous(){if(!this.previewConfig)throw new Error("Internal library error - previewConfig must be defined");if(this.start<=0){if(this.slideConfig&&!1===this.slideConfig.infinite)return;this.end=this.images.length}else this.end--;this.start=this.end-Math.min(this.previewConfig.number,this.images.length),this.previews=this.images.filter((t,i)=>i>=this.start&&i<this.end)}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(rp))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-previews"]],inputs:{id:"id",currentImage:"currentImage",images:"images",customTemplate:"customTemplate"},outputs:{clickPreview:"clickPreview"},features:[c.Vt3,c.OA$],decls:2,vars:5,consts:[[1,"previews-container",3,"title"],[4,"ngIf"],["role","button",1,"nav-left",3,"tabIndex","click","keyup"],["aria-hidden","true",3,"title"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","button",1,"nav-right",3,"tabIndex","click","keyup"],[3,"click","keyup"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultTemplate",""],["ksFallbackImage","","ksSize","","role","img",3,"class","loading","src","fallbackImg","sizeConfig","title","alt","tabIndex",4,"ngIf"],["ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","sizeConfig","title","alt","tabIndex"]],template:function(i,r){1&i&&(c.j41(0,"nav",0),c.DNE(1,MF,6,14,"ng-container",1),c.k0s()),2&i&&(c.AVh("mobile-visible",null==r.previewConfig?null:r.previewConfig.mobileVisible),c.Y8G("title",null==r.accessibilityConfig?null:r.accessibilityConfig.previewsContainerTitle),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.previewsContainerAriaLabel),c.R7$(1),c.Y8G("ngIf",null==r.previewConfig?null:r.previewConfig.visible))},dependencies:[Pn.Sq,Pn.bT,Pn.T3,oy,Vb],styles:["@media only screen and (max-width: 767px),only screen and (max-device-width: 767px){.previews-container[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{display:none}.previews-container.mobile-visible[_ngcontent-%COMP%]{align-items:center;animation:_ngcontent-%COMP%_fadein-semi-visible08 .8s;display:flex;flex-direction:row;justify-content:center;margin-bottom:15px}.previews-container.mobile-visible[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{display:flex}.previews-container.mobile-visible[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{display:flex}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]{cursor:pointer;display:flex;margin-left:2px;margin-right:2px;opacity:.7;height:50px}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image.active[_ngcontent-%COMP%]{opacity:1}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]:hover{opacity:1;transition:all .5s ease;transition-property:opacity}}@media only screen and (min-device-width: 768px){.previews-container[_ngcontent-%COMP%]{align-items:center;animation:_ngcontent-%COMP%_fadein-semi-visible08 .8s;display:flex;flex-direction:row;justify-content:center;margin-bottom:15px}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px;cursor:pointer}.previews-container[_ngcontent-%COMP%]   .preview-container.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{opacity:.7;height:50px}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image.active[_ngcontent-%COMP%]{opacity:1}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]:hover{opacity:1;transition:all .5s ease;transition-property:opacity}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{color:#919191;cursor:pointer;transition:all .5s}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{margin-right:10px}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{margin-left:10px}}@keyframes _ngcontent-%COMP%_fadein-visible{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible08{0%{opacity:0}to{opacity:.8}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}",".arrow-preview-image[_ngcontent-%COMP%], .right-arrow-preview-image[_ngcontent-%COMP%], .left-arrow-preview-image[_ngcontent-%COMP%], .empty-arrow-preview-image[_ngcontent-%COMP%]{width:15px;height:15px;opacity:.5}.empty-arrow-preview-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.left-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.right-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"],changeDetection:0})}}return n})();let Yx=(()=>{class n{constructor(){this.loadingStandard=vg.STANDARD,this.loadingBars=vg.BARS,this.loadingCircular=vg.CIRCULAR,this.loadingDots=vg.DOTS,this.loadingCubeFlipping=vg.CUBE_FLIPPING,this.loadingCircles=vg.CIRCLES,this.loadingExplosingSquares=vg.EXPLOSING_SQUARES}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-loading-spinner"]],inputs:{loadingConfig:"loadingConfig",accessibilityConfig:"accessibilityConfig"},decls:9,vars:10,consts:[[3,"title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"cssload-loader"],[1,"cssload-inner","cssload-one"],[1,"cssload-inner","cssload-two"],[1,"cssload-inner","cssload-three"],[1,"loader-bars"],[1,"loader-circular"],[1,"loader-dots"],[1,"cube-wrapper"],[1,"cube-folding"],[1,"leaf1"],[1,"leaf2"],[1,"leaf3"],[1,"leaf4"],["id","preloader"],["id","loader"],[1,"loader"]],template:function(i,r){1&i&&(c.j41(0,"div",0),c.qex(1,1),c.DNE(2,OF,5,0,"ng-container",2),c.DNE(3,NF,2,0,"ng-container",2),c.DNE(4,PF,2,0,"ng-container",2),c.DNE(5,xF,2,0,"ng-container",2),c.DNE(6,RF,7,0,"ng-container",2),c.DNE(7,kF,3,0,"ng-container",2),c.DNE(8,LF,6,0,"ng-container",2),c.bVm(),c.k0s()),2&i&&(c.Y8G("title",null==r.accessibilityConfig?null:r.accessibilityConfig.loadingSpinnerTitle),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.loadingSpinnerAriaLabel),c.R7$(1),c.Y8G("ngSwitch",null==r.loadingConfig?null:r.loadingConfig.type),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingStandard),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingBars),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingCircular),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingDots),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingCubeFlipping),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingCircles),c.R7$(1),c.Y8G("ngSwitchCase",r.loadingExplosingSquares))},dependencies:[Pn.ux,Pn.e1],styles:[".cssload-loader[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;width:64px;height:64px;border-radius:50%;-o-border-radius:50%;-ms-border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;perspective:800px}.cssload-inner[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;box-sizing:border-box;-o-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;border-radius:50%;-o-border-radius:50%;-ms-border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%}.cssload-inner.cssload-one[_ngcontent-%COMP%]{left:0%;top:0%;animation:_ngcontent-%COMP%_cssload-rotate-one .6s linear infinite;-o-animation:cssload-rotate-one .6s linear infinite;-ms-animation:cssload-rotate-one .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-one .6s linear infinite;-moz-animation:cssload-rotate-one .6s linear infinite;border-bottom:3px solid rgba(255,255,255,.99)}.cssload-inner.cssload-two[_ngcontent-%COMP%]{right:0%;top:0%;animation:_ngcontent-%COMP%_cssload-rotate-two .6s linear infinite;-o-animation:cssload-rotate-two .6s linear infinite;-ms-animation:cssload-rotate-two .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-two .6s linear infinite;-moz-animation:cssload-rotate-two .6s linear infinite;border-right:3px solid rgb(255,255,255)}.cssload-inner.cssload-three[_ngcontent-%COMP%]{right:0%;bottom:0%;animation:_ngcontent-%COMP%_cssload-rotate-three .6s linear infinite;-o-animation:cssload-rotate-three .6s linear infinite;-ms-animation:cssload-rotate-three .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-three .6s linear infinite;-moz-animation:cssload-rotate-three .6s linear infinite;border-top:3px solid rgb(255,255,255)}@keyframes _ngcontent-%COMP%_cssload-rotate-one{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_cssload-rotate-two{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0)}to{transform:rotateX(50deg) rotateY(10deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_cssload-rotate-three{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0)}to{transform:rotateX(35deg) rotateY(55deg) rotate(360deg)}}",".loader-dots[_ngcontent-%COMP%]{position:absolute;inset:0;color:#fefcff;font-size:10px;margin:auto;width:1em;height:1em;border-radius:50%;text-indent:-9999em;animation:_ngcontent-%COMP%_load4 1.3s infinite linear;transform:translateZ(0)}@keyframes _ngcontent-%COMP%_load4{0%,to{box-shadow:0 -3em 0 .2em,2em -2em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em}12.5%{box-shadow:0 -3em,2em -2em 0 .2em,3em 0,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}25%{box-shadow:0 -3em 0 -.5em,2em -2em,3em 0 0 .2em,2em 2em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}37.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0,2em 2em 0 .2em,0 3em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}50%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em,0 3em 0 .2em,-2em 2em,-3em 0 0 -1em,-2em -2em 0 -1em}62.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em,-2em 2em 0 .2em,-3em 0,-2em -2em 0 -1em}75%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em,-3em 0 0 .2em,-2em -2em}87.5%{box-shadow:0 -3em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em,-3em 0,-2em -2em 0 .2em}}",'.loader-bars[_ngcontent-%COMP%], .loader-bars[_ngcontent-%COMP%]:before, .loader-bars[_ngcontent-%COMP%]:after{background:#fefcff;animation:_ngcontent-%COMP%_load1 1s infinite ease-in-out;width:1em;height:4em}.loader-bars[_ngcontent-%COMP%]{position:absolute;inset:0;color:#fefcff;text-indent:-9999em;margin:auto;font-size:11px;transform:translateZ(0);animation-delay:-.16s}.loader-bars[_ngcontent-%COMP%]:before, .loader-bars[_ngcontent-%COMP%]:after{position:absolute;top:0;content:""}.loader-bars[_ngcontent-%COMP%]:before{left:-1.5em;animation-delay:-.32s}.loader-bars[_ngcontent-%COMP%]:after{left:1.5em}@keyframes _ngcontent-%COMP%_load1{0%,80%,to{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}',".loader-circular[_ngcontent-%COMP%], .loader-circular[_ngcontent-%COMP%]:after{border-radius:50%;width:10em;height:10em}.loader-circular[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;font-size:10px;text-indent:-9999em;border-top:1.1em solid rgba(255,255,255,.2);border-right:1.1em solid rgba(255,255,255,.2);border-bottom:1.1em solid rgba(255,255,255,.2);border-left:1.1em solid #ffffff;transform:translateZ(0);animation:_ngcontent-%COMP%_load8 1.1s infinite linear}@keyframes _ngcontent-%COMP%_load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",'.cube-folding[_ngcontent-%COMP%]{width:50px;height:50px;display:inline-block;transform:rotate(45deg);font-size:0}.cube-folding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;width:25px;height:25px;transform:scale(1.1);display:inline-block}.cube-folding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";background-color:#fff;position:absolute;left:0;top:0;display:block;width:25px;height:25px;transform-origin:100% 100%;animation:_ngcontent-%COMP%_folding 2.5s infinite linear both}.cube-folding[_ngcontent-%COMP%]   .leaf2[_ngcontent-%COMP%]{transform:rotate(90deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf2[_ngcontent-%COMP%]:before{animation-delay:.3s;background-color:#f2f2f2}.cube-folding[_ngcontent-%COMP%]   .leaf3[_ngcontent-%COMP%]{transform:rotate(270deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf3[_ngcontent-%COMP%]:before{animation-delay:.9s;background-color:#f2f2f2}.cube-folding[_ngcontent-%COMP%]   .leaf4[_ngcontent-%COMP%]{transform:rotate(180deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf4[_ngcontent-%COMP%]:before{animation-delay:.6s;background-color:#e6e6e6}@keyframes _ngcontent-%COMP%_folding{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.cube-wrapper[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;text-align:center}@keyframes _ngcontent-%COMP%_text{to{top:35px}}@keyframes _ngcontent-%COMP%_shadow{to{bottom:-18px;width:100px}}','#preloader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}#loader[_ngcontent-%COMP%]{display:block;position:relative;left:50%;top:50%;width:100px;height:100px;margin:-75px 0 0 -75px;border-radius:50%;border:3px solid transparent;border-top-color:#b4b4b4;animation:_ngcontent-%COMP%_spin 2s linear infinite}#loader[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:5px;border-radius:50%;border:3px solid transparent;border-top-color:#d9d9d9;animation:_ngcontent-%COMP%_spin 3s linear infinite}#loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:15px;border-radius:50%;border:3px solid transparent;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1.5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}',"@keyframes _ngcontent-%COMP%_loader{0%,10%,to{width:60px;height:60px}65%{width:150px;height:150px}}@keyframes _ngcontent-%COMP%_loaderBlock{0%,30%{transform:rotate(0)}55%{background-color:#b4b4b4}to{transform:rotate(90deg)}}@keyframes _ngcontent-%COMP%_loaderBlockInverse{0%,20%{transform:rotate(0)}55%{background-color:#d9d9d9}to{transform:rotate(-90deg)}}.loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:60px;height:60px;transform:translate(-50%,-50%) rotate(45deg) translateZ(0);animation:_ngcontent-%COMP%_loader 1.2s infinite ease-in-out}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block;width:40px;height:40px;background-color:#fff;animation:_ngcontent-%COMP%_loaderBlock 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0;left:0}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:0;right:0;animation:_ngcontent-%COMP%_loaderBlockInverse 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0;left:0;animation:_ngcontent-%COMP%_loaderBlockInverse 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){bottom:0;right:0}"],changeDetection:0})}}return n})(),qx=(()=>{class n{constructor(){this.keyboardNavigation=new c.bkB}onKeyDown(t){this.isOpen&&this.keyboardNavigation.emit(t.code)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksKeyboardNavigation",""]],hostBindings:function(i,r){1&i&&c.bIt("keydown",function(d){return r.onKeyDown(d)},!1,c.tSv)},inputs:{isOpen:"isOpen"},outputs:{keyboardNavigation:"keyboardNavigation"}})}}return n})(),Xx=(()=>{class n{constructor(){this.defaultTouch={x:0,y:0,time:0},this.swipeLeft=new c.bkB,this.swipeRight=new c.bkB,this.swipeUp=new c.bkB,this.swipeDown=new c.bkB}handleTouch(t){let i=t.touches[0]||t.changedTouches[0];if("touchstart"===t.type)this.defaultTouch.x=i.pageX,this.defaultTouch.y=i.pageY,this.defaultTouch.time=t.timeStamp;else if("touchend"===t.type){let r=i.pageX-this.defaultTouch.x,a=i.pageY-this.defaultTouch.y;t.timeStamp-this.defaultTouch.time<500&&(Math.abs(r)>60&&(r>0?this.swipeRight.emit():this.swipeLeft.emit()),Math.abs(a)>60&&(a>0?this.swipeDown.emit():this.swipeUp.emit()))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksSwipe",""]],hostBindings:function(i,r){1&i&&c.bIt("touchstart",function(d){return r.handleTouch(d)})("touchend",function(d){return r.handleTouch(d)})("touchcancel",function(d){return r.handleTouch(d)})},outputs:{swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown"}})}}return n})(),qO=(()=>{class n extends d_{constructor(t,i,r,a){super(),this.platformId=t,this.ngZone=i,this.ref=r,this.configService=a,this.isOpen=!1,this.loadImage=new c.bkB,this.changeImage=new c.bkB,this.closeGallery=new c.bkB,this.start$=new $r.B,this.stop$=new $r.B,this.normalAction=xi.NORMAL,this.clickAction=xi.CLICK,this.keyboardAction=xi.KEYBOARD,this.isFirstImage=!1,this.isLastImage=!1,this.loading=!0}onMouseEnter(){!this.slideConfig||!this.slideConfig.playConfig||this.slideConfig.playConfig.pauseOnHover&&this.stopCarousel()}onMouseLeave(){!this.slideConfig||!this.slideConfig.playConfig||!this.slideConfig.playConfig.pauseOnHover||!this.slideConfig.playConfig.autoPlay||this.playCarousel()}ngOnInit(){const t=this.configService.getConfig(this.id);if(!t||!t.buttonsConfig)throw new Error("Internal library error - libConfig and buttonsConfig must be defined");this.slideConfig=t.slideConfig,this.accessibilityConfig=t.accessibilityConfig,this.currentImageConfig=t.currentImageConfig,this.keyboardConfig=t.keyboardConfig}ngOnChanges(t){const i=this.configService.getConfig(this.id);if(!i)throw new Error("Internal library error - libConfig must be defined");const r=t.images,a=t.currentImage;(a&&a.previousValue!==a.currentValue||r&&r.previousValue!==r.currentValue)&&this.updateIndexes();const d=t.slideConfig;d&&d.previousValue!==d.currentValue&&(this.slideConfig=i.slideConfig)}ngAfterContentInit(){(0,Pn.UE)(this.platformId)&&this.ngZone.runOutsideAngular(()=>{this.start$.pipe((0,Xi.T)(()=>this.slideConfig&&this.slideConfig.playConfig&&this.slideConfig.playConfig.autoPlay&&this.slideConfig.playConfig.interval),(0,qo.p)(t=>t>0),(0,Ni.n)(t=>(0,xx.O)(t).pipe((0,Xa.Q)(this.stop$)))).subscribe(()=>this.ngZone.run(()=>{this.isLastImage||this.nextImage(xi.AUTOPLAY),this.ref.markForCheck()})),this.start$.next()})}onKeyPress(t){switch(t){case this.keyboardConfig&&this.keyboardConfig.esc?this.keyboardConfig.esc:"Escape":this.closeGallery.emit(new ip(this.id,xi.KEYBOARD,!0));break;case this.keyboardConfig&&this.keyboardConfig.right?this.keyboardConfig.right:"ArrowRight":this.nextImage(xi.KEYBOARD);break;case this.keyboardConfig&&this.keyboardConfig.left?this.keyboardConfig.left:"ArrowLeft":this.prevImage(xi.KEYBOARD)}}getDescriptionToDisplay(t=this.currentImage){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");const i=!t.modal||!t.modal.description||""===t.modal.description;switch(this.currentImageConfig.description.strategy){case iy.HIDE_IF_EMPTY:return i?"":t.modal.description+"";case iy.ALWAYS_HIDDEN:return"";default:return this.buildTextDescription(t,i)}}getAltDescriptionByImage(t=this.currentImage){return t?t.modal&&t.modal.description?t.modal.description:`Image ${Cs(t,this.images)+1}`:""}getTitleToDisplay(t=this.currentImage){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");return this.buildTextDescription(t,!t.modal||!t.modal.description||""===t.modal.description)}getLeftPreviewImage(){if(!this.slideConfig)throw new Error("Internal library error - slideConfig must be defined");const t=Cs(this.currentImage,this.images);return 0===t&&this.slideConfig.infinite?this.images[this.images.length-1]:(this.handleBoundaries(t),this.images[Math.max(t-1,0)])}getRightPreviewImage(){if(!this.slideConfig)throw new Error("Internal library error - slideConfig must be defined");const t=Cs(this.currentImage,this.images);return t===this.images.length-1&&this.slideConfig.infinite?this.images[0]:(this.handleBoundaries(t),this.images[Math.min(t+1,this.images.length-1)])}onImageEvent(t,i=xi.NORMAL){if(!this.currentImageConfig)throw new Error("Internal library error - currentImageConfig must be defined");(i!==xi.CLICK||this.currentImageConfig.navigateOnClick)&&1===super.handleImageEvent(t)&&this.nextImage(i)}onNavigationEvent(t,i,r=xi.NORMAL,a=!1){if(a)return;const d=super.handleNavigationEvent(t,i);1===d?this.nextImage(r):-1===d&&this.prevImage(r)}prevImage(t=xi.NORMAL){if(this.isPreventSliding(0))return;const i=this.getPrevImage();this.loading=!i.previouslyLoaded,this.changeImage.emit(new ip(this.id,t,Cs(i,this.images))),this.start$.next()}nextImage(t=xi.NORMAL){if(this.isPreventSliding(this.images.length-1))return;const i=this.getNextImage();this.loading=!i.previouslyLoaded,this.changeImage.emit(new ip(this.id,t,Cs(i,this.images))),this.start$.next()}onImageLoad(t){const i={status:!0,index:Cs(this.currentImage,this.images),id:this.currentImage.id};this.loadImage.emit(i),this.loading=!1}swipe(t="swiperight"){if(!this.currentImageConfig)throw new Error("Internal library error - currentImageConfig must be defined");switch(t){case"swiperight":this.currentImageConfig.invertSwipe?this.prevImage(xi.SWIPE):this.nextImage(xi.SWIPE);break;case"swipeleft":this.currentImageConfig.invertSwipe?this.nextImage(xi.SWIPE):this.prevImage(xi.SWIPE)}}getIndexToDelete(t=this.currentImage){return Cs(t,this.images)}playCarousel(){this.start$.next()}stopCarousel(){this.stop$.next()}ngOnDestroy(){this.stopCarousel()}handleBoundaries(t){if(1===this.images.length)return this.isFirstImage=!0,this.isLastImage=!0,void this.ref.markForCheck();if(this.slideConfig&&!0!==this.slideConfig.infinite)switch(t){case 0:this.isFirstImage=!0,this.isLastImage=!1,this.ref.markForCheck();break;case this.images.length-1:this.isFirstImage=!1,this.isLastImage=!0,this.ref.markForCheck();break;default:this.isFirstImage=!1,this.isLastImage=!1,this.ref.markForCheck()}else this.isFirstImage=!1,this.isLastImage=!1,this.ref.markForCheck()}isPreventSliding(t){return!!this.slideConfig&&!1===this.slideConfig.infinite&&Cs(this.currentImage,this.images)===t}getNextImage(){const t=Cs(this.currentImage,this.images);let i=0;return i=t>=0&&t<this.images.length-1?t+1:0,this.images[i]}getPrevImage(){const t=Cs(this.currentImage,this.images);let i=0;return i=t>0&&t<=this.images.length-1?t-1:this.images.length-1,this.images[i]}buildTextDescription(t,i){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");if(this.currentImageConfig.description.customFullDescription&&""!==this.currentImageConfig.description.customFullDescription)return this.currentImageConfig.description.customFullDescription;const r=Cs(t,this.images),a=this.currentImageConfig.description.imageText?this.currentImageConfig.description.imageText:"",m=r+1+(this.currentImageConfig.description.numberSeparator?this.currentImageConfig.description.numberSeparator:"")+this.images.length;return i?a+m:a+m+(this.currentImageConfig.description.beforeTextDescription+(t.modal&&t.modal.description?t.modal.description:""))}updateIndexes(){try{if(this.isOpen){const t=Cs(this.currentImage,this.images);this.handleBoundaries(t)}}catch(t){throw console.error("Cannot get the current image index in current-image"),t}}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(c.Agw),c.rXU(c.SKi),c.rXU(c.gRc),c.rXU(rp))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-current-image"]],hostBindings:function(i,r){1&i&&c.bIt("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{id:"id",currentImage:"currentImage",images:"images",isOpen:"isOpen"},outputs:{loadImage:"loadImage",changeImage:"changeImage",closeGallery:"closeGallery"},features:[c.Vt3,c.OA$],decls:15,vars:38,consts:[["ksKeyboardNavigation","",1,"main-image-container",3,"isOpen","title","keyboardNavigation"],[1,"left-sub-container"],["role","button",3,"tabIndex","click","keyup"],["aria-hidden","true",3,"title"],[4,"ngIf"],["id","current-figure"],[1,"current-image"],[4,"ngFor","ngForOf"],["ksFallbackImage","","role","img","ksSwipe","",1,"inside",3,"id","loading","ngClass","src","fallbackImg","title","alt","tabIndex","load","click","keyup","swipeLeft","swipeRight"],["class","inside description","ksDescription","",3,"description","innerHTML",4,"ngIf"],[1,"right-sub-container"],["class","inside current-image-previous","ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup",4,"ngIf","ngIfElse"],["firstImage",""],["ksFallbackImage","","ksSize","","role","img",1,"inside","current-image-previous",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup"],["ksSize","",1,"current-image-previous","hidden",3,"sizeConfig"],[3,"media","srcset"],["ksDescription","",1,"inside","description",3,"description","innerHTML"],["class","inside current-image-next","ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup",4,"ngIf","ngIfElse"],["lastImage",""],["ksFallbackImage","","ksSize","","role","img",1,"inside","current-image-next",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup"],["ksSize","",1,"current-image-next","hidden",3,"sizeConfig"],[3,"loadingConfig","accessibilityConfig"]],template:function(i,r){1&i&&(c.j41(0,"main",0),c.bIt("keyboardNavigation",function(d){return r.onKeyPress(d)}),c.j41(1,"div",1)(2,"a",2),c.bIt("click",function(d){return r.onNavigationEvent("left",d)})("keyup",function(d){return r.onNavigationEvent("left",d)}),c.nrm(3,"div",3),c.k0s(),c.DNE(4,VF,2,1,"ng-container",4),c.k0s(),c.j41(5,"figure",5)(6,"picture",6),c.DNE(7,UF,2,2,"ng-container",7),c.j41(8,"img",8),c.bIt("load",function(d){return r.onImageLoad(d)})("click",function(d){return r.onImageEvent(d,r.clickAction)})("keyup",function(d){return r.onImageEvent(d,r.keyboardAction)})("swipeLeft",function(){return r.swipe("swipeleft")})("swipeRight",function(){return r.swipe("swiperight")}),c.k0s()(),c.DNE(9,zF,1,2,"figcaption",9),c.k0s(),c.j41(10,"div",10),c.DNE(11,WF,2,1,"ng-container",4),c.DNE(12,KF,2,2,"ng-container",4),c.j41(13,"a",2),c.bIt("click",function(d){return r.onNavigationEvent("right",d)})("keyup",function(d){return r.onNavigationEvent("right",d)}),c.nrm(14,"div",3),c.k0s()()()),2&i&&(c.Y8G("isOpen",r.isOpen)("title",null==r.accessibilityConfig?null:r.accessibilityConfig.mainContainerTitle),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.mainContainerAriaLabel),c.R7$(2),c.ZvI("nav-left ",r.isFirstImage?"no-pointer":"",""),c.Y8G("tabIndex",r.isFirstImage?-1:0),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.mainPrevImageAriaLabel),c.R7$(1),c.ZvI("inside ",r.isFirstImage?"empty-arrow-image":"left-arrow-image",""),c.Y8G("title",r.isFirstImage?"":null==r.accessibilityConfig?null:r.accessibilityConfig.mainPrevImageTitle),c.R7$(1),c.Y8G("ngIf",null==r.slideConfig||null==r.slideConfig.sidePreviews?null:r.slideConfig.sidePreviews.show),c.R7$(1),c.xc7("opacity",r.loading?"0":"1"),c.R7$(2),c.Y8G("ngForOf",null==r.currentImage.modal?null:r.currentImage.modal.sources),c.R7$(1),c.FS9("alt",r.currentImage.modal.alt?r.currentImage.modal.alt:r.getAltDescriptionByImage()),c.Y8G("id",r.currentImage.id)("loading",r.currentImage.loading)("ngClass",null!=r.currentImageConfig&&r.currentImageConfig.navigateOnClick?"":"unclickable")("src",r.currentImage.modal.img,c.B4B)("fallbackImg",r.currentImage.modal.fallbackImg)("title",r.currentImage.modal.title||""===r.currentImage.modal.title?r.currentImage.modal.title:r.getTitleToDisplay())("tabIndex",0),c.BMQ("fetchpriority",r.currentImage.fetchpriority)("aria-label",r.currentImage.modal.ariaLabel),c.R7$(1),c.Y8G("ngIf",""!==r.getDescriptionToDisplay()),c.R7$(2),c.Y8G("ngIf",null==r.slideConfig||null==r.slideConfig.sidePreviews?null:r.slideConfig.sidePreviews.show),c.R7$(1),c.Y8G("ngIf",r.loading&&(null==r.currentImageConfig||null==r.currentImageConfig.loadingConfig?null:r.currentImageConfig.loadingConfig.enable)),c.R7$(1),c.ZvI("nav-right ",r.isFirstImage?"no-pointer":"",""),c.Y8G("tabIndex",r.isLastImage?-1:0),c.BMQ("aria-label",null==r.accessibilityConfig?null:r.accessibilityConfig.mainNextImageAriaLabel),c.R7$(1),c.ZvI("inside ",r.isLastImage?"empty-arrow-image":"right-arrow-image",""),c.Y8G("title",r.isLastImage?"":null==r.accessibilityConfig?null:r.accessibilityConfig.mainNextImageTitle))},dependencies:[Pn.YU,Pn.Sq,Pn.bT,Yx,oy,qx,KO,Vb,Xx],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.main-image-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], .main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], .main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{animation:animatezoom 1s;cursor:pointer;transition:all .5s}.main-image-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, .main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, .main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{margin-right:5px;margin-left:15px}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left.no-pointer[_ngcontent-%COMP%]{cursor:default!important}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{margin-right:15px;margin-left:5px}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right.no-pointer[_ngcontent-%COMP%]{cursor:default!important}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadein-visible .8s;text-align:center;margin:0;position:relative}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%]{display:block}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%] > img.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{padding:10px;position:absolute;bottom:0;left:0;right:0}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:700;text-align:center}.current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:auto;max-width:80vw;max-height:60vh;cursor:pointer}@media screen and (min-width: 70vw){.current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:70vw}}@keyframes _ngcontent-%COMP%_fadein-visible{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible08{0%{opacity:0}to{opacity:.8}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}",".arrow-image[_ngcontent-%COMP%], .right-arrow-image[_ngcontent-%COMP%], .left-arrow-image[_ngcontent-%COMP%], .empty-arrow-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px}.empty-arrow-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.left-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.right-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}","@media only screen and (max-width: 1024px),only screen and (max-device-width: 1024px){.current-image-previous[_ngcontent-%COMP%], .current-image-next[_ngcontent-%COMP%]{display:none}}@media only screen and (min-device-width: 1025px){.current-image-preview[_ngcontent-%COMP%], .current-image-next[_ngcontent-%COMP%], .current-image-previous[_ngcontent-%COMP%]{height:auto;cursor:pointer;opacity:.5;animation:_ngcontent-%COMP%_fadein-semi-visible05 .8s;filter:alpha(opacity=50)}.current-image-preview[_ngcontent-%COMP%]:hover, .current-image-next[_ngcontent-%COMP%]:hover, .current-image-previous[_ngcontent-%COMP%]:hover{opacity:1;transition-property:opacity;transition:all .5s ease}.current-image-previous[_ngcontent-%COMP%]{margin-left:10px;margin-right:5px}.current-image-next[_ngcontent-%COMP%]{margin-right:10px;margin-left:5px}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}"],changeDetection:0})}}return n})();const eR=new c.nKC("DIALOG_DATA");let DB=(()=>{class n{constructor(){this.ids=new Map}checkAndAdd(t){if(void 0===t||!Number.isInteger(t)||t<0)throw new Error('You must provide a valid [id]="unique integer > 0 here" to the gallery/carousel in your template');if(this.ids.get(t))throw new Error(`Cannot create gallery with id=${t} because already used in your application. This must be a unique integer >= 0`);return this.ids.set(t,t),!0}remove(t){if(void 0===t||!Number.isInteger(t)||t<0)throw new Error('You must provide a valid [id]="unique integer > 0 here" to the gallery/carousel in your template');return this.ids.delete(t),!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tR=(()=>{class n{constructor(){this.clickOutside=new c.bkB}onClick(t){t.stopPropagation();const i=t.target;if(!this.clickOutsideEnable||!i)return;let r=!1,a=!1;"string"!=typeof i.className?r=!0:(r=i.className&&i.className.includes("inside"),a=i.className.includes("hidden")),(!r||a)&&this.clickOutside.emit(!0)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=c.FsC({type:n,selectors:[["","ksClickOutside",""]],hostBindings:function(i,r){1&i&&c.bIt("click",function(d){return r.onClick(d)})},inputs:{clickOutsideEnable:"clickOutsideEnable"},outputs:{clickOutside:"clickOutside"}})}}return n})(),nR=(()=>{class n{onPopState(){this.closeGallery()}onSaveListener(t){t.preventDefault(),this.downloadImage()}constructor(t,i,r,a,d,m,w){this.dialogContent=t,this.modalGalleryService=i,this.platformId=r,this.changeDetectorRef=a,this.idValidatorService=d,this.configService=m,this.sanitizer=w,this.enableCloseOutside=!0,this.accessibilityConfig=jx,this.showGallery=!1,this.id=this.dialogContent.id,this.images=this.dialogContent.images,this.currentImage=this.dialogContent.currentImage,this.libConfig=this.dialogContent.libConfig,this.customPreviewsTemplate=this.dialogContent.previewsTemplate,this.configService.setConfig(this.id,this.libConfig),this.updateImagesSubscription=this.modalGalleryService.updateImages$.subscribe(T=>{this.images=T.map(B=>Object.assign({},B,{previouslyLoaded:!1})),this.initImages(),this.images.forEach(B=>{B.id===this.currentImage.id&&(this.currentImage=B)}),this.changeDetectorRef.markForCheck()})}ngOnInit(){if(this.idValidatorService.checkAndAdd(this.id),!this.id&&0!==this.id||this.id<0)throw new Error("'[id]=\"a number >= 0\"' is a mandatory input in angular-modal-gallery.If you are using multiple instances of this library, please be sure to use different ids");const t=this.configService.getConfig(this.id);if(!t||!t.dotsConfig)throw new Error("Internal library error - libConfig and dotsConfig must be defined");this.dotsConfig=t.dotsConfig,setTimeout(()=>{this.initImages()},0)}onCustomEmit(t){const i=this.getButtonEventToEmit(t);this.modalGalleryService.emitButtonBeforeHook(i),this.modalGalleryService.emitButtonAfterHook(i)}onFullScreen(t){const i=this.getButtonEventToEmit(t);this.modalGalleryService.emitButtonBeforeHook(i);const r=document,a=document.documentElement;r.fullscreenElement||r.webkitFullscreenElement?r.exitFullscreen?r.exitFullscreen().then(()=>{}).catch(()=>{console.error("Cannot request exit full screen")}):r.webkitExitFullscreen&&r.webkitExitFullscreen():a.requestFullscreen?a.requestFullscreen().then(()=>{}).catch(()=>{console.error("Cannot request full screen")}):a.webkitRequestFullscreen&&a.webkitRequestFullscreen(),this.modalGalleryService.emitButtonAfterHook(i)}onDelete(t){const i=this.getButtonEventToEmit(t);if(this.modalGalleryService.emitButtonBeforeHook(i),1===this.images.length&&this.closeGallery(),!this.currentImageComponent)throw new Error("currentImageComponent must be defined");this.currentImageComponent.getIndexToDelete(t.image)===this.images.length-1?this.currentImageComponent.prevImage():this.currentImageComponent.nextImage(),this.modalGalleryService.emitButtonAfterHook(i)}onNavigate(t){const i=this.getButtonEventToEmit(t);if(this.modalGalleryService.emitButtonBeforeHook(i),(0,Pn.UE)(this.platformId)&&i.image&&i.image.modal.extUrl)if(i.button&&i.button.extUrlInNewTab){const r=window.open(i.image.modal.extUrl,"noopener,noreferrer,");r&&(r.opener=null,this.modalGalleryService.emitButtonAfterHook(i))}else this.updateLocationHref(i.image.modal.extUrl),this.modalGalleryService.emitButtonAfterHook(i)}updateLocationHref(t){window.location.href=t}onDownload(t){const i=this.getButtonEventToEmit(t);this.modalGalleryService.emitButtonBeforeHook(i),this.downloadImage(),this.modalGalleryService.emitButtonAfterHook(i)}onCloseGalleryButton(t,i=xi.NORMAL){const r=this.getButtonEventToEmit(t);this.modalGalleryService.emitButtonBeforeHook(r),this.closeGallery(i,!1)}onCloseGallery(t,i=xi.NORMAL){this.modalGalleryService.emitButtonBeforeHook({button:{type:ol.CLOSE},image:null,action:t.action,galleryId:t.galleryId}),this.closeGallery(i,!1)}closeGallery(t=xi.NORMAL,i=!1){if(!this.configService.getConfig(this.id))throw new Error("Internal library error - libConfig must be defined");this.modalGalleryService.emitClose(new ip(this.id,t,!0)),this.modalGalleryService.close(this.id,i)}onChangeCurrentImage(t){const i=t.result;i<0||i>=this.images.length||(this.currentImage=this.images[i],this.modalGalleryService.emitShow(new ip(this.id,t.action,i+1)),this.emitBoundaryEvent(t.action,i))}onClickOutside(t){t&&this.enableCloseOutside&&this.closeGallery(xi.CLICK,!0)}onImageLoad(t){this.images=this.images.map(i=>i&&i.id===t.id?Object.assign({},i,{previouslyLoaded:t.status}):i)}onClickDot(t){this.currentImage=this.images[t]}onClickPreview(t){this.onChangeCurrentImage(t)}ngOnDestroy(){this.updateImagesSubscription&&this.updateImagesSubscription.unsubscribe(),this.idValidatorService.remove(this.id)}downloadImage(){if(null==this.id)throw new Error("Internal library error - id must be defined");const t=this.configService.getConfig(this.id);if(!t)throw new Error("Internal library error - libConfig must be defined");const i=t.currentImageConfig;i&&!i.downloadable||this.downloadImageAllBrowsers()}base64toBlob(t,i=""){const a=atob(t),d=a.length,m=Math.ceil(d/1024),w=new Array(m);for(let T=0;T<m;++T){const B=1024*T,Y=Math.min(B+1024,d),pe=new Array(Y-B);for(let xe=B,Je=0;xe<Y;++Je,++xe)pe[Je]=a[xe].charCodeAt(0);w[T]=new Uint8Array(pe)}return new Blob(w,{type:i})}downloadImageAllBrowsers(){const t=document.createElement("a");let r,i=!1;if(r="string"==typeof this.currentImage.modal.img?this.currentImage.modal.img:this.sanitizer.sanitize(c.WPN.RESOURCE_URL,this.currentImage.modal.img),r.includes("data:image/")||r.includes(";base64,")){const a=r.replace("data:image/","").split(";base64,")[0],d=r.split(";base64,")[1],m=this.base64toBlob(d,"image/"+a);t.href=URL.createObjectURL(m),i=!0,t.setAttribute("download",this.getFileName(this.currentImage,i,a))}else t.href=r,t.setAttribute("download",this.getFileName(this.currentImage,i));document.body.appendChild(t),t.click(),document.body.removeChild(t)}getButtonEventToEmit(t){return Object.assign(t,{image:this.currentImage})}getFileName(t,i=!1,r=""){return t.modal.downloadFileName&&0!==t.modal.downloadFileName.length?t.modal.downloadFileName:i?`Image-${t.id}.${""!==r?r:"png"}`:t.modal.img.replace(/^.*[\\\/]/,"")}initImages(){this.modalGalleryService.emitHasData(new ip(this.id,xi.LOAD,!0));const t=this.images.indexOf(this.currentImage);this.modalGalleryService.emitShow(new ip(this.id,xi.LOAD,t+1)),this.emitBoundaryEvent(xi.NORMAL,t),this.showGallery=this.images.length>0}emitBoundaryEvent(t,i){switch(i){case 0:this.modalGalleryService.emitFirstImage(new ip(this.id,t,!0));break;case this.images.length-1:this.modalGalleryService.emitLastImage(new ip(this.id,t,!0))}}static{this.\u0275fac=function(i){return new(i||n)(c.rXU(eR),c.rXU($O),c.rXU(c.Agw),c.rXU(c.gRc),c.rXU(DB),c.rXU(rp),c.rXU(u.up))}}static{this.\u0275cmp=c.VBU({type:n,selectors:[["ks-modal-gallery"]],viewQuery:function(i,r){if(1&i&&c.GBs(qO,7),2&i){let a;c.mGM(a=c.lsd())&&(r.currentImageComponent=a.first)}},hostBindings:function(i,r){1&i&&c.bIt("popstate",function(){return r.onPopState()},!1,c.tSv)("keydown.code.control.keyS",function(d){return r.onSaveListener(d)},!1,c.EBC)("keydown.code.meta.keyS",function(d){return r.onSaveListener(d)},!1,c.EBC)},decls:8,vars:17,consts:[["id","modal-gallery-wrapper","ksClickOutside","",3,"title","clickOutsideEnable","clickOutside"],["id","flex-min-height-ie-fix"],["id","modal-gallery-container"],[3,"id","currentImage","delete","navigate","download","closeButton","fullscreen","customEmit"],[3,"id","images","currentImage","isOpen","loadImage","changeImage","closeGallery"],[3,"id","images","currentImage","dotsConfig","clickDot"],[3,"id","images","currentImage","customTemplate","clickPreview"]],template:function(i,r){1&i&&(c.j41(0,"div",0),c.bIt("clickOutside",function(d){return r.onClickOutside(d)}),c.j41(1,"div",1)(2,"div",2)(3,"ks-upper-buttons",3),c.bIt("delete",function(d){return r.onDelete(d)})("navigate",function(d){return r.onNavigate(d)})("download",function(d){return r.onDownload(d)})("closeButton",function(d){return r.onCloseGalleryButton(d)})("fullscreen",function(d){return r.onFullScreen(d)})("customEmit",function(d){return r.onCustomEmit(d)}),c.k0s(),c.j41(4,"ks-current-image",4),c.bIt("loadImage",function(d){return r.onImageLoad(d)})("changeImage",function(d){return r.onChangeCurrentImage(d)})("closeGallery",function(d){return r.onCloseGallery(d)}),c.k0s(),c.j41(5,"div")(6,"ks-dots",5),c.bIt("clickDot",function(d){return r.onClickDot(d)}),c.k0s(),c.j41(7,"ks-previews",6),c.bIt("clickPreview",function(d){return r.onClickPreview(d)}),c.k0s()()()()()),2&i&&(c.Y8G("title",r.accessibilityConfig.modalGalleryContentTitle)("clickOutsideEnable",r.enableCloseOutside),c.BMQ("aria-label",r.accessibilityConfig.modalGalleryContentAriaLabel),c.R7$(3),c.Y8G("id",r.id)("currentImage",r.currentImage),c.R7$(1),c.Y8G("id",r.id)("images",r.images)("currentImage",r.currentImage)("isOpen",!0),c.R7$(2),c.Y8G("id",r.id)("images",r.images)("currentImage",r.currentImage)("dotsConfig",r.dotsConfig),c.R7$(1),c.Y8G("id",r.id)("images",r.images)("currentImage",r.currentImage)("customTemplate",r.customPreviewsTemplate))},dependencies:[Wx,WO,Kx,qO,tR],styles:["#flex-min-height-ie-fix[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#modal-gallery-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-width:100vw;min-height:100vh}"],changeDetection:0})}}return n})(),SB=(()=>{class n{constructor(t,i){this.injector=t,this.modalGalleryService=i}initialize(){this.modalGalleryService.triggerAttachToOverlay.subscribe(t=>this.attachToOverlay(t))}attachToOverlay(t){const i=c.zZn.create({parent:this.injector,providers:[{provide:zx,useValue:t.dialogRef},{provide:eR,useValue:t.config}]}),r=new iF.A8(nR,null,i);t.overlayRef.attach(r)}static{this.\u0275fac=function(i){return new(i||n)(c.KVO(c.zZn),c.KVO($O))}}static{this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=c.$C({type:n})}static{this.\u0275inj=c.G2t({providers:[{provide:c.hnV,multi:!0,deps:[SB],useFactory:t=>()=>t.initialize()}],imports:[Pn.MD,VO.z_]})}}return n})(),MB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=c.$C({type:n,bootstrap:[__]})}static{this.\u0275inj=c.G2t({providers:[{provide:Sg.sq,useValue:{fullLibraryLoader:()=>P.e(275).then(P.bind(P,9275))}}],imports:[u.Bb,Ia,Dg,v_.G,ae.YN,ae.X1,ts.UN,Hb.sN.forRoot({echarts:()=>P.e(697).then(P.bind(P,9697))}),y_.Zl,Sg.fw,Ei.bf.initializeApp($b_firebase),NA,nu,nF,TB]})}}return n})();u.sG().bootstrapModule(MB).catch(n=>console.error(n))},4412:(Bt,He,P)=>{P.d(He,{t:()=>ae});var u=P(1413);class ae extends u.B{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const fe=super._subscribe(te);return!fe.closed&&te.next(this._value),fe}getValue(){const{hasError:te,thrownError:fe,_value:ve}=this;if(te)throw fe;return this._throwIfClosed(),ve}next(te){super.next(this._value=te)}}},1985:(Bt,He,P)=>{P.d(He,{c:()=>Me});var u=P(7707),ae=P(8359),c=P(3494),te=P(1203),fe=P(1026),ve=P(8071),Ie=P(9786);let Me=(()=>{class be{constructor($e){$e&&(this._subscribe=$e)}lift($e){const ot=new be;return ot.source=this,ot.operator=$e,ot}subscribe($e,ot,Ue){const Ve=function ue(be){return be&&be instanceof u.vU||function re(be){return be&&(0,ve.T)(be.next)&&(0,ve.T)(be.error)&&(0,ve.T)(be.complete)}(be)&&(0,ae.Uv)(be)}($e)?$e:new u.Ms($e,ot,Ue);return(0,Ie.Y)(()=>{const{operator:Ze,source:at}=this;Ve.add(Ze?Ze.call(Ve,at):at?this._subscribe(Ve):this._trySubscribe(Ve))}),Ve}_trySubscribe($e){try{return this._subscribe($e)}catch(ot){$e.error(ot)}}forEach($e,ot){return new(ot=me(ot))((Ue,Ve)=>{const Ze=new u.Ms({next:at=>{try{$e(at)}catch(mt){Ve(mt),Ze.unsubscribe()}},error:Ve,complete:Ue});this.subscribe(Ze)})}_subscribe($e){var ot;return null===(ot=this.source)||void 0===ot?void 0:ot.subscribe($e)}[c.s](){return this}pipe(...$e){return(0,te.m)($e)(this)}toPromise($e){return new($e=me($e))((ot,Ue)=>{let Ve;this.subscribe(Ze=>Ve=Ze,Ze=>Ue(Ze),()=>ot(Ve))})}}return be.create=Ge=>new be(Ge),be})();function me(be){var Ge;return null!==(Ge=be??fe.$.Promise)&&void 0!==Ge?Ge:Promise}},2771:(Bt,He,P)=>{P.d(He,{m:()=>c});var u=P(1413),ae=P(6129);class c extends u.B{constructor(fe=1/0,ve=1/0,Ie=ae.U){super(),this._bufferSize=fe,this._windowTime=ve,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ve===1/0,this._bufferSize=Math.max(1,fe),this._windowTime=Math.max(1,ve)}next(fe){const{isStopped:ve,_buffer:Ie,_infiniteTimeWindow:Me,_timestampProvider:me,_windowTime:re}=this;ve||(Ie.push(fe),!Me&&Ie.push(me.now()+re)),this._trimBuffer(),super.next(fe)}_subscribe(fe){this._throwIfClosed(),this._trimBuffer();const ve=this._innerSubscribe(fe),{_infiniteTimeWindow:Ie,_buffer:Me}=this,me=Me.slice();for(let re=0;re<me.length&&!fe.closed;re+=Ie?1:2)fe.next(me[re]);return this._checkFinalizedStatuses(fe),ve}_trimBuffer(){const{_bufferSize:fe,_timestampProvider:ve,_buffer:Ie,_infiniteTimeWindow:Me}=this,me=(Me?1:2)*fe;if(fe<1/0&&me<Ie.length&&Ie.splice(0,Ie.length-me),!Me){const re=ve.now();let ue=0;for(let be=1;be<Ie.length&&Ie[be]<=re;be+=2)ue=be;ue&&Ie.splice(0,ue+1)}}}},1413:(Bt,He,P)=>{P.d(He,{B:()=>Ie});var u=P(1985),ae=P(8359);const te=(0,P(1853).L)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=P(7908),ve=P(9786);let Ie=(()=>{class me extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const be=new Me(this,this);return be.operator=ue,be}_throwIfClosed(){if(this.closed)throw new te}next(ue){(0,ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const be of this.currentObservers)be.next(ue)}})}error(ue){(0,ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:be}=this;for(;be.length;)be.shift().error(ue)}})}complete(){(0,ve.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:be,isStopped:Ge,observers:$e}=this;return be||Ge?ae.Kn:(this.currentObservers=null,$e.push(ue),new ae.yU(()=>{this.currentObservers=null,(0,fe.o)($e,ue)}))}_checkFinalizedStatuses(ue){const{hasError:be,thrownError:Ge,isStopped:$e}=this;be?ue.error(Ge):$e&&ue.complete()}asObservable(){const ue=new u.c;return ue.source=this,ue}}return me.create=(re,ue)=>new Me(re,ue),me})();class Me extends Ie{constructor(re,ue){super(),this.destination=re,this.source=ue}next(re){var ue,be;null===(be=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===be||be.call(ue,re)}error(re){var ue,be;null===(be=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===be||be.call(ue,re)}complete(){var re,ue;null===(ue=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===ue||ue.call(re)}_subscribe(re){var ue,be;return null!==(be=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(re))&&void 0!==be?be:ae.Kn}}},7707:(Bt,He,P)=>{P.d(He,{Ms:()=>Ue,vU:()=>be});var u=P(8071),ae=P(8359),c=P(1026),te=P(5334),fe=P(5343);const ve=me("C",void 0,void 0);function me(ge,ke,De){return{kind:ge,value:ke,error:De}}var re=P(9270),ue=P(9786);class be extends ae.yU{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,ae.Uv)(ke)&&ke.add(this)):this.destination=mt}static create(ke,De,Se){return new Ue(ke,De,Se)}next(ke){this.isStopped?at(function Me(ge){return me("N",ge,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?at(function Ie(ge){return me("E",void 0,ge)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?at(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function $e(ge,ke){return Ge.call(ge,ke)}class ot{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:De}=this;if(De.next)try{De.next(ke)}catch(Se){Ve(Se)}}error(ke){const{partialObserver:De}=this;if(De.error)try{De.error(ke)}catch(Se){Ve(Se)}else Ve(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(De){Ve(De)}}}class Ue extends be{constructor(ke,De,Se){let Ce;if(super(),(0,u.T)(ke)||!ke)Ce={next:ke??void 0,error:De??void 0,complete:Se??void 0};else{let Ke;this&&c.$.useDeprecatedNextContext?(Ke=Object.create(ke),Ke.unsubscribe=()=>this.unsubscribe(),Ce={next:ke.next&&$e(ke.next,Ke),error:ke.error&&$e(ke.error,Ke),complete:ke.complete&&$e(ke.complete,Ke)}):Ce=ke}this.destination=new ot(Ce)}}function Ve(ge){c.$.useDeprecatedSynchronousErrorHandling?(0,ue.l)(ge):(0,te.m)(ge)}function at(ge,ke){const{onStoppedNotification:De}=c.$;De&&re.f.setTimeout(()=>De(ge,ke))}const mt={closed:!0,next:fe.l,error:function Ze(ge){throw ge},complete:fe.l}},8359:(Bt,He,P)=>{P.d(He,{Kn:()=>ve,yU:()=>fe,Uv:()=>Ie});var u=P(8071);const c=(0,P(1853).L)(me=>function(ue){me(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((be,Ge)=>`${Ge+1}) ${be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var te=P(7908);class fe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const $e of ue)$e.remove(this);else ue.remove(this);const{initialTeardown:be}=this;if((0,u.T)(be))try{be()}catch($e){re=$e instanceof c?$e.errors:[$e]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const $e of Ge)try{Me($e)}catch(ot){re=re??[],ot instanceof c?re=[...re,...ot.errors]:re.push(ot)}}if(re)throw new c(re)}}add(re){var ue;if(re&&re!==this)if(this.closed)Me(re);else{if(re instanceof fe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(re)}}_hasParent(re){const{_parentage:ue}=this;return ue===re||Array.isArray(ue)&&ue.includes(re)}_addParent(re){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(re),ue):ue?[ue,re]:re}_removeParent(re){const{_parentage:ue}=this;ue===re?this._parentage=null:Array.isArray(ue)&&(0,te.o)(ue,re)}remove(re){const{_finalizers:ue}=this;ue&&(0,te.o)(ue,re),re instanceof fe&&re._removeParent(this)}}fe.EMPTY=(()=>{const me=new fe;return me.closed=!0,me})();const ve=fe.EMPTY;function Ie(me){return me instanceof fe||me&&"closed"in me&&(0,u.T)(me.remove)&&(0,u.T)(me.add)&&(0,u.T)(me.unsubscribe)}function Me(me){(0,u.T)(me)?me():me.unsubscribe()}},1026:(Bt,He,P)=>{P.d(He,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Bt,He,P)=>{P.d(He,{G:()=>ve});var u=P(1985),ae=P(8359),c=P(9898),te=P(4360),fe=P(9974);class ve extends u.c{constructor(Me,me){super(),this.source=Me,this.subjectFactory=me,this._subject=null,this._refCount=0,this._connection=null,(0,fe.S)(Me)&&(this.lift=Me.lift)}_subscribe(Me){return this.getSubject().subscribe(Me)}getSubject(){const Me=this._subject;return(!Me||Me.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Me}=this;this._subject=this._connection=null,Me?.unsubscribe()}connect(){let Me=this._connection;if(!Me){Me=this._connection=new ae.yU;const me=this.getSubject();Me.add(this.source.subscribe((0,te._)(me,void 0,()=>{this._teardown(),me.complete()},re=>{this._teardown(),me.error(re)},()=>this._teardown()))),Me.closed&&(this._connection=null,Me=ae.yU.EMPTY)}return Me}refCount(){return(0,c.B)()(this)}}},4572:(Bt,He,P)=>{P.d(He,{z:()=>re});var u=P(1985),ae=P(3073),c=P(8455),te=P(3669),fe=P(6450),ve=P(9326),Ie=P(8496),Me=P(4360),me=P(5225);function re(...Ge){const $e=(0,ve.lI)(Ge),ot=(0,ve.ms)(Ge),{args:Ue,keys:Ve}=(0,ae.D)(Ge);if(0===Ue.length)return(0,c.H)([],$e);const Ze=new u.c(function ue(Ge,$e,ot=te.D){return Ue=>{be($e,()=>{const{length:Ve}=Ge,Ze=new Array(Ve);let at=Ve,mt=Ve;for(let ge=0;ge<Ve;ge++)be($e,()=>{const ke=(0,c.H)(Ge[ge],$e);let De=!1;ke.subscribe((0,Me._)(Ue,Se=>{Ze[ge]=Se,De||(De=!0,mt--),mt||Ue.next(ot(Ze.slice()))},()=>{--at||Ue.complete()}))},Ue)},Ue)}}(Ue,$e,Ve?at=>(0,Ie.e)(Ve,at):te.D));return ot?Ze.pipe((0,fe.I)(ot)):Ze}function be(Ge,$e,ot){Ge?(0,me.N)(ot,Ge,$e):$e()}},8793:(Bt,He,P)=>{P.d(He,{x:()=>fe});var u=P(6365),c=P(9326),te=P(8455);function fe(...ve){return function ae(){return(0,u.U)(1)}()((0,te.H)(ve,(0,c.lI)(ve)))}},9030:(Bt,He,P)=>{P.d(He,{v:()=>c});var u=P(1985),ae=P(8750);function c(te){return new u.c(fe=>{(0,ae.Tg)(te()).subscribe(fe)})}},983:(Bt,He,P)=>{P.d(He,{w:()=>ae});const ae=new(P(1985).c)(fe=>fe.complete())},7468:(Bt,He,P)=>{P.d(He,{p:()=>Me});var u=P(1985),ae=P(3073),c=P(8750),te=P(9326),fe=P(4360),ve=P(6450),Ie=P(8496);function Me(...me){const re=(0,te.ms)(me),{args:ue,keys:be}=(0,ae.D)(me),Ge=new u.c($e=>{const{length:ot}=ue;if(!ot)return void $e.complete();const Ue=new Array(ot);let Ve=ot,Ze=ot;for(let at=0;at<ot;at++){let mt=!1;(0,c.Tg)(ue[at]).subscribe((0,fe._)($e,ge=>{mt||(mt=!0,Ze--),Ue[at]=ge},()=>Ve--,void 0,()=>{(!Ve||!mt)&&(Ze||$e.next(be?(0,Ie.e)(be,Ue):Ue),$e.complete())}))}});return re?Ge.pipe((0,ve.I)(re)):Ge}},8455:(Bt,He,P)=>{P.d(He,{H:()=>ke});var u=P(8750),ae=P(941),c=P(6745),ve=P(1985),Me=P(4761),me=P(8071),re=P(5225);function be(De,Se){if(!De)throw new Error("Iterable cannot be null");return new ve.c(Ce=>{(0,re.N)(Ce,Se,()=>{const Ke=De[Symbol.asyncIterator]();(0,re.N)(Ce,Se,()=>{Ke.next().then(Ae=>{Ae.done?Ce.complete():Ce.next(Ae.value)})},0,!0)})})}var Ge=P(5055),$e=P(9858),ot=P(7441),Ue=P(5397),Ve=P(7953),Ze=P(591),at=P(5196);function ke(De,Se){return Se?function ge(De,Se){if(null!=De){if((0,Ge.l)(De))return function te(De,Se){return(0,u.Tg)(De).pipe((0,c._)(Se),(0,ae.Q)(Se))}(De,Se);if((0,ot.X)(De))return function Ie(De,Se){return new ve.c(Ce=>{let Ke=0;return Se.schedule(function(){Ke===De.length?Ce.complete():(Ce.next(De[Ke++]),Ce.closed||this.schedule())})})}(De,Se);if((0,$e.y)(De))return function fe(De,Se){return(0,u.Tg)(De).pipe((0,c._)(Se),(0,ae.Q)(Se))}(De,Se);if((0,Ve.T)(De))return be(De,Se);if((0,Ue.x)(De))return function ue(De,Se){return new ve.c(Ce=>{let Ke;return(0,re.N)(Ce,Se,()=>{Ke=De[Me.l](),(0,re.N)(Ce,Se,()=>{let Ae,Pt;try{({value:Ae,done:Pt}=Ke.next())}catch(Vt){return void Ce.error(Vt)}Pt?Ce.complete():Ce.next(Ae)},0,!0)}),()=>(0,me.T)(Ke?.return)&&Ke.return()})}(De,Se);if((0,at.U)(De))return function mt(De,Se){return be((0,at.C)(De),Se)}(De,Se)}throw(0,Ze.L)(De)}(De,Se):(0,u.Tg)(De)}},3726:(Bt,He,P)=>{P.d(He,{R:()=>re});var u=P(8750),ae=P(1985),c=P(3028),te=P(7441),fe=P(8071),ve=P(6450);const Ie=["addListener","removeListener"],Me=["addEventListener","removeEventListener"],me=["on","off"];function re(ot,Ue,Ve,Ze){if((0,fe.T)(Ve)&&(Ze=Ve,Ve=void 0),Ze)return re(ot,Ue,Ve).pipe((0,ve.I)(Ze));const[at,mt]=function $e(ot){return(0,fe.T)(ot.addEventListener)&&(0,fe.T)(ot.removeEventListener)}(ot)?Me.map(ge=>ke=>ot[ge](Ue,ke,Ve)):function be(ot){return(0,fe.T)(ot.addListener)&&(0,fe.T)(ot.removeListener)}(ot)?Ie.map(ue(ot,Ue)):function Ge(ot){return(0,fe.T)(ot.on)&&(0,fe.T)(ot.off)}(ot)?me.map(ue(ot,Ue)):[];if(!at&&(0,te.X)(ot))return(0,c.Z)(ge=>re(ge,Ue,Ve))((0,u.Tg)(ot));if(!at)throw new TypeError("Invalid event target");return new ae.c(ge=>{const ke=(...De)=>ge.next(1<De.length?De:De[0]);return at(ke),()=>mt(ke)})}function ue(ot,Ue){return Ve=>Ze=>ot[Ve](Ue,Ze)}},8750:(Bt,He,P)=>{P.d(He,{Tg:()=>Ge});var u=P(1635),ae=P(7441),c=P(9858),te=P(1985),fe=P(5055),ve=P(7953),Ie=P(591),Me=P(5397),me=P(5196),re=P(8071),ue=P(5334),be=P(3494);function Ge(ge){if(ge instanceof te.c)return ge;if(null!=ge){if((0,fe.l)(ge))return function $e(ge){return new te.c(ke=>{const De=ge[be.s]();if((0,re.T)(De.subscribe))return De.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,ae.X)(ge))return function ot(ge){return new te.c(ke=>{for(let De=0;De<ge.length&&!ke.closed;De++)ke.next(ge[De]);ke.complete()})}(ge);if((0,c.y)(ge))return function Ue(ge){return new te.c(ke=>{ge.then(De=>{ke.closed||(ke.next(De),ke.complete())},De=>ke.error(De)).then(null,ue.m)})}(ge);if((0,ve.T)(ge))return Ze(ge);if((0,Me.x)(ge))return function Ve(ge){return new te.c(ke=>{for(const De of ge)if(ke.next(De),ke.closed)return;ke.complete()})}(ge);if((0,me.U)(ge))return function at(ge){return Ze((0,me.C)(ge))}(ge)}throw(0,Ie.L)(ge)}function Ze(ge){return new te.c(ke=>{(function mt(ge,ke){var De,Se,Ce,Ke;return(0,u.sH)(this,void 0,void 0,function*(){try{for(De=(0,u.xN)(ge);!(Se=yield De.next()).done;)if(ke.next(Se.value),ke.closed)return}catch(Ae){Ce={error:Ae}}finally{try{Se&&!Se.done&&(Ke=De.return)&&(yield Ke.call(De))}finally{if(Ce)throw Ce.error}}ke.complete()})})(ge,ke).catch(De=>ke.error(De))})}},7786:(Bt,He,P)=>{P.d(He,{h:()=>ve});var u=P(6365),ae=P(8750),c=P(983),te=P(9326),fe=P(8455);function ve(...Ie){const Me=(0,te.lI)(Ie),me=(0,te.R0)(Ie,1/0),re=Ie;return re.length?1===re.length?(0,ae.Tg)(re[0]):(0,u.U)(me)((0,fe.H)(re,Me)):c.w}},7673:(Bt,He,P)=>{P.d(He,{of:()=>c});var u=P(9326),ae=P(8455);function c(...te){const fe=(0,u.lI)(te);return(0,ae.H)(te,fe)}},8810:(Bt,He,P)=>{P.d(He,{$:()=>c});var u=P(1985),ae=P(8071);function c(te,fe){const ve=(0,ae.T)(te)?te:()=>te,Ie=Me=>Me.error(ve());return new u.c(fe?Me=>fe.schedule(Ie,0,Me):Ie)}},1584:(Bt,He,P)=>{P.d(He,{O:()=>fe});var u=P(1985),ae=P(3236),c=P(9470);function fe(ve=0,Ie,Me=ae.b){let me=-1;return null!=Ie&&((0,c.m)(Ie)?Me=Ie:me=Ie),new u.c(re=>{let ue=function te(ve){return ve instanceof Date&&!isNaN(ve)}(ve)?+ve-Me.now():ve;ue<0&&(ue=0);let be=0;return Me.schedule(function(){re.closed||(re.next(be++),0<=me?this.schedule(void 0,me):re.complete())},ue)})}},4360:(Bt,He,P)=>{P.d(He,{_:()=>ae});var u=P(7707);function ae(te,fe,ve,Ie,Me){return new c(te,fe,ve,Ie,Me)}class c extends u.vU{constructor(fe,ve,Ie,Me,me,re){super(fe),this.onFinalize=me,this.shouldUnsubscribe=re,this._next=ve?function(ue){try{ve(ue)}catch(be){fe.error(be)}}:super._next,this._error=Me?function(ue){try{Me(ue)}catch(be){fe.error(be)}finally{this.unsubscribe()}}:super._error,this._complete=Ie?function(){try{Ie()}catch(ue){fe.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},3798:(Bt,He,P)=>{P.d(He,{Z:()=>Ie});var u=P(3236),ae=P(9974),c=P(8750),te=P(4360),ve=P(1584);function Ie(Me,me=u.E){return function fe(Me){return(0,ae.N)((me,re)=>{let ue=!1,be=null,Ge=null,$e=!1;const ot=()=>{if(Ge?.unsubscribe(),Ge=null,ue){ue=!1;const Ve=be;be=null,re.next(Ve)}$e&&re.complete()},Ue=()=>{Ge=null,$e&&re.complete()};me.subscribe((0,te._)(re,Ve=>{ue=!0,be=Ve,Ge||(0,c.Tg)(Me(Ve)).subscribe(Ge=(0,te._)(re,ot,Ue))},()=>{$e=!0,(!ue||!Ge||Ge.closed)&&re.complete()}))})}(()=>(0,ve.O)(Me,me))}},9437:(Bt,He,P)=>{P.d(He,{W:()=>te});var u=P(8750),ae=P(4360),c=P(9974);function te(fe){return(0,c.N)((ve,Ie)=>{let re,Me=null,me=!1;Me=ve.subscribe((0,ae._)(Ie,void 0,void 0,ue=>{re=(0,u.Tg)(fe(ue,te(fe)(ve))),Me?(Me.unsubscribe(),Me=null,re.subscribe(Ie)):me=!0})),me&&(Me.unsubscribe(),Me=null,re.subscribe(Ie))})}},274:(Bt,He,P)=>{P.d(He,{H:()=>c});var u=P(3028),ae=P(8071);function c(te,fe){return(0,ae.T)(fe)?(0,u.Z)(te,fe,1):(0,u.Z)(te,1)}},152:(Bt,He,P)=>{P.d(He,{B:()=>te});var u=P(3236),ae=P(9974),c=P(4360);function te(fe,ve=u.E){return(0,ae.N)((Ie,Me)=>{let me=null,re=null,ue=null;const be=()=>{if(me){me.unsubscribe(),me=null;const $e=re;re=null,Me.next($e)}};function Ge(){const $e=ue+fe,ot=ve.now();if(ot<$e)return me=this.schedule(void 0,$e-ot),void Me.add(me);be()}Ie.subscribe((0,c._)(Me,$e=>{re=$e,ue=ve.now(),me||(me=ve.schedule(Ge,fe),Me.add(me))},()=>{be(),Me.complete()},void 0,()=>{re=me=null}))})}},9901:(Bt,He,P)=>{P.d(He,{U:()=>c});var u=P(9974),ae=P(4360);function c(te){return(0,u.N)((fe,ve)=>{let Ie=!1;fe.subscribe((0,ae._)(ve,Me=>{Ie=!0,ve.next(Me)},()=>{Ie||ve.next(te),ve.complete()}))})}},1986:(Bt,He,P)=>{P.d(He,{c:()=>Ge});var u=P(3236),ae=P(8793),c=P(6697),te=P(9974),fe=P(4360),ve=P(5343),Me=P(3703),me=P(3028),re=P(8750);function ue($e,ot){return ot?Ue=>(0,ae.x)(ot.pipe((0,c.s)(1),function Ie(){return(0,te.N)(($e,ot)=>{$e.subscribe((0,fe._)(ot,ve.l))})}()),Ue.pipe(ue($e))):(0,me.Z)((Ue,Ve)=>(0,re.Tg)($e(Ue,Ve)).pipe((0,c.s)(1),(0,Me.u)(Ue)))}var be=P(1584);function Ge($e,ot=u.E){const Ue=(0,be.O)($e,ot);return ue(()=>Ue)}},3294:(Bt,He,P)=>{P.d(He,{F:()=>te});var u=P(3669),ae=P(9974),c=P(4360);function te(ve,Ie=u.D){return ve=ve??fe,(0,ae.N)((Me,me)=>{let re,ue=!0;Me.subscribe((0,c._)(me,be=>{const Ge=Ie(be);(ue||!ve(re,Ge))&&(ue=!1,re=Ge,me.next(be))}))})}function fe(ve,Ie){return ve===Ie}},5964:(Bt,He,P)=>{P.d(He,{p:()=>c});var u=P(9974),ae=P(4360);function c(te,fe){return(0,u.N)((ve,Ie)=>{let Me=0;ve.subscribe((0,ae._)(Ie,me=>te.call(fe,me,Me++)&&Ie.next(me)))})}},980:(Bt,He,P)=>{P.d(He,{j:()=>ae});var u=P(9974);function ae(c){return(0,u.N)((te,fe)=>{try{te.subscribe(fe)}finally{fe.add(c)}})}},1594:(Bt,He,P)=>{P.d(He,{$:()=>Ie});var u=P(9350),ae=P(5964),c=P(6697),te=P(9901),fe=P(3774),ve=P(3669);function Ie(Me,me){const re=arguments.length>=2;return ue=>ue.pipe(Me?(0,ae.p)((be,Ge)=>Me(be,Ge,ue)):ve.D,(0,c.s)(1),re?(0,te.U)(me):(0,fe.v)(()=>new u.G))}},6354:(Bt,He,P)=>{P.d(He,{T:()=>c});var u=P(9974),ae=P(4360);function c(te,fe){return(0,u.N)((ve,Ie)=>{let Me=0;ve.subscribe((0,ae._)(Ie,me=>{Ie.next(te.call(fe,me,Me++))}))})}},3703:(Bt,He,P)=>{P.d(He,{u:()=>ae});var u=P(6354);function ae(c){return(0,u.T)(()=>c)}},6365:(Bt,He,P)=>{P.d(He,{U:()=>c});var u=P(3028),ae=P(3669);function c(te=1/0){return(0,u.Z)(ae.D,te)}},5412:(Bt,He,P)=>{P.d(He,{h:()=>te});var u=P(8750),ae=P(5225),c=P(4360);function te(fe,ve,Ie,Me,me,re,ue,be){const Ge=[];let $e=0,ot=0,Ue=!1;const Ve=()=>{Ue&&!Ge.length&&!$e&&ve.complete()},Ze=mt=>$e<Me?at(mt):Ge.push(mt),at=mt=>{re&&ve.next(mt),$e++;let ge=!1;(0,u.Tg)(Ie(mt,ot++)).subscribe((0,c._)(ve,ke=>{me?.(ke),re?Ze(ke):ve.next(ke)},()=>{ge=!0},void 0,()=>{if(ge)try{for($e--;Ge.length&&$e<Me;){const ke=Ge.shift();ue?(0,ae.N)(ve,ue,()=>at(ke)):at(ke)}Ve()}catch(ke){ve.error(ke)}}))};return fe.subscribe((0,c._)(ve,Ze,()=>{Ue=!0,Ve()})),()=>{be?.()}}},3028:(Bt,He,P)=>{P.d(He,{Z:()=>ve});var u=P(6354),ae=P(8750),c=P(9974),te=P(5412),fe=P(8071);function ve(Ie,Me,me=1/0){return(0,fe.T)(Me)?ve((re,ue)=>(0,u.T)((be,Ge)=>Me(re,be,ue,Ge))((0,ae.Tg)(Ie(re,ue))),me):("number"==typeof Me&&(me=Me),(0,c.N)((re,ue)=>(0,te.h)(re,ue,Ie,me)))}},941:(Bt,He,P)=>{P.d(He,{Q:()=>te});var u=P(5225),ae=P(9974),c=P(4360);function te(fe,ve=0){return(0,ae.N)((Ie,Me)=>{Ie.subscribe((0,c._)(Me,me=>(0,u.N)(Me,fe,()=>Me.next(me),ve),()=>(0,u.N)(Me,fe,()=>Me.complete(),ve),me=>(0,u.N)(Me,fe,()=>Me.error(me),ve)))})}},3946:(Bt,He,P)=>{P.d(He,{J:()=>c});var u=P(9974),ae=P(4360);function c(){return(0,u.N)((te,fe)=>{let ve,Ie=!1;te.subscribe((0,ae._)(fe,Me=>{const me=ve;ve=Me,Ie&&fe.next([me,Me]),Ie=!0}))})}},9898:(Bt,He,P)=>{P.d(He,{B:()=>c});var u=P(9974),ae=P(4360);function c(){return(0,u.N)((te,fe)=>{let ve=null;te._refCount++;const Ie=(0,ae._)(fe,void 0,void 0,void 0,()=>{if(!te||te._refCount<=0||0<--te._refCount)return void(ve=null);const Me=te._connection,me=ve;ve=null,Me&&(!me||Me===me)&&Me.unsubscribe(),fe.unsubscribe()});te.subscribe(Ie),Ie.closed||(ve=te.connect())})}},2816:(Bt,He,P)=>{P.d(He,{S:()=>te});var u=P(9974),ae=P(4360);function te(fe,ve){return(0,u.N)(function c(fe,ve,Ie,Me,me){return(re,ue)=>{let be=Ie,Ge=ve,$e=0;re.subscribe((0,ae._)(ue,ot=>{const Ue=$e++;Ge=be?fe(Ge,ot,Ue):(be=!0,ot),Me&&ue.next(Ge)},me&&(()=>{be&&ue.next(Ge),ue.complete()})))}}(fe,ve,arguments.length>=2,!0))}},7647:(Bt,He,P)=>{P.d(He,{u:()=>fe});var u=P(8750),ae=P(1413),c=P(7707),te=P(9974);function fe(Ie={}){const{connector:Me=(()=>new ae.B),resetOnError:me=!0,resetOnComplete:re=!0,resetOnRefCountZero:ue=!0}=Ie;return be=>{let Ge,$e,ot,Ue=0,Ve=!1,Ze=!1;const at=()=>{$e?.unsubscribe(),$e=void 0},mt=()=>{at(),Ge=ot=void 0,Ve=Ze=!1},ge=()=>{const ke=Ge;mt(),ke?.unsubscribe()};return(0,te.N)((ke,De)=>{Ue++,!Ze&&!Ve&&at();const Se=ot=ot??Me();De.add(()=>{Ue--,0===Ue&&!Ze&&!Ve&&($e=ve(ge,ue))}),Se.subscribe(De),!Ge&&Ue>0&&(Ge=new c.Ms({next:Ce=>Se.next(Ce),error:Ce=>{Ze=!0,at(),$e=ve(mt,me,Ce),Se.error(Ce)},complete:()=>{Ve=!0,at(),$e=ve(mt,re),Se.complete()}}),(0,u.Tg)(ke).subscribe(Ge))})(be)}}function ve(Ie,Me,...me){if(!0===Me)return void Ie();if(!1===Me)return;const re=new c.Ms({next:()=>{re.unsubscribe(),Ie()}});return(0,u.Tg)(Me(...me)).subscribe(re)}},4668:(Bt,He,P)=>{P.d(He,{t:()=>c});var u=P(2771),ae=P(7647);function c(te,fe,ve){let Ie,Me=!1;return te&&"object"==typeof te?({bufferSize:Ie=1/0,windowTime:fe=1/0,refCount:Me=!1,scheduler:ve}=te):Ie=te??1/0,(0,ae.u)({connector:()=>new u.m(Ie,fe,ve),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Me})}},5245:(Bt,He,P)=>{P.d(He,{i:()=>ae});var u=P(5964);function ae(c){return(0,u.p)((te,fe)=>c<=fe)}},9172:(Bt,He,P)=>{P.d(He,{Z:()=>te});var u=P(8793),ae=P(9326),c=P(9974);function te(...fe){const ve=(0,ae.lI)(fe);return(0,c.N)((Ie,Me)=>{(ve?(0,u.x)(fe,Ie,ve):(0,u.x)(fe,Ie)).subscribe(Me)})}},6745:(Bt,He,P)=>{P.d(He,{_:()=>ae});var u=P(9974);function ae(c,te=0){return(0,u.N)((fe,ve)=>{ve.add(c.schedule(()=>fe.subscribe(ve),te))})}},5558:(Bt,He,P)=>{P.d(He,{n:()=>te});var u=P(8750),ae=P(9974),c=P(4360);function te(fe,ve){return(0,ae.N)((Ie,Me)=>{let me=null,re=0,ue=!1;const be=()=>ue&&!me&&Me.complete();Ie.subscribe((0,c._)(Me,Ge=>{me?.unsubscribe();let $e=0;const ot=re++;(0,u.Tg)(fe(Ge,ot)).subscribe(me=(0,c._)(Me,Ue=>Me.next(ve?ve(Ge,Ue,ot,$e++):Ue),()=>{me=null,be()}))},()=>{ue=!0,be()}))})}},6697:(Bt,He,P)=>{P.d(He,{s:()=>te});var u=P(983),ae=P(9974),c=P(4360);function te(fe){return fe<=0?()=>u.w:(0,ae.N)((ve,Ie)=>{let Me=0;ve.subscribe((0,c._)(Ie,me=>{++Me<=fe&&(Ie.next(me),fe<=Me&&Ie.complete())}))})}},6977:(Bt,He,P)=>{P.d(He,{Q:()=>fe});var u=P(9974),ae=P(4360),c=P(8750),te=P(5343);function fe(ve){return(0,u.N)((Ie,Me)=>{(0,c.Tg)(ve).subscribe((0,ae._)(Me,()=>Me.complete(),te.l)),!Me.closed&&Ie.subscribe(Me)})}},8141:(Bt,He,P)=>{P.d(He,{M:()=>fe});var u=P(8071),ae=P(9974),c=P(4360),te=P(3669);function fe(ve,Ie,Me){const me=(0,u.T)(ve)||Ie||Me?{next:ve,error:Ie,complete:Me}:ve;return me?(0,ae.N)((re,ue)=>{var be;null===(be=me.subscribe)||void 0===be||be.call(me);let Ge=!0;re.subscribe((0,c._)(ue,$e=>{var ot;null===(ot=me.next)||void 0===ot||ot.call(me,$e),ue.next($e)},()=>{var $e;Ge=!1,null===($e=me.complete)||void 0===$e||$e.call(me),ue.complete()},$e=>{var ot;Ge=!1,null===(ot=me.error)||void 0===ot||ot.call(me,$e),ue.error($e)},()=>{var $e,ot;Ge&&(null===($e=me.unsubscribe)||void 0===$e||$e.call(me)),null===(ot=me.finalize)||void 0===ot||ot.call(me)}))}):te.D}},3386:(Bt,He,P)=>{P.d(He,{c:()=>Ie});var u=P(3236),ae=P(9974),c=P(4360),te=P(8750),ve=P(1584);function Ie(Me,me=u.E,re){const ue=(0,ve.O)(Me,me);return function fe(Me,me){return(0,ae.N)((re,ue)=>{const{leading:be=!0,trailing:Ge=!1}=me??{};let $e=!1,ot=null,Ue=null,Ve=!1;const Ze=()=>{Ue?.unsubscribe(),Ue=null,Ge&&(ge(),Ve&&ue.complete())},at=()=>{Ue=null,Ve&&ue.complete()},mt=ke=>Ue=(0,te.Tg)(Me(ke)).subscribe((0,c._)(ue,Ze,at)),ge=()=>{if($e){$e=!1;const ke=ot;ot=null,ue.next(ke),!Ve&&mt(ke)}};re.subscribe((0,c._)(ue,ke=>{$e=!0,ot=ke,(!Ue||Ue.closed)&&(be?ge():mt(ke))},()=>{Ve=!0,(!(Ge&&$e&&Ue)||Ue.closed)&&ue.complete()}))})}(()=>ue,re)}},3774:(Bt,He,P)=>{P.d(He,{v:()=>te});var u=P(9350),ae=P(9974),c=P(4360);function te(ve=fe){return(0,ae.N)((Ie,Me)=>{let me=!1;Ie.subscribe((0,c._)(Me,re=>{me=!0,Me.next(re)},()=>me?Me.complete():Me.error(ve())))})}function fe(){return new u.G}},3993:(Bt,He,P)=>{P.d(He,{E:()=>Ie});var u=P(9974),ae=P(4360),c=P(8750),te=P(3669),fe=P(5343),ve=P(9326);function Ie(...Me){const me=(0,ve.ms)(Me);return(0,u.N)((re,ue)=>{const be=Me.length,Ge=new Array(be);let $e=Me.map(()=>!1),ot=!1;for(let Ue=0;Ue<be;Ue++)(0,c.Tg)(Me[Ue]).subscribe((0,ae._)(ue,Ve=>{Ge[Ue]=Ve,!ot&&!$e[Ue]&&($e[Ue]=!0,(ot=$e.every(te.D))&&($e=null))},fe.l));re.subscribe((0,ae._)(ue,Ue=>{if(ot){const Ve=[Ue,...Ge];ue.next(me?me(...Ve):Ve)}}))})}},6780:(Bt,He,P)=>{P.d(He,{R:()=>fe});var u=P(8359);class ae extends u.yU{constructor(Ie,Me){super()}schedule(Ie,Me=0){return this}}const c={setInterval(ve,Ie,...Me){const{delegate:me}=c;return me?.setInterval?me.setInterval(ve,Ie,...Me):setInterval(ve,Ie,...Me)},clearInterval(ve){const{delegate:Ie}=c;return(Ie?.clearInterval||clearInterval)(ve)},delegate:void 0};var te=P(7908);class fe extends ae{constructor(Ie,Me){super(Ie,Me),this.scheduler=Ie,this.work=Me,this.pending=!1}schedule(Ie,Me=0){var me;if(this.closed)return this;this.state=Ie;const re=this.id,ue=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(ue,re,Me)),this.pending=!0,this.delay=Me,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(ue,this.id,Me),this}requestAsyncId(Ie,Me,me=0){return c.setInterval(Ie.flush.bind(Ie,this),me)}recycleAsyncId(Ie,Me,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Me;null!=Me&&c.clearInterval(Me)}execute(Ie,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(Ie,Me);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ie,Me){let re,me=!1;try{this.work(Ie)}catch(ue){me=!0,re=ue||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Ie,scheduler:Me}=this,{actions:me}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.o)(me,this),null!=Ie&&(this.id=this.recycleAsyncId(Me,Ie,null)),this.delay=null,super.unsubscribe()}}}},9687:(Bt,He,P)=>{P.d(He,{q:()=>c});var u=P(6129);class ae{constructor(fe,ve=ae.now){this.schedulerActionCtor=fe,this.now=ve}schedule(fe,ve=0,Ie){return new this.schedulerActionCtor(this,fe).schedule(Ie,ve)}}ae.now=u.U.now;class c extends ae{constructor(fe,ve=ae.now){super(fe,ve),this.actions=[],this._active=!1}flush(fe){const{actions:ve}=this;if(this._active)return void ve.push(fe);let Ie;this._active=!0;do{if(Ie=fe.execute(fe.state,fe.delay))break}while(fe=ve.shift());if(this._active=!1,Ie){for(;fe=ve.shift();)fe.unsubscribe();throw Ie}}}},536:(Bt,He,P)=>{P.d(He,{X:()=>Ie});var u=P(6780),ae=P(8359);const c={schedule(me){let re=requestAnimationFrame,ue=cancelAnimationFrame;const{delegate:be}=c;be&&(re=be.requestAnimationFrame,ue=be.cancelAnimationFrame);const Ge=re($e=>{ue=void 0,me($e)});return new ae.yU(()=>ue?.(Ge))},requestAnimationFrame(...me){const{delegate:re}=c;return(re?.requestAnimationFrame||requestAnimationFrame)(...me)},cancelAnimationFrame(...me){const{delegate:re}=c;return(re?.cancelAnimationFrame||cancelAnimationFrame)(...me)},delegate:void 0};var fe=P(9687);const Ie=new class ve extends fe.q{flush(re){this._active=!0;const ue=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let Ge;re=re||be.shift();do{if(Ge=re.execute(re.state,re.delay))break}while((re=be[0])&&re.id===ue&&be.shift());if(this._active=!1,Ge){for(;(re=be[0])&&re.id===ue&&be.shift();)re.unsubscribe();throw Ge}}}(class te extends u.R{constructor(re,ue){super(re,ue),this.scheduler=re,this.work=ue}requestAsyncId(re,ue,be=0){return null!==be&&be>0?super.requestAsyncId(re,ue,be):(re.actions.push(this),re._scheduled||(re._scheduled=c.requestAnimationFrame(()=>re.flush(void 0))))}recycleAsyncId(re,ue,be=0){var Ge;if(null!=be?be>0:this.delay>0)return super.recycleAsyncId(re,ue,be);const{actions:$e}=re;null!=ue&&(null===(Ge=$e[$e.length-1])||void 0===Ge?void 0:Ge.id)!==ue&&(c.cancelAnimationFrame(ue),re._scheduled=void 0)}})},5007:(Bt,He,P)=>{P.d(He,{$:()=>$e});var u=P(6780);let c,ae=1;const te={};function fe(Ue){return Ue in te&&(delete te[Ue],!0)}const ve={setImmediate(Ue){const Ve=ae++;return te[Ve]=!0,c||(c=Promise.resolve()),c.then(()=>fe(Ve)&&Ue()),Ve},clearImmediate(Ue){fe(Ue)}},{setImmediate:Me,clearImmediate:me}=ve,re={setImmediate(...Ue){const{delegate:Ve}=re;return(Ve?.setImmediate||Me)(...Ue)},clearImmediate(Ue){const{delegate:Ve}=re;return(Ve?.clearImmediate||me)(Ue)},delegate:void 0};var be=P(9687);const $e=new class Ge extends be.q{flush(Ve){this._active=!0;const Ze=this._scheduled;this._scheduled=void 0;const{actions:at}=this;let mt;Ve=Ve||at.shift();do{if(mt=Ve.execute(Ve.state,Ve.delay))break}while((Ve=at[0])&&Ve.id===Ze&&at.shift());if(this._active=!1,mt){for(;(Ve=at[0])&&Ve.id===Ze&&at.shift();)Ve.unsubscribe();throw mt}}}(class ue extends u.R{constructor(Ve,Ze){super(Ve,Ze),this.scheduler=Ve,this.work=Ze}requestAsyncId(Ve,Ze,at=0){return null!==at&&at>0?super.requestAsyncId(Ve,Ze,at):(Ve.actions.push(this),Ve._scheduled||(Ve._scheduled=re.setImmediate(Ve.flush.bind(Ve,void 0))))}recycleAsyncId(Ve,Ze,at=0){var mt;if(null!=at?at>0:this.delay>0)return super.recycleAsyncId(Ve,Ze,at);const{actions:ge}=Ve;null!=Ze&&(null===(mt=ge[ge.length-1])||void 0===mt?void 0:mt.id)!==Ze&&(re.clearImmediate(Ze),Ve._scheduled===Ze&&(Ve._scheduled=void 0))}})},3236:(Bt,He,P)=>{P.d(He,{E:()=>c,b:()=>te});var u=P(6780);const c=new(P(9687).q)(u.R),te=c},6129:(Bt,He,P)=>{P.d(He,{U:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},9270:(Bt,He,P)=>{P.d(He,{f:()=>u});const u={setTimeout(ae,c,...te){const{delegate:fe}=u;return fe?.setTimeout?fe.setTimeout(ae,c,...te):setTimeout(ae,c,...te)},clearTimeout(ae){const{delegate:c}=u;return(c?.clearTimeout||clearTimeout)(ae)},delegate:void 0}},4761:(Bt,He,P)=>{P.d(He,{l:()=>ae});const ae=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,He,P)=>{P.d(He,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,He,P)=>{P.d(He,{G:()=>ae});const ae=(0,P(1853).L)(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,He,P)=>{P.d(He,{R0:()=>ve,lI:()=>fe,ms:()=>te});var u=P(8071),ae=P(9470);function c(Ie){return Ie[Ie.length-1]}function te(Ie){return(0,u.T)(c(Ie))?Ie.pop():void 0}function fe(Ie){return(0,ae.m)(c(Ie))?Ie.pop():void 0}function ve(Ie,Me){return"number"==typeof c(Ie)?Ie.pop():Me}},3073:(Bt,He,P)=>{P.d(He,{D:()=>fe});const{isArray:u}=Array,{getPrototypeOf:ae,prototype:c,keys:te}=Object;function fe(Ie){if(1===Ie.length){const Me=Ie[0];if(u(Me))return{args:Me,keys:null};if(function ve(Ie){return Ie&&"object"==typeof Ie&&ae(Ie)===c}(Me)){const me=te(Me);return{args:me.map(re=>Me[re]),keys:me}}}return{args:Ie,keys:null}}},7908:(Bt,He,P)=>{function u(ae,c){if(ae){const te=ae.indexOf(c);0<=te&&ae.splice(te,1)}}P.d(He,{o:()=>u})},1853:(Bt,He,P)=>{function u(ae){const te=ae(fe=>{Error.call(fe),fe.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}P.d(He,{L:()=>u})},8496:(Bt,He,P)=>{function u(ae,c){return ae.reduce((te,fe,ve)=>(te[fe]=c[ve],te),{})}P.d(He,{e:()=>u})},9786:(Bt,He,P)=>{P.d(He,{Y:()=>c,l:()=>te});var u=P(1026);let ae=null;function c(fe){if(u.$.useDeprecatedSynchronousErrorHandling){const ve=!ae;if(ve&&(ae={errorThrown:!1,error:null}),fe(),ve){const{errorThrown:Ie,error:Me}=ae;if(ae=null,Ie)throw Me}}else fe()}function te(fe){u.$.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=fe)}},5225:(Bt,He,P)=>{function u(ae,c,te,fe=0,ve=!1){const Ie=c.schedule(function(){te(),ve?ae.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ae.add(Ie),!ve)return Ie}P.d(He,{N:()=>u})},3669:(Bt,He,P)=>{function u(ae){return ae}P.d(He,{D:()=>u})},7441:(Bt,He,P)=>{P.d(He,{X:()=>u});const u=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},7953:(Bt,He,P)=>{P.d(He,{T:()=>ae});var u=P(8071);function ae(c){return Symbol.asyncIterator&&(0,u.T)(c?.[Symbol.asyncIterator])}},8071:(Bt,He,P)=>{function u(ae){return"function"==typeof ae}P.d(He,{T:()=>u})},5055:(Bt,He,P)=>{P.d(He,{l:()=>c});var u=P(3494),ae=P(8071);function c(te){return(0,ae.T)(te[u.s])}},5397:(Bt,He,P)=>{P.d(He,{x:()=>c});var u=P(4761),ae=P(8071);function c(te){return(0,ae.T)(te?.[u.l])}},4402:(Bt,He,P)=>{P.d(He,{A:()=>c});var u=P(1985),ae=P(8071);function c(te){return!!te&&(te instanceof u.c||(0,ae.T)(te.lift)&&(0,ae.T)(te.subscribe))}},9858:(Bt,He,P)=>{P.d(He,{y:()=>ae});var u=P(8071);function ae(c){return(0,u.T)(c?.then)}},5196:(Bt,He,P)=>{P.d(He,{C:()=>c,U:()=>te});var u=P(1635),ae=P(8071);function c(fe){return(0,u.AQ)(this,arguments,function*(){const Ie=fe.getReader();try{for(;;){const{value:Me,done:me}=yield(0,u.N3)(Ie.read());if(me)return yield(0,u.N3)(void 0);yield yield(0,u.N3)(Me)}}finally{Ie.releaseLock()}})}function te(fe){return(0,ae.T)(fe?.getReader)}},9470:(Bt,He,P)=>{P.d(He,{m:()=>ae});var u=P(8071);function ae(c){return c&&(0,u.T)(c.schedule)}},9974:(Bt,He,P)=>{P.d(He,{N:()=>c,S:()=>ae});var u=P(8071);function ae(te){return(0,u.T)(te?.lift)}function c(te){return fe=>{if(ae(fe))return fe.lift(function(ve){try{return te(ve,this)}catch(Ie){this.error(Ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Bt,He,P)=>{P.d(He,{I:()=>te});var u=P(6354);const{isArray:ae}=Array;function te(fe){return(0,u.T)(ve=>function c(fe,ve){return ae(ve)?fe(...ve):fe(ve)}(fe,ve))}},5343:(Bt,He,P)=>{function u(){}P.d(He,{l:()=>u})},1203:(Bt,He,P)=>{P.d(He,{F:()=>ae,m:()=>c});var u=P(3669);function ae(...te){return c(te)}function c(te){return 0===te.length?u.D:1===te.length?te[0]:function(ve){return te.reduce((Ie,Me)=>Me(Ie),ve)}}},5334:(Bt,He,P)=>{P.d(He,{m:()=>c});var u=P(1026),ae=P(9270);function c(te){ae.f.setTimeout(()=>{const{onUnhandledError:fe}=u.$;if(!fe)throw te;fe(te)})}},591:(Bt,He,P)=>{function u(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(He,{L:()=>u})},9969:(Bt,He,P)=>{P.d(He,{FX:()=>at,K2:()=>Ie,MA:()=>Ge,Os:()=>ve,P:()=>ot,Ro:()=>ae,S6:()=>u,hZ:()=>te,i0:()=>fe,i7:()=>re,iF:()=>Me,kY:()=>ue,kp:()=>c,sf:()=>Ve,ui:()=>Ze,wk:()=>me,yc:()=>Ue});class u{}class ae{}const c="*";function te(mt,ge){return{type:7,name:mt,definitions:ge,options:{}}}function fe(mt,ge=null){return{type:4,styles:ge,timings:mt}}function ve(mt,ge=null){return{type:3,steps:mt,options:ge}}function Ie(mt,ge=null){return{type:2,steps:mt,options:ge}}function Me(mt){return{type:6,styles:mt,offset:null}}function me(mt,ge,ke){return{type:0,name:mt,styles:ge,options:ke}}function re(mt){return{type:5,steps:mt}}function ue(mt,ge,ke=null){return{type:1,expr:mt,animation:ge,options:ke}}function Ge(mt=null){return{type:9,options:mt}}function ot(mt,ge,ke=null){return{type:11,selector:mt,animation:ge,options:ke}}function Ue(mt,ge){return{type:12,timings:mt,animation:ge}}class Ve{constructor(ge=0,ke=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ge+ke}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}onStart(ge){this._originalOnStartFns.push(ge),this._onStartFns.push(ge)}onDone(ge){this._originalOnDoneFns.push(ge),this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ge=>ge()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ge){this._position=this.totalTime?ge*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ge){const ke="start"==ge?this._onStartFns:this._onDoneFns;ke.forEach(De=>De()),ke.length=0}}class Ze{constructor(ge){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ge;let ke=0,De=0,Se=0;const Ce=this.players.length;0==Ce?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ke=>{Ke.onDone(()=>{++ke==Ce&&this._onFinish()}),Ke.onDestroy(()=>{++De==Ce&&this._onDestroy()}),Ke.onStart(()=>{++Se==Ce&&this._onStart()})}),this.totalTime=this.players.reduce((Ke,Ae)=>Math.max(Ke,Ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ge=>ge()),this._onDoneFns=[])}init(){this.players.forEach(ge=>ge.init())}onStart(ge){this._onStartFns.push(ge)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ge=>ge()),this._onStartFns=[])}onDone(ge){this._onDoneFns.push(ge)}onDestroy(ge){this._onDestroyFns.push(ge)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ge=>ge.play())}pause(){this.players.forEach(ge=>ge.pause())}restart(){this.players.forEach(ge=>ge.restart())}finish(){this._onFinish(),this.players.forEach(ge=>ge.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ge=>ge.destroy()),this._onDestroyFns.forEach(ge=>ge()),this._onDestroyFns=[])}reset(){this.players.forEach(ge=>ge.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ge){const ke=ge*this.totalTime;this.players.forEach(De=>{const Se=De.totalTime?Math.min(1,ke/De.totalTime):1;De.setPosition(Se)})}getPosition(){const ge=this.players.reduce((ke,De)=>null===ke||De.totalTime>ke.totalTime?De:ke,null);return null!=ge?ge.getPosition():0}beforeDestroy(){this.players.forEach(ge=>{ge.beforeDestroy&&ge.beforeDestroy()})}triggerCallback(ge){const ke="start"==ge?this._onStartFns:this._onDoneFns;ke.forEach(De=>De()),ke.length=0}}const at="!"},8203:(Bt,He,P)=>{P.d(He,{dS:()=>Ie,jI:()=>me});var u=P(7705),ae=P(177);const c=new u.nKC("cdk-dir-doc",{providedIn:"root",factory:function te(){return(0,u.WQX)(ae.qQ)}}),fe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ie=(()=>{class re{constructor(be){this.value="ltr",this.change=new u.bkB,be&&(this.value=function ve(re){const ue=re?.toLowerCase()||"";return"auto"===ue&&typeof navigator<"u"&&navigator?.language?fe.test(navigator.language)?"rtl":"ltr":"rtl"===ue?"rtl":"ltr"}((be.body?be.body.dir:null)||(be.documentElement?be.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(Ge){return new(Ge||re)(u.KVO(c,8))}}static{this.\u0275prov=u.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})(),me=(()=>{class re{static{this.\u0275fac=function(Ge){return new(Ge||re)}}static{this.\u0275mod=u.$C({type:re})}static{this.\u0275inj=u.G2t({})}}return re})()},4085:(Bt,He,P)=>{P.d(He,{FG:()=>fe,OE:()=>c,a1:()=>ve,he:()=>ae,i8:()=>Ie,o1:()=>te});var u=P(7705);function ae(me){return null!=me&&"false"!=`${me}`}function c(me,re=0){return te(me)?Number(me):re}function te(me){return!isNaN(parseFloat(me))&&!isNaN(Number(me))}function fe(me){return Array.isArray(me)?me:[me]}function ve(me){return null==me?"":"string"==typeof me?me:`${me}px`}function Ie(me){return me instanceof u.aKT?me.nativeElement:me}},9327:(Bt,He,P)=>{P.d(He,{QP:()=>mt,Rp:()=>ke});var u=P(7705),ae=P(4085),c=P(1413),te=P(4572),fe=P(8793),ve=P(1985),Ie=P(6697),Me=P(5245),me=P(152),re=P(6354),ue=P(9172),be=P(6977),Ge=P(6860);const ot=new Set;let Ue,Ve=(()=>{class De{constructor(Ce,Ke){this._platform=Ce,this._nonce=Ke,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):at}matchMedia(Ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ze(De,Se){if(!ot.has(De))try{Ue||(Ue=document.createElement("style"),Se&&(Ue.nonce=Se),Ue.setAttribute("type","text/css"),document.head.appendChild(Ue)),Ue.sheet&&(Ue.sheet.insertRule(`@media ${De} {body{ }}`,0),ot.add(De))}catch(Ce){console.error(Ce)}}(Ce,this._nonce),this._matchMedia(Ce)}static{this.\u0275fac=function(Ke){return new(Ke||De)(u.KVO(Ge.OD),u.KVO(u.BIS,8))}}static{this.\u0275prov=u.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})();function at(De){return{matches:"all"===De||""===De,media:De,addListener:()=>{},removeListener:()=>{}}}let mt=(()=>{class De{constructor(Ce,Ke){this._mediaMatcher=Ce,this._zone=Ke,this._queries=new Map,this._destroySubject=new c.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ce){return ge((0,ae.FG)(Ce)).some(Ae=>this._registerQuery(Ae).mql.matches)}observe(Ce){const Ae=ge((0,ae.FG)(Ce)).map(Vt=>this._registerQuery(Vt).observable);let Pt=(0,te.z)(Ae);return Pt=(0,fe.x)(Pt.pipe((0,Ie.s)(1)),Pt.pipe((0,Me.i)(1),(0,me.B)(0))),Pt.pipe((0,re.T)(Vt=>{const zt={matches:!1,breakpoints:{}};return Vt.forEach(({matches:zn,query:gi})=>{zt.matches=zt.matches||zn,zt.breakpoints[gi]=zn}),zt}))}_registerQuery(Ce){if(this._queries.has(Ce))return this._queries.get(Ce);const Ke=this._mediaMatcher.matchMedia(Ce),Pt={observable:new ve.c(Vt=>{const zt=zn=>this._zone.run(()=>Vt.next(zn));return Ke.addListener(zt),()=>{Ke.removeListener(zt)}}).pipe((0,ue.Z)(Ke),(0,re.T)(({matches:Vt})=>({query:Ce,matches:Vt})),(0,be.Q)(this._destroySubject)),mql:Ke};return this._queries.set(Ce,Pt),Pt}static{this.\u0275fac=function(Ke){return new(Ke||De)(u.KVO(Ve),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})();function ge(De){return De.map(Se=>Se.split(",")).reduce((Se,Ce)=>Se.concat(Ce)).map(Se=>Se.trim())}const ke={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},7987:(Bt,He,P)=>{P.d(He,{Sf:()=>gi,hJ:()=>se,rR:()=>De,yY:()=>si,z_:()=>st});var u=P(5478),ae=P(177),c=P(7705),te=P(4085),fe=P(6860),ve=P(5964),Ie=P(6697),Me=P(6977),me=P(8203),re=P(6939),ue=P(1413),be=P(8359),Ge=P(7786);const $e=(0,fe.CZ)();class ot{constructor(ie,Ne){this._viewportRuler=ie,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Ne}attach(){}enable(){if(this._canBeEnabled()){const ie=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ie.style.left||"",this._previousHTMLStyles.top=ie.style.top||"",ie.style.left=(0,te.a1)(-this._previousScrollPosition.left),ie.style.top=(0,te.a1)(-this._previousScrollPosition.top),ie.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ie=this._document.documentElement,Be=ie.style,We=this._document.body.style,ut=Be.scrollBehavior||"",_t=We.scrollBehavior||"";this._isEnabled=!1,Be.left=this._previousHTMLStyles.left,Be.top=this._previousHTMLStyles.top,ie.classList.remove("cdk-global-scrollblock"),$e&&(Be.scrollBehavior=We.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$e&&(Be.scrollBehavior=ut,We.scrollBehavior=_t)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Ne=this._document.body,Be=this._viewportRuler.getViewportSize();return Ne.scrollHeight>Be.height||Ne.scrollWidth>Be.width}}class Ve{constructor(ie,Ne,Be,We){this._scrollDispatcher=ie,this._ngZone=Ne,this._viewportRuler=Be,this._config=We,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ie){this._overlayRef=ie}enable(){if(this._scrollSubscription)return;const ie=this._scrollDispatcher.scrolled(0).pipe((0,ve.p)(Ne=>!Ne||!this._overlayRef.overlayElement.contains(Ne.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ie.subscribe(()=>{const Ne=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Ne-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ie.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ze{enable(){}disable(){}attach(){}}function at(tt,ie){return ie.some(Ne=>tt.bottom<Ne.top||tt.top>Ne.bottom||tt.right<Ne.left||tt.left>Ne.right)}function mt(tt,ie){return ie.some(Ne=>tt.top<Ne.top||tt.bottom>Ne.bottom||tt.left<Ne.left||tt.right>Ne.right)}class ge{constructor(ie,Ne,Be,We){this._scrollDispatcher=ie,this._viewportRuler=Ne,this._ngZone=Be,this._config=We,this._scrollSubscription=null}attach(ie){this._overlayRef=ie}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Ne=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Be,height:We}=this._viewportRuler.getViewportSize();at(Ne,[{width:Be,height:We,bottom:We,right:Be,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ke=(()=>{class tt{constructor(Ne,Be,We,ut){this._scrollDispatcher=Ne,this._viewportRuler=Be,this._ngZone=We,this.noop=()=>new Ze,this.close=_t=>new Ve(this._scrollDispatcher,this._ngZone,this._viewportRuler,_t),this.block=()=>new ot(this._viewportRuler,this._document),this.reposition=_t=>new ge(this._scrollDispatcher,this._viewportRuler,this._ngZone,_t),this._document=ut}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(u.R),c.KVO(u.Xj),c.KVO(c.SKi),c.KVO(ae.qQ))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})();class De{constructor(ie){if(this.scrollStrategy=new Ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ie){const Ne=Object.keys(ie);for(const Be of Ne)void 0!==ie[Be]&&(this[Be]=ie[Be])}}}class Ke{constructor(ie,Ne){this.connectionPair=ie,this.scrollableViewProperties=Ne}}let Vt=(()=>{class tt{constructor(Ne){this._attachedOverlays=[],this._document=Ne}ngOnDestroy(){this.detach()}add(Ne){this.remove(Ne),this._attachedOverlays.push(Ne)}remove(Ne){const Be=this._attachedOverlays.indexOf(Ne);Be>-1&&this._attachedOverlays.splice(Be,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(ae.qQ))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})(),zt=(()=>{class tt extends Vt{constructor(Ne,Be){super(Ne),this._ngZone=Be,this._keydownListener=We=>{const ut=this._attachedOverlays;for(let _t=ut.length-1;_t>-1;_t--)if(ut[_t]._keydownEvents.observers.length>0){const Yt=ut[_t]._keydownEvents;this._ngZone?this._ngZone.run(()=>Yt.next(We)):Yt.next(We);break}}}add(Ne){super.add(Ne),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(ae.qQ),c.KVO(c.SKi,8))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})(),zn=(()=>{class tt extends Vt{constructor(Ne,Be,We){super(Ne),this._platform=Be,this._ngZone=We,this._cursorStyleIsSet=!1,this._pointerDownListener=ut=>{this._pointerDownEventTarget=(0,fe.Fb)(ut)},this._clickListener=ut=>{const _t=(0,fe.Fb)(ut),Yt="click"===ut.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:_t;this._pointerDownEventTarget=null;const hn=this._attachedOverlays.slice();for(let Mn=hn.length-1;Mn>-1;Mn--){const Xt=hn[Mn];if(Xt._outsidePointerEvents.observers.length<1||!Xt.hasAttached())continue;if(Xt.overlayElement.contains(_t)||Xt.overlayElement.contains(Yt))break;const An=Xt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>An.next(ut)):An.next(ut)}}}add(Ne){if(super.add(Ne),!this._isAttached){const Be=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Be)):this._addEventListeners(Be),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Be.style.cursor,Be.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Ne=this._document.body;Ne.removeEventListener("pointerdown",this._pointerDownListener,!0),Ne.removeEventListener("click",this._clickListener,!0),Ne.removeEventListener("auxclick",this._clickListener,!0),Ne.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Ne.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Ne){Ne.addEventListener("pointerdown",this._pointerDownListener,!0),Ne.addEventListener("click",this._clickListener,!0),Ne.addEventListener("auxclick",this._clickListener,!0),Ne.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(ae.qQ),c.KVO(fe.OD),c.KVO(c.SKi,8))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})(),gi=(()=>{class tt{constructor(Ne,Be){this._platform=Be,this._document=Ne}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ne="cdk-overlay-container";if(this._platform.isBrowser||(0,fe.v8)()){const We=this._document.querySelectorAll(`.${Ne}[platform="server"], .${Ne}[platform="test"]`);for(let ut=0;ut<We.length;ut++)We[ut].remove()}const Be=this._document.createElement("div");Be.classList.add(Ne),(0,fe.v8)()?Be.setAttribute("platform","test"):this._platform.isBrowser||Be.setAttribute("platform","server"),this._document.body.appendChild(Be),this._containerElement=Be}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(ae.qQ),c.KVO(fe.OD))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})();class si{constructor(ie,Ne,Be,We,ut,_t,Yt,hn,Mn,Xt=!1){this._portalOutlet=ie,this._host=Ne,this._pane=Be,this._config=We,this._ngZone=ut,this._keyboardDispatcher=_t,this._document=Yt,this._location=hn,this._outsideClickDispatcher=Mn,this._animationsDisabled=Xt,this._backdropElement=null,this._backdropClick=new ue.B,this._attachments=new ue.B,this._detachments=new ue.B,this._locationChanges=be.yU.EMPTY,this._backdropClickHandler=An=>this._backdropClick.next(An),this._backdropTransitionendHandler=An=>{this._disposeBackdrop(An.target)},this._keydownEvents=new ue.B,this._outsidePointerEvents=new ue.B,We.scrollStrategy&&(this._scrollStrategy=We.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=We.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ie){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Ne=this._portalOutlet.attach(ie);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ie.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Ne?.onDestroy&&Ne.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Ne}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ie=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ie}dispose(){const ie=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ie&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ie){ie!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ie,this.hasAttached()&&(ie.attach(this),this.updatePosition()))}updateSize(ie){this._config={...this._config,...ie},this._updateElementSize()}setDirection(ie){this._config={...this._config,direction:ie},this._updateElementDirection()}addPanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!0)}removePanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!1)}getDirection(){const ie=this._config.direction;return ie?"string"==typeof ie?ie:ie.value:"ltr"}updateScrollStrategy(ie){ie!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ie,this.hasAttached()&&(ie.attach(this),ie.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ie=this._pane.style;ie.width=(0,te.a1)(this._config.width),ie.height=(0,te.a1)(this._config.height),ie.minWidth=(0,te.a1)(this._config.minWidth),ie.minHeight=(0,te.a1)(this._config.minHeight),ie.maxWidth=(0,te.a1)(this._config.maxWidth),ie.maxHeight=(0,te.a1)(this._config.maxHeight)}_togglePointerEvents(ie){this._pane.style.pointerEvents=ie?"":"none"}_attachBackdrop(){const ie="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ie)})}):this._backdropElement.classList.add(ie)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ie=this._backdropElement;if(ie){if(this._animationsDisabled)return void this._disposeBackdrop(ie);ie.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ie.addEventListener("transitionend",this._backdropTransitionendHandler)}),ie.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ie)},500))}}_toggleClasses(ie,Ne,Be){const We=(0,te.FG)(Ne||[]).filter(ut=>!!ut);We.length&&(Be?ie.classList.add(...We):ie.classList.remove(...We))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ie=this._ngZone.onStable.pipe((0,Me.Q)((0,Ge.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ie.unsubscribe())})})}_disposeScrollStrategy(){const ie=this._scrollStrategy;ie&&(ie.disable(),ie.detach&&ie.detach())}_disposeBackdrop(ie){ie&&(ie.removeEventListener("click",this._backdropClickHandler),ie.removeEventListener("transitionend",this._backdropTransitionendHandler),ie.remove(),this._backdropElement===ie&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const mr="cdk-overlay-connected-position-bounding-box",ji=/([A-Za-z%]+)$/;class Sn{get positions(){return this._preferredPositions}constructor(ie,Ne,Be,We,ut){this._viewportRuler=Ne,this._document=Be,this._platform=We,this._overlayContainer=ut,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue.B,this._resizeSubscription=be.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ie)}attach(ie){this._validatePositions(),ie.hostElement.classList.add(mr),this._overlayRef=ie,this._boundingBox=ie.hostElement,this._pane=ie.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ie=this._originRect,Ne=this._overlayRect,Be=this._viewportRect,We=this._containerRect,ut=[];let _t;for(let Yt of this._preferredPositions){let hn=this._getOriginPoint(ie,We,Yt),Mn=this._getOverlayPoint(hn,Ne,Yt),Xt=this._getOverlayFit(Mn,Ne,Be,Yt);if(Xt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Yt,hn);this._canFitWithFlexibleDimensions(Xt,Mn,Be)?ut.push({position:Yt,origin:hn,overlayRect:Ne,boundingBoxRect:this._calculateBoundingBoxRect(hn,Yt)}):(!_t||_t.overlayFit.visibleArea<Xt.visibleArea)&&(_t={overlayFit:Xt,overlayPoint:Mn,originPoint:hn,position:Yt,overlayRect:Ne})}if(ut.length){let Yt=null,hn=-1;for(const Mn of ut){const Xt=Mn.boundingBoxRect.width*Mn.boundingBoxRect.height*(Mn.position.weight||1);Xt>hn&&(hn=Xt,Yt=Mn)}return this._isPushed=!1,void this._applyPosition(Yt.position,Yt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(_t.position,_t.originPoint);this._applyPosition(_t.position,_t.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Cn(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mr),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ie=this._lastPosition;if(ie){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ne=this._getOriginPoint(this._originRect,this._containerRect,ie);this._applyPosition(ie,Ne)}else this.apply()}withScrollableContainers(ie){return this._scrollables=ie,this}withPositions(ie){return this._preferredPositions=ie,-1===ie.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ie){return this._viewportMargin=ie,this}withFlexibleDimensions(ie=!0){return this._hasFlexibleDimensions=ie,this}withGrowAfterOpen(ie=!0){return this._growAfterOpen=ie,this}withPush(ie=!0){return this._canPush=ie,this}withLockedPosition(ie=!0){return this._positionLocked=ie,this}setOrigin(ie){return this._origin=ie,this}withDefaultOffsetX(ie){return this._offsetX=ie,this}withDefaultOffsetY(ie){return this._offsetY=ie,this}withTransformOriginOn(ie){return this._transformOriginSelector=ie,this}_getOriginPoint(ie,Ne,Be){let We,ut;if("center"==Be.originX)We=ie.left+ie.width/2;else{const _t=this._isRtl()?ie.right:ie.left,Yt=this._isRtl()?ie.left:ie.right;We="start"==Be.originX?_t:Yt}return Ne.left<0&&(We-=Ne.left),ut="center"==Be.originY?ie.top+ie.height/2:"top"==Be.originY?ie.top:ie.bottom,Ne.top<0&&(ut-=Ne.top),{x:We,y:ut}}_getOverlayPoint(ie,Ne,Be){let We,ut;return We="center"==Be.overlayX?-Ne.width/2:"start"===Be.overlayX?this._isRtl()?-Ne.width:0:this._isRtl()?0:-Ne.width,ut="center"==Be.overlayY?-Ne.height/2:"top"==Be.overlayY?0:-Ne.height,{x:ie.x+We,y:ie.y+ut}}_getOverlayFit(ie,Ne,Be,We){const ut=je(Ne);let{x:_t,y:Yt}=ie,hn=this._getOffset(We,"x"),Mn=this._getOffset(We,"y");hn&&(_t+=hn),Mn&&(Yt+=Mn);let Gn=0-Yt,Kt=Yt+ut.height-Be.height,ti=this._subtractOverflows(ut.width,0-_t,_t+ut.width-Be.width),bn=this._subtractOverflows(ut.height,Gn,Kt),xr=ti*bn;return{visibleArea:xr,isCompletelyWithinViewport:ut.width*ut.height===xr,fitsInViewportVertically:bn===ut.height,fitsInViewportHorizontally:ti==ut.width}}_canFitWithFlexibleDimensions(ie,Ne,Be){if(this._hasFlexibleDimensions){const We=Be.bottom-Ne.y,ut=Be.right-Ne.x,_t=ye(this._overlayRef.getConfig().minHeight),Yt=ye(this._overlayRef.getConfig().minWidth);return(ie.fitsInViewportVertically||null!=_t&&_t<=We)&&(ie.fitsInViewportHorizontally||null!=Yt&&Yt<=ut)}return!1}_pushOverlayOnScreen(ie,Ne,Be){if(this._previousPushAmount&&this._positionLocked)return{x:ie.x+this._previousPushAmount.x,y:ie.y+this._previousPushAmount.y};const We=je(Ne),ut=this._viewportRect,_t=Math.max(ie.x+We.width-ut.width,0),Yt=Math.max(ie.y+We.height-ut.height,0),hn=Math.max(ut.top-Be.top-ie.y,0),Mn=Math.max(ut.left-Be.left-ie.x,0);let Xt=0,An=0;return Xt=We.width<=ut.width?Mn||-_t:ie.x<this._viewportMargin?ut.left-Be.left-ie.x:0,An=We.height<=ut.height?hn||-Yt:ie.y<this._viewportMargin?ut.top-Be.top-ie.y:0,this._previousPushAmount={x:Xt,y:An},{x:ie.x+Xt,y:ie.y+An}}_applyPosition(ie,Ne){if(this._setTransformOrigin(ie),this._setOverlayElementStyles(Ne,ie),this._setBoundingBoxStyles(Ne,ie),ie.panelClass&&this._addPanelClasses(ie.panelClass),this._lastPosition=ie,this._positionChanges.observers.length){const Be=this._getScrollVisibility(),We=new Ke(ie,Be);this._positionChanges.next(We)}this._isInitialRender=!1}_setTransformOrigin(ie){if(!this._transformOriginSelector)return;const Ne=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Be,We=ie.overlayY;Be="center"===ie.overlayX?"center":this._isRtl()?"start"===ie.overlayX?"right":"left":"start"===ie.overlayX?"left":"right";for(let ut=0;ut<Ne.length;ut++)Ne[ut].style.transformOrigin=`${Be} ${We}`}_calculateBoundingBoxRect(ie,Ne){const Be=this._viewportRect,We=this._isRtl();let ut,_t,Yt,Xt,An,Gn;if("top"===Ne.overlayY)_t=ie.y,ut=Be.height-_t+this._viewportMargin;else if("bottom"===Ne.overlayY)Yt=Be.height-ie.y+2*this._viewportMargin,ut=Be.height-Yt+this._viewportMargin;else{const Kt=Math.min(Be.bottom-ie.y+Be.top,ie.y),ti=this._lastBoundingBoxSize.height;ut=2*Kt,_t=ie.y-Kt,ut>ti&&!this._isInitialRender&&!this._growAfterOpen&&(_t=ie.y-ti/2)}if("end"===Ne.overlayX&&!We||"start"===Ne.overlayX&&We)Gn=Be.width-ie.x+this._viewportMargin,Xt=ie.x-this._viewportMargin;else if("start"===Ne.overlayX&&!We||"end"===Ne.overlayX&&We)An=ie.x,Xt=Be.right-ie.x;else{const Kt=Math.min(Be.right-ie.x+Be.left,ie.x),ti=this._lastBoundingBoxSize.width;Xt=2*Kt,An=ie.x-Kt,Xt>ti&&!this._isInitialRender&&!this._growAfterOpen&&(An=ie.x-ti/2)}return{top:_t,left:An,bottom:Yt,right:Gn,width:Xt,height:ut}}_setBoundingBoxStyles(ie,Ne){const Be=this._calculateBoundingBoxRect(ie,Ne);!this._isInitialRender&&!this._growAfterOpen&&(Be.height=Math.min(Be.height,this._lastBoundingBoxSize.height),Be.width=Math.min(Be.width,this._lastBoundingBoxSize.width));const We={};if(this._hasExactPosition())We.top=We.left="0",We.bottom=We.right=We.maxHeight=We.maxWidth="",We.width=We.height="100%";else{const ut=this._overlayRef.getConfig().maxHeight,_t=this._overlayRef.getConfig().maxWidth;We.height=(0,te.a1)(Be.height),We.top=(0,te.a1)(Be.top),We.bottom=(0,te.a1)(Be.bottom),We.width=(0,te.a1)(Be.width),We.left=(0,te.a1)(Be.left),We.right=(0,te.a1)(Be.right),We.alignItems="center"===Ne.overlayX?"center":"end"===Ne.overlayX?"flex-end":"flex-start",We.justifyContent="center"===Ne.overlayY?"center":"bottom"===Ne.overlayY?"flex-end":"flex-start",ut&&(We.maxHeight=(0,te.a1)(ut)),_t&&(We.maxWidth=(0,te.a1)(_t))}this._lastBoundingBoxSize=Be,Cn(this._boundingBox.style,We)}_resetBoundingBoxStyles(){Cn(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Cn(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ie,Ne){const Be={},We=this._hasExactPosition(),ut=this._hasFlexibleDimensions,_t=this._overlayRef.getConfig();if(We){const Xt=this._viewportRuler.getViewportScrollPosition();Cn(Be,this._getExactOverlayY(Ne,ie,Xt)),Cn(Be,this._getExactOverlayX(Ne,ie,Xt))}else Be.position="static";let Yt="",hn=this._getOffset(Ne,"x"),Mn=this._getOffset(Ne,"y");hn&&(Yt+=`translateX(${hn}px) `),Mn&&(Yt+=`translateY(${Mn}px)`),Be.transform=Yt.trim(),_t.maxHeight&&(We?Be.maxHeight=(0,te.a1)(_t.maxHeight):ut&&(Be.maxHeight="")),_t.maxWidth&&(We?Be.maxWidth=(0,te.a1)(_t.maxWidth):ut&&(Be.maxWidth="")),Cn(this._pane.style,Be)}_getExactOverlayY(ie,Ne,Be){let We={top:"",bottom:""},ut=this._getOverlayPoint(Ne,this._overlayRect,ie);return this._isPushed&&(ut=this._pushOverlayOnScreen(ut,this._overlayRect,Be)),"bottom"===ie.overlayY?We.bottom=this._document.documentElement.clientHeight-(ut.y+this._overlayRect.height)+"px":We.top=(0,te.a1)(ut.y),We}_getExactOverlayX(ie,Ne,Be){let _t,We={left:"",right:""},ut=this._getOverlayPoint(Ne,this._overlayRect,ie);return this._isPushed&&(ut=this._pushOverlayOnScreen(ut,this._overlayRect,Be)),_t=this._isRtl()?"end"===ie.overlayX?"left":"right":"end"===ie.overlayX?"right":"left","right"===_t?We.right=this._document.documentElement.clientWidth-(ut.x+this._overlayRect.width)+"px":We.left=(0,te.a1)(ut.x),We}_getScrollVisibility(){const ie=this._getOriginRect(),Ne=this._pane.getBoundingClientRect(),Be=this._scrollables.map(We=>We.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mt(ie,Be),isOriginOutsideView:at(ie,Be),isOverlayClipped:mt(Ne,Be),isOverlayOutsideView:at(Ne,Be)}}_subtractOverflows(ie,...Ne){return Ne.reduce((Be,We)=>Be-Math.max(We,0),ie)}_getNarrowedViewportRect(){const ie=this._document.documentElement.clientWidth,Ne=this._document.documentElement.clientHeight,Be=this._viewportRuler.getViewportScrollPosition();return{top:Be.top+this._viewportMargin,left:Be.left+this._viewportMargin,right:Be.left+ie-this._viewportMargin,bottom:Be.top+Ne-this._viewportMargin,width:ie-2*this._viewportMargin,height:Ne-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ie,Ne){return"x"===Ne?null==ie.offsetX?this._offsetX:ie.offsetX:null==ie.offsetY?this._offsetY:ie.offsetY}_validatePositions(){}_addPanelClasses(ie){this._pane&&(0,te.FG)(ie).forEach(Ne=>{""!==Ne&&-1===this._appliedPanelClasses.indexOf(Ne)&&(this._appliedPanelClasses.push(Ne),this._pane.classList.add(Ne))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ie=>{this._pane.classList.remove(ie)}),this._appliedPanelClasses=[])}_getOriginRect(){const ie=this._origin;if(ie instanceof c.aKT)return ie.nativeElement.getBoundingClientRect();if(ie instanceof Element)return ie.getBoundingClientRect();const Ne=ie.width||0,Be=ie.height||0;return{top:ie.y,bottom:ie.y+Be,left:ie.x,right:ie.x+Ne,height:Be,width:Ne}}}function Cn(tt,ie){for(let Ne in ie)ie.hasOwnProperty(Ne)&&(tt[Ne]=ie[Ne]);return tt}function ye(tt){if("number"!=typeof tt&&null!=tt){const[ie,Ne]=tt.split(ji);return Ne&&"px"!==Ne?null:parseFloat(ie)}return tt||null}function je(tt){return{top:Math.floor(tt.top),right:Math.floor(tt.right),bottom:Math.floor(tt.bottom),left:Math.floor(tt.left),width:Math.floor(tt.width),height:Math.floor(tt.height)}}const wt="cdk-global-overlay-wrapper";class rt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ie){const Ne=ie.getConfig();this._overlayRef=ie,this._width&&!Ne.width&&ie.updateSize({width:this._width}),this._height&&!Ne.height&&ie.updateSize({height:this._height}),ie.hostElement.classList.add(wt),this._isDisposed=!1}top(ie=""){return this._bottomOffset="",this._topOffset=ie,this._alignItems="flex-start",this}left(ie=""){return this._xOffset=ie,this._xPosition="left",this}bottom(ie=""){return this._topOffset="",this._bottomOffset=ie,this._alignItems="flex-end",this}right(ie=""){return this._xOffset=ie,this._xPosition="right",this}start(ie=""){return this._xOffset=ie,this._xPosition="start",this}end(ie=""){return this._xOffset=ie,this._xPosition="end",this}width(ie=""){return this._overlayRef?this._overlayRef.updateSize({width:ie}):this._width=ie,this}height(ie=""){return this._overlayRef?this._overlayRef.updateSize({height:ie}):this._height=ie,this}centerHorizontally(ie=""){return this.left(ie),this._xPosition="center",this}centerVertically(ie=""){return this.top(ie),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ie=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement.style,Be=this._overlayRef.getConfig(),{width:We,height:ut,maxWidth:_t,maxHeight:Yt}=Be,hn=!("100%"!==We&&"100vw"!==We||_t&&"100%"!==_t&&"100vw"!==_t),Mn=!("100%"!==ut&&"100vh"!==ut||Yt&&"100%"!==Yt&&"100vh"!==Yt),Xt=this._xPosition,An=this._xOffset,Gn="rtl"===this._overlayRef.getConfig().direction;let Kt="",ti="",bn="";hn?bn="flex-start":"center"===Xt?(bn="center",Gn?ti=An:Kt=An):Gn?"left"===Xt||"end"===Xt?(bn="flex-end",Kt=An):("right"===Xt||"start"===Xt)&&(bn="flex-start",ti=An):"left"===Xt||"start"===Xt?(bn="flex-start",Kt=An):("right"===Xt||"end"===Xt)&&(bn="flex-end",ti=An),ie.position=this._cssPosition,ie.marginLeft=hn?"0":Kt,ie.marginTop=Mn?"0":this._topOffset,ie.marginBottom=this._bottomOffset,ie.marginRight=hn?"0":ti,Ne.justifyContent=bn,Ne.alignItems=Mn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ie=this._overlayRef.overlayElement.style,Ne=this._overlayRef.hostElement,Be=Ne.style;Ne.classList.remove(wt),Be.justifyContent=Be.alignItems=ie.marginTop=ie.marginBottom=ie.marginLeft=ie.marginRight=ie.position="",this._overlayRef=null,this._isDisposed=!0}}let Qe=(()=>{class tt{constructor(Ne,Be,We,ut){this._viewportRuler=Ne,this._document=Be,this._platform=We,this._overlayContainer=ut}global(){return new rt}flexibleConnectedTo(Ne){return new Sn(Ne,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(u.Xj),c.KVO(ae.qQ),c.KVO(fe.OD),c.KVO(gi))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})(),It=0,se=(()=>{class tt{constructor(Ne,Be,We,ut,_t,Yt,hn,Mn,Xt,An,Gn,Kt){this.scrollStrategies=Ne,this._overlayContainer=Be,this._componentFactoryResolver=We,this._positionBuilder=ut,this._keyboardDispatcher=_t,this._injector=Yt,this._ngZone=hn,this._document=Mn,this._directionality=Xt,this._location=An,this._outsideClickDispatcher=Gn,this._animationsModuleType=Kt}create(Ne){const Be=this._createHostElement(),We=this._createPaneElement(Be),ut=this._createPortalOutlet(We),_t=new De(Ne);return _t.direction=_t.direction||this._directionality.value,new si(ut,Be,We,_t,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Ne){const Be=this._document.createElement("div");return Be.id="cdk-overlay-"+It++,Be.classList.add("cdk-overlay-pane"),Ne.appendChild(Be),Be}_createHostElement(){const Ne=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Ne),Ne}_createPortalOutlet(Ne){return this._appRef||(this._appRef=this._injector.get(c.o8S)),new re.aI(Ne,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(Be){return new(Be||tt)(c.KVO(ke),c.KVO(gi),c.KVO(c.OM3),c.KVO(Qe),c.KVO(zt),c.KVO(c.zZn),c.KVO(c.SKi),c.KVO(ae.qQ),c.KVO(me.dS),c.KVO(ae.aZ),c.KVO(zn),c.KVO(c.bc$,8))}}static{this.\u0275prov=c.jDH({token:tt,factory:tt.\u0275fac,providedIn:"root"})}}return tt})();const Ye={provide:new c.nKC("cdk-connected-overlay-scroll-strategy"),deps:[se],useFactory:function Re(tt){return()=>tt.scrollStrategies.reposition()}};let st=(()=>{class tt{static{this.\u0275fac=function(Be){return new(Be||tt)}}static{this.\u0275mod=c.$C({type:tt})}static{this.\u0275inj=c.G2t({providers:[se,Ye],imports:[me.jI,re.jc,u.E9,u.E9]})}}return tt})()},6860:(Bt,He,P)=>{P.d(He,{BD:()=>ot,BQ:()=>ue,CZ:()=>$e,Fb:()=>mt,KT:()=>Ze,MU:()=>Me,OD:()=>te,v8:()=>ge,vc:()=>at});var u=P(7705),ae=P(177);let c;try{c=typeof Intl<"u"&&Intl.v8BreakIterator}catch{c=!1}let ve,te=(()=>{class ke{constructor(Se){this._platformId=Se,this.isBrowser=this._platformId?(0,ae.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Ce){return new(Ce||ke)(u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})();const Ie=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Me(){if(ve)return ve;if("object"!=typeof document||!document)return ve=new Set(Ie),ve;let ke=document.createElement("input");return ve=new Set(Ie.filter(De=>(ke.setAttribute("type",De),ke.type===De))),ve}let me,be,Ge,Ue;function ue(ke){return function re(){if(null==me&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>me=!0}))}finally{me=me||!1}return me}()?ke:!!ke.capture}function $e(){if(null==Ge){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ge=!1,Ge;if("scrollBehavior"in document.documentElement.style)Ge=!0;else{const ke=Element.prototype.scrollTo;Ge=!!ke&&!/\{\s*\[native code\]\s*\}/.test(ke.toString())}}return Ge}function ot(){if("object"!=typeof document||!document)return 0;if(null==be){const ke=document.createElement("div"),De=ke.style;ke.dir="rtl",De.width="1px",De.overflow="auto",De.visibility="hidden",De.pointerEvents="none",De.position="absolute";const Se=document.createElement("div"),Ce=Se.style;Ce.width="2px",Ce.height="1px",ke.appendChild(Se),document.body.appendChild(ke),be=0,0===ke.scrollLeft&&(ke.scrollLeft=1,be=0===ke.scrollLeft?1:2),ke.remove()}return be}function Ze(ke){if(function Ve(){if(null==Ue){const ke=typeof document<"u"?document.head:null;Ue=!(!ke||!ke.createShadowRoot&&!ke.attachShadow)}return Ue}()){const De=ke.getRootNode?ke.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&De instanceof ShadowRoot)return De}return null}function at(){let ke=typeof document<"u"&&document?document.activeElement:null;for(;ke&&ke.shadowRoot;){const De=ke.shadowRoot.activeElement;if(De===ke)break;ke=De}return ke}function mt(ke){return ke.composedPath?ke.composedPath()[0]:ke.target}function ge(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(Bt,He,P)=>{P.d(He,{A8:()=>re,I3:()=>at,VA:()=>ue,aI:()=>ot,jc:()=>ge,lb:()=>Ge});var u=P(7705),ae=P(177);class me{attach(Se){return this._attachedHost=Se,Se.attach(this)}detach(){let Se=this._attachedHost;null!=Se&&(this._attachedHost=null,Se.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Se){this._attachedHost=Se}}class re extends me{constructor(Se,Ce,Ke,Ae,Pt){super(),this.component=Se,this.viewContainerRef=Ce,this.injector=Ke,this.componentFactoryResolver=Ae,this.projectableNodes=Pt}}class ue extends me{constructor(Se,Ce,Ke,Ae){super(),this.templateRef=Se,this.viewContainerRef=Ce,this.context=Ke,this.injector=Ae}get origin(){return this.templateRef.elementRef}attach(Se,Ce=this.context){return this.context=Ce,super.attach(Se)}detach(){return this.context=void 0,super.detach()}}class be extends me{constructor(Se){super(),this.element=Se instanceof u.aKT?Se.nativeElement:Se}}class Ge{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Se){return Se instanceof re?(this._attachedPortal=Se,this.attachComponentPortal(Se)):Se instanceof ue?(this._attachedPortal=Se,this.attachTemplatePortal(Se)):this.attachDomPortal&&Se instanceof be?(this._attachedPortal=Se,this.attachDomPortal(Se)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Se){this._disposeFn=Se}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ot extends Ge{constructor(Se,Ce,Ke,Ae,Pt){super(),this.outletElement=Se,this._componentFactoryResolver=Ce,this._appRef=Ke,this._defaultInjector=Ae,this.attachDomPortal=Vt=>{const zt=Vt.element,zn=this._document.createComment("dom-portal");zt.parentNode.insertBefore(zn,zt),this.outletElement.appendChild(zt),this._attachedPortal=Vt,super.setDisposeFn(()=>{zn.parentNode&&zn.parentNode.replaceChild(zt,zn)})},this._document=Pt}attachComponentPortal(Se){const Ke=(Se.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Se.component);let Ae;return Se.viewContainerRef?(Ae=Se.viewContainerRef.createComponent(Ke,Se.viewContainerRef.length,Se.injector||Se.viewContainerRef.injector,Se.projectableNodes||void 0),this.setDisposeFn(()=>Ae.destroy())):(Ae=Ke.create(Se.injector||this._defaultInjector||u.zZn.NULL),this._appRef.attachView(Ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ae.hostView),Ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ae)),this._attachedPortal=Se,Ae}attachTemplatePortal(Se){let Ce=Se.viewContainerRef,Ke=Ce.createEmbeddedView(Se.templateRef,Se.context,{injector:Se.injector});return Ke.rootNodes.forEach(Ae=>this.outletElement.appendChild(Ae)),Ke.detectChanges(),this.setDisposeFn(()=>{let Ae=Ce.indexOf(Ke);-1!==Ae&&Ce.remove(Ae)}),this._attachedPortal=Se,Ke}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Se){return Se.hostView.rootNodes[0]}}let at=(()=>{class De extends Ge{constructor(Ce,Ke,Ae){super(),this._componentFactoryResolver=Ce,this._viewContainerRef=Ke,this._isInitialized=!1,this.attached=new u.bkB,this.attachDomPortal=Pt=>{const Vt=Pt.element,zt=this._document.createComment("dom-portal");Pt.setAttachedHost(this),Vt.parentNode.insertBefore(zt,Vt),this._getRootNode().appendChild(Vt),this._attachedPortal=Pt,super.setDisposeFn(()=>{zt.parentNode&&zt.parentNode.replaceChild(Vt,zt)})},this._document=Ae}get portal(){return this._attachedPortal}set portal(Ce){this.hasAttached()&&!Ce&&!this._isInitialized||(this.hasAttached()&&super.detach(),Ce&&super.attach(Ce),this._attachedPortal=Ce||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Ce){Ce.setAttachedHost(this);const Ke=null!=Ce.viewContainerRef?Ce.viewContainerRef:this._viewContainerRef,Pt=(Ce.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ce.component),Vt=Ke.createComponent(Pt,Ke.length,Ce.injector||Ke.injector,Ce.projectableNodes||void 0);return Ke!==this._viewContainerRef&&this._getRootNode().appendChild(Vt.hostView.rootNodes[0]),super.setDisposeFn(()=>Vt.destroy()),this._attachedPortal=Ce,this._attachedRef=Vt,this.attached.emit(Vt),Vt}attachTemplatePortal(Ce){Ce.setAttachedHost(this);const Ke=this._viewContainerRef.createEmbeddedView(Ce.templateRef,Ce.context,{injector:Ce.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Ce,this._attachedRef=Ke,this.attached.emit(Ke),Ke}_getRootNode(){const Ce=this._viewContainerRef.element.nativeElement;return Ce.nodeType===Ce.ELEMENT_NODE?Ce:Ce.parentNode}static{this.\u0275fac=function(Ke){return new(Ke||De)(u.rXU(u.OM3),u.rXU(u.c1b),u.rXU(ae.qQ))}}static{this.\u0275dir=u.FsC({type:De,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.Vt3]})}}return De})(),ge=(()=>{class De{static{this.\u0275fac=function(Ke){return new(Ke||De)}}static{this.\u0275mod=u.$C({type:De})}static{this.\u0275inj=u.G2t({})}}return De})()},5478:(Bt,He,P)=>{P.d(He,{E9:()=>ji,Gj:()=>mr,R:()=>ge,Xj:()=>Se});var u=P(4085),ae=P(7705),c=P(1413),te=P(7673),fe=P(1985),ve=P(3726),me=(P(536),P(5007),P(3798)),re=P(5964),ue=P(6860),be=P(177),Ge=P(8203);let ge=(()=>{class Sn{constructor(ye,je,ze){this._ngZone=ye,this._platform=je,this._scrolled=new c.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ze}register(ye){this.scrollContainers.has(ye)||this.scrollContainers.set(ye,ye.elementScrolled().subscribe(()=>this._scrolled.next(ye)))}deregister(ye){const je=this.scrollContainers.get(ye);je&&(je.unsubscribe(),this.scrollContainers.delete(ye))}scrolled(ye=20){return this._platform.isBrowser?new fe.c(je=>{this._globalSubscription||this._addGlobalListener();const ze=ye>0?this._scrolled.pipe((0,me.Z)(ye)).subscribe(je):this._scrolled.subscribe(je);return this._scrolledCount++,()=>{ze.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,te.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ye,je)=>this.deregister(je)),this._scrolled.complete()}ancestorScrolled(ye,je){const ze=this.getAncestorScrollContainers(ye);return this.scrolled(je).pipe((0,re.p)(Fe=>!Fe||ze.indexOf(Fe)>-1))}getAncestorScrollContainers(ye){const je=[];return this.scrollContainers.forEach((ze,Fe)=>{this._scrollableContainsElement(Fe,ye)&&je.push(Fe)}),je}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ye,je){let ze=(0,u.i8)(je),Fe=ye.getElementRef().nativeElement;do{if(ze==Fe)return!0}while(ze=ze.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ye=this._getWindow();return(0,ve.R)(ye.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(je){return new(je||Sn)(ae.KVO(ae.SKi),ae.KVO(ue.OD),ae.KVO(be.qQ,8))}}static{this.\u0275prov=ae.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}}return Sn})(),Se=(()=>{class Sn{constructor(ye,je,ze){this._platform=ye,this._change=new c.B,this._changeListener=Fe=>{this._change.next(Fe)},this._document=ze,je.runOutsideAngular(()=>{if(ye.isBrowser){const Fe=this._getWindow();Fe.addEventListener("resize",this._changeListener),Fe.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ye=this._getWindow();ye.removeEventListener("resize",this._changeListener),ye.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ye={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ye}getViewportRect(){const ye=this.getViewportScrollPosition(),{width:je,height:ze}=this.getViewportSize();return{top:ye.top,left:ye.left,bottom:ye.top+ze,right:ye.left+je,height:ze,width:je}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ye=this._document,je=this._getWindow(),ze=ye.documentElement,Fe=ze.getBoundingClientRect();return{top:-Fe.top||ye.body.scrollTop||je.scrollY||ze.scrollTop||0,left:-Fe.left||ye.body.scrollLeft||je.scrollX||ze.scrollLeft||0}}change(ye=20){return ye>0?this._change.pipe((0,me.Z)(ye)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ye=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ye.innerWidth,height:ye.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(je){return new(je||Sn)(ae.KVO(ue.OD),ae.KVO(ae.SKi),ae.KVO(be.qQ,8))}}static{this.\u0275prov=ae.jDH({token:Sn,factory:Sn.\u0275fac,providedIn:"root"})}}return Sn})(),mr=(()=>{class Sn{static{this.\u0275fac=function(je){return new(je||Sn)}}static{this.\u0275mod=ae.$C({type:Sn})}static{this.\u0275inj=ae.G2t({})}}return Sn})(),ji=(()=>{class Sn{static{this.\u0275fac=function(je){return new(je||Sn)}}static{this.\u0275mod=ae.$C({type:Sn})}static{this.\u0275inj=ae.G2t({imports:[Ge.jI,mr,Ge.jI,mr]})}}return Sn})()},177:(Bt,He,P)=>{P.d(He,{AJ:()=>qi,B3:()=>ms,MD:()=>ho,N0:()=>no,P9:()=>Ss,QT:()=>c,Sm:()=>ot,Sq:()=>ki,T3:()=>Ho,UE:()=>Po,VF:()=>fe,Vy:()=>wa,XO:()=>gi,Xr:()=>Ts,YU:()=>Oo,Yq:()=>Yt,ZD:()=>te,_b:()=>Rr,aZ:()=>Ve,bT:()=>rr,cH:()=>Ke,e1:()=>Il,fG:()=>zo,fw:()=>Ue,hb:()=>Ge,hj:()=>Me,jo:()=>Tr,oV:()=>Ce,pM:()=>ki,qQ:()=>ve,tL:()=>si,ux:()=>Sr});var u=P(7705);let ae=null;function c(){return ae}function te(C){ae||(ae=C)}class fe{}const ve=new u.nKC("DocumentToken");let Ie=(()=>{class C{historyGo(U){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275prov=u.jDH({token:C,factory:function(){return(0,u.WQX)(me)},providedIn:"platform"})}}return C})();const Me=new u.nKC("Location Initialized");let me=(()=>{class C extends Ie{constructor(){super(),this._doc=(0,u.WQX)(ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return c().getBaseHref(this._doc)}onPopState(U){const Q=c().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",U,!1),()=>Q.removeEventListener("popstate",U)}onHashChange(U){const Q=c().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",U,!1),()=>Q.removeEventListener("hashchange",U)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(U){this._location.pathname=U}pushState(U,Q,Pe){this._history.pushState(U,Q,Pe)}replaceState(U,Q,Pe){this._history.replaceState(U,Q,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275prov=u.jDH({token:C,factory:function(){return new C},providedIn:"platform"})}}return C})();function re(C,ne){if(0==C.length)return ne;if(0==ne.length)return C;let U=0;return C.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?C+ne.substring(1):1==U?C+ne:C+"/"+ne}function ue(C){const ne=C.match(/#|\?|$/),U=ne&&ne.index||C.length;return C.slice(0,U-("/"===C[U-1]?1:0))+C.slice(U)}function be(C){return C&&"?"!==C[0]?"?"+C:C}let Ge=(()=>{class C{historyGo(U){throw new Error("Not implemented")}static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275prov=u.jDH({token:C,factory:function(){return(0,u.WQX)(ot)},providedIn:"root"})}}return C})();const $e=new u.nKC("appBaseHref");let ot=(()=>{class C extends Ge{constructor(U,Q){super(),this._platformLocation=U,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return re(this._baseHref,U)}path(U=!1){const Q=this._platformLocation.pathname+be(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&U?`${Q}${Pe}`:Q}pushState(U,Q,Pe,gt){const Ft=this.prepareExternalUrl(Pe+be(gt));this._platformLocation.pushState(U,Q,Ft)}replaceState(U,Q,Pe,gt){const Ft=this.prepareExternalUrl(Pe+be(gt));this._platformLocation.replaceState(U,Q,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static{this.\u0275fac=function(Q){return new(Q||C)(u.KVO(Ie),u.KVO($e,8))}}static{this.\u0275prov=u.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})(),Ue=(()=>{class C extends Ge{constructor(U,Q){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(U){const Q=re(this._baseHref,U);return Q.length>0?"#"+Q:Q}pushState(U,Q,Pe,gt){let Ft=this.prepareExternalUrl(Pe+be(gt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(U,Q,Ft)}replaceState(U,Q,Pe,gt){let Ft=this.prepareExternalUrl(Pe+be(gt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(U,Q,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(U=0){this._platformLocation.historyGo?.(U)}static{this.\u0275fac=function(Q){return new(Q||C)(u.KVO(Ie),u.KVO($e,8))}}static{this.\u0275prov=u.jDH({token:C,factory:C.\u0275fac})}}return C})(),Ve=(()=>{class C{constructor(U){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=U;const Q=this._locationStrategy.getBaseHref();this._basePath=function ge(C){if(new RegExp("^(https?:)?//").test(C)){const[,U]=C.split(/\/\/[^\/]+/);return U}return C}(ue(mt(Q))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(U=!1){return this.normalize(this._locationStrategy.path(U))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(U,Q=""){return this.path()==this.normalize(U+be(Q))}normalize(U){return C.stripTrailingSlash(function at(C,ne){if(!C||!ne.startsWith(C))return ne;const U=ne.substring(C.length);return""===U||["/",";","?","#"].includes(U[0])?U:ne}(this._basePath,mt(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._locationStrategy.prepareExternalUrl(U)}go(U,Q="",Pe=null){this._locationStrategy.pushState(Pe,"",U,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+be(Q)),Pe)}replaceState(U,Q="",Pe=null){this._locationStrategy.replaceState(Pe,"",U,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+be(Q)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(U=0){this._locationStrategy.historyGo?.(U)}onUrlChange(U){return this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(U);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(U="",Q){this._urlChangeListeners.forEach(Pe=>Pe(U,Q))}subscribe(U,Q,Pe){return this._subject.subscribe({next:U,error:Q,complete:Pe})}static{this.normalizeQueryParams=be}static{this.joinWithSlash=re}static{this.stripTrailingSlash=ue}static{this.\u0275fac=function(Q){return new(Q||C)(u.KVO(Ge))}}static{this.\u0275prov=u.jDH({token:C,factory:function(){return function Ze(){return new Ve((0,u.KVO)(Ge))}()},providedIn:"root"})}}return C})();function mt(C){return C.replace(/\/index.html$/,"")}var Se=function(C){return C[C.Zero=0]="Zero",C[C.One=1]="One",C[C.Two=2]="Two",C[C.Few=3]="Few",C[C.Many=4]="Many",C[C.Other=5]="Other",C}(Se||{}),Ce=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(Ce||{}),Ke=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(Ke||{}),Ae=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(Ae||{}),Pt=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(Pt||{});function gi(C,ne,U){const Q=(0,u.H5H)(C),gt=Re([Q[u.KH2.DaysFormat],Q[u.KH2.DaysStandalone]],ne);return Re(gt,U)}function si(C,ne,U){const Q=(0,u.H5H)(C),gt=Re([Q[u.KH2.MonthsFormat],Q[u.KH2.MonthsStandalone]],ne);return Re(gt,U)}function Cn(C,ne){return Re((0,u.H5H)(C)[u.KH2.DateFormat],ne)}function ye(C,ne){return Re((0,u.H5H)(C)[u.KH2.TimeFormat],ne)}function je(C,ne){return Re((0,u.H5H)(C)[u.KH2.DateTimeFormat],ne)}function ze(C,ne){const U=(0,u.H5H)(C),Q=U[u.KH2.NumberSymbols][ne];if(typeof Q>"u"){if(ne===Pt.CurrencyDecimal)return U[u.KH2.NumberSymbols][Pt.Decimal];if(ne===Pt.CurrencyGroup)return U[u.KH2.NumberSymbols][Pt.Group]}return Q}const se=u.mq5;function Te(C){if(!C[u.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[u.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Re(C,ne){for(let U=ne;U>-1;U--)if(typeof C[U]<"u")return C[U];throw new Error("Locale data API: locale data undefined")}function Ye(C){const[ne,U]=C.split(":");return{hours:+ne,minutes:+U}}const ie=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ne={},Be=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var We=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(We||{}),ut=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(ut||{}),_t=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(_t||{});function Yt(C,ne,U,Q){let Pe=function J(C){if(z(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[Pe,gt=1,Ft=1]=C.split("-").map(En=>+En);return hn(Pe,gt-1,Ft)}const U=parseFloat(C);if(!isNaN(C-U))return new Date(U);let Q;if(Q=C.match(ie))return function j(C){const ne=new Date(0);let U=0,Q=0;const Pe=C[8]?ne.setUTCFullYear:ne.setFullYear,gt=C[8]?ne.setUTCHours:ne.setHours;C[9]&&(U=Number(C[9]+C[10]),Q=Number(C[9]+C[11])),Pe.call(ne,Number(C[1]),Number(C[2])-1,Number(C[3]));const Ft=Number(C[4]||0)-U,En=Number(C[5]||0)-Q,Ii=Number(C[6]||0),ar=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return gt.call(ne,Ft,En,Ii,ar),ne}(Q)}const ne=new Date(C);if(!z(ne))throw new Error(`Unable to convert "${C}" into a date`);return ne}(C);ne=Mn(U,ne)||ne;let En,Ft=[];for(;ne;){if(En=Be.exec(ne),!En){Ft.push(ne);break}{Ft=Ft.concat(En.slice(1));const bi=Ft.pop();if(!bi)break;ne=bi}}let Ii=Pe.getTimezoneOffset();Q&&(Ii=Fi(Q,Ii),Pe=function oe(C,ne,U){const Q=U?-1:1,Pe=C.getTimezoneOffset();return function Vi(C,ne){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+ne),C}(C,Q*(Fi(ne,Pe)-Pe))}(Pe,Q,!0));let ar="";return Ft.forEach(bi=>{const Qn=function ci(C){if(Ls[C])return Ls[C];let ne;switch(C){case"G":case"GG":case"GGG":ne=bn(_t.Eras,Ke.Abbreviated);break;case"GGGG":ne=bn(_t.Eras,Ke.Wide);break;case"GGGGG":ne=bn(_t.Eras,Ke.Narrow);break;case"y":ne=Kt(ut.FullYear,1,0,!1,!0);break;case"yy":ne=Kt(ut.FullYear,2,0,!0,!0);break;case"yyy":ne=Kt(ut.FullYear,3,0,!1,!0);break;case"yyyy":ne=Kt(ut.FullYear,4,0,!1,!0);break;case"Y":ne=ir(1);break;case"YY":ne=ir(2,!0);break;case"YYY":ne=ir(3);break;case"YYYY":ne=ir(4);break;case"M":case"L":ne=Kt(ut.Month,1,1);break;case"MM":case"LL":ne=Kt(ut.Month,2,1);break;case"MMM":ne=bn(_t.Months,Ke.Abbreviated);break;case"MMMM":ne=bn(_t.Months,Ke.Wide);break;case"MMMMM":ne=bn(_t.Months,Ke.Narrow);break;case"LLL":ne=bn(_t.Months,Ke.Abbreviated,Ce.Standalone);break;case"LLLL":ne=bn(_t.Months,Ke.Wide,Ce.Standalone);break;case"LLLLL":ne=bn(_t.Months,Ke.Narrow,Ce.Standalone);break;case"w":ne=Ki(1);break;case"ww":ne=Ki(2);break;case"W":ne=Ki(1,!0);break;case"d":ne=Kt(ut.Date,1);break;case"dd":ne=Kt(ut.Date,2);break;case"c":case"cc":ne=Kt(ut.Day,1);break;case"ccc":ne=bn(_t.Days,Ke.Abbreviated,Ce.Standalone);break;case"cccc":ne=bn(_t.Days,Ke.Wide,Ce.Standalone);break;case"ccccc":ne=bn(_t.Days,Ke.Narrow,Ce.Standalone);break;case"cccccc":ne=bn(_t.Days,Ke.Short,Ce.Standalone);break;case"E":case"EE":case"EEE":ne=bn(_t.Days,Ke.Abbreviated);break;case"EEEE":ne=bn(_t.Days,Ke.Wide);break;case"EEEEE":ne=bn(_t.Days,Ke.Narrow);break;case"EEEEEE":ne=bn(_t.Days,Ke.Short);break;case"a":case"aa":case"aaa":ne=bn(_t.DayPeriods,Ke.Abbreviated);break;case"aaaa":ne=bn(_t.DayPeriods,Ke.Wide);break;case"aaaaa":ne=bn(_t.DayPeriods,Ke.Narrow);break;case"b":case"bb":case"bbb":ne=bn(_t.DayPeriods,Ke.Abbreviated,Ce.Standalone,!0);break;case"bbbb":ne=bn(_t.DayPeriods,Ke.Wide,Ce.Standalone,!0);break;case"bbbbb":ne=bn(_t.DayPeriods,Ke.Narrow,Ce.Standalone,!0);break;case"B":case"BB":case"BBB":ne=bn(_t.DayPeriods,Ke.Abbreviated,Ce.Format,!0);break;case"BBBB":ne=bn(_t.DayPeriods,Ke.Wide,Ce.Format,!0);break;case"BBBBB":ne=bn(_t.DayPeriods,Ke.Narrow,Ce.Format,!0);break;case"h":ne=Kt(ut.Hours,1,-12);break;case"hh":ne=Kt(ut.Hours,2,-12);break;case"H":ne=Kt(ut.Hours,1);break;case"HH":ne=Kt(ut.Hours,2);break;case"m":ne=Kt(ut.Minutes,1);break;case"mm":ne=Kt(ut.Minutes,2);break;case"s":ne=Kt(ut.Seconds,1);break;case"ss":ne=Kt(ut.Seconds,2);break;case"S":ne=Kt(ut.FractionalSeconds,1);break;case"SS":ne=Kt(ut.FractionalSeconds,2);break;case"SSS":ne=Kt(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=Oi(We.Short);break;case"ZZZZZ":ne=Oi(We.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=Oi(We.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=Oi(We.Long);break;default:return null}return Ls[C]=ne,ne}(bi);ar+=Qn?Qn(Pe,U,Ii):"''"===bi?"'":bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ar}function hn(C,ne,U){const Q=new Date(0);return Q.setFullYear(C,ne,U),Q.setHours(0,0,0),Q}function Mn(C,ne){const U=function zt(C){return(0,u.H5H)(C)[u.KH2.LocaleId]}(C);if(Ne[U]=Ne[U]||{},Ne[U][ne])return Ne[U][ne];let Q="";switch(ne){case"shortDate":Q=Cn(C,Ae.Short);break;case"mediumDate":Q=Cn(C,Ae.Medium);break;case"longDate":Q=Cn(C,Ae.Long);break;case"fullDate":Q=Cn(C,Ae.Full);break;case"shortTime":Q=ye(C,Ae.Short);break;case"mediumTime":Q=ye(C,Ae.Medium);break;case"longTime":Q=ye(C,Ae.Long);break;case"fullTime":Q=ye(C,Ae.Full);break;case"short":const Pe=Mn(C,"shortTime"),gt=Mn(C,"shortDate");Q=Xt(je(C,Ae.Short),[Pe,gt]);break;case"medium":const Ft=Mn(C,"mediumTime"),En=Mn(C,"mediumDate");Q=Xt(je(C,Ae.Medium),[Ft,En]);break;case"long":const Ii=Mn(C,"longTime"),ar=Mn(C,"longDate");Q=Xt(je(C,Ae.Long),[Ii,ar]);break;case"full":const bi=Mn(C,"fullTime"),Qn=Mn(C,"fullDate");Q=Xt(je(C,Ae.Full),[bi,Qn])}return Q&&(Ne[U][ne]=Q),Q}function Xt(C,ne){return ne&&(C=C.replace(/\{([^}]+)}/g,function(U,Q){return null!=ne&&Q in ne?ne[Q]:U})),C}function An(C,ne,U="-",Q,Pe){let gt="";(C<0||Pe&&C<=0)&&(Pe?C=1-C:(C=-C,gt=U));let Ft=String(C);for(;Ft.length<ne;)Ft="0"+Ft;return Q&&(Ft=Ft.slice(Ft.length-ne)),gt+Ft}function Kt(C,ne,U=0,Q=!1,Pe=!1){return function(gt,Ft){let En=function ti(C,ne){switch(C){case ut.FullYear:return ne.getFullYear();case ut.Month:return ne.getMonth();case ut.Date:return ne.getDate();case ut.Hours:return ne.getHours();case ut.Minutes:return ne.getMinutes();case ut.Seconds:return ne.getSeconds();case ut.FractionalSeconds:return ne.getMilliseconds();case ut.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,gt);if((U>0||En>-U)&&(En+=U),C===ut.Hours)0===En&&-12===U&&(En=12);else if(C===ut.FractionalSeconds)return function Gn(C,ne){return An(C,3).substring(0,ne)}(En,ne);const Ii=ze(Ft,Pt.MinusSign);return An(En,ne,Ii,Q,Pe)}}function bn(C,ne,U=Ce.Format,Q=!1){return function(Pe,gt){return function xr(C,ne,U,Q,Pe,gt){switch(U){case _t.Months:return si(ne,Pe,Q)[C.getMonth()];case _t.Days:return gi(ne,Pe,Q)[C.getDay()];case _t.DayPeriods:const Ft=C.getHours(),En=C.getMinutes();if(gt){const ar=function nt(C){const ne=(0,u.H5H)(C);return Te(ne),(ne[u.KH2.ExtraData][2]||[]).map(Q=>"string"==typeof Q?Ye(Q):[Ye(Q[0]),Ye(Q[1])])}(ne),bi=function Dt(C,ne,U){const Q=(0,u.H5H)(C);Te(Q);const gt=Re([Q[u.KH2.ExtraData][0],Q[u.KH2.ExtraData][1]],ne)||[];return Re(gt,U)||[]}(ne,Pe,Q),Qn=ar.findIndex(Ar=>{if(Array.isArray(Ar)){const[_i,lr]=Ar,ro=Ft>=_i.hours&&En>=_i.minutes,xo=Ft<lr.hours||Ft===lr.hours&&En<lr.minutes;if(_i.hours<lr.hours){if(ro&&xo)return!0}else if(ro||xo)return!0}else if(Ar.hours===Ft&&Ar.minutes===En)return!0;return!1});if(-1!==Qn)return bi[Qn]}return function zn(C,ne,U){const Q=(0,u.H5H)(C),gt=Re([Q[u.KH2.DayPeriodsFormat],Q[u.KH2.DayPeriodsStandalone]],ne);return Re(gt,U)}(ne,Pe,Q)[Ft<12?0:1];case _t.Eras:return function mr(C,ne){return Re((0,u.H5H)(C)[u.KH2.Eras],ne)}(ne,Q)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(Pe,gt,C,ne,U,Q)}}function Oi(C){return function(ne,U,Q){const Pe=-1*Q,gt=ze(U,Pt.MinusSign),Ft=Pe>0?Math.floor(Pe/60):Math.ceil(Pe/60);switch(C){case We.Short:return(Pe>=0?"+":"")+An(Ft,2,gt)+An(Math.abs(Pe%60),2,gt);case We.ShortGMT:return"GMT"+(Pe>=0?"+":"")+An(Ft,1,gt);case We.Long:return"GMT"+(Pe>=0?"+":"")+An(Ft,2,gt)+":"+An(Math.abs(Pe%60),2,gt);case We.Extended:return 0===Q?"Z":(Pe>=0?"+":"")+An(Ft,2,gt)+":"+An(Math.abs(Pe%60),2,gt);default:throw new Error(`Unknown zone width "${C}"`)}}}const ls=0,Ci=4;function Wi(C){return hn(C.getFullYear(),C.getMonth(),C.getDate()+(Ci-C.getDay()))}function Ki(C,ne=!1){return function(U,Q){let Pe;if(ne){const gt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,Ft=U.getDate();Pe=1+Math.floor((Ft+gt)/7)}else{const gt=Wi(U),Ft=function _r(C){const ne=hn(C,ls,1).getDay();return hn(C,0,1+(ne<=Ci?Ci:Ci+7)-ne)}(gt.getFullYear()),En=gt.getTime()-Ft.getTime();Pe=1+Math.round(En/6048e5)}return An(Pe,C,ze(Q,Pt.MinusSign))}}function ir(C,ne=!1){return function(U,Q){return An(Wi(U).getFullYear(),C,ze(Q,Pt.MinusSign),ne)}}const Ls={};function Fi(C,ne){C=C.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(U)?ne:U}function z(C){return C instanceof Date&&!isNaN(C.valueOf())}let ui=(()=>{class C{static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275prov=u.jDH({token:C,factory:function(Q){let Pe=null;return Q?Pe=new Q:(gt=u.KVO(u.xe9),Pe=new Ri(gt)),Pe;var gt},providedIn:"root"})}}return C})();let Ri=(()=>{class C extends ui{constructor(U){super(),this.locale=U}getPluralCategory(U,Q){switch(se(Q||this.locale)(U)){case Se.Zero:return"zero";case Se.One:return"one";case Se.Two:return"two";case Se.Few:return"few";case Se.Many:return"many";default:return"other"}}static{this.\u0275fac=function(Q){return new(Q||C)(u.KVO(u.xe9))}}static{this.\u0275prov=u.jDH({token:C,factory:C.\u0275fac})}}return C})();function Rr(C,ne){ne=encodeURIComponent(ne);for(const U of C.split(";")){const Q=U.indexOf("="),[Pe,gt]=-1==Q?[U,""]:[U.slice(0,Q),U.slice(Q+1)];if(Pe.trim()===ne)return decodeURIComponent(gt)}return null}const Ao=/\s+/,ra=[];let Oo=(()=>{class C{constructor(U,Q,Pe,gt){this._iterableDiffers=U,this._keyValueDiffers=Q,this._ngEl=Pe,this._renderer=gt,this.initialClasses=ra,this.stateMap=new Map}set klass(U){this.initialClasses=null!=U?U.trim().split(Ao):ra}set ngClass(U){this.rawClass="string"==typeof U?U.trim().split(Ao):U}ngDoCheck(){for(const Q of this.initialClasses)this._updateState(Q,!0);const U=this.rawClass;if(Array.isArray(U)||U instanceof Set)for(const Q of U)this._updateState(Q,!0);else if(null!=U)for(const Q of Object.keys(U))this._updateState(Q,!!U[Q]);this._applyStateDiff()}_updateState(U,Q){const Pe=this.stateMap.get(U);void 0!==Pe?(Pe.enabled!==Q&&(Pe.changed=!0,Pe.enabled=Q),Pe.touched=!0):this.stateMap.set(U,{enabled:Q,changed:!0,touched:!0})}_applyStateDiff(){for(const U of this.stateMap){const Q=U[0],Pe=U[1];Pe.changed?(this._toggleClass(Q,Pe.enabled),Pe.changed=!1):Pe.touched||(Pe.enabled&&this._toggleClass(Q,!1),this.stateMap.delete(Q)),Pe.touched=!1}}_toggleClass(U,Q){(U=U.trim()).length>0&&U.split(Ao).forEach(Pe=>{Q?this._renderer.addClass(this._ngEl.nativeElement,Pe):this._renderer.removeClass(this._ngEl.nativeElement,Pe)})}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u._q3),u.rXU(u.MKu),u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return C})();class Dr{constructor(ne,U,Q,Pe){this.$implicit=ne,this.ngForOf=U,this.index=Q,this.count=Pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class C{set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}constructor(U,Q,Pe){this._viewContainer=U,this._template=Q,this._differs=Pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const Q=this._viewContainer;U.forEachOperation((Pe,gt,Ft)=>{if(null==Pe.previousIndex)Q.createEmbeddedView(this._template,new Dr(Pe.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)Q.remove(null===gt?void 0:gt);else if(null!==gt){const En=Q.get(gt);Q.move(En,Ft),ur(En,Pe)}});for(let Pe=0,gt=Q.length;Pe<gt;Pe++){const En=Q.get(Pe).context;En.index=Pe,En.count=gt,En.ngForOf=this._ngForOf}U.forEachIdentityChange(Pe=>{ur(Q.get(Pe.currentIndex),Pe)})}static ngTemplateContextGuard(U,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return C})();function ur(C,ne){C.context.$implicit=ne.item}let rr=(()=>{class C{constructor(U,Q){this._viewContainer=U,this._context=new Es,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){Ha("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){Ha("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,Q){return!0}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.c1b),u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return C})();class Es{constructor(){this.$implicit=null,this.ngIf=null}}function Ha(C,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,u.Tbb)(ne)}'.`)}class $s{constructor(ne,U){this._viewContainerRef=ne,this._templateRef=U,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ne){ne&&!this._created?this.create():!ne&&this._created&&this.destroy()}}let Sr=(()=>{class C{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(U){this._ngSwitch=U,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(U){this._defaultViews.push(U)}_matchCase(U){const Q=U==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Q,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Q}_updateDefaultCases(U){if(this._defaultViews.length>0&&U!==this._defaultUsed){this._defaultUsed=U;for(const Q of this._defaultViews)Q.enforceState(U)}}static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return C})(),Il=(()=>{class C{constructor(U,Q,Pe){this.ngSwitch=Pe,Pe._addCase(),this._view=new $s(U,Q)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(Sr,9))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return C})(),zo=(()=>{class C{constructor(U,Q,Pe){Pe._addDefault(new $s(U,Q))}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(Sr,9))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return C})(),ms=(()=>{class C{constructor(U,Q,Pe){this._ngEl=U,this._differs=Q,this._renderer=Pe,this._ngStyle=null,this._differ=null}set ngStyle(U){this._ngStyle=U,!this._differ&&U&&(this._differ=this._differs.find(U).create())}ngDoCheck(){if(this._differ){const U=this._differ.diff(this._ngStyle);U&&this._applyChanges(U)}}_setStyle(U,Q){const[Pe,gt]=U.split("."),Ft=-1===Pe.indexOf("-")?void 0:u.czy.DashCase;null!=Q?this._renderer.setStyle(this._ngEl.nativeElement,Pe,gt?`${Q}${gt}`:Q,Ft):this._renderer.removeStyle(this._ngEl.nativeElement,Pe,Ft)}_applyChanges(U){U.forEachRemovedItem(Q=>this._setStyle(Q.key,null)),U.forEachAddedItem(Q=>this._setStyle(Q.key,Q.currentValue)),U.forEachChangedItem(Q=>this._setStyle(Q.key,Q.currentValue))}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.aKT),u.rXU(u.MKu),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return C})(),Ho=(()=>{class C{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(U){if(U.ngTemplateOutlet||U.ngTemplateOutletInjector){const Q=this._viewContainerRef;if(this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Pe,ngTemplateOutletContext:gt,ngTemplateOutletInjector:Ft}=this;this._viewRef=Q.createEmbeddedView(Pe,gt,Ft?{injector:Ft}:void 0)}else this._viewRef=null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(u.c1b))}}static{this.\u0275dir=u.FsC({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.OA$]})}}return C})();function dr(C,ne){return new u.wOt(2100,!1)}const Is=/#/g;let Tr=(()=>{class C{constructor(U){this._localization=U}transform(U,Q,Pe){if(null==U)return"";if("object"!=typeof Q||null===Q)throw dr();return Q[function Bi(C,ne,U,Q){let Pe=`=${C}`;if(ne.indexOf(Pe)>-1||(Pe=U.getPluralCategory(C,Q),ne.indexOf(Pe)>-1))return Pe;if(ne.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${C}"`)}(U,Object.keys(Q),this._localization,Pe)].replace(Is,U.toString())}static{this.\u0275fac=function(Q){return new(Q||C)(u.rXU(ui,16))}}static{this.\u0275pipe=u.EJ8({name:"i18nPlural",type:C,pure:!0,standalone:!0})}}return C})(),Ss=(()=>{class C{transform(U,Q,Pe){if(null==U)return null;if(!this.supports(U))throw dr();return U.slice(Q,Pe)}supports(U){return"string"==typeof U||Array.isArray(U)}static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275pipe=u.EJ8({name:"slice",type:C,pure:!1,standalone:!0})}}return C})(),ho=(()=>{class C{static{this.\u0275fac=function(Q){return new(Q||C)}}static{this.\u0275mod=u.$C({type:C})}static{this.\u0275inj=u.G2t({})}}return C})();const qi="browser",fo="server";function Po(C){return C===qi}function wa(C){return C===fo}let Ts=(()=>{class C{static{this.\u0275prov=(0,u.jDH)({token:C,providedIn:"root",factory:()=>new Fs((0,u.KVO)(ve),window)})}}return C})();class Fs{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function vs(C,ne){const U=C.getElementById(ne)||C.getElementsByName(ne)[0];if(U)return U;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const Q=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let Pe=Q.currentNode;for(;Pe;){const gt=Pe.shadowRoot;if(gt){const Ft=gt.getElementById(ne)||gt.querySelector(`[name="${ne}"]`);if(Ft)return Ft}Pe=Q.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){this.supportsScrolling()&&(this.window.history.scrollRestoration=ne)}scrollToElement(ne){const U=ne.getBoundingClientRect(),Q=U.left+this.window.pageXOffset,Pe=U.top+this.window.pageYOffset,gt=this.offset();this.window.scrollTo(Q-gt[0],Pe-gt[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class no{}},7705:(Bt,He,P)=>{P.d(He,{$C:()=>ba,$GK:()=>We,$K3:()=>aS,$MX:()=>en,AVh:()=>I0,Aen:()=>Qu,Af3:()=>qt,Agw:()=>Ay,B4B:()=>bf,BIS:()=>BE,BMQ:()=>gu,C4Q:()=>sg,C5r:()=>ks,Co$:()=>YC,DNE:()=>Gw,EBC:()=>lw,EFF:()=>bv,EJ8:()=>Ko,EmA:()=>B_,FS9:()=>v0,FsC:()=>eo,G2t:()=>Dt,GBs:()=>v1,GFd:()=>am,H3F:()=>Uh,H5H:()=>R0,H8p:()=>Ug,HJs:()=>Ga,HbH:()=>GI,Hbi:()=>OA,JRh:()=>A0,JZv:()=>Xt,Jv_:()=>KC,KH2:()=>Tm,KVO:()=>Qt,Kcf:()=>S,L39:()=>$d,LfX:()=>Re,Lme:()=>oC,MKu:()=>q1,Mr5:()=>P0,Mz_:()=>_m,NAR:()=>_0,NEm:()=>uA,NYb:()=>lA,Njj:()=>Zc,O8t:()=>gt,OA$:()=>Qn,OM3:()=>z_,Ocv:()=>Wm,Ol2:()=>SD,PLl:()=>LE,QTQ:()=>rI,Ql9:()=>eA,QuC:()=>Is,R7$:()=>nI,RV6:()=>gm,Rfq:()=>ot,RxE:()=>Fp,SKi:()=>wn,STu:()=>qI,SdG:()=>PI,SpI:()=>Bd,TL$:()=>Zb,Tbb:()=>be,UyX:()=>v,VBU:()=>zr,Vns:()=>ig,Vt3:()=>sm,WHO:()=>gS,WPN:()=>ga,WQX:()=>ln,XpG:()=>NI,Xx1:()=>md,Y8G:()=>f0,Z63:()=>Md,ZF7:()=>yf,ZvI:()=>uC,_9s:()=>WE,_q3:()=>Db,a0P:()=>zS,aKT:()=>Tf,aNF:()=>H0,abz:()=>Kg,bIt:()=>m0,bVm:()=>fv,bc$:()=>FE,bkB:()=>Yn,brH:()=>LD,c1b:()=>Um,cWb:()=>f,czy:()=>bl,e01:()=>mS,e5t:()=>G,eBV:()=>ic,eq3:()=>rg,eu8:()=>Kw,fpN:()=>xS,gRc:()=>Wv,gXe:()=>cn,giA:()=>k1,h9k:()=>Td,hnV:()=>vb,i5U:()=>o1,iLQ:()=>Xf,j41:()=>dv,jDH:()=>Te,jNT:()=>mu,joV:()=>ef,k0s:()=>hv,kS0:()=>rh,kdw:()=>ch,lJ4:()=>q0,lNU:()=>mt,l_i:()=>t1,lsd:()=>Vv,mGM:()=>_1,mq5:()=>hC,n$t:()=>Cf,nI1:()=>J0,nKC:()=>Kt,nM4:()=>tv,naY:()=>yA,npT:()=>Hu,nrm:()=>$w,o8S:()=>Ym,oH4:()=>pA,osQ:()=>D,pXf:()=>ng,plB:()=>I1,qSk:()=>Nl,qex:()=>Nh,rOR:()=>Bm,rXU:()=>Qg,rcV:()=>du,sFG:()=>Wg,sMw:()=>X0,sZ2:()=>tw,sdS:()=>Hw,tSv:()=>Yg,uvJ:()=>jc,w6W:()=>ID,wOt:()=>ge,wni:()=>y1,xGo:()=>Zo,xc7:()=>Fd,xe9:()=>yb,xvI:()=>Dh,zZn:()=>Ku,zcH:()=>Mf,ziG:()=>ND,zjR:()=>g0,zvX:()=>Iv});var u=P(1413),ae=P(8359),c=P(1985),te=P(7786),fe=P(4412),ve=P(7673),Ie=P(7647),Me=P(5558),me=P(3294);function re(s){for(let o in s)if(s[o]===re)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function be(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(be).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $e=re({__forward_ref__:re});function ot(s){return s.__forward_ref__=ot,s.toString=function(){return be(this())},s}function Ue(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty($e)&&s.__forward_ref__===ot}function Ze(s){return s&&!!s.\u0275providers}const mt="https://g.co/ng/security#xss";class ge extends Error{constructor(o,l){super(function ke(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function De(s){return"string"==typeof s?s:null==s?"":String(s)}function Pt(s,o){throw new ge(-201,!1)}function rt(s,o,l,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${l} ${h} ${o} <=Actual]`))}function Te(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dt(s){return{providers:s.providers||[],imports:s.imports||[]}}function jt(s){return Ye(s,tt)||Ye(s,Ne)}function Re(s){return null!==jt(s)}function Ye(s,o){return s.hasOwnProperty(o)?s[o]:null}function St(s){return s&&(s.hasOwnProperty(ie)||s.hasOwnProperty(Be))?s[ie]:null}const tt=re({\u0275prov:re}),ie=re({\u0275inj:re}),Ne=re({ngInjectableDef:re}),Be=re({ngInjectorDef:re});var We=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(We||{});let ut;function _t(){return ut}function Yt(s){const o=ut;return ut=s,o}function hn(s,o,l){const h=jt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:l&We.Optional?null:void 0!==o?o:void Pt(be(s))}const Xt=globalThis;class Kt{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Te({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ci={},Fi="__NG_DI_FLAG__",Vi="ngTempTokenPath",J=/\n/gm,z="__source";let W;function lt(s){const o=W;return W=s,o}function xt(s,o=We.Default){if(void 0===W)throw new ge(-203,!1);return null===W?hn(s,void 0,o):W.get(s,o&We.Optional?null:void 0,o)}function Qt(s,o=We.Default){return(_t()||xt)(Ue(s),o)}function ln(s,o=We.Default){return Qt(s,sn(o))}function sn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function mi(s){const o=[];for(let l=0;l<s.length;l++){const h=Ue(s[l]);if(Array.isArray(h)){if(0===h.length)throw new ge(900,!1);let p,y=We.Default;for(let E=0;E<h.length;E++){const O=h[E],R=Er(O);"number"==typeof R?-1===R?p=O.token:y|=R:p=O}o.push(Qt(p,y))}else o.push(Qt(h))}return o}function cr(s,o){return s[Fi]=o,s.prototype[Fi]=o,s}function Er(s){return s[Fi]}function ft(s){return{toString:s}.toString()}var Ut=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Ut||{}),cn=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(cn||{});const Nn={},un=[],ui=re({\u0275cmp:re}),Bi=re({\u0275dir:re}),Ri=re({\u0275pipe:re}),co=re({\u0275mod:re}),Rr=re({\u0275fac:re}),Ao=re({__NG_ELEMENT_ID__:re}),ra=re({__NG_ENV_ID__:re});function Oo(s,o,l){let h=s.length;for(;;){const p=s.indexOf(o,l);if(-1===p)return p;if(0===p||s.charCodeAt(p-1)<=32){const y=o.length;if(p+y===h||s.charCodeAt(p+y)<=32)return p}l=p+1}}function Uo(s,o,l){let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],E=l[h++],O=l[h++];s.setAttribute(o,E,O,y)}else{const y=p,E=l[++h];Dr(y)?s.setProperty(o,y,E):s.setAttribute(o,y,E),h++}}return h}function Ir(s){return 3===s||4===s||6===s}function Dr(s){return 64===s.charCodeAt(0)}function ki(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let h=0;h<o.length;h++){const p=o[h];"number"==typeof p?l=p:0===l||ur(s,l,p,null,-1===l||2===l?o[++h]:null)}}return s}function ur(s,o,l,h,p){let y=0,E=s.length;if(-1===o)E=-1;else for(;y<s.length;){const O=s[y++];if("number"==typeof O){if(O===o){E=-1;break}if(O>o){E=y-1;break}}}for(;y<s.length;){const O=s[y];if("number"==typeof O)break;if(O===l){if(null===h)return void(null!==p&&(s[y+1]=p));if(h===s[y+1])return void(s[y+2]=p)}y++,null!==h&&y++,null!==p&&y++}-1!==E&&(s.splice(E,0,o),y=E+1),s.splice(y++,0,l),null!==h&&s.splice(y++,0,h),null!==p&&s.splice(y++,0,p)}const Ti="ng-template";function rr(s,o,l){let h=0,p=!0;for(;h<s.length;){let y=s[h++];if("string"==typeof y&&p){const E=s[h++];if(l&&"class"===y&&-1!==Oo(E.toLowerCase(),o,0))return!0}else{if(1===y){for(;h<s.length&&"string"==typeof(y=s[h++]);)if(y.toLowerCase()===o)return!0;return!1}"number"==typeof y&&(p=!1)}}return!1}function Es(s){return 4===s.type&&s.value!==Ti}function Ha(s,o,l){return o===(4!==s.type||l?s.value:Ti)}function $s(s,o,l){let h=4;const p=s.attrs||[],y=function Go(s){for(let o=0;o<s.length;o++)if(Ir(s[o]))return o;return s.length}(p);let E=!1;for(let O=0;O<o.length;O++){const R=o[O];if("number"!=typeof R){if(!E)if(4&h){if(h=2|1&h,""!==R&&!Ha(s,R,l)||""===R&&1===o.length){if(Sr(h))return!1;E=!0}}else{const $=8&h?R:o[++O];if(8&h&&null!==s.attrs){if(!rr(s.attrs,$,l)){if(Sr(h))return!1;E=!0}continue}const Ee=Il(8&h?"class":R,p,Es(s),l);if(-1===Ee){if(Sr(h))return!1;E=!0;continue}if(""!==$){let it;it=Ee>y?"":p[Ee+1].toLowerCase();const pt=8&h?it:null;if(pt&&-1!==Oo(pt,$,0)||2&h&&$!==it){if(Sr(h))return!1;E=!0}}}}else{if(!E&&!Sr(h)&&!Sr(R))return!1;if(E&&Sr(R))continue;E=!1,h=R|1&h}}return Sr(h)||E}function Sr(s){return 0==(1&s)}function Il(s,o,l,h){if(null===o)return-1;let p=0;if(h||!l){let y=!1;for(;p<o.length;){const E=o[p];if(E===s)return p;if(3===E||6===E)y=!0;else{if(1===E||2===E){let O=o[++p];for(;"string"==typeof O;)O=o[++p];continue}if(4===E)break;if(0===E){p+=4;continue}}p+=y?1:2}return-1}return function ll(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const h=s[l];if("number"==typeof h)return-1;if(h===o)return l;l++}return-1}(o,s)}function zo(s,o,l=!1){for(let h=0;h<o.length;h++)if($s(s,o[h],l))return!0;return!1}function ms(s,o){e:for(let l=0;l<o.length;l++){const h=o[l];if(s.length===h.length){for(let p=0;p<s.length;p++)if(s[p]!==h[p])continue e;return!0}}return!1}function Ho(s,o){return s?":not("+o.trim()+")":o}function _s(s){let o=s[0],l=1,h=2,p="",y=!1;for(;l<s.length;){let E=s[l];if("string"==typeof E)if(2&h){const O=s[++l];p+="["+E+(O.length>0?'="'+O+'"':"")+"]"}else 8&h?p+="."+E:4&h&&(p+=" "+E);else""!==p&&!Sr(E)&&(o+=Ho(y,p),p=""),h=E,y=y||!Sr(h);l++}return""!==p&&(o+=Ho(y,p)),o}function zr(s){return ft(()=>{const o=$a(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Ut.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||cn.Emulated,styles:s.styles||un,_:null,schemas:s.schemas||null,tView:null,id:""};oa(l);const h=s.dependencies;return l.directiveDefs=uo(h,!1),l.pipeDefs=uo(h,!0),l.id=function Yo(s){let o=0;const l=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const p of l)o=Math.imul(31,o)+p.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function sa(s){return Wn(s)||us(s)}function ya(s){return null!==s}function ba(s){return ft(()=>({type:s.type,bootstrap:s.bootstrap||un,declarations:s.declarations||un,imports:s.imports||un,exports:s.exports||un,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function cs(s,o){if(null==s)return Nn;const l={};for(const h in s)if(s.hasOwnProperty(h)){let p=s[h],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),l[p]=h,o&&(o[p]=y)}return l}function eo(s){return ft(()=>{const o=$a(s);return oa(o),o})}function Ko(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wn(s){return s[ui]||null}function us(s){return s[Bi]||null}function sr(s){return s[Ri]||null}function Is(s){const o=Wn(s)||us(s)||sr(s);return null!==o&&o.standalone}function Tr(s,o){const l=s[co]||null;if(!l&&!0===o)throw new Error(`Type ${be(s)} does not have '\u0275mod' property.`);return l}function $a(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||Nn,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||un,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cs(s.inputs,o),outputs:cs(s.outputs)}}function oa(s){s.features?.forEach(o=>o(s))}function uo(s,o){if(!s)return null;const l=o?sr:sa;return()=>("function"==typeof s?s():s).map(h=>l(h)).filter(ya)}const Yi=0,Jt=1,Kn=2,di=3,Ds=4,Ss=5,kr=6,ho=7,qi=8,fo=9,vr=10,Tn=11,Po=12,wa=13,to=14,Ui=15,aa=16,Ts=17,Fs=18,vs=19,ql=20,no=21,Ms=22,Ws=23,or=24,Fn=25,po=1,go=2,As=7,Os=9,Gr=11;function yr(s){return Array.isArray(s)&&"object"==typeof s[po]}function hr(s){return Array.isArray(s)&&!0===s[po]}function Xl(s){return 0!=(4&s.flags)}function Pn(s){return s.componentOffset>-1}function Ks(s){return 1==(1&s.flags)}function Hr(s){return!!s.template}function ca(s){return 0!=(512&s[Kn])}function io(s,o){return s.hasOwnProperty(Rr)?s[Rr]:null}let Ni=null,Xi=!1;function Kr(s){const o=Ni;return Ni=s,o}const yc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ql(s){if(!ha(s)||s.dirty){if(!s.producerMustRecompute(s)&&!dl(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Qi(s){s.dirty=!0,function Ya(s){if(void 0===s.liveConsumerNode)return;const o=Xi;Xi=!0;try{for(const l of s.liveConsumerNode)l.dirty||Qi(l)}finally{Xi=o}}(s),s.consumerMarkedDirty?.(s)}function Ei(s){return s&&(s.nextProducerIndex=0),Kr(s)}function Da(s,o){if(Kr(o),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(ha(s))for(let l=s.nextProducerIndex;l<s.producerNode.length;l++)hl(s.producerNode[l],s.producerIndexOfThis[l]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function dl(s){Sa(s);for(let o=0;o<s.producerNode.length;o++){const l=s.producerNode[o],h=s.producerLastReadVersion[o];if(h!==l.version||(Ql(l),h!==l.version))return!0}return!1}function bc(s){if(Sa(s),ha(s))for(let o=0;o<s.producerNode.length;o++)hl(s.producerNode[o],s.producerIndexOfThis[o]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function hl(s,o){if(function Zl(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Sa(s),1===s.liveConsumerNode.length)for(let h=0;h<s.producerNode.length;h++)hl(s.producerNode[h],s.producerIndexOfThis[h]);const l=s.liveConsumerNode.length-1;if(s.liveConsumerNode[o]=s.liveConsumerNode[l],s.liveConsumerIndexOfThis[o]=s.liveConsumerIndexOfThis[l],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,o<s.liveConsumerNode.length){const h=s.liveConsumerIndexOfThis[o],p=s.liveConsumerNode[o];Sa(p),p.producerIndexOfThis[h]=o}}function ha(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Sa(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let Kc=null;function gt(s){const o=Kr(null);try{return s()}finally{Kr(o)}}const En=()=>{},Ii=(()=>({...yc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:En}))();class bi{constructor(o,l,h){this.previousValue=o,this.currentValue=l,this.firstChange=h}isFirstChange(){return this.firstChange}}function Qn(){return Ar}function Ar(s){return s.type.prototype.ngOnChanges&&(s.setInput=lr),_i}function _i(){const s=xo(this),o=s?.current;if(o){const l=s.previous;if(l===Nn)s.previous=o;else for(let h in o)l[h]=o[h];s.current=null,this.ngOnChanges(o)}}function lr(s,o,l,h){const p=this.declaredInputs[l],y=xo(s)||function fr(s,o){return s[ro]=o}(s,{previous:Nn,current:null}),E=y.current||(y.current={}),O=y.previous,R=O[p];E[p]=new bi(R&&R.currentValue,o,O===Nn),s[h]=o}Qn.ngInherit=!0;const ro="__ngSimpleChanges__";function xo(s){return s[ro]||null}const ds=function(s,o,l){},Xo="svg";function Li(s){for(;Array.isArray(s);)s=s[Yi];return s}function Al(s,o){return Li(o[s])}function _o(s,o){return Li(o[s.index])}function td(s,o){return s.data[o]}function Ro(s,o){return s[o]}function ko(s,o){const l=o[s];return yr(l)?l:l[Yi]}function ec(s,o){return null==o?null:s[o]}function Tu(s){s[Ts]=0}function Mu(s){1024&s[Kn]||(s[Kn]|=1024,pr(s,1))}function Qh(s){1024&s[Kn]&&(s[Kn]&=-1025,pr(s,-1))}function pr(s,o){let l=s[di];if(null===l)return;l[Ss]+=o;let h=l;for(l=l[di];null!==l&&(1===o&&1===h[Ss]||-1===o&&0===h[Ss]);)l[Ss]+=o,h=l,l=l[di]}function Xc(s,o){if(256==(256&s[Kn]))throw new ge(911,!1);null===s[no]&&(s[no]=[]),s[no].push(o)}const Hn={lFrame:Tc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ic(){return Hn.bindingsEnabled}function Yr(){return null!==Hn.skipHydrationRootTNode}function kt(){return Hn.lFrame.lView}function oi(){return Hn.lFrame.tView}function ic(s){return Hn.lFrame.contextLView=s,s[qi]}function Zc(s){return Hn.lFrame.contextLView=null,s}function bs(){let s=qa();for(;null!==s&&64===s.type;)s=s.parent;return s}function qa(){return Hn.lFrame.currentTNode}function rc(){const s=Hn.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function bo(s,o){const l=Hn.lFrame;l.currentTNode=s,l.isParent=o}function Sc(){return Hn.lFrame.isParent}function Ol(){Hn.lFrame.isParent=!1}function Lr(){const s=Hn.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function A(){return Hn.lFrame.bindingIndex++}function k(s){const o=Hn.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function de(s){Hn.lFrame.inI18n=s}function Oe(s,o){const l=Hn.lFrame;l.bindingIndex=l.bindingRootIndex=s,yt(o)}function yt(s){Hn.lFrame.currentDirectiveIndex=s}function on(s){const o=Hn.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Zn(){return Hn.lFrame.currentQueryIndex}function Zi(s){Hn.lFrame.currentQueryIndex=s}function Di(s){const o=s[Jt];return 2===o.type?o.declTNode:1===o.type?s[kr]:null}function Ys(s,o,l){if(l&We.SkipSelf){let p=o,y=s;for(;!(p=p.parent,null!==p||l&We.Host||(p=Di(y),null===p||(y=y[to],10&p.type))););if(null===p)return!1;o=p,s=y}const h=Hn.lFrame=Lo();return h.currentTNode=o,h.lView=s,!0}function ml(s){const o=Lo(),l=s[Jt];Hn.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Lo(){const s=Hn.lFrame,o=null===s?null:s.child;return null===o?Tc(s):o}function Tc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Qo(){const s=Hn.lFrame;return Hn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Jc=Qo;function Mc(){const s=Qo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Fr(){return Hn.lFrame.selectedIndex}function _l(s){Hn.lFrame.selectedIndex=s}function br(){const s=Hn.lFrame;return td(s.tView,s.selectedIndex)}function Nl(){Hn.lFrame.currentNamespace=Xo}function ef(){!function tf(){Hn.lFrame.currentNamespace=null}()}let Pl=!0;function eu(){return Pl}function is(s){Pl=s}function sd(s,o){for(let l=o.directiveStart,h=o.directiveEnd;l<h;l++){const y=s.data[l].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:O,ngAfterViewInit:R,ngAfterViewChecked:$,ngOnDestroy:ce}=y;E&&(s.contentHooks??=[]).push(-l,E),O&&((s.contentHooks??=[]).push(l,O),(s.contentCheckHooks??=[]).push(l,O)),R&&(s.viewHooks??=[]).push(-l,R),$&&((s.viewHooks??=[]).push(l,$),(s.viewCheckHooks??=[]).push(l,$)),null!=ce&&(s.destroyHooks??=[]).push(l,ce)}}function nf(s,o,l){rf(s,o,3,l)}function Ou(s,o,l,h){(3&s[Kn])===l&&rf(s,o,l,h)}function ap(s,o){let l=s[Kn];(3&l)===o&&(l&=8191,l+=1,s[Kn]=l)}function rf(s,o,l,h){const y=h??-1,E=o.length-1;let O=0;for(let R=void 0!==h?65535&s[Ts]:0;R<E;R++)if("number"==typeof o[R+1]){if(O=o[R],null!=h&&O>=h)break}else o[R]<0&&(s[Ts]+=65536),(O<y||-1==y)&&(th(s,l,o,R),s[Ts]=(4294901760&s[Ts])+R+2),R++}function sf(s,o){ds(4,s,o);const l=Kr(null);try{o.call(s)}finally{Kr(l),ds(5,s,o)}}function th(s,o,l,h){const p=l[h]<0,y=l[h+1],O=s[p?-l[h]:l[h]];p?s[Kn]>>13<s[Ts]>>16&&(3&s[Kn])===o&&(s[Kn]+=8192,sf(O,y)):sf(O,y)}const xl=-1;class od{constructor(o,l,h){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=h}}function tu(s){return s!==xl}function Ac(s){return 32767&s}function Oc(s,o){let l=function Pu(s){return s>>16}(s),h=o;for(;l>0;)h=h[to],l--;return h}let Nc=!0;function nu(s){const o=Nc;return Nc=s,o}const ud=255,dd=5;let hd=0;const Ma={};function pa(s,o){const l=ac(s,o);if(-1!==l)return l;const h=o[Jt];h.firstCreatePass&&(s.injectorIndex=o.length,Si(h.data,s),Si(o,null),Si(h.blueprint,null));const p=Xa(s,o),y=s.injectorIndex;if(tu(p)){const E=Ac(p),O=Oc(p,o),R=O[Jt].data;for(let $=0;$<8;$++)o[y+$]=O[E+$]|R[E+$]}return o[y+8]=p,y}function Si(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ac(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Xa(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,h=null,p=o;for(;null!==p;){if(h=ih(p),null===h)return xl;if(l++,p=p[to],-1!==h.injectorIndex)return h.injectorIndex|l<<16}return xl}function lc(s,o,l){!function fd(s,o,l){let h;"string"==typeof l?h=l.charCodeAt(0)||0:l.hasOwnProperty(Ao)&&(h=l[Ao]),null==h&&(h=l[Ao]=hd++);const p=h&ud;o.data[s+(p>>dd)]|=1<<p}(s,o,l)}function xu(s,o,l){if(l&We.Optional||void 0!==s)return s;Pt()}function Ji(s,o,l,h){if(l&We.Optional&&void 0===h&&(h=null),!(l&(We.Self|We.Host))){const p=s[fo],y=Yt(void 0);try{return p?p.get(o,h,l&We.Optional):hn(o,h,l&We.Optional)}finally{Yt(y)}}return xu(h,0,l)}function lf(s,o,l,h=We.Default,p){if(null!==s){if(2048&o[Kn]&&!(h&We.Self)){const E=function Vs(s,o,l,h,p){let y=s,E=o;for(;null!==y&&null!==E&&2048&E[Kn]&&!(512&E[Kn]);){const O=Ru(y,E,l,h|We.Self,Ma);if(O!==Ma)return O;let R=y.parent;if(!R){const $=E[ql];if($){const ce=$.get(l,Ma,h);if(ce!==Ma)return ce}R=ih(E),E=E[to]}y=R}return p}(s,o,l,h,Ma);if(E!==Ma)return E}const y=Ru(s,o,l,h,Ma);if(y!==Ma)return y}return Ji(o,l,h,p)}function Ru(s,o,l,h,p){const y=function Rl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ao)?s[Ao]:void 0;return"number"==typeof o?o>=0?o&ud:xc:o}(l);if("function"==typeof y){if(!Ys(o,s,h))return h&We.Host?xu(p,0,h):Ji(o,l,h,p);try{let E;if(E=y(h),null!=E||h&We.Optional)return E;Pt()}finally{Jc()}}else if("number"==typeof y){let E=null,O=ac(s,o),R=xl,$=h&We.Host?o[Ui][kr]:null;for((-1===O||h&We.SkipSelf)&&(R=-1===O?Xa(s,o):o[O+8],R!==xl&&gd(h,!1)?(E=o[Jt],O=Ac(R),o=Oc(R,o)):O=-1);-1!==O;){const ce=o[Jt];if(pd(y,O,ce.data)){const Ee=wg(O,o,l,E,h,$);if(Ee!==Ma)return Ee}R=o[O+8],R!==xl&&gd(h,o[Jt].data[O+8]===$)&&pd(y,O,o)?(E=ce,O=Ac(R),o=Oc(R,o)):O=-1}}return p}function wg(s,o,l,h,p,y){const E=o[Jt],O=E.data[s+8],ce=ru(O,E,l,null==h?Pn(O)&&Nc:h!=E&&0!=(3&O.type),p&We.Host&&y===O);return null!==ce?Pc(o,E,ce,O):Ma}function ru(s,o,l,h,p){const y=s.providerIndexes,E=o.data,O=1048575&y,R=s.directiveStart,ce=y>>20,it=p?O+ce:s.directiveEnd;for(let pt=h?O:O+ce;pt<it;pt++){const Rt=E[pt];if(pt<R&&l===Rt||pt>=R&&Rt.type===l)return pt}if(p){const pt=E[R];if(pt&&Hr(pt)&&pt.type===l)return R}return null}function Pc(s,o,l,h){let p=s[l];const y=o.data;if(function Ps(s){return s instanceof od}(p)){const E=p;E.resolving&&function Ce(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ge(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Se(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():De(s)}(y[l]));const O=nu(E.canSeeViewProviders);E.resolving=!0;const $=E.injectImpl?Yt(E.injectImpl):null;Ys(s,h,We.Default);try{p=s[l]=E.factory(void 0,y,s,h),o.firstCreatePass&&l>=h.directiveStart&&function Au(s,o,l){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:y}=o.type.prototype;if(h){const E=Ar(o);(l.preOrderHooks??=[]).push(s,E),(l.preOrderCheckHooks??=[]).push(s,E)}p&&(l.preOrderHooks??=[]).push(0-s,p),y&&((l.preOrderHooks??=[]).push(s,y),(l.preOrderCheckHooks??=[]).push(s,y))}(l,y[l],o)}finally{null!==$&&Yt($),nu(O),E.resolving=!1,Jc()}}return p}function pd(s,o,l){return!!(l[o+(s>>dd)]&1<<s)}function gd(s,o){return!(s&We.Self||s&We.Host&&o)}class qs{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,h){return lf(this._tNode,this._lView,o,sn(h),l)}}function xc(){return new qs(bs(),kt())}function Zo(s){return ft(()=>{const o=s.prototype.constructor,l=o[Rr]||Ll(o),h=Object.prototype;let p=Object.getPrototypeOf(s.prototype).constructor;for(;p&&p!==h;){const y=p[Rr]||Ll(p);if(y&&y!==l)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function Ll(s){return Ve(s)?()=>{const o=Ll(Ue(s));return o&&o()}:io(s)}function ih(s){const o=s[Jt],l=o.type;return 2===l?o.declTNode:1===l?s[kr]:null}function rh(s){return function iu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const h=l.length;let p=0;for(;p<h;){const y=l[p];if(Ir(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<h&&"string"==typeof l[p];)p++;else{if(y===o)return l[p+1];p+=2}}}return null}(bs(),s)}const x="__parameters__";function et(s,o,l){return ft(()=>{const h=function we(s){return function(...l){if(s){const h=s(...l);for(const p in h)this[p]=h[p]}}}(o);function p(...y){if(this instanceof p)return h.apply(this,y),this;const E=new p(...y);return O.annotation=E,O;function O(R,$,ce){const Ee=R.hasOwnProperty(x)?R[x]:Object.defineProperty(R,x,{value:[]})[x];for(;Ee.length<=ce;)Ee.push(null);return(Ee[ce]=Ee[ce]||[]).push(E),R}}return l&&(p.prototype=Object.create(l.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}function oh(s,o){s.forEach(l=>Array.isArray(l)?oh(l,o):o(l))}function cy(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Lu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ah(s,o){const l=[];for(let h=0;h<s;h++)l.push(o);return l}function yl(s,o,l){let h=lh(s,o);return h>=0?s[1|h]=l:(h=~h,function f_(s,o,l,h){let p=s.length;if(p==o)s.push(l,h);else if(1===p)s.push(h,s[0]),s[0]=l;else{for(p--,s.push(s[p-1],s[p]);p>o;)s[p]=s[p-2],p--;s[o]=l,s[o+1]=h}}(s,h,o,l)),h}function cp(s,o){const l=lh(s,o);if(l>=0)return s[1|l]}function lh(s,o){return function Cg(s,o,l){let h=0,p=s.length>>l;for(;p!==h;){const y=h+(p-h>>1),E=s[y<<l];if(o===E)return y<<l;E>o?p=y:h=y+1}return~(p<<l)}(s,o,1)}const md=cr(et("Optional"),8),ch=cr(et("SkipSelf"),4);function bd(s){return 128==(128&s.flags)}var bl=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(bl||{});const lu=/^>|^->|<!--|-->|--!>|<!-$/g,_p=/(<|>)/g,vp="\u200b$1\u200b";const Co=new Map;let Mg=0;const Ed="__ngContext__";function fs(s,o){yr(o)?(s[Ed]=o[vs],function wd(s){Co.set(s[vs],s)}(o)):s[Ed]=o}let ht;function Gt(s,o){return ht(s,o)}function pn(s){const o=s[di];return hr(o)?o[di]:o}function xa(s){return yp(s[Po])}function gh(s){return yp(s[Ds])}function yp(s){for(;null!==s&&!hr(s);)s=s[Ds];return s}function wl(s,o,l,h,p){if(null!=h){let y,E=!1;hr(h)?y=h:yr(h)&&(E=!0,h=h[Yi]);const O=Li(h);0===s&&null!==l?null==p?Wb(o,l,O):Sd(o,l,O,p||null,!0):1===s&&null!==l?Sd(o,l,O,p||null,!0):2===s?function Fg(s,o,l){const h=I_(s,o);h&&function OE(s,o,l,h){s.removeChild(o,l,h)}(s,h,o,l)}(o,O,E):3===s&&o.destroyNode(O),null!=y&&function M_(s,o,l,h,p){const y=l[As];y!==Li(l)&&wl(o,s,h,y,p);for(let O=Gr;O<l.length;O++){const R=l[O];Dp(R[Jt],R,s,o,h,y)}}(o,s,y,l,p)}}function zu(s,o){return s.createText(o)}function Id(s,o){return s.createComment(function ph(s){return s.replace(lu,o=>o.replace(_p,vp))}(o))}function Dd(s,o,l){return s.createElement(o,l)}function Ng(s,o){const l=s[Os],h=l.indexOf(o);Qh(o),l.splice(h,1)}function C_(s,o){if(s.length<=Gr)return;const l=Gr+o,h=s[l];if(h){const p=h[aa];null!==p&&p!==s&&Ng(p,h),o>0&&(s[l-1][Ds]=h[Ds]);const y=Lu(s,Gr+o);!function Ag(s,o){Dp(s,o,o[Tn],2,null,null),o[Yi]=null,o[kr]=null}(h[Jt],h);const E=y[Fs];null!==E&&E.detachView(y[Jt]),h[di]=null,h[Ds]=null,h[Kn]&=-129}return h}function Pg(s,o){if(!(256&o[Kn])){const l=o[Tn];o[Ws]&&bc(o[Ws]),o[or]&&bc(o[or]),l.destroyNode&&Dp(s,o,l,3,null,null),function wp(s){let o=s[Po];if(!o)return ff(s[Jt],s);for(;o;){let l=null;if(yr(o))l=o[Po];else{const h=o[Gr];h&&(l=h)}if(!l){for(;o&&!o[Ds]&&o!==s;)yr(o)&&ff(o[Jt],o),o=o[di];null===o&&(o=s),yr(o)&&ff(o[Jt],o),l=o&&o[Ds]}o=l}}(o)}}function ff(s,o){if(!(256&o[Kn])){o[Kn]&=-129,o[Kn]|=256,function Jo(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let h=0;h<l.length;h+=2){const p=o[l[h]];if(!(p instanceof od)){const y=l[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const O=p[y[E]],R=y[E+1];ds(4,O,R);try{R.call(O)}finally{ds(5,O,R)}}else{ds(4,p,y);try{y.call(p)}finally{ds(5,p,y)}}}}}(s,o),function E_(s,o){const l=s.cleanup,h=o[ho];if(null!==l)for(let y=0;y<l.length-1;y+=2)if("string"==typeof l[y]){const E=l[y+3];E>=0?h[E]():h[-E].unsubscribe(),y+=2}else l[y].call(h[l[y+1]]);null!==h&&(o[ho]=null);const p=o[no];if(null!==p){o[no]=null;for(let y=0;y<p.length;y++)(0,p[y])()}}(s,o),1===o[Jt].type&&o[Tn].destroy();const l=o[aa];if(null!==l&&hr(o[di])){l!==o[di]&&Ng(l,o);const h=o[Fs];null!==h&&h.detachView(s)}!function uf(s){Co.delete(s[vs])}(o)}}function ea(s,o,l){return xg(s,o.parent,l)}function xg(s,o,l){let h=o;for(;null!==h&&40&h.type;)h=(o=h).parent;if(null===h)return l[Yi];{const{componentOffset:p}=h;if(p>-1){const{encapsulation:y}=s.data[h.directiveStart+p];if(y===cn.None||y===cn.Emulated)return null}return _o(h,l)}}function Sd(s,o,l,h,p){s.insertBefore(o,l,h,p)}function Wb(s,o,l){s.appendChild(o,l)}function Kb(s,o,l,h,p){null!==h?Sd(s,o,l,h,p):Wb(s,o,l)}function I_(s,o){return s.parentNode(o)}function Yb(s,o,l){return Ip(s,o,l)}function Ep(s,o,l){return 40&s.type?_o(s,l):null}let Rg,A_,Ra,_f,Ip=Ep;function D_(s,o){Ip=s,Rg=o}function S_(s,o,l,h){const p=ea(s,h,o),y=o[Tn],O=Yb(h.parent||o[kr],h,o);if(null!=p)if(Array.isArray(l))for(let R=0;R<l.length;R++)Kb(y,p,l[R],O,!1);else Kb(y,p,l,O,!1);void 0!==Rg&&Rg(y,h,o,l,p)}function _h(s,o){if(null!==o){const l=o.type;if(3&l)return _o(o,s);if(4&l)return Lg(-1,s[o.index]);if(8&l){const h=o.child;if(null!==h)return _h(s,h);{const p=s[o.index];return hr(p)?Lg(-1,p):Li(p)}}if(32&l)return Gt(o,s)()||Li(s[o.index]);{const h=kg(s,o);return null!==h?Array.isArray(h)?h[0]:_h(pn(s[Ui]),h):_h(s,o.next)}}return null}function kg(s,o){return null!==o?s[Ui][kr].projection[o.projection]:null}function Lg(s,o){const l=Gr+s+1;if(l<o.length){const h=o[l],p=h[Jt].firstChild;if(null!==p)return _h(h,p)}return o[As]}function pf(s,o,l,h,p,y,E){for(;null!=l;){const O=h[l.index],R=l.type;if(E&&0===o&&(O&&fs(Li(O),h),l.flags|=2),32!=(32&l.flags))if(8&R)pf(s,o,l.child,h,p,y,!1),wl(o,s,p,O,y);else if(32&R){const $=Gt(l,h);let ce;for(;ce=$();)wl(o,s,p,ce,y);wl(o,s,p,O,y)}else 16&R?_y(s,o,h,l,p,y):wl(o,s,p,O,y);l=E?l.projectionNext:l.next}}function Dp(s,o,l,h,p,y){pf(l,h,s.firstChild,o,p,y,!1)}function _y(s,o,l,h,p,y){const E=l[Ui],R=E[kr].projection[h.projection];if(Array.isArray(R))for(let $=0;$<R.length;$++)wl(o,s,p,R[$],y);else{let $=R;const ce=E[di];bd(h)&&($.flags|=128),pf(s,o,$,ce,p,y,!0)}}function gf(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Xb(s,o,l){const{mergedAttrs:h,classes:p,styles:y}=l;null!==h&&Uo(s,o,h),null!==p&&gf(s,o,p),null!==y&&function PE(s,o,l){s.setAttribute(o,"style",l)}(s,o,y)}function mf(s){return function cu(){if(void 0===A_&&(A_=null,Xt.trustedTypes))try{A_=Xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return A_}()?.createHTML(s)||s}function Zb(s){Ra=s}function Gu(){if(void 0!==Ra)return Ra;if(typeof document<"u")return document;throw new ge(210,!1)}function Sp(){if(void 0===_f&&(_f=null,Xt.trustedTypes))try{_f=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _f}function P_(s){return Sp()?.createHTML(s)||s}function x_(s){return Sp()?.createScriptURL(s)||s}class uu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class wy extends uu{getTypeName(){return"HTML"}}class Cy extends uu{getTypeName(){return"Style"}}class Ey extends uu{getTypeName(){return"Script"}}class R_ extends uu{getTypeName(){return"URL"}}class vf extends uu{getTypeName(){return"ResourceURL"}}function du(s){return s instanceof uu?s.changingThisBreaksApplicationSecurity:s}function yf(s,o){const l=function g(s){return s instanceof uu&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${mt})`)}return l===o}function S(s){return new wy(s)}function f(s){return new Cy(s)}function v(s){return new Ey(s)}function D(s){return new R_(s)}function G(s){return new vf(s)}function ee(s){const o=new ct(s);return function Tt(){try{return!!(new window.DOMParser).parseFromString(mf(""),"text/html")}catch{return!1}}()?new qe(o):o}class qe{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(mf(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class ct{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=mf(o),l}}const bt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function en(s){return(s=String(s)).match(bt)?s:"unsafe:"+s}function Ht(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function tn(...s){const o={};for(const l of s)for(const h in l)l.hasOwnProperty(h)&&(o[h]=!0);return o}const ii=Ht("area,br,col,hr,img,wbr"),pi=Ht("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jn=Ht("rp,rt"),hi=tn(ii,tn(pi,Ht("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tn(jn,Ht("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tn(jn,pi)),Pi=Ht("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nr=tn(Pi,Ht("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ht("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xs=Ht("script,style,template");class Us{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,h=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?h=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,h&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let p=this.checkClobberedElement(l,l.nextSibling);if(p){l=p;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!hi.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xs.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const h=o.attributes;for(let p=0;p<h.length;p++){const y=h.item(p),E=y.name,O=E.toLowerCase();if(!Nr.hasOwnProperty(O)){this.sanitizedSomething=!0;continue}let R=y.value;Pi[O]&&(R=en(R)),this.buf.push(" ",E,'="',La(R),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();hi.hasOwnProperty(l)&&!ii.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(La(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ka=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hc=/([^\#-~ |!])/g;function La(s){return s.replace(/&/g,"&amp;").replace(ka,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(hc,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hu;function Td(s,o){let l=null;try{hu=hu||ee(s);let h=o?String(o):"";l=hu.getInertBodyElement(h);let p=5,y=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=y,y=l.innerHTML,l=hu.getInertBodyElement(h)}while(h!==y);return mf((new Us).sanitizeChildren(Za(l)||l))}finally{if(l){const h=Za(l)||l;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Za(s){return"content"in s&&function Ja(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ga=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(ga||{});function Hu(s){const o=yh();return o?P_(o.sanitize(ga.HTML,s)||""):yf(s,"HTML")?P_(du(s)):Td(Gu(),De(s))}function bf(s){const o=yh();return o?o.sanitize(ga.URL,s)||"":yf(s,"URL")?du(s):en(De(s))}function Bc(s){const o=yh();if(o)return x_(o.sanitize(ga.RESOURCE_URL,s)||"");if(yf(s,"ResourceURL"))return x_(du(s));throw new ge(904,!1)}function Cf(s,o,l){return function Mp(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Bc:bf}(o,l)(s)}function yh(){const s=kt();return s&&s[vr].sanitizer}const Md=new Kt("ENVIRONMENT_INITIALIZER"),k_=new Kt("INJECTOR",-1),L_=new Kt("INJECTOR_DEF_TYPES");class F_{get(o,l=ci){if(l===ci){const h=new Error(`NullInjectorError: No provider for ${be(o)}!`);throw h.name="NullInjectorError",h}return l}}function B_(s){return{\u0275providers:s}}function Iy(...s){return{\u0275providers:Ef(0,s),\u0275fromNgModule:!0}}function Ef(s,...o){const l=[],h=new Set;let p;const y=E=>{l.push(E)};return oh(o,E=>{const O=E;bh(O,y,[],h)&&(p||=[],p.push(O))}),void 0!==p&&If(p,y),l}function If(s,o){for(let l=0;l<s.length;l++){const{ngModule:h,providers:p}=s[l];wh(p,y=>{o(y,h)})}}function bh(s,o,l,h){if(!(s=Ue(s)))return!1;let p=null,y=St(s);const E=!y&&Wn(s);if(y||E){if(E&&!E.standalone)return!1;p=s}else{const R=s.ngModule;if(y=St(R),!y)return!1;p=R}const O=h.has(p);if(E){if(O)return!1;if(h.add(p),E.dependencies){const R="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const $ of R)bh($,o,l,h)}}else{if(!y)return!1;{if(null!=y.imports&&!O){let $;h.add(p);try{oh(y.imports,ce=>{bh(ce,o,l,h)&&($||=[],$.push(ce))})}finally{}void 0!==$&&If($,o)}if(!O){const $=io(p)||(()=>new p);o({provide:p,useFactory:$,deps:un},p),o({provide:L_,useValue:p,multi:!0},p),o({provide:Md,useValue:()=>Qt(p),multi:!0},p)}const R=y.providers;if(null!=R&&!O){const $=s;wh(R,ce=>{o(ce,$)})}}}return p!==s&&void 0!==s.providers}function wh(s,o){for(let l of s)Ze(l)&&(l=l.\u0275providers),Array.isArray(l)?wh(l,o):o(l)}const Df=re({provide:String,useValue:re});function Od(s){return null!==s&&"object"==typeof s&&Df in s}function Wu(s){return"function"==typeof s}const Ug=new Kt("Set Injector scope."),Sy={},xE={};let Ty;function j_(){return void 0===Ty&&(Ty=new F_),Ty}class jc{}class Ap extends jc{get destroyed(){return this._destroyed}constructor(o,l,h,p){super(),this.parent=l,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zg(o,E=>this.processProvider(E)),this.records.set(k_,Sf(void 0,this)),p.has("environment")&&this.records.set(jc,Sf(void 0,this));const y=this.records.get(Ug);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(L_.multi,un,We.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=lt(this),h=Yt(void 0);try{return o()}finally{lt(l),Yt(h)}}get(o,l=ci,h=We.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ra))return o[ra](this);h=sn(h);const y=lt(this),E=Yt(void 0);try{if(!(h&We.SkipSelf)){let R=this.records.get(o);if(void 0===R){const $=function ew(s){return"function"==typeof s||"object"==typeof s&&s instanceof Kt}(o)&&jt(o);R=$&&this.injectableDefInScope($)?Sf(fu(o),Sy):null,this.records.set(o,R)}if(null!=R)return this.hydrate(o,R)}return(h&We.Self?j_():this.parent).get(o,l=h&We.Optional&&l===ci?null:l)}catch(O){if("NullInjectorError"===O.name){if((O[Vi]=O[Vi]||[]).unshift(be(o)),y)throw O;return function lo(s,o,l,h){const p=s[Vi];throw o[z]&&p.unshift(o[z]),s.message=function At(s,o,l,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let p=be(o);if(Array.isArray(o))p=o.map(be).join(" -> ");else if("object"==typeof o){let y=[];for(let E in o)if(o.hasOwnProperty(E)){let O=o[E];y.push(E+":"+("string"==typeof O?JSON.stringify(O):be(O)))}p=`{${y.join(", ")}}`}return`${l}${h?"("+h+")":""}[${p}]: ${s.replace(J,"\n  ")}`}("\n"+s.message,p,l,h),s.ngTokenPath=p,s[Vi]=null,s}(O,o,"R3InjectorError",this.source)}throw O}finally{Yt(E),lt(y)}}resolveInjectorInitializers(){const o=lt(this),l=Yt(void 0);try{const p=this.get(Md.multi,un,We.Self);for(const y of p)y()}finally{lt(o),Yt(l)}}toString(){const o=[],l=this.records;for(const h of l.keys())o.push(be(h));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(o){let l=Wu(o=Ue(o))?o:Ue(o&&o.provide);const h=function TT(s){return Od(s)?Sf(void 0,s.useValue):Sf(Jb(s),Sy)}(o);if(Wu(o)||!0!==o.multi)this.records.get(l);else{let p=this.records.get(l);p||(p=Sf(void 0,Sy,!0),p.factory=()=>mi(p.multi),this.records.set(l,p)),l=o,p.multi.push(o)}this.records.set(l,h)}hydrate(o,l){return l.value===Sy&&(l.value=xE,l.value=l.factory()),"object"==typeof l.value&&l.value&&function kE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Ue(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function fu(s){const o=jt(s),l=null!==o?o.factory:io(s);if(null!==l)return l;if(s instanceof Kt)throw new ge(204,!1);if(s instanceof Function)return function RE(s){const o=s.length;if(o>0)throw ah(o,"?"),new ge(204,!1);const l=function st(s){return s&&(s[tt]||s[Ne])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new ge(204,!1)}function Jb(s,o,l){let h;if(Wu(s)){const p=Ue(s);return io(p)||fu(p)}if(Od(s))h=()=>Ue(s.useValue);else if(function Rs(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...mi(s.deps||[]));else if(function Vg(s){return!(!s||!s.useExisting)}(s))h=()=>Qt(Ue(s.useExisting));else{const p=Ue(s&&(s.useClass||s.provide));if(!function V_(s){return!!s.deps}(s))return io(p)||fu(p);h=()=>new p(...mi(s.deps))}return h}function Sf(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function zg(s,o){for(const l of s)Array.isArray(l)?zg(l,o):l&&Ze(l)?zg(l.\u0275providers,o):o(l)}const tw=new Kt("AppId",{providedIn:"root",factory:()=>My}),My="ng",LE=new Kt("Platform Initializer"),Ay=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FE=new Kt("AnimationModuleType"),BE=new Kt("CSP nonce",{providedIn:"root",factory:()=>Gu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let UE=(s,o,l)=>null;function Ly(s,o,l=!1){return UE(s,o,l)}class zE{}class Lp{}class NT{resolveComponentFactory(o){throw function OT(s){const o=Error(`No component factory found for ${be(s)}.`);return o.ngComponent=s,o}(o)}}let z_=(()=>{class s{static{this.NULL=new NT}}return s})();function $E(){return $g(bs(),kt())}function $g(s,o){return new Tf(_o(s,o))}let Tf=(()=>{class s{constructor(l){this.nativeElement=l}static{this.__NG_ELEMENT_ID__=$E}}return s})();function PT(s){return s instanceof Tf?s.nativeElement:s}class WE{}let Wg=(()=>{class s{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function KE(){const s=kt(),l=ko(bs().index,s);return(yr(l)?l:s)[Tn]}()}}return s})(),Ba=(()=>{class s{static{this.\u0275prov=Te({token:s,providedIn:"root",factory:()=>null})}}return s})();class Fp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Dh=new Fp("16.2.12"),G_={};function qt(s){if(!_t()&&!function _e(){return W}())throw new ge(-203,!1)}function ta(s,o=null,l=null,h){const p=ow(s,o,l,h);return p.resolveInjectorInitializers(),p}function ow(s,o=null,l=null,h,p=new Set){const y=[l||un,Iy(s)];return h=h||("object"==typeof s?void 0:be(s)),new Ap(y,o||j_(),h||null,p)}let Ku=(()=>{class s{static{this.THROW_IF_NOT_FOUND=ci}static{this.NULL=new F_}static create(l,h){if(Array.isArray(l))return ta({name:""},h,l,"");{const p=l.name??"";return ta({name:p},l.parent,l.providers,p)}}static{this.\u0275prov=Te({token:s,providedIn:"any",factory:()=>Qt(k_)})}static{this.__NG_ELEMENT_ID__=-1}}return s})();function aw(s){return s.ngOriginalError}class Mf{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&aw(o);for(;l&&aw(l);)l=aw(l);return l||null}}let Kg=(()=>{class s{static{this.__NG_ELEMENT_ID__=eN}static{this.__NG_ENV_ID__=l=>l}}return s})();class xT extends Kg{constructor(o){super(),this._lView=o}onDestroy(o){return Xc(this._lView,o),()=>function tc(s,o){if(null===s[no])return;const l=s[no].indexOf(o);-1!==l&&s[no].splice(l,1)}(this._lView,o)}}function eN(){return new xT(kt())}function jy(s){return o=>{setTimeout(s,void 0,o)}}const Yn=class RT extends u.B{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,h){let p=o,y=l||(()=>null),E=h;if(o&&"object"==typeof o){const R=o;p=R.next?.bind(R),y=R.error?.bind(R),E=R.complete?.bind(R)}this.__isAsync&&(y=jy(y),p&&(p=jy(p)),E&&(E=jy(E)));const O=super.subscribe({next:p,error:y,complete:E});return o instanceof ae.yU&&o.add(O),O}};function Bp(...s){}class wn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yn(!1),this.onMicrotaskEmpty=new Yn(!1),this.onStable=new Yn(!1),this.onError=new Yn(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&l,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function XE(){const s="function"==typeof Xt.requestAnimationFrame;let o=Xt[s?"requestAnimationFrame":"setTimeout"],l=Xt[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const h=o[Zone.__symbol__("OriginalDelegate")];h&&(o=h);const p=l[Zone.__symbol__("OriginalDelegate")];p&&(l=p)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Do(s){const o=()=>{!function kT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,mn(s),s.isCheckStableRunning=!0,er(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),mn(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,h,p,y,E,O)=>{if(function LT(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(O))return l.invokeTask(p,y,E,O);try{return $_(s),l.invokeTask(p,y,E,O)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),Vy(s)}},onInvoke:(l,h,p,y,E,O,R)=>{try{return $_(s),l.invoke(p,y,E,O,R)}finally{s.shouldCoalesceRunChangeDetection&&o(),Vy(s)}},onHasTask:(l,h,p,y)=>{l.hasTask(p,y),h===p&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,mn(s),er(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(l,h,p,y)=>(l.handleError(p,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wn.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(wn.isInAngularZone())throw new ge(909,!1)}run(o,l,h){return this._inner.run(o,l,h)}runTask(o,l,h,p){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+p,o,H_,Bp,Bp);try{return y.runTask(E,l,h)}finally{y.cancelTask(E)}}runGuarded(o,l,h){return this._inner.runGuarded(o,l,h)}runOutsideAngular(o){return this._outer.run(o)}}const H_={};function er(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function mn(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Vy(s){s._nesting--,er(s)}class jp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yn,this.onMicrotaskEmpty=new Yn,this.onStable=new Yn,this.onError=new Yn}run(o,l,h){return o.apply(l,h)}runGuarded(o,l,h){return o.apply(l,h)}runOutsideAngular(o){return o()}runTask(o,l,h,p){return o.apply(l,h)}}const QE=new Kt("",{providedIn:"root",factory:W_});function W_(){const s=ln(wn);let o=!0;const l=new c.c(p=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{p.next(o),p.complete()})}),h=new c.c(p=>{let y;s.runOutsideAngular(()=>{y=s.onStable.subscribe(()=>{wn.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,p.next(!0))})})});const E=s.onUnstable.subscribe(()=>{wn.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{p.next(!1)}))});return()=>{y.unsubscribe(),E.unsubscribe()}});return(0,te.h)(l,h.pipe((0,Ie.u)()))}function Yg(s){return s.ownerDocument.defaultView}function lw(s){return s.ownerDocument}function Yu(s){return s instanceof Function?s():s}let qg=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Te({token:s,providedIn:"root",factory:()=>new s})}}return s})();function zl(s){for(;s;){s[Kn]|=64;const o=pn(s);if(ca(s)&&!o)return s;s=o}return null}const Sh=new Kt("",{providedIn:"root",factory:()=>!1});let K_=null;function qu(s,o){return s[o]??tI()}function hw(s,o){const l=tI();l.producerNode?.length&&(s[o]=K_,l.lView=s,K_=fw())}const $y={...yc,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{zl(s.lView)},lView:null};function fw(){return Object.create($y)}function tI(){return K_??=fw(),K_}const yi={};function nI(s){iI(oi(),kt(),Fr()+s,!1)}function iI(s,o,l,h){if(!h)if(3==(3&o[Kn])){const y=s.preOrderCheckHooks;null!==y&&nf(o,y,l)}else{const y=s.preOrderHooks;null!==y&&Ou(o,y,0,l)}_l(l)}function Qg(s,o=We.Default){const l=kt();return null===l?Qt(s,o):lf(bs(),l,Ue(s),o)}function rI(){throw new Error("invalid")}function Wy(s,o,l,h,p,y,E,O,R,$,ce){const Ee=o.blueprint.slice();return Ee[Yi]=p,Ee[Kn]=140|h,(null!==$||s&&2048&s[Kn])&&(Ee[Kn]|=2048),Tu(Ee),Ee[di]=Ee[to]=s,Ee[qi]=l,Ee[vr]=E||s&&s[vr],Ee[Tn]=O||s&&s[Tn],Ee[fo]=R||s&&s[fo]||null,Ee[kr]=y,Ee[vs]=function Eo(){return Mg++}(),Ee[Ms]=ce,Ee[ql]=$,Ee[Ui]=2==o.type?s[Ui]:Ee,Ee}function Zg(s,o,l,h,p){let y=s.data[o];if(null===y)y=pw(s,o,l,h,p),function K(){return Hn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=l,y.value=h,y.attrs=p;const E=rc();y.injectorIndex=null===E?-1:E.injectorIndex}return bo(y,!0),y}function pw(s,o,l,h,p){const y=qa(),E=Sc(),R=s.data[o]=function cI(s,o,l,h,p,y){let E=o?o.injectorIndex:-1,O=0;return Yr()&&(O|=128),{type:l,index:h,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:O,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,l,o,h,p);return null===s.firstChild&&(s.firstChild=R),null!==y&&(E?null==y.child&&null!==R.parent&&(y.child=R):null===y.next&&(y.next=R,R.prev=y)),R}function Y_(s,o,l,h){if(0===l)return-1;const p=o.length;for(let y=0;y<l;y++)o.push(h),s.blueprint.push(h),s.data.push(null);return p}function sI(s,o,l,h,p){const y=qu(o,Ws),E=Fr(),O=2&h;try{_l(-1),O&&o.length>Fn&&iI(s,o,Fn,!1),ds(O?2:0,p);const $=O?y:null,ce=Ei($);try{null!==$&&($.dirty=!1),l(h,p)}finally{Da($,ce)}}finally{O&&null===o[Ws]&&hw(o,Ws),_l(E),ds(O?3:1,p)}}function gw(s,o,l){if(Xl(o)){const h=Kr(null);try{const y=o.directiveEnd;for(let E=o.directiveStart;E<y;E++){const O=s.data[E];O.contentQueries&&O.contentQueries(1,l[E],E)}}finally{Kr(h)}}}function mw(s,o,l){Ic()&&(function So(s,o,l,h){const p=l.directiveStart,y=l.directiveEnd;Pn(l)&&function Rf(s,o,l){const h=_o(o,s),p=vw(l);let E=16;l.signals?E=4096:l.onPush&&(E=64);const O=xd(s,Wy(s,p,null,E,h,o,null,s[vr].rendererFactory.createRenderer(h,l),null,null,null));s[o.index]=O}(o,l,s.data[p+l.componentOffset]),s.firstCreatePass||pa(l,o),fs(h,o);const E=l.initialInputs;for(let O=p;O<y;O++){const R=s.data[O],$=Pc(o,s,O,l);fs($,o),null!==E&&kf(0,O-p,$,R,0,E),Hr(R)&&(ko(l.index,o)[qi]=Pc(o,s,O,l))}}(s,o,l,_o(l,o)),64==(64&l.flags)&&Pd(s,o,l))}function _w(s,o,l=_o){const h=o.localNames;if(null!==h){let p=o.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],O=-1===E?l(o,s):s[E];s[p++]=O}}}function vw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=yw(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function yw(s,o,l,h,p,y,E,O,R,$,ce){const Ee=Fn+h,it=Ee+p,pt=function oI(s,o){const l=[];for(let h=0;h<o;h++)l.push(h<s?null:yi);return l}(Ee,it),Rt="function"==typeof $?$():$;return pt[Jt]={type:s,blueprint:pt,template:l,queries:null,viewQuery:O,declTNode:o,data:pt.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:it,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:R,consts:Rt,incompleteFirstPass:!1,ssrId:ce}}let Ky=s=>null;function ws(s,o,l,h){for(let p in s)if(s.hasOwnProperty(p)){l=null===l?{}:l;const y=s[p];null===h?q_(l,o,p,y):h.hasOwnProperty(p)&&q_(l,o,h[p],y)}return l}function q_(s,o,l,h){s.hasOwnProperty(l)?s[l].push(o,h):s[l]=[o,h]}function fc(s,o,l,h,p,y,E,O){const R=_o(o,l);let ce,$=o.inputs;!O&&null!=$&&(ce=$[h])?(Jy(s,l,ce,h,p),Pn(o)&&function Jg(s,o){const l=ko(o,s);16&l[Kn]||(l[Kn]|=64)}(l,o.index)):3&o.type&&(h=function zs(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),p=null!=E?E(p,o.value||"",h):p,y.setProperty(R,h,p))}function bw(s,o,l,h){if(Ic()){const p=null===h?null:{"":-1},y=function qy(s,o){const l=s.directiveRegistry;let h=null,p=null;if(l)for(let y=0;y<l.length;y++){const E=l[y];if(zo(o,E.selectors,!1))if(h||(h=[]),Hr(E))if(null!==E.findHostDirectiveDefs){const O=[];p=p||new Map,E.findHostDirectiveDefs(E,O,p),h.unshift(...O,E),zp(s,o,O.length)}else h.unshift(E),zp(s,o,0);else p=p||new Map,E.findHostDirectiveDefs?.(E,h,p),h.push(E)}return null===h?null:[h,p]}(s,l);let E,O;null===y?E=O=null:[E,O]=y,null!==E&&na(s,o,l,E,p,O),p&&function zT(s,o,l){if(o){const h=s.localNames=[];for(let p=0;p<o.length;p+=2){const y=l[o[p+1]];if(null==y)throw new ge(-301,!1);h.push(o[p],y)}}}(l,h,p)}l.mergedAttrs=ki(l.mergedAttrs,l.attrs)}function na(s,o,l,h,p,y){for(let $=0;$<h.length;$++)lc(pa(l,o),s,h[$].type);!function xf(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,h.length);for(let $=0;$<h.length;$++){const ce=h[$];ce.providersResolver&&ce.providersResolver(ce)}let E=!1,O=!1,R=Y_(s,o,h.length,null);for(let $=0;$<h.length;$++){const ce=h[$];l.mergedAttrs=ki(l.mergedAttrs,ce.hostAttrs),Xy(s,l,o,R,ce),Pf(R,ce,p),null!==ce.contentQueries&&(l.flags|=4),(null!==ce.hostBindings||null!==ce.hostAttrs||0!==ce.hostVars)&&(l.flags|=64);const Ee=ce.type.prototype;!E&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((s.preOrderHooks??=[]).push(l.index),E=!0),!O&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(l.index),O=!0),R++}!function tl(s,o,l){const p=o.directiveEnd,y=s.data,E=o.attrs,O=[];let R=null,$=null;for(let ce=o.directiveStart;ce<p;ce++){const Ee=y[ce],it=l?l.get(Ee):null,Rt=it?it.outputs:null;R=ws(Ee.inputs,ce,R,it?it.inputs:null),$=ws(Ee.outputs,ce,$,Rt);const Zt=null===R||null===E||Es(o)?null:em(R,ce,E);O.push(Zt)}null!==R&&(R.hasOwnProperty("class")&&(o.flags|=8),R.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=O,o.inputs=R,o.outputs=$}(s,l,y)}function Pd(s,o,l){const h=l.directiveStart,p=l.directiveEnd,y=l.index,E=function Ct(){return Hn.lFrame.currentDirectiveIndex}();try{_l(y);for(let O=h;O<p;O++){const R=s.data[O],$=o[O];yt(O),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Yy(R,$)}}finally{_l(-1),yt(E)}}function Yy(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function zp(s,o,l){o.componentOffset=l,(s.components??=[]).push(o.index)}function Pf(s,o,l){if(l){if(o.exportAs)for(let h=0;h<o.exportAs.length;h++)l[o.exportAs[h]]=s;Hr(o)&&(l[""]=s)}}function Xy(s,o,l,h,p){s.data[h]=p;const y=p.factory||(p.factory=io(p.type)),E=new od(y,Hr(p),Qg);s.blueprint[h]=E,l[h]=E,function UT(s,o,l,h,p){const y=p.hostBindings;if(y){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const O=~o.index;(function Nf(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=O&&E.push(O),E.push(l,h,y)}}(s,o,h,Y_(s,l,p.hostVars,yi),p)}function _a(s,o,l,h,p,y){const E=_o(s,o);!function Gp(s,o,l,h,p,y,E){if(null==y)s.removeAttribute(o,p,l);else{const O=null==E?De(y):E(y,h||"",p);s.setAttribute(o,p,O,l)}}(o[Tn],E,y,s.value,l,h,p)}function kf(s,o,l,h,p,y){const E=y[o];if(null!==E)for(let O=0;O<E.length;)ww(h,l,E[O++],E[O++],E[O++])}function ww(s,o,l,h,p){const y=Kr(null);try{const E=s.inputTransforms;null!==E&&E.hasOwnProperty(h)&&(p=E[h].call(o,p)),null!==s.setInput?s.setInput(o,p,l,h):o[h]=p}finally{Kr(y)}}function em(s,o,l){let h=null,p=0;for(;p<l.length;){const y=l[p];if(0!==y)if(5!==y){if("number"==typeof y)break;if(s.hasOwnProperty(y)){null===h&&(h=[]);const E=s[y];for(let O=0;O<E.length;O+=2)if(E[O]===o){h.push(y,E[O+1],l[p+1]);break}}p+=2}else p+=2;else p+=4}return h}function Qy(s,o,l,h){return[s,!0,!1,o,null,0,h,l,null,null,null]}function X_(s,o){const l=s.contentQueries;if(null!==l)for(let h=0;h<l.length;h+=2){const y=l[h+1];if(-1!==y){const E=s.data[y];Zi(l[h]),E.contentQueries(2,o[y],y)}}}function xd(s,o){return s[Po]?s[wa][Ds]=o:s[Po]=o,s[wa]=o,o}function Q_(s,o,l){Zi(0);const h=Kr(null);try{o(s,l)}finally{Kr(h)}}function Cw(s){return s[ho]||(s[ho]=[])}function Ew(s){return s.cleanup||(s.cleanup=[])}function Z_(s,o,l){return(null===s||Hr(s))&&(l=function qc(s){for(;Array.isArray(s);){if("object"==typeof s[po])return s;s=s[Yi]}return null}(l[o.index])),l[Tn]}function tm(s,o){const l=s[fo],h=l?l.get(Mf,null):null;h&&h.handleError(o)}function Jy(s,o,l,h,p){for(let y=0;y<l.length;){const E=l[y++],O=l[y++];ww(s.data[E],o[E],h,O,p)}}function Th(s,o,l){const h=Al(o,s);!function mh(s,o,l){s.setValue(o,l)}(s[Tn],h,l)}function GT(s,o){const l=ko(o,s),h=l[Jt];!function uI(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])}(h,l);const p=l[Yi];null!==p&&null===l[Ms]&&(l[Ms]=Ly(p,l[fo])),e0(h,l,l[qi])}function e0(s,o,l){ml(o);try{const h=s.viewQuery;null!==h&&Q_(1,h,l);const p=s.template;null!==p&&sI(s,o,p,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&X_(s,o),s.staticViewQueries&&Q_(2,s.viewQuery,l);const y=s.components;null!==y&&function nl(s,o){for(let l=0;l<o.length;l++)GT(s,o[l])}(o,y)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{o[Kn]&=-5,Mc()}}let Iw=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(l,h,p){const y=typeof Zone>"u"?null:Zone.current,E=function Ft(s,o,l){const h=Object.create(Ii);l&&(h.consumerAllowSignalWrites=!0),h.fn=s,h.schedule=o;const p=E=>{h.cleanupFn=E};return h.ref={notify:()=>Qi(h),run:()=>{if(h.dirty=!1,h.hasRun&&!dl(h))return;h.hasRun=!0;const E=Ei(h);try{h.cleanupFn(),h.cleanupFn=En,h.fn(p)}finally{Da(h,E)}},cleanup:()=>h.cleanupFn()},h.ref}(l,$=>{this.all.has($)&&this.queue.set($,y)},p);let O;this.all.add(E),E.notify();const R=()=>{E.cleanup(),O?.(),this.all.delete(E),this.queue.delete(E)};return O=h?.onDestroy(R),{destroy:R}}flush(){if(0!==this.queue.size)for(const[l,h]of this.queue)this.queue.delete(l),h?h.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Te({token:s,providedIn:"root",factory:()=>new s})}}return s})();function Xu(s,o,l){let h=l?s.styles:null,p=l?s.classes:null,y=0;if(null!==o)for(let E=0;E<o.length;E++){const O=o[E];"number"==typeof O?y=O:1==y?p=Ge(p,O):2==y&&(h=Ge(h,O+": "+o[++E]+";"))}l?s.styles=h:s.stylesWithoutHost=h,l?s.classes=p:s.classesWithoutHost=p}function nm(s,o,l,h,p=!1){for(;null!==l;){const y=o[l.index];null!==y&&h.push(Li(y)),hr(y)&&Dw(y,h);const E=l.type;if(8&E)nm(s,o,l.child,h);else if(32&E){const O=Gt(l,o);let R;for(;R=O();)h.push(R)}else if(16&E){const O=kg(o,l);if(Array.isArray(O))h.push(...O);else{const R=pn(o[Ui]);nm(R[Jt],R,O,h,!0)}}l=p?l.projectionNext:l.next}return h}function Dw(s,o){for(let l=Gr;l<s.length;l++){const h=s[l],p=h[Jt].firstChild;null!==p&&nm(h[Jt],h,p,o)}s[As]!==s[Yi]&&o.push(s[As])}function Mh(s,o,l,h=!0){const p=o[vr],y=p.rendererFactory,E=p.afterRenderEventManager;y.begin?.(),E?.begin();try{Gi(s,o,s.template,l)}catch(R){throw h&&tm(o,R),R}finally{y.end?.(),p.effectManager?.flush(),E?.end()}}function Gi(s,o,l,h){const p=o[Kn];if(256!=(256&p)){o[vr].effectManager?.flush(),ml(o);try{Tu(o),function L(s){return Hn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&sI(s,o,l,2,h);const E=3==(3&p);if(E){const $=s.preOrderCheckHooks;null!==$&&nf(o,$,null)}else{const $=s.preOrderHooks;null!==$&&Ou(o,$,0,null),ap(o,0)}if(function im(s){for(let o=xa(s);null!==o;o=gh(o)){if(!o[go])continue;const l=o[Os];for(let h=0;h<l.length;h++){Mu(l[h])}}}(o),Qr(o,2),null!==s.contentQueries&&X_(s,o),E){const $=s.contentCheckHooks;null!==$&&nf(o,$)}else{const $=s.contentHooks;null!==$&&Ou(o,$,1),ap(o,1)}!function BT(s,o){const l=s.hostBindingOpCodes;if(null===l)return;const h=qu(o,or);try{for(let p=0;p<l.length;p++){const y=l[p];if(y<0)_l(~y);else{const E=y,O=l[++p],R=l[++p];Oe(O,E),h.dirty=!1;const $=Ei(h);try{R(2,o[E])}finally{Da(h,$)}}}}finally{null===o[or]&&hw(o,or),_l(-1)}}(s,o);const O=s.components;null!==O&&Tw(o,O,0);const R=s.viewQuery;if(null!==R&&Q_(2,R,h),E){const $=s.viewCheckHooks;null!==$&&nf(o,$)}else{const $=s.viewHooks;null!==$&&Ou(o,$,2),ap(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Kn]&=-73,Qh(o)}finally{Mc()}}}function Qr(s,o){for(let l=xa(s);null!==l;l=gh(l))for(let h=Gr;h<l.length;h++)t0(l[h],o)}function Sw(s,o,l){t0(ko(o,s),l)}function t0(s,o){if(!function nd(s){return 128==(128&s[Kn])}(s))return;const l=s[Jt],h=s[Kn];if(80&h&&0===o||1024&h||2===o)Gi(l,s,l.template,s[qi]);else if(s[Ss]>0){Qr(s,1);const p=l.components;null!==p&&Tw(s,p,1)}}function Tw(s,o,l){for(let h=0;h<o.length;h++)Sw(s,o[h],l)}class Hp{get rootNodes(){const o=this._lView,l=o[Jt];return nm(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qi]}set context(o){this._lView[qi]=o}get destroyed(){return 256==(256&this._lView[Kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[di];if(hr(o)){const l=o[8],h=l?l.indexOf(this):-1;h>-1&&(C_(o,h),Lu(l,h))}this._attachedToViewContainer=!1}Pg(this._lView[Jt],this._lView)}onDestroy(o){Xc(this._lView,o)}markForCheck(){zl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kn]&=-129}reattach(){this._lView[Kn]|=128}detectChanges(){Mh(this._lView[Jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function w_(s,o){Dp(s,o,o[Tn],2,null,null)}(this._lView[Jt],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=o}}class hI extends Hp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Mh(o[Jt],o,o[qi],!1)}checkNoChanges(){}get context(){return null}}class Mw extends z_{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Wn(o);return new J_(l,this.ngModule)}}function Aw(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class $T{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,h){h=sn(h);const p=this.injector.get(o,G_,h);return p!==G_||l===G_?p:this.parentInjector.get(o,l,h)}}class J_ extends Lp{get inputs(){const o=this.componentDef,l=o.inputTransforms,h=Aw(o.inputs);if(null!==l)for(const p of h)l.hasOwnProperty(p.propName)&&(p.transform=l[p.propName]);return h}get outputs(){return Aw(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function dr(s){return s.map(_s).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,h,p){let y=(p=p||this.ngModule)instanceof jc?p:p?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const E=y?new $T(o,y):o,O=E.get(WE,null);if(null===O)throw new ge(407,!1);const Ee={rendererFactory:O,sanitizer:E.get(Ba,null),effectManager:E.get(Iw,null),afterRenderEventManager:E.get(qg,null)},it=O.createRenderer(null,this.componentDef),pt=this.componentDef.selectors[0][0]||"div",Rt=h?function aI(s,o,l,h){const y=h.get(Sh,!1)||l===cn.ShadowDom,E=s.selectRootElement(o,y);return function jT(s){Ky(s)}(E),E}(it,h,this.componentDef.encapsulation,E):Dd(it,pt,function HT(s){const o=s.toLowerCase();return"svg"===o?Xo:"math"===o?"math":null}(pt)),Un=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $t=null;null!==Rt&&($t=Ly(Rt,E,!0));const ri=yw(0,null,null,1,0,null,null,null,null,null,null),Mi=Wy(null,ri,null,Un,null,null,Ee,it,E,null,$t);let Vr,Kl;ml(Mi);try{const Wd=this.componentDef;let Jf,iE=null;Wd.findHostDirectiveDefs?(Jf=[],iE=new Map,Wd.findHostDirectiveDefs(Wd,Jf,iE),Jf.push(Wd)):Jf=[Wd];const GS=function WT(s,o){const l=s[Jt],h=Fn;return s[h]=o,Zg(l,h,2,"#host",null)}(Mi,Rt),FA=function pI(s,o,l,h,p,y,E){const O=p[Jt];!function KT(s,o,l,h){for(const p of s)o.mergedAttrs=ki(o.mergedAttrs,p.hostAttrs);null!==o.mergedAttrs&&(Xu(o,o.mergedAttrs,!0),null!==l&&Xb(h,l,o))}(h,s,o,E);let R=null;null!==o&&(R=Ly(o,p[fo]));const $=y.rendererFactory.createRenderer(o,l);let ce=16;l.signals?ce=4096:l.onPush&&(ce=64);const Ee=Wy(p,vw(l),null,ce,p[s.index],s,y,$,null,null,R);return O.firstCreatePass&&zp(O,s,h.length-1),xd(p,Ee),p[s.index]=Ee}(GS,Rt,Wd,Jf,Mi,Ee,it);Kl=td(ri,Fn),Rt&&function qT(s,o,l,h){if(h)Uo(s,l,["ng-version",Dh.full]);else{const{attrs:p,classes:y}=function $o(s){const o=[],l=[];let h=1,p=2;for(;h<s.length;){let y=s[h];if("string"==typeof y)2===p?""!==y&&o.push(y,s[++h]):8===p&&l.push(y);else{if(!Sr(p))break;p=y}h++}return{attrs:o,classes:l}}(o.selectors[0]);p&&Uo(s,l,p),y&&y.length>0&&gf(s,l,y.join(" "))}}(it,Wd,Rt,h),void 0!==l&&function Ow(s,o,l){const h=s.projection=[];for(let p=0;p<o.length;p++){const y=l[p];h.push(null!=y?Array.from(y):null)}}(Kl,this.ngContentSelectors,l),Vr=function YT(s,o,l,h,p,y){const E=bs(),O=p[Jt],R=_o(E,p);na(O,p,E,l,null,h);for(let ce=0;ce<l.length;ce++)fs(Pc(p,O,E.directiveStart+ce,E),p);Pd(O,p,E),R&&fs(R,p);const $=Pc(p,O,E.directiveStart+E.componentOffset,E);if(s[qi]=p[qi]=$,null!==y)for(const ce of y)ce($,o);return gw(O,E,s),$}(FA,Wd,Jf,iE,Mi,[$p]),e0(ri,Mi,null)}finally{Mc()}return new fI(this.componentType,Vr,$g(Kl,Mi),Mi,Kl)}}class fI extends zE{constructor(o,l,h,p,y){super(),this.location=h,this._rootLView=p,this._tNode=y,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new hI(p),this.componentType=o}setInput(o,l){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const y=this._rootLView;Jy(y[Jt],y,p,o,l),this.previousInputValues.set(o,l),zl(ko(this._tNode.index,y))}}get injector(){return new qs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $p(){const s=bs();sd(kt()[Jt],s)}function sm(s){let o=function rm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const h=[s];for(;o;){let p;if(Hr(s))p=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ge(903,!1);p=o.\u0275dir}if(p){if(l){h.push(p);const E=s;E.inputs=ev(s.inputs),E.inputTransforms=ev(s.inputTransforms),E.declaredInputs=ev(s.declaredInputs),E.outputs=ev(s.outputs);const O=p.hostBindings;O&&mI(s,O);const R=p.viewQuery,$=p.contentQueries;if(R&&gI(s,R),$&&Ah(s,$),ue(s.inputs,p.inputs),ue(s.declaredInputs,p.declaredInputs),ue(s.outputs,p.outputs),null!==p.inputTransforms&&(null===E.inputTransforms&&(E.inputTransforms={}),ue(E.inputTransforms,p.inputTransforms)),Hr(p)&&p.data.animation){const ce=s.data;ce.animation=(ce.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let E=0;E<y.length;E++){const O=y[E];O&&O.ngInherit&&O(s),O===sm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function n0(s){let o=0,l=null;for(let h=s.length-1;h>=0;h--){const p=s[h];p.hostVars=o+=p.hostVars,p.hostAttrs=ki(p.hostAttrs,l=ki(l,p.hostAttrs))}}(h)}function ev(s){return s===Nn?{}:s===un?[]:s}function gI(s,o){const l=s.viewQuery;s.viewQuery=l?(h,p)=>{o(h,p),l(h,p)}:o}function Ah(s,o){const l=s.contentQueries;s.contentQueries=l?(h,p,y)=>{o(h,p,y),l(h,p,y)}:o}function mI(s,o){const l=s.hostBindings;s.hostBindings=l?(h,p)=>{o(h,p),l(h,p)}:o}function tv(s){return o=>{o.findHostDirectiveDefs=r0,o.hostDirectives=(Array.isArray(s)?s:s()).map(l=>"function"==typeof l?{directive:Ue(l),inputs:Nn,outputs:Nn}:{directive:Ue(l.directive),inputs:Lf(l.inputs),outputs:Lf(l.outputs)})}}function r0(s,o,l){if(null!==s.hostDirectives)for(const h of s.hostDirectives){const p=us(h.directive);Gl(p.declaredInputs,h.inputs),r0(p,o,l),l.set(p,h),o.push(p)}}function Lf(s){if(void 0===s||0===s.length)return Nn;const o={};for(let l=0;l<s.length;l+=2)o[s[l]]=s[l+1];return o}function Gl(s,o){for(const l in o)o.hasOwnProperty(l)&&(s[o[l]]=s[l])}function am(s){const o=s.inputConfig,l={};for(const h in o)if(o.hasOwnProperty(h)){const p=o[h];Array.isArray(p)&&p[2]&&(l[h]=p[2])}s.inputTransforms=l}function lm(s){return!!s0(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function s0(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ua(s,o,l){return s[o]=l}function os(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ff(s,o,l,h){const p=os(s,o,l);return os(s,o+1,h)||p}function gu(s,o,l,h){const p=kt();return os(p,A(),o)&&(oi(),_a(br(),p,s,o,l,h)),gu}function Rd(s,o,l,h){return os(s,A(),l)?o+De(l)+h:yi}function cm(s,o,l,h,p,y){const O=Ff(s,function N(){return Hn.lFrame.bindingIndex}(),l,p);return k(2),O?o+De(l)+h+De(p)+y:yi}function Gw(s,o,l,h,p,y,E,O){const R=kt(),$=oi(),ce=s+Fn,Ee=$.firstCreatePass?function SI(s,o,l,h,p,y,E,O,R){const $=o.consts,ce=Zg(o,s,4,E||null,ec($,O));bw(o,l,ce,ec($,R)),sd(o,ce);const Ee=ce.tView=yw(2,ce,h,p,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,$,null);return null!==o.queries&&(o.queries.template(o,ce),Ee.queries=o.queries.embeddedTView(ce)),ce}(ce,$,R,o,l,h,p,y,E):$.data[ce];bo(Ee,!1);const it=d0($,R,Ee,s);eu()&&S_($,R,it,Ee),fs(it,R),xd(R,R[ce]=Qy(it,R,it,Ee)),Ks(Ee)&&mw($,R,Ee),null!=E&&_w(R,Ee,O)}let d0=function pm(s,o,l,h){return is(!0),o[Tn].createComment("")};function Hw(s){return Ro(function id(){return Hn.lFrame.contextLView}(),Fn+s)}function f0(s,o,l){const h=kt();return os(h,A(),o)&&fc(oi(),br(),h,s,o,h[Tn],l,!1),f0}function p0(s,o,l,h,p){const E=p?"class":"style";Jy(s,l,o.inputs[E],E,h)}function dv(s,o,l,h){const p=kt(),y=oi(),E=Fn+s,O=p[Tn],R=y.firstCreatePass?function iM(s,o,l,h,p,y){const E=o.consts,R=Zg(o,s,2,h,ec(E,p));return bw(o,l,R,ec(E,y)),null!==R.attrs&&Xu(R,R.attrs,!1),null!==R.mergedAttrs&&Xu(R,R.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,R),R}(E,y,p,o,l,h):y.data[E],$=TI(y,p,R,O,o,s);p[E]=$;const ce=Ks(R);return bo(R,!0),Xb(O,$,R),32!=(32&R.flags)&&eu()&&S_(y,p,$,R),0===function hs(){return Hn.lFrame.elementDepthCount}()&&fs($,p),function Qc(){Hn.lFrame.elementDepthCount++}(),ce&&(mw(y,p,R),gw(y,R,p)),null!==h&&_w(p,R),dv}function hv(){let s=bs();Sc()?Ol():(s=s.parent,bo(s,!1));const o=s;(function nc(s){return Hn.skipHydrationRootTNode===s})(o)&&function js(){Hn.skipHydrationRootTNode=null}(),function yo(){Hn.lFrame.elementDepthCount--}();const l=oi();return l.firstCreatePass&&(sd(l,s),Xl(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function bg(s){return 0!=(8&s.flags)}(o)&&p0(l,o,kt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function oc(s){return 0!=(16&s.flags)}(o)&&p0(l,o,kt(),o.stylesWithoutHost,!1),hv}function $w(s,o,l,h){return dv(s,o,l,h),hv(),$w}let TI=(s,o,l,h,p,y)=>(is(!0),Dd(h,p,function sc(){return Hn.lFrame.currentNamespace}()));function Nh(s,o,l){const h=kt(),p=oi(),y=s+Fn,E=p.firstCreatePass?function Ww(s,o,l,h,p){const y=o.consts,E=ec(y,h),O=Zg(o,s,8,"ng-container",E);return null!==E&&Xu(O,E,!0),bw(o,l,O,ec(y,p)),null!==o.queries&&o.queries.elementStart(o,O),O}(y,p,h,o,l):p.data[y];bo(E,!0);const O=To(p,h,E,s);return h[y]=O,eu()&&S_(p,h,O,E),fs(O,h),Ks(E)&&(mw(p,h,E),gw(p,E,h)),null!=l&&_w(h,E),Nh}function fv(){let s=bs();const o=oi();return Sc()?Ol():(s=s.parent,bo(s,!1)),o.firstCreatePass&&(sd(o,s),Xl(s)&&o.queries.elementEnd(s)),fv}function Kw(s,o,l){return Nh(s,o,l),fv(),Kw}let To=(s,o,l,h)=>(is(!0),Id(o[Tn],""));function gm(){return kt()}function mu(s){return!!s&&"function"==typeof s.then}function g0(s){return!!s&&"function"==typeof s.subscribe}function m0(s,o,l,h){const p=kt(),y=oi(),E=bs();return function qw(s,o,l,h,p,y,E){const O=Ks(h),$=s.firstCreatePass&&Ew(s),ce=o[qi],Ee=Cw(o);let it=!0;if(3&h.type||E){const Zt=_o(h,o),vn=E?E(Zt):Zt,Un=Ee.length,$t=E?Mi=>E(Li(Mi[h.index])):h.index;let ri=null;if(!E&&O&&(ri=function AI(s,o,l,h){const p=s.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const E=p[y];if(E===l&&p[y+1]===h){const O=o[ho],R=p[y+2];return O.length>R?O[R]:null}"string"==typeof E&&(y+=2)}return null}(s,o,p,h.index)),null!==ri)(ri.__ngLastListenerFn__||ri).__ngNextListenerFn__=y,ri.__ngLastListenerFn__=y,it=!1;else{y=OI(h,o,ce,y,!1);const Mi=l.listen(vn,p,y);Ee.push(y,Mi),$&&$.push(p,$t,Un,Un+1)}}else y=OI(h,o,ce,y,!1);const pt=h.outputs;let Rt;if(it&&null!==pt&&(Rt=pt[p])){const Zt=Rt.length;if(Zt)for(let vn=0;vn<Zt;vn+=2){const Vr=o[Rt[vn]][Rt[vn+1]].subscribe(y),Kl=Ee.length;Ee.push(y,Vr),$&&$.push(p,h.index,Kl,-(Kl+1))}}}(y,p,p[Tn],E,s,o,h),m0}function Xw(s,o,l,h){try{return ds(6,o,l),!1!==l(h)}catch(p){return tm(s,p),!1}finally{ds(7,o,l)}}function OI(s,o,l,h,p){return function y(E){if(E===Function)return h;zl(s.componentOffset>-1?ko(s.index,o):o);let R=Xw(o,l,h,E),$=y.__ngNextListenerFn__;for(;$;)R=Xw(o,l,$,E)&&R,$=$.__ngNextListenerFn__;return p&&!1===R&&E.preventDefault(),R}}function NI(s=1){return function rd(s){return(Hn.lFrame.contextLView=function Jh(s,o){for(;s>0;)o=o[to],s--;return o}(s,Hn.lFrame.contextLView))[qi]}(s)}function pv(s,o){let l=null;const h=function _c(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(s);for(let p=0;p<o.length;p++){const y=o[p];if("*"!==y){if(null===h?zo(s,y,!0):ms(h,y))return p}else l=p}return l}function _0(s){const o=kt()[Ui][kr];if(!o.projection){const h=o.projection=ah(s?s.length:1,null),p=h.slice();let y=o.child;for(;null!==y;){const E=s?pv(y,s):0;null!==E&&(p[E]?p[E].projectionNext=y:h[E]=y,p[E]=y),y=y.next}}}function PI(s,o=0,l){const h=kt(),p=oi(),y=Zg(p,Fn+s,16,null,l||null);null===y.projection&&(y.projection=o),Ol(),(!h[Ms]||Yr())&&32!=(32&y.flags)&&function qb(s,o,l){_y(o[Tn],0,o,l,ea(s,l,o),Yb(l.parent||o[kr],l,o))}(p,h,y)}function v0(s,o,l){return _m(s,"",o,"",l),v0}function _m(s,o,l,h,p){const y=kt(),E=Rd(y,o,l,h);return E!==yi&&fc(oi(),br(),y,s,E,y[Tn],p,!1),_m}function gv(s,o){return s<<17|o<<2}function zf(s){return s>>17&32767}function y0(s){return 2|s}function Zp(s){return(131068&s)>>2}function b0(s,o){return-131069&s|o<<2}function Rh(s){return 1|s}function C0(s,o,l,h,p){const y=s[l+1],E=null===o;let O=h?zf(y):Zp(y),R=!1;for(;0!==O&&(!1===R||E);){const ce=s[O+1];Jw(s[O],o)&&(R=!0,s[O+1]=h?Rh(ce):y0(ce)),O=h?zf(ce):Zp(ce)}R&&(s[l+1]=h?y0(y):Rh(y))}function Jw(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&lh(s,o)>=0}const ia={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eC(s){return s.substring(ia.key,ia.keyEnd)}function oM(s){return s.substring(ia.value,ia.valueEnd)}function tC(s,o){const l=ia.textEnd;return l===o?-1:(o=ia.keyEnd=function VI(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ia.key=o,l),wm(s,o,l))}function bm(s,o){const l=ia.textEnd;let h=ia.key=wm(s,o,l);return l===h?-1:(h=ia.keyEnd=function aM(s,o,l){let h;for(;o<l&&(45===(h=s.charCodeAt(o))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)o++;return o}(s,h,l),h=UI(s,h,l),h=ia.value=wm(s,h,l),h=ia.valueEnd=function lM(s,o,l){let h=-1,p=-1,y=-1,E=o,O=E;for(;E<l;){const R=s.charCodeAt(E++);if(59===R)return O;34===R||39===R?O=E=Cm(s,R,E,l):o===E-4&&85===y&&82===p&&76===h&&40===R?O=E=Cm(s,41,E,l):R>32&&(O=E),y=p,p=h,h=-33&R}return O}(s,h,l),UI(s,h,l))}function Gf(s){ia.key=0,ia.keyEnd=0,ia.value=0,ia.valueEnd=0,ia.textEnd=s.length}function wm(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function UI(s,o,l,h){return(o=wm(s,o,l))<l&&o++,o}function Cm(s,o,l,h){let p=-1,y=l;for(;y<h;){const E=s.charCodeAt(y++);if(E==o&&92!==p)return y;p=92==E&&92===p?0:E}throw new Error}function Fd(s,o,l){return Gc(s,o,l,!1),Fd}function I0(s,o){return Gc(s,o,null,!0),I0}function Qu(s){vu(Dm,zI,s,!1)}function zI(s,o){for(let l=function E0(s){return Gf(s),bm(s,wm(s,0,ia.textEnd))}(o);l>=0;l=bm(o,l))Dm(s,eC(o),oM(o))}function GI(s){vu(M0,_u,s,!0)}function _u(s,o){for(let l=function jI(s){return Gf(s),tC(s,wm(s,0,ia.textEnd))}(o);l>=0;l=tC(o,l))yl(s,eC(o),!0)}function Gc(s,o,l,h){const p=kt(),y=oi(),E=k(2);y.firstUpdatePass&&S0(y,s,E,h),o!==yi&&os(p,E,o)&&iC(y,y.data[Fr()],p,p[Tn],s,p[E+1]=function WI(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=be(du(s)))),s}(o,l),h,E)}function vu(s,o,l,h){const p=oi(),y=k(2);p.firstUpdatePass&&S0(p,null,y,h);const E=kt();if(l!==yi&&os(E,y,l)){const O=p.data[Fr()];if(yv(O,h)&&!D0(p,y)){let R=h?O.classesWithoutHost:O.stylesWithoutHost;null!==R&&(l=Ge(R,l||"")),p0(p,O,E,l,h)}else!function vv(s,o,l,h,p,y,E,O){p===yi&&(p=un);let R=0,$=0,ce=0<p.length?p[0]:null,Ee=0<y.length?y[0]:null;for(;null!==ce||null!==Ee;){const it=R<p.length?p[R+1]:void 0,pt=$<y.length?y[$+1]:void 0;let Zt,Rt=null;ce===Ee?(R+=2,$+=2,it!==pt&&(Rt=Ee,Zt=pt)):null===Ee||null!==ce&&ce<Ee?(R+=2,Rt=ce):($+=2,Rt=Ee,Zt=pt),null!==Rt&&iC(s,o,l,h,Rt,Zt,E,O),ce=R<p.length?p[R]:null,Ee=$<y.length?y[$]:null}}(p,O,E,E[Tn],E[y+1],E[y+1]=function $I(s,o,l){if(null==l||""===l)return un;const h=[],p=du(l);if(Array.isArray(p))for(let y=0;y<p.length;y++)s(h,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&s(h,y,p[y]);else"string"==typeof p&&o(h,p);return h}(s,o,l),h,y)}}function D0(s,o){return o>=s.expandoStartIndex}function S0(s,o,l,h){const p=s.data;if(null===p[l+1]){const y=p[Fr()],E=D0(s,l);yv(y,h)&&null===o&&!E&&(o=!1),o=function HI(s,o,l,h){const p=on(s);let y=h?o.residualClasses:o.residualStyles;if(null===p)0===(h?o.classBindings:o.styleBindings)&&(l=_v(l=Im(null,s,o,l,h),o.attrs,h),y=null);else{const E=o.directiveStylingLast;if(-1===E||s[E]!==p)if(l=Im(p,s,o,l,h),null===y){let R=function T0(s,o,l){const h=l?o.classBindings:o.styleBindings;if(0!==Zp(h))return s[zf(h)]}(s,o,h);void 0!==R&&Array.isArray(R)&&(R=Im(null,s,o,R[1],h),R=_v(R,o.attrs,h),function cM(s,o,l,h){s[zf(l?o.classBindings:o.styleBindings)]=h}(s,o,h,R))}else y=function nC(s,o,l){let h;const p=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<p;y++)h=_v(h,s[y].hostAttrs,l);return _v(h,o.attrs,l)}(s,o,h)}return void 0!==y&&(h?o.residualClasses=y:o.residualStyles=y),l}(p,y,o,h),function mv(s,o,l,h,p,y){let E=y?o.classBindings:o.styleBindings,O=zf(E),R=Zp(E);s[h]=l;let ce,$=!1;if(Array.isArray(l)?(ce=l[1],(null===ce||lh(l,ce)>0)&&($=!0)):ce=l,p)if(0!==R){const it=zf(s[O+1]);s[h+1]=gv(it,O),0!==it&&(s[it+1]=b0(s[it+1],h)),s[O+1]=function xh(s,o){return 131071&s|o<<17}(s[O+1],h)}else s[h+1]=gv(O,0),0!==O&&(s[O+1]=b0(s[O+1],h)),O=h;else s[h+1]=gv(R,0),0===O?O=h:s[R+1]=b0(s[R+1],h),R=h;$&&(s[h+1]=y0(s[h+1])),C0(s,ce,h,!0),C0(s,ce,h,!1),function BI(s,o,l,h,p){const y=p?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&lh(y,o)>=0&&(l[h+1]=Rh(l[h+1]))}(o,ce,s,h,y),E=gv(O,R),y?o.classBindings=E:o.styleBindings=E}(p,y,o,l,E,h)}}function Im(s,o,l,h,p){let y=null;const E=l.directiveEnd;let O=l.directiveStylingLast;for(-1===O?O=l.directiveStart:O++;O<E&&(y=o[O],h=_v(h,y.hostAttrs,p),y!==s);)O++;return null!==s&&(l.directiveStylingLast=O),h}function _v(s,o,l){const h=l?1:2;let p=-1;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:p===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),yl(s,E,!!l||o[++y]))}return void 0===s?null:s}function Dm(s,o,l){yl(s,o,du(l))}function M0(s,o,l){const h=String(o);""!==h&&!h.includes(" ")&&yl(s,h,l)}function iC(s,o,l,h,p,y,E,O){if(!(3&o.type))return;const R=s.data,$=R[O+1],ce=function w0(s){return 1==(1&s)}($)?rC(R,o,l,p,Zp($),E):void 0;va(ce)||(va(y)||function FI(s){return 2==(2&s)}($)&&(y=rC(R,null,l,p,O,E)),function vy(s,o,l,h,p){if(o)p?s.addClass(l,h):s.removeClass(l,h);else{let y=-1===h.indexOf("-")?void 0:bl.DashCase;null==p?s.removeStyle(l,h,y):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),y|=bl.Important),s.setStyle(l,h,p,y))}}(h,E,Al(Fr(),l),p,y))}function rC(s,o,l,h,p,y){const E=null===o;let O;for(;p>0;){const R=s[p],$=Array.isArray(R),ce=$?R[1]:R,Ee=null===ce;let it=l[p+1];it===yi&&(it=Ee?un:void 0);let pt=Ee?cp(it,h):ce===h?it:void 0;if($&&!va(pt)&&(pt=cp(R,h)),va(pt)&&(O=pt,E))return O;const Rt=s[p+1];p=E?zf(Rt):Zp(Rt)}if(null!==o){let R=y?o.residualClasses:o.residualStyles;null!=R&&(O=cp(R,h))}return O}function va(s){return void 0!==s}function yv(s,o){return 0!=(s.flags&(o?8:16))}function bv(s,o=""){const l=kt(),h=oi(),p=s+Fn,y=h.firstCreatePass?Zg(h,p,1,o,null):h.data[p],E=sC(h,l,y,o,s);l[p]=E,eu()&&S_(h,l,E,y),bo(y,!1)}let sC=(s,o,l,h,p)=>(is(!0),zu(o[Tn],h));function A0(s){return Bd("",s,""),A0}function Bd(s,o,l){const h=kt(),p=Rd(h,s,o,l);return p!==yi&&Th(h,Fr(),p),Bd}function oC(s,o,l,h,p){const y=kt(),E=cm(y,s,o,l,h,p);return E!==yi&&Th(y,Fr(),E),oC}function uC(s,o,l){vu(yl,_u,Rd(kt(),s,o,l),!0)}function qI(s,o,l,h,p){vu(yl,_u,cm(kt(),s,o,l,h,p),!0)}function P0(s,o,l){const h=kt();return os(h,A(),o)&&fc(oi(),br(),h,s,o,h[Tn],l,!0),P0}function Iv(s,o,l){const h=kt();if(os(h,A(),o)){const y=oi(),E=br();fc(y,E,h,s,o,Z_(on(y.data),E,h),l,!0)}return Iv}const Lh=void 0;var x0=["en",[["a","p"],["AM","PM"],Lh],[["AM","PM"],Lh,Lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lh,"{1} 'at' {0}",Lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dv(s){const l=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===h?1:5}];let $f={};function R0(s){const o=function uD(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=fC(o);if(l)return l;const h=o.split("-")[0];if(l=fC(h),l)return l;if("en"===h)return x0;throw new ge(701,!1)}function hC(s){return R0(s)[Tm.PluralCase]}function fC(s){return s in $f||($f[s]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[s]),$f[s]}var Tm=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Tm||{});const Mm="en-US",Fh={marker:"element"},Om={marker:"ICU"};var il=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(il||{});let pC=Mm;function gC(s){(function wt(s,o){null==s&&rt(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(pC=s.toLowerCase().replace(/_/g,"-"))}function k0(s,o,l){const h=o.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?Ep(s,0,l):Li(l[p])}function hD(s,o,l,h,p){const y=o.insertBeforeIndex;if(Array.isArray(y)){let E=h,O=null;if(3&o.type||(O=E,E=p),null!==E&&-1===o.componentOffset)for(let R=1;R<y.length;R++)Sd(s,E,l[y[R]],O,!1)}}function L0(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const h=s[l];mC(h)||fD(h,o)&&null===_C(h)&&F0(h,o.index)}}function mC(s){return!(64&s.type)}function fD(s,o){return mC(o)||s.index>o.index}function _C(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function F0(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(D_(k0,hD),s.insertBeforeIndex=o)}function yC(s,o,l){const h=pw(s,l,64,null,null);return L0(o,h),h}function wM(){const s=[];let l,h,o=-1;function y(O,R){o=0;const $=function Nm(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}(O,R);h=null!==$?O.remove[$]:un}function E(){if(o<h.length){const O=h[o++];return O>0?l[O]:(s.push(o,h),y(l[Jt].data[~O],l),E())}return 0===s.length?null:(h=s.pop(),o=s.pop(),E())}return function p(O,R){for(l=R;s.length;)s.pop();return y(O.value,R),E}}const Wf=/\ufffd(\d+):?\d*\ufffd/gi,xm=/\ufffd(\d+)\ufffd/,V0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Kf="\ufffd",Mv=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,SC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_D=/\uE500/g;function MC(s,o,l,h,p,y,E){const O=Y_(s,h,1,null);let R=O<<il.SHIFT,$=rc();o===$&&($=null),null===$&&(R|=il.APPEND_EAGERLY),E&&(R|=il.COMMENT,function nn(s){void 0===ht&&(ht=s())}(wM)),p.push(R,null===y?"":y);const ce=pw(s,O,E?32:1,null===y?"":y,null);L0(l,ce);const Ee=ce.index;return bo(ce,!1),null!==$&&o!==$&&function vC(s,o){let l=s.insertBeforeIndex;null===l?(D_(k0,hD),l=s.insertBeforeIndex=[null,o]):(function si(s,o,l){s!=o&&rt(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}($,Ee),ce}function CM(s,o,l,h,p,y,E){const O=E.match(Wf),R=MC(s,o,l,y,h,O?null:E,!1);O&&Av(p,E,R.index,null,0,null)}function Av(s,o,l,h,p,y){const E=s.length,O=E+1;s.push(null,null);const R=E+2,$=o.split(Wf);let ce=0;for(let Ee=0;Ee<$.length;Ee++){const it=$[Ee];if(1&Ee){const pt=p+parseInt(it,10);s.push(-1-pt),ce|=yD(pt)}else""!==it&&s.push(it)}return s.push(l<<2|(h?1:0)),h&&s.push(h,y),s[E]=ce,s[O]=s.length-R,ce}function yD(s){return 1<<Math.min(s,31)}function Ov(s){let o,y,l="",h=0,p=!1;for(;null!==(o=Mv.exec(s));)p?o[0]===`${Kf}/*${y}${Kf}`&&(h=o.index,p=!1):(l+=s.substring(h,o.index+o[0].length),y=o[1],p=!0);return l+=s.slice(h),l}function xC(s,o,l,h,p,y){let E=0;const O={type:p.type,currentCaseLViewIndex:Y_(s,o,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function IM(s,o,l){s.push(yD(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,p,y),function B0(s,o,l){const h=s.data[o];null===h?s.data[o]=l:h.value=l}(s,y,O);const R=p.values;for(let $=0;$<R.length;$++){const ce=R[$],Ee=[];for(let it=0;it<ce.length;it++){const pt=ce[it];if("string"!=typeof pt){const Rt=Ee.push(pt)-1;ce[it]=`\x3c!--\ufffd${Rt}\ufffd--\x3e`}}E=EM(s,O,o,l,h,p.cases[$],ce.join(""),Ee)|E}E&&function kC(s,o,l){s.push(o,1,l<<2|3)}(l,E,y)}function Rm(s){const o=[],l=[];let h=1,p=0;const y=Nv(s=s.replace(V0,function(E,O,R){return h="select"===R?0:1,p=parseInt(O.slice(1),10),""}));for(let E=0;E<y.length;){let O=y[E++].trim();1===h&&(O=O.replace(/\s*(?:=)?(\w+)\s*/,"$1")),O.length&&o.push(O);const R=Nv(y[E++]);o.length>l.length&&l.push(R)}return{type:h,mainBinding:p,cases:o,values:l}}function Nv(s){if(!s)return[];let o=0;const l=[],h=[],p=/[{}]/g;let y;for(p.lastIndex=0;y=p.exec(s);){const O=y.index;if("}"==y[0]){if(l.pop(),0==l.length){const R=s.substring(o,O);V0.test(R)?h.push(Rm(R)):h.push(R),o=O+1}}else{if(0==l.length){const R=s.substring(o,O);h.push(R),o=O+1}l.push("{")}}const E=s.substring(o);return h.push(E),h}function EM(s,o,l,h,p,y,E,O){const R=[],$=[],ce=[];o.cases.push(y),o.create.push(R),o.remove.push($),o.update.push(ce);const it=ee(Gu()).getInertBodyElement(E),pt=Za(it)||it;return pt?bD(s,o,l,h,R,$,ce,pt,p,O,0):0}function bD(s,o,l,h,p,y,E,O,R,$,ce){let Ee=0,it=O.firstChild;for(;it;){const pt=Y_(s,l,1,null);switch(it.nodeType){case Node.ELEMENT_NODE:const Rt=it,Zt=Rt.tagName.toLowerCase();if(hi.hasOwnProperty(Zt)){LC(p,Fh,Zt,R,pt),s.data[pt]=Zt;const ri=Rt.attributes;for(let Mi=0;Mi<ri.length;Mi++){const Vr=ri.item(Mi),Kl=Vr.name.toLowerCase();Vr.value.match(Wf)?Nr.hasOwnProperty(Kl)&&Av(E,Vr.value,pt,Vr.name,0,Pi[Kl]?en:null):FC(p,pt,Vr)}Ee=bD(s,o,l,h,p,y,E,it,pt,$,ce+1)|Ee,RC(y,pt,ce)}break;case Node.TEXT_NODE:const vn=it.textContent||"",Un=vn.match(Wf);LC(p,null,Un?"":vn,R,pt),RC(y,pt,ce),Un&&(Ee=Av(E,vn,pt,null,0,null)|Ee);break;case Node.COMMENT_NODE:const $t=xm.exec(it.textContent||"");if($t){const Mi=$[parseInt($t[1],10)];LC(p,Om,"",R,pt),xC(s,l,h,R,Mi,pt),wD(y,pt,ce)}}it=it.nextSibling}return Ee}function RC(s,o,l){0===l&&s.push(o)}function wD(s,o,l){0===l&&(s.push(~o),s.push(o))}function LC(s,o,l,h,p){null!==o&&s.push(o),s.push(l,p,function j0(s,o,l){return s|o<<17|l<<1}(0,h,p))}function FC(s,o,l){s.push(o<<1|1,l.name,l.value)}function jh(s,o,l=-1){const h=oi(),p=kt(),y=Fn+s,E=ec(h.consts,o),O=rc();h.firstCreatePass&&function Yf(s,o,l,h,p,y){const E=rc(),O=[],R=[],$=[[]];p=function PC(s,o){if(function NC(s){return-1===s}(o))return Ov(s);{const l=s.indexOf(`:${o}${Kf}`)+2+o.toString().length,h=s.search(new RegExp(`${Kf}\\/\\*\\d+:${o}${Kf}`));return Ov(s.substring(l,h))}}(p,y);const ce=function TC(s){return s.replace(_D," ")}(p).split(SC);for(let Ee=0;Ee<ce.length;Ee++){let it=ce[Ee];if(1&Ee){const pt=47===it.charCodeAt(0),Zt=(it.charCodeAt(pt?1:0),Fn+Number.parseInt(it.substring(pt?2:1)));if(pt)$.shift(),bo(rc(),!1);else{const vn=yC(s,$[0],Zt);$.unshift([]),bo(vn,!0)}}else{const pt=Nv(it);for(let Rt=0;Rt<pt.length;Rt++){let Zt=pt[Rt];if(1&Rt){const vn=Zt;if("object"!=typeof vn)throw new Error(`Unable to parse ICU expression in "${p}" message.`);xC(s,l,R,o,vn,MC(s,E,$[0],l,O,"",!0).index)}else""!==Zt&&CM(s,E,$[0],O,R,l,Zt)}}}s.data[h]={create:O,update:R}}(h,null===O?0:O.index,p,y,E,l),2===h.type?p[Ui][Kn]|=32:p[Kn]|=32;const R=h.data[y],ce=xg(h,O===p[kr]?null:O,p);(function yM(s,o,l,h){const p=s[Tn];for(let y=0;y<o.length;y++){const E=o[y++],O=o[y],$=(E&il.APPEND_EAGERLY)===il.APPEND_EAGERLY,ce=E>>>il.SHIFT;let Ee=s[ce];null===Ee&&(Ee=s[ce]=(E&il.COMMENT)===il.COMMENT?p.createComment(O):zu(p,O)),$&&null!==l&&Sd(p,l,Ee,h,!1)}})(p,R.create,ce,O&&8&O.type?p[O.index]:null),de(!0)}function ng(s,o,l){jh(s,o,l),function U0(){de(!1)}()}function Pv(s,o,l,h,p){if(s=Ue(s),Array.isArray(s))for(let y=0;y<s.length;y++)Pv(s[y],o,l,h,p);else{const y=oi(),E=kt(),O=bs();let R=Wu(s)?s:Ue(s.provide);const $=Jb(s),ce=1048575&O.providerIndexes,Ee=O.directiveStart,it=O.providerIndexes>>20;if(Wu(s)||!s.multi){const pt=new od($,p,Qg),Rt=$C(R,o,p?ce:ce+it,Ee);-1===Rt?(lc(pa(O,E),y,R),xv(y,s,o.length),o.push(R),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),l.push(pt),E.push(pt)):(l[Rt]=pt,E[Rt]=pt)}else{const pt=$C(R,o,ce+it,Ee),Rt=$C(R,o,ce,ce+it),vn=Rt>=0&&l[Rt];if(p&&!vn||!p&&!(pt>=0&&l[pt])){lc(pa(O,E),y,R);const Un=function AM(s,o,l,h,p){const y=new od(s,l,Qg);return y.multi=[],y.index=o,y.componentProviders=0,z0(y,p,h&&!l),y}(p?WC:MM,l.length,p,h,$);!p&&vn&&(l[Rt].providerFactory=Un),xv(y,s,o.length,0),o.push(R),O.directiveStart++,O.directiveEnd++,p&&(O.providerIndexes+=1048576),l.push(Un),E.push(Un)}else xv(y,s,pt>-1?pt:Rt,z0(l[p?Rt:pt],$,!p&&h));!p&&h&&vn&&l[Rt].componentProviders++}}}function xv(s,o,l,h){const p=Wu(o),y=function Dy(s){return!!s.useClass}(o);if(p||y){const R=(y?Ue(o.useClass):o).prototype.ngOnDestroy;if(R){const $=s.destroyHooks||(s.destroyHooks=[]);if(!p&&o.multi){const ce=$.indexOf(l);-1===ce?$.push(l,[h,R]):$[ce+1].push(h,R)}else $.push(l,R)}}}function z0(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function $C(s,o,l,h){for(let p=l;p<h;p++)if(o[p]===s)return p;return-1}function MM(s,o,l,h){return Rv(this.multi,[])}function WC(s,o,l,h){const p=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,O=Pc(l,l[Jt],this.providerFactory.index,h);y=O.slice(0,E),Rv(p,y);for(let R=E;R<O.length;R++)y.push(O[R])}else y=[],Rv(p,y);return y}function Rv(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function KC(s,o=[]){return l=>{l.providersResolver=(h,p)=>function HC(s,o,l){const h=oi();if(h.firstCreatePass){const p=Hr(s);Pv(l,h.data,h.blueprint,p,!0),Pv(o,h.data,h.blueprint,p,!1)}}(h,p?p(s):s,o)}}class ig{}class YC{}function ID(s,o){return new G0(s,o??null,[])}class G0 extends ig{constructor(o,l,h){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mw(this);const p=Tr(o);this._bootstrapComponents=Yu(p.bootstrap),this._r3Injector=ow(o,l,[{provide:ig,useValue:this},{provide:z_,useValue:this.componentFactoryResolver},...h],be(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class qC extends YC{constructor(o){super(),this.moduleType=o}create(o){return new G0(this.moduleType,o,[])}}class DD extends ig{constructor(o){super(),this.componentFactoryResolver=new Mw(this),this.instance=null;const l=new Ap([...o.providers,{provide:ig,useValue:this},{provide:z_,useValue:this.componentFactoryResolver}],o.parent||j_(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function SD(s,o,l=null){return new DD({providers:s,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let XC=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const h=Ef(0,l.type),p=h.length>0?SD([h],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,p)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Te({token:s,providedIn:"environment",factory:()=>new s(Qt(jc))})}}return s})();function H0(s){s.getStandaloneInjector=o=>o.get(XC).getOrCreateStandaloneInjector(s)}function q0(s,o,l){const h=Lr()+s,p=kt();return p[h]===yi?Ua(p,h,l?o.call(l):o()):function rv(s,o){return s[o]}(p,h)}function rg(s,o,l,h){return function PD(s,o,l,h,p,y){const E=o+l;return os(s,E,p)?Ua(s,E+1,y?h.call(y,p):h(p)):Lv(s,E+1)}(kt(),Lr(),s,o,l,h)}function t1(s,o,l,h,p){return Q0(kt(),Lr(),s,o,l,h,p)}function X0(s,o,l,h,p,y){return xD(kt(),Lr(),s,o,l,h,p,y)}function ND(s,o,l,h,p,y,E){return function Z0(s,o,l,h,p,y,E,O,R){const $=o+l;return function zc(s,o,l,h,p,y){const E=Ff(s,o,l,h);return Ff(s,o+2,p,y)||E}(s,$,p,y,E,O)?Ua(s,$+4,R?h.call(R,p,y,E,O):h(p,y,E,O)):Lv(s,$+4)}(kt(),Lr(),s,o,l,h,p,y,E)}function Lv(s,o){const l=s[o];return l===yi?void 0:l}function Q0(s,o,l,h,p,y,E){const O=o+l;return Ff(s,O,p,y)?Ua(s,O+2,E?h.call(E,p,y):h(p,y)):Lv(s,O+2)}function xD(s,o,l,h,p,y,E,O){const R=o+l;return function Bf(s,o,l,h,p){const y=Ff(s,o,l,h);return os(s,o+2,p)||y}(s,R,p,y,E)?Ua(s,R+3,O?h.call(O,p,y,E):h(p,y,E)):Lv(s,R+3)}function J0(s,o){const l=oi();let h;const p=s+Fn;l.firstCreatePass?(h=function kM(s,o){if(o)for(let l=o.length-1;l>=0;l--){const h=o[l];if(s===h.name)return h}}(o,l.pipeRegistry),l.data[p]=h,h.onDestroy&&(l.destroyHooks??=[]).push(p,h.onDestroy)):h=l.data[p];const y=h.factory||(h.factory=io(h.type)),O=Yt(Qg);try{const R=nu(!1),$=y();return nu(R),function h0(s,o,l,h){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=h}(l,kt(),p,$),$}finally{Yt(O)}}function o1(s,o,l,h){const p=s+Fn,y=kt(),E=Ro(y,p);return Fv(y,p)?Q0(y,Lr(),o,E.transform,l,h,E):E.transform(l,h)}function LD(s,o,l,h,p){const y=s+Fn,E=kt(),O=Ro(E,y);return Fv(E,y)?xD(E,Lr(),o,O.transform,l,h,p,O):O.transform(l,h,p)}function Fv(s,o){return s[Jt].data[o].pure}function l1(){return this._results[Symbol.iterator]()}class Bm{get changes(){return this._changes||(this._changes=new Yn)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Bm.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=l1)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const h=this;h.dirty=!1;const p=function Na(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function cf(s,o,l){if(s.length!==o.length)return!1;for(let h=0;h<s.length;h++){let p=s[h],y=o[h];if(l&&(p=l(p),y=l(y)),y!==p)return!1}return!0}(h._results,p,l))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jm(s,o,l,h=!0){const p=o[Jt];if(function Cp(s,o,l,h){const p=Gr+h,y=l.length;h>0&&(l[p-1][Ds]=o),h<y-Gr?(o[Ds]=l[p],cy(l,Gr+h,o)):(l.push(o),o[Ds]=null),o[di]=l;const E=o[aa];null!==E&&l!==E&&function Og(s,o){const l=s[Os];o[Ui]!==o[di][di][Ui]&&(s[go]=!0),null===l?s[Os]=[o]:l.push(o)}(E,o);const O=o[Fs];null!==O&&O.insertView(s),o[Kn]|=128}(p,o,s,l),h){const y=Lg(l,s),E=o[Tn],O=I_(E,s[As]);null!==O&&function bp(s,o,l,h,p,y){h[Yi]=p,h[kr]=o,Dp(s,h,l,1,p,y)}(p,s[kr],E,o,O,y)}}let sg=(()=>{class s{static{this.__NG_ELEMENT_ID__=BD}}return s})();const FD=sg,Vm=class extends FD{constructor(o,l,h){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=h}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,h){const p=function c1(s,o,l,h){const p=o.tView,O=Wy(s,p,l,4096&s[Kn]?4096:16,null,o,null,null,null,h?.injector??null,h?.hydrationInfo??null);O[aa]=s[o.index];const $=s[Fs];return null!==$&&(O[Fs]=$.createEmbeddedView(p)),e0(p,O,l),O}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:h});return new Hp(p)}};function BD(){return og(bs(),kt())}function og(s,o){return 4&s.type?new Vm(o,s,$g(s,o)):null}let Um=(()=>{class s{static{this.__NG_ELEMENT_ID__=rb}}return s})();function rb(){return ob(bs(),kt())}const h1=Um,f1=class extends h1{constructor(o,l,h){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=h}get element(){return $g(this._hostTNode,this._hostLView)}get injector(){return new qs(this._hostTNode,this._hostLView)}get parentInjector(){const o=Xa(this._hostTNode,this._hostLView);if(tu(o)){const l=Oc(o,this._hostLView),h=Ac(o);return new qs(l[Jt].data[h+8],l)}return new qs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Bv(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Gr}createEmbeddedView(o,l,h){let p,y;"number"==typeof h?p=h:null!=h&&(p=h.index,y=h.injector);const O=o.createEmbeddedViewImpl(l||{},y,null);return this.insertImpl(O,p,false),O}createComponent(o,l,h,p,y){const E=o&&!function Oa(s){return"function"==typeof s}(o);let O;if(E)O=l;else{const Zt=l||{};O=Zt.index,h=Zt.injector,p=Zt.projectableNodes,y=Zt.environmentInjector||Zt.ngModuleRef}const R=E?o:new J_(Wn(o)),$=h||this.parentInjector;if(!y&&null==R.ngModule){const vn=(E?$:this.parentInjector).get(jc,null);vn&&(y=vn)}Wn(R.componentType??{});const pt=R.create($,p,null,y);return this.insertImpl(pt.hostView,O,false),pt}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,h){const p=o._lView;if(function vo(s){return hr(s[di])}(p)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const $=p[di],ce=new f1($,$[kr],$[di]);ce.detach(ce.indexOf(o))}}const E=this._adjustIndex(l),O=this._lContainer;return jm(O,p,E,!h),o.attachToViewContainerRef(),cy(sb(O),E,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Bv(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),h=C_(this._lContainer,l);h&&(Lu(sb(this._lContainer),l),Pg(h[Jt],h))}detach(o){const l=this._adjustIndex(o,-1),h=C_(this._lContainer,l);return h&&null!=Lu(sb(this._lContainer),l)?new Hp(h):null}_adjustIndex(o,l=0){return o??this.length+l}};function Bv(s){return s[8]}function sb(s){return s[8]||(s[8]=[])}function ob(s,o){let l;const h=o[s.index];return hr(h)?l=h:(l=Qy(h,o,null,s),o[s.index]=l,xd(o,l)),ag(l,o,s,h),new f1(l,s,o)}let ag=function ab(s,o,l,h){if(s[As])return;let p;p=8&l.type?Li(h):function zD(s,o){const l=s[Tn],h=l.createComment(""),p=_o(o,s);return Sd(l,I_(l,p),h,function my(s,o){return s.nextSibling(o)}(l,p),!1),h}(o,l),s[As]=p};class p1{constructor(o){this.queryList=o,this.matches=null}clone(){return new p1(this.queryList)}setDirty(){this.queryList.setDirty()}}class lb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const h=null!==o.contentQueries?o.contentQueries[0]:l.length,p=[];for(let y=0;y<h;y++){const E=l.getByIndex(y);p.push(this.queries[E.indexInDeclarationView].clone())}return new lb(p)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==C1(o,l).matches&&this.queries[l].setDirty()}}class GD{constructor(o,l,h=null){this.predicate=o,this.flags=l,this.read=h}}class cb{constructor(o=[]){this.queries=o}elementStart(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let h=0;h<this.length;h++){const p=null!==l?l.length:0,y=this.getByIndex(h).embeddedTView(o,p);y&&(y.indexInDeclarationView=h,null!==l?l.push(y):l=[y])}return null!==l?new cb(l):null}template(o,l){for(let h=0;h<this.queries.length;h++)this.queries[h].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class g1{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new g1(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let h=o.parent;for(;null!==h&&8&h.type&&h.index!==l;)h=h.parent;return l===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const y=h[p];this.matchTNodeWithReadOption(o,l,UM(l,y)),this.matchTNodeWithReadOption(o,l,ru(l,o,y,!1,!1))}else h===sg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ru(l,o,h,!1,!1))}matchTNodeWithReadOption(o,l,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Tf||p===Um||p===sg&&4&l.type)this.addMatch(l.index,-2);else{const y=ru(l,o,p,!1,!1);null!==y&&this.addMatch(l.index,y)}else this.addMatch(l.index,h)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function UM(s,o){const l=s.localNames;if(null!==l)for(let h=0;h<l.length;h+=2)if(l[h]===o)return l[h+1];return null}function GM(s,o,l,h){return-1===l?function zM(s,o){return 11&s.type?$g(s,o):4&s.type?og(s,o):null}(o,s):-2===l?function HD(s,o,l){return l===Tf?$g(o,s):l===sg?og(o,s):l===Um?ob(o,s):void 0}(s,o,h):Pc(s,s[Jt],l,o)}function m1(s,o,l,h){const p=o[Fs].queries[h];if(null===p.matches){const y=s.data,E=l.matches,O=[];for(let R=0;R<E.length;R+=2){const $=E[R];O.push($<0?null:GM(o,y[$],E[R+1],l.metadata.read))}p.matches=O}return p.matches}function jv(s,o,l,h){const p=s.queries.getByIndex(l),y=p.matches;if(null!==y){const E=m1(s,o,p,l);for(let O=0;O<y.length;O+=2){const R=y[O];if(R>0)h.push(E[O/2]);else{const $=y[O+1],ce=o[-R];for(let Ee=Gr;Ee<ce.length;Ee++){const it=ce[Ee];it[aa]===it[di]&&jv(it[Jt],it,$,h)}if(null!==ce[Os]){const Ee=ce[Os];for(let it=0;it<Ee.length;it++){const pt=Ee[it];jv(pt[Jt],pt,$,h)}}}}}return h}function _1(s){const o=kt(),l=oi(),h=Zn();Zi(h+1);const p=C1(l,h);if(s.dirty&&function fl(s){return 4==(4&s[Kn])}(o)===(2==(2&p.metadata.flags))){if(null===p.matches)s.reset([]);else{const y=p.crossesNgTemplate?jv(l,o,h,[]):m1(l,o,p,h);s.reset(y,PT),s.notifyOnChanges()}return!0}return!1}function v1(s,o,l){const h=oi();h.firstCreatePass&&(w1(h,new GD(s,o,l),-1),2==(2&o)&&(h.staticViewQueries=!0)),b1(h,kt(),o)}function y1(s,o,l,h){const p=oi();if(p.firstCreatePass){const y=bs();w1(p,new GD(o,l,h),y.index),function Uv(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(p,s),2==(2&l)&&(p.staticContentQueries=!0)}b1(p,kt(),l)}function Vv(){return function tr(s,o){return s[Fs].queries[o].queryList}(kt(),Zn())}function b1(s,o,l){const h=new Bm(4==(4&l));(function Of(s,o,l,h){const p=Cw(o);p.push(l),s.firstCreatePass&&Ew(s).push(h,p.length-1)})(s,o,h,h.destroy),null===o[Fs]&&(o[Fs]=new lb),o[Fs].queries.push(new p1(h))}function w1(s,o,l){null===s.queries&&(s.queries=new cb),s.queries.track(new g1(o,l))}function C1(s,o){return s.queries.getByIndex(o)}function ks(s,o){return og(s,o)}function I1(s){return!!Tr(s)}const vb=new Kt("Application Initializer");let ug=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=ln(vb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const p of this.appInits){const y=p();if(mu(y))l.push(y);else if(g0(y)){const E=new Promise((O,R)=>{y.subscribe({complete:O,error:R})});l.push(E)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{h()}).catch(p=>{this.reject(p)}),0===l.length&&h(),this.initialized=!0}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Uh=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"platform"})}}return s})();const yb=new Kt("LocaleId",{providedIn:"root",factory:()=>ln(yb,We.Optional|We.SkipSelf)||function Hv(){return typeof $localize<"u"&&$localize.locale||Mm}()}),Wm=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let aS=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.t(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class bb{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let eA=(()=>{class s{compileModuleSync(l){return new qC(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const h=this.compileModuleSync(l),y=Yu(Tr(l).declarations).reduce((E,O)=>{const R=Wn(O);return R&&E.push(new J_(R)),E},[]);return new bb(h,y)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const gS=new Kt(""),mS=new Kt("");let L1,lA=(()=>{class s{constructor(l,h,p){this._ngZone=l,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,L1||(function _S(s){L1=s}(p),p.addToWindow(h)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(l)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,h,p){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),l(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:l,timeoutId:y,updateCb:p})}whenStable(l,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,h,p){return[]}static{this.\u0275fac=function(h){return new(h||s)(Qt(wn),Qt(k1),Qt(mS))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac})}}return s})(),k1=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,h){this._applications.set(l,h)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,h=!0){return L1?.findTestabilityInTree(this,l,h)??null}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"platform"})}}return s})(),qf=null;const F1=new Kt("AllowMultipleToken"),B1=new Kt("PlatformDestroyListeners"),Xf=new Kt("appBootstrapListener");class uA{constructor(o,l){this.name=o,this.token=l}}function pA(s,o,l=[]){const h=`Platform: ${o}`,p=new Kt(h);return(y=[])=>{let E=V1();if(!E||E.injector.get(F1,!1)){const O=[...l,...y,{provide:p,useValue:!0}];s?s(O):function dA(s){if(qf&&!qf.get(F1,!1))throw new ge(400,!1);(function vS(){!function Cc(s){Kc=s}(()=>{throw new ge(600,!1)})})(),qf=s;const o=s.get(gA);(function fA(s){s.get(LE,null)?.forEach(l=>l())})(s)}(function yS(s=[],o){return Ku.create({name:o,providers:[{provide:Ug,useValue:"platform"},{provide:B1,useValue:new Set([()=>qf=null])},...s]})}(O,h))}return function DN(s){const o=V1();if(!o)throw new ge(401,!1);return o}()}}function V1(){return qf?.get(gA)??null}let gA=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,h){const p=function wS(s="zone.js",o){return"noop"===s?new jp:"zone.js"===s?new wn(o):s}(h?.ngZone,function bS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return p.run(()=>{const y=function NM(s,o,l){return new G0(s,o,l)}(l.moduleType,this.injector,function vA(s){return[{provide:wn,useFactory:s},{provide:Md,multi:!0,useFactory:()=>{const o=ln(_A,{optional:!0});return()=>o.initialize()}},{provide:IS,useFactory:mA},{provide:QE,useFactory:W_}]}(()=>p)),E=y.injector.get(Mf,null);return p.runOutsideAngular(()=>{const O=p.onError.subscribe({next:R=>{E.handleError(R)}});y.onDestroy(()=>{Eb(this._modules,y),O.unsubscribe()})}),function Hh(s,o,l){try{const h=l();return mu(h)?h.catch(p=>{throw o.runOutsideAngular(()=>s.handleError(p)),p}):h}catch(h){throw o.runOutsideAngular(()=>s.handleError(h)),h}}(E,p,()=>{const O=y.injector.get(ug);return O.runInitializers(),O.donePromise.then(()=>(gC(y.injector.get(yb,Mm)||Mm),this._moduleDoBootstrap(y),y))})})}bootstrapModule(l,h=[]){const p=CS({},h);return function j1(s,o,l){const h=new qC(l);return Promise.resolve(h)}(0,0,l).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(l){const h=l.injector.get(Ym);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new ge(-403,!1);l.instance.ngDoBootstrap(h)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const l=this._injector.get(B1,null);l&&(l.forEach(h=>h()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(h){return new(h||s)(Qt(Ku))}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"platform"})}}return s})();function CS(s,o){return Array.isArray(o)?o.reduce(CS,s):{...s,...o}}let Ym=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ln(IS),this.zoneIsStable=ln(QE),this.componentTypes=[],this.components=[],this.isStable=ln(aS).hasPendingTasks.pipe((0,Me.n)(l=>l?(0,ve.of)(!1):this.zoneIsStable),(0,me.F)(),(0,Ie.u)()),this._injector=ln(jc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,h){const p=l instanceof Lp;if(!this._injector.get(ug).done)throw!p&&Is(l),new ge(405,!1);let E;E=p?l:this._injector.get(z_).resolveComponentFactory(l),this.componentTypes.push(E.componentType);const O=function cA(s){return s.isBoundToModule}(E)?void 0:this._injector.get(ig),$=E.create(Ku.NULL,[],h||E.selector,O),ce=$.location.nativeElement,Ee=$.injector.get(gS,null);return Ee?.registerApplication(ce),$.onDestroy(()=>{this.detachView($.hostView),Eb(this.components,$),Ee?.unregisterApplication(ce)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const h=l;this._views.push(h),h.attachToAppRef(this)}detachView(l){const h=l;Eb(this._views,h),h.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const h=this._injector.get(Xf,[]);h.push(...this._bootstrapListeners),h.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Eb(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ge(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Eb(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}const IS=new Kt("",{providedIn:"root",factory:()=>ln(Mf).handleError.bind(void 0)});function mA(){const s=ln(wn),o=ln(Mf);return l=>s.runOutsideAngular(()=>o.handleError(l))}let _A=(()=>{class s{constructor(){this.zone=ln(wn),this.applicationRef=ln(Ym)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(h){return new(h||s)}}static{this.\u0275prov=Te({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function yA(){return!1}let Wv=(()=>{class s{static{this.__NG_ELEMENT_ID__=z1}}return s})();function z1(s){return function wA(s,o,l){if(Pn(s)&&!l){const h=ko(s.index,o);return new Hp(h,h)}return 47&s.type?new Hp(o[Ui],o):null}(bs(),kt(),16==(16&s))}class MS{constructor(){}supports(o){return lm(o)}create(o){return new SA(o)}}const DA=(s,o)=>o;class SA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DA}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,h=this._removalsHead,p=0,y=null;for(;l||h;){const E=!h||l&&l.currentIndex<Yv(h,p,y)?l:h,O=Yv(E,p,y),R=E.currentIndex;if(E===h)p--,h=h._nextRemoved;else if(l=l._next,null==E.previousIndex)p++;else{y||(y=[]);const $=O-p,ce=R-p;if($!=ce){for(let it=0;it<$;it++){const pt=it<y.length?y[it]:y[it]=0,Rt=pt+it;ce<=Rt&&Rt<$&&(y[it]=pt+1)}y[E.previousIndex]=ce-$}}O!==R&&o(E,O,R)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!lm(o))throw new ge(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let p,y,E,l=this._itHead,h=!1;if(Array.isArray(o)){this.length=o.length;for(let O=0;O<this.length;O++)y=o[O],E=this._trackByFn(O,y),null!==l&&Object.is(l.trackById,E)?(h&&(l=this._verifyReinsertion(l,y,E,O)),Object.is(l.item,y)||this._addIdentityChange(l,y)):(l=this._mismatch(l,y,E,O),h=!0),l=l._next}else p=0,function yI(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let h;for(;!(h=l.next()).done;)o(h.value)}}(o,O=>{E=this._trackByFn(p,O),null!==l&&Object.is(l.trackById,E)?(h&&(l=this._verifyReinsertion(l,O,E,p)),Object.is(l.item,O)||this._addIdentityChange(l,O)):(l=this._mismatch(l,O,E,p),h=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,h,p){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,y,p)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,y,p)):o=this._addAfter(new AS(l,h),y,p),o}_verifyReinsertion(o,l,h,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?o=this._reinsertAfter(y,o._prev,p):o.currentIndex!=p&&(o.currentIndex=p,this._addToMoves(o,p)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const p=o._prevRemoved,y=o._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(o,l,h),this._addToMoves(o,h),o}_moveAfter(o,l,h){return this._unlink(o),this._insertAfter(o,l,h),this._addToMoves(o,h),o}_addAfter(o,l,h){return this._insertAfter(o,l,h),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,h){const p=null===l?this._itHead:l._next;return o._next=p,o._prev=l,null===p?this._itTail=o:p._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Ib),this._linkedRecords.put(o),o.currentIndex=h,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,h=o._next;return null===l?this._itHead=h:l._next=h,null===h?this._itTail=l:h._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ib),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class AS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===l||l<=h.currentIndex)&&Object.is(h.trackById,o))return h;return null}remove(o){const l=o._prevDup,h=o._nextDup;return null===l?this._head=h:l._nextDup=h,null===h?this._tail=l:h._prevDup=l,null===this._head}}class Ib{constructor(){this.map=new Map}put(o){const l=o.trackById;let h=this.map.get(l);h||(h=new TA,this.map.set(l,h)),h.add(o)}get(o,l){const p=this.map.get(o);return p?p.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yv(s,o,l){const h=s.previousIndex;if(null===h)return h;let p=0;return l&&h<l.length&&(p=l[h]),h+o+p}class W1{constructor(){}supports(o){return o instanceof Map||s0(o)}create(){return new MA}}class MA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||s0(o)))throw new ge(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(h,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,h),this._appendAfter=l,l=l._next;else{const y=this._getOrCreateRecordForKey(p,h);l=this._insertBeforeOrAppend(l,y)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let h=l;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const h=o._prev;return l._next=o,l._prev=h,o._prev=l,h&&(h._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const p=this._records.get(o);this._maybeAddToChanges(p,l);const y=p._prev,E=p._next;return y&&(y._next=E),E&&(E._prev=y),p._next=null,p._prev=null,p}const h=new K1(o);return this._records.set(o,h),h.currentValue=l,this._addToAdditions(h),h}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(h=>l(o[h],h))}}class K1{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OS(){return new Db([new MS])}let Db=(()=>{class s{static{this.\u0275prov=Te({token:s,providedIn:"root",factory:OS})}constructor(l){this.factories=l}static create(l,h){if(null!=h){const p=h.factories.slice();l=l.concat(p)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||OS()),deps:[[s,new ch,new md]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(null!=h)return h;throw new ge(901,!1)}}return s})();function Y1(){return new q1([new W1])}let q1=(()=>{class s{static{this.\u0275prov=Te({token:s,providedIn:"root",factory:Y1})}constructor(l){this.factories=l}static create(l,h){if(h){const p=h.factories.slice();l=l.concat(p)}return new s(l)}static extend(l){return{provide:s,useFactory:h=>s.create(l,h||Y1()),deps:[[s,new ch,new md]]}}find(l){const h=this.factories.find(p=>p.supports(l));if(h)return h;throw new ge(901,!1)}}return s})();const xS=pA(null,"core",[]);let OA=(()=>{class s{constructor(l){}static{this.\u0275fac=function(h){return new(h||s)(Qt(Ym))}}static{this.\u0275mod=ba({type:s})}static{this.\u0275inj=Dt({})}}return s})();function $d(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function zS(s,o){const l=Wn(s),h=o.elementInjector||j_();return new J_(l).create(h,o.projectableNodes,o.hostElement,o.environmentInjector)}function Ga(s){const o=Wn(s);if(!o)return null;const l=new J_(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},9417:(Bt,He,P)=>{P.d(He,{BC:()=>st,JD:()=>Jt,X1:()=>Tl,YN:()=>cl,YS:()=>Ms,cV:()=>ur,cb:()=>St,cz:()=>Ve,j4:()=>Tr,k0:()=>mt,kq:()=>Me,me:()=>$e,ok:()=>Hr,qT:()=>$o,vO:()=>Dt,vS:()=>dr,xq:()=>Ws});var u=P(7705),ae=P(177),c=P(8455),te=P(7468),fe=P(6354);let ve=(()=>{class q{constructor(V,he){this._renderer=V,this._elementRef=he,this.onChange=Le=>{},this.onTouched=()=>{}}setProperty(V,he){this._renderer.setProperty(this._elementRef.nativeElement,V,he)}registerOnTouched(V){this.onTouched=V}registerOnChange(V){this.onChange=V}setDisabledState(V){this.setProperty("disabled",V)}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(u.sFG),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:q})}}return q})(),Ie=(()=>{class q extends ve{static{this.\u0275fac=function(){let V;return function(Le){return(V||(V=u.xGo(q)))(Le||q)}}()}static{this.\u0275dir=u.FsC({type:q,features:[u.Vt3]})}}return q})();const Me=new u.nKC("NgValueAccessor"),ue={provide:Me,useExisting:(0,u.Rfq)(()=>$e),multi:!0},Ge=new u.nKC("CompositionEventMode");let $e=(()=>{class q extends ve{constructor(V,he,Le){super(V,he),this._compositionMode=Le,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function be(){const q=(0,ae.QT)()?(0,ae.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(V){this.setProperty("value",V??"")}_handleInput(V){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(V)}_compositionStart(){this._composing=!0}_compositionEnd(V){this._composing=!1,this._compositionMode&&this.onChange(V)}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ge,8))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(he,Le){1&he&&u.bIt("input",function(Xn){return Le._handleInput(Xn.target.value)})("blur",function(){return Le.onTouched()})("compositionstart",function(){return Le._compositionStart()})("compositionend",function(Xn){return Le._compositionEnd(Xn.target.value)})},features:[u.Jv_([ue]),u.Vt3]})}}return q})();function ot(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}function Ue(q){return null!=q&&"number"==typeof q.length}const Ve=new u.nKC("NgValidators"),Ze=new u.nKC("NgAsyncValidators"),at=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mt{static min(Z){return function ge(q){return Z=>{if(ot(Z.value)||ot(q))return null;const V=parseFloat(Z.value);return!isNaN(V)&&V<q?{min:{min:q,actual:Z.value}}:null}}(Z)}static max(Z){return function ke(q){return Z=>{if(ot(Z.value)||ot(q))return null;const V=parseFloat(Z.value);return!isNaN(V)&&V>q?{max:{max:q,actual:Z.value}}:null}}(Z)}static required(Z){return De(Z)}static requiredTrue(Z){return Se(Z)}static email(Z){return function Ce(q){return ot(q.value)||at.test(q.value)?null:{email:!0}}(Z)}static minLength(Z){return function Ke(q){return Z=>ot(Z.value)||!Ue(Z.value)?null:Z.value.length<q?{minlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function Ae(q){return Z=>Ue(Z.value)&&Z.value.length>q?{maxlength:{requiredLength:q,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Pt(q){if(!q)return Vt;let Z,V;return"string"==typeof q?(V="","^"!==q.charAt(0)&&(V+="^"),V+=q,"$"!==q.charAt(q.length-1)&&(V+="$"),Z=new RegExp(V)):(V=q.toString(),Z=q),he=>{if(ot(he.value))return null;const Le=he.value;return Z.test(Le)?null:{pattern:{requiredPattern:V,actualValue:Le}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return Sn(Z)}static composeAsync(Z){return ye(Z)}}function De(q){return ot(q.value)?{required:!0}:null}function Se(q){return!0===q.value?null:{required:!0}}function Vt(q){return null}function zt(q){return null!=q}function zn(q){return(0,u.jNT)(q)?(0,c.H)(q):q}function gi(q){let Z={};return q.forEach(V=>{Z=null!=V?{...Z,...V}:Z}),0===Object.keys(Z).length?null:Z}function si(q,Z){return Z.map(V=>V(q))}function ji(q){return q.map(Z=>function mr(q){return!q.validate}(Z)?Z:V=>Z.validate(V))}function Sn(q){if(!q)return null;const Z=q.filter(zt);return 0==Z.length?null:function(V){return gi(si(V,Z))}}function Cn(q){return null!=q?Sn(ji(q)):null}function ye(q){if(!q)return null;const Z=q.filter(zt);return 0==Z.length?null:function(V){const he=si(V,Z).map(zn);return(0,te.p)(he).pipe((0,fe.T)(gi))}}function je(q){return null!=q?ye(ji(q)):null}function ze(q,Z){return null===q?[Z]:Array.isArray(q)?[...q,Z]:[q,Z]}function Fe(q){return q._rawValidators}function wt(q){return q._rawAsyncValidators}function rt(q){return q?Array.isArray(q)?q:[q]:[]}function Qe(q,Z){return Array.isArray(q)?q.includes(Z):q===Z}function It(q,Z){const V=rt(Z);return rt(q).forEach(Le=>{Qe(V,Le)||V.push(Le)}),V}function se(q,Z){return rt(Z).filter(V=>!Qe(q,V))}class Te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Cn(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=je(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,V){return!!this.control&&this.control.hasError(Z,V)}getError(Z,V){return this.control?this.control.getError(Z,V):null}}class nt extends Te{get formDirective(){return null}get path(){return null}}class Dt extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jt{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let st=(()=>{class q extends jt{constructor(V){super(V)}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(Dt,2))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(he,Le){2&he&&u.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)},features:[u.Vt3]})}}return q})(),St=(()=>{class q extends jt{constructor(V){super(V)}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(nt,10))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(he,Le){2&he&&u.AVh("ng-untouched",Le.isUntouched)("ng-touched",Le.isTouched)("ng-pristine",Le.isPristine)("ng-dirty",Le.isDirty)("ng-valid",Le.isValid)("ng-invalid",Le.isInvalid)("ng-pending",Le.isPending)("ng-submitted",Le.isSubmitted)},features:[u.Vt3]})}}return q})();const Oi="VALID",ls="INVALID",Ci="PENDING",_r="DISABLED";function Wi(q){return(ci(q)?q.validators:q)||null}function ir(q,Z){return(ci(Z)?Z.asyncValidators:q)||null}function ci(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}function Fi(q,Z,V){const he=q.controls;if(!(Z?Object.keys(he):he).length)throw new u.wOt(1e3,"");if(!he[V])throw new u.wOt(1001,"")}function Vi(q,Z,V){q._forEachChild((he,Le)=>{if(void 0===V[Le])throw new u.wOt(1002,"")})}class oe{constructor(Z,V){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(V)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Oi}get invalid(){return this.status===ls}get pending(){return this.status==Ci}get disabled(){return this.status===_r}get enabled(){return this.status!==_r}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(It(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(It(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(se(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(se(Z,this._rawAsyncValidators))}hasValidator(Z){return Qe(this._rawValidators,Z)}hasAsyncValidator(Z){return Qe(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(V=>{V.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(V=>{V.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=Ci,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const V=this._parentMarkedDirty(Z.onlySelf);this.status=_r,this.errors=null,this._forEachChild(he=>{he.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:V}),this._onDisabledChange.forEach(he=>he(!0))}enable(Z={}){const V=this._parentMarkedDirty(Z.onlySelf);this.status=Oi,this._forEachChild(he=>{he.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:V}),this._onDisabledChange.forEach(he=>he(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oi||this.status===Ci)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(V=>V._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_r:Oi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=Ci,this._hasOwnPendingAsyncValidator=!0;const V=zn(this.asyncValidator(this));this._asyncValidationSubscription=V.subscribe(he=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(he,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,V={}){this.errors=Z,this._updateControlsErrors(!1!==V.emitEvent)}get(Z){let V=Z;return null==V||(Array.isArray(V)||(V=V.split(".")),0===V.length)?null:V.reduce((he,Le)=>he&&he._find(Le),this)}getError(Z,V){const he=V?this.get(V):this;return he&&he.errors?he.errors[Z]:null}hasError(Z,V){return!!this.getError(Z,V)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?_r:this.errors?ls:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ci)?Ci:this._anyControlsHaveStatus(ls)?ls:Oi}_anyControlsHaveStatus(Z){return this._anyControls(V=>V.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){ci(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function Ki(q){return Array.isArray(q)?Cn(q):q||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function Ls(q){return Array.isArray(q)?je(q):q||null}(this._rawAsyncValidators)}}class J extends oe{constructor(Z,V,he){super(Wi(V),ir(he,V)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,V){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=V,V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange),V)}addControl(Z,V,he={}){this.registerControl(Z,V),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}removeControl(Z,V={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}setControl(Z,V,he={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],V&&this.registerControl(Z,V),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,V={}){Vi(this,0,Z),Object.keys(Z).forEach(he=>{Fi(this,!0,he),this.controls[he].setValue(Z[he],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(Z,V={}){null!=Z&&(Object.keys(Z).forEach(he=>{const Le=this.controls[he];Le&&Le.patchValue(Z[he],{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(Z={},V={}){this._forEachChild((he,Le)=>{he.reset(Z?Z[Le]:null,{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this._reduceChildren({},(Z,V,he)=>(Z[he]=V.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(V,he)=>!!he._syncPendingControls()||V);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(V=>{const he=this.controls[V];he&&Z(he,V)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[V,he]of Object.entries(this.controls))if(this.contains(V)&&Z(he))return!0;return!1}_reduceValue(){return this._reduceChildren({},(V,he,Le)=>((he.enabled||this.disabled)&&(V[Le]=he.value),V))}_reduceChildren(Z,V){let he=Z;return this._forEachChild((Le,_n)=>{he=V(he,Le,_n)}),he}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}class W extends J{}const lt=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>xt}),xt="always";function Qt(q,Z){return[...Z.path,q]}function rn(q,Z,V=xt){cr(q,Z),Z.valueAccessor.writeValue(q.value),(q.disabled||"always"===V)&&Z.valueAccessor.setDisabledState?.(q.disabled),function lo(q,Z){Z.valueAccessor.registerOnChange(V=>{q._pendingValue=V,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&ft(q,Z)})}(q,Z),function Ut(q,Z){const V=(he,Le)=>{Z.valueAccessor.writeValue(he),Le&&Z.viewToModelUpdate(he)};q.registerOnChange(V),Z._registerOnDestroy(()=>{q._unregisterOnChange(V)})}(q,Z),function At(q,Z){Z.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&ft(q,Z),"submit"!==q.updateOn&&q.markAsTouched()})}(q,Z),function mi(q,Z){if(Z.valueAccessor.setDisabledState){const V=he=>{Z.valueAccessor.setDisabledState(he)};q.registerOnDisabledChange(V),Z._registerOnDestroy(()=>{q._unregisterOnDisabledChange(V)})}}(q,Z)}function ln(q,Z,V=!0){const he=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(he),Z.valueAccessor.registerOnTouched(he)),Er(q,Z),q&&(Z._invokeOnDestroyCallbacks(),q._registerOnCollectionChange(()=>{}))}function sn(q,Z){q.forEach(V=>{V.registerOnValidatorChange&&V.registerOnValidatorChange(Z)})}function cr(q,Z){const V=Fe(q);null!==Z.validator?q.setValidators(ze(V,Z.validator)):"function"==typeof V&&q.setValidators([V]);const he=wt(q);null!==Z.asyncValidator?q.setAsyncValidators(ze(he,Z.asyncValidator)):"function"==typeof he&&q.setAsyncValidators([he]);const Le=()=>q.updateValueAndValidity();sn(Z._rawValidators,Le),sn(Z._rawAsyncValidators,Le)}function Er(q,Z){let V=!1;if(null!==q){if(null!==Z.validator){const Le=Fe(q);if(Array.isArray(Le)&&Le.length>0){const _n=Le.filter(Xn=>Xn!==Z.validator);_n.length!==Le.length&&(V=!0,q.setValidators(_n))}}if(null!==Z.asyncValidator){const Le=wt(q);if(Array.isArray(Le)&&Le.length>0){const _n=Le.filter(Xn=>Xn!==Z.asyncValidator);_n.length!==Le.length&&(V=!0,q.setAsyncValidators(_n))}}}const he=()=>{};return sn(Z._rawValidators,he),sn(Z._rawAsyncValidators,he),V}function ft(q,Z){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function cn(q,Z){cr(q,Z)}function Rr(q,Z){if(!q.hasOwnProperty("model"))return!1;const V=q.model;return!!V.isFirstChange()||!Object.is(Z,V.currentValue)}function ra(q,Z){q._syncPendingControls(),Z.forEach(V=>{const he=V.control;"submit"===he.updateOn&&he._pendingChange&&(V.viewToModelUpdate(he._pendingValue),he._pendingChange=!1)})}function Oo(q,Z){if(!Z)return null;let V,he,Le;return Array.isArray(Z),Z.forEach(_n=>{_n.constructor===$e?V=_n:function Ao(q){return Object.getPrototypeOf(q.constructor)===Ie}(_n)?he=_n:Le=_n}),Le||he||V||null}const Dr={provide:nt,useExisting:(0,u.Rfq)(()=>ur)},ki=(()=>Promise.resolve())();let ur=(()=>{class q extends nt{constructor(V,he,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.bkB,this.form=new J({},Cn(V),je(he))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(V){ki.then(()=>{const he=this._findContainer(V.path);V.control=he.registerControl(V.name,V.control),rn(V.control,V,this.callSetDisabledState),V.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(V)})}getControl(V){return this.form.get(V.path)}removeControl(V){ki.then(()=>{const he=this._findContainer(V.path);he&&he.removeControl(V.name),this._directives.delete(V)})}addFormGroup(V){ki.then(()=>{const he=this._findContainer(V.path),Le=new J({});cn(Le,V),he.registerControl(V.name,Le),Le.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(V){ki.then(()=>{const he=this._findContainer(V.path);he&&he.removeControl(V.name)})}getFormGroup(V){return this.form.get(V.path)}updateModel(V,he){ki.then(()=>{this.form.get(V.path).setValue(he)})}setValue(V){this.control.setValue(V)}onSubmit(V){return this.submitted=!0,ra(this.form,this._directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(V){return V.pop(),V.length?this.form.get(V):this.form}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(Ve,10),u.rXU(Ze,10),u.rXU(lt,8))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(he,Le){1&he&&u.bIt("submit",function(Xn){return Le.onSubmit(Xn)})("reset",function(){return Le.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([Dr]),u.Vt3]})}}return q})();function Ti(q,Z){const V=q.indexOf(Z);V>-1&&q.splice(V,1)}function rr(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}const Es=class extends oe{constructor(Z=null,V,he){super(Wi(V),ir(he,V)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(V),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ci(V)&&(V.nonNullable||V.initialValueIsDefault)&&(this.defaultValue=rr(Z)?Z.value:Z)}setValue(Z,V={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==V.emitModelToViewChange&&this._onChange.forEach(he=>he(this.value,!1!==V.emitViewToModelChange)),this.updateValueAndValidity(V)}patchValue(Z,V={}){this.setValue(Z,V)}reset(Z=this.defaultValue,V={}){this._applyFormState(Z),this.markAsPristine(V),this.markAsUntouched(V),this.setValue(this.value,V),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Ti(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Ti(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){rr(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},Ho={provide:Dt,useExisting:(0,u.Rfq)(()=>dr)},_s=(()=>Promise.resolve())();let dr=(()=>{class q extends Dt{constructor(V,he,Le,_n,Xn,ua){super(),this._changeDetectorRef=Xn,this.callSetDisabledState=ua,this.control=new Es,this._registered=!1,this.name="",this.update=new u.bkB,this._parent=V,this._setValidators(he),this._setAsyncValidators(Le),this.valueAccessor=Oo(0,_n)}ngOnChanges(V){if(this._checkForErrors(),!this._registered||"name"in V){if(this._registered&&(this._checkName(),this.formDirective)){const he=V.name.previousValue;this.formDirective.removeControl({name:he,path:this._getPath(he)})}this._setUpControl()}"isDisabled"in V&&this._updateDisabled(V),Rr(V,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){rn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(V){_s.then(()=>{this.control.setValue(V,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(V){const he=V.isDisabled.currentValue,Le=0!==he&&(0,u.L39)(he);_s.then(()=>{Le&&!this.control.disabled?this.control.disable():!Le&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(V){return this._parent?Qt(V,this._parent):[V]}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(nt,9),u.rXU(Ve,10),u.rXU(Ze,10),u.rXU(Me,10),u.rXU(u.gRc,8),u.rXU(lt,8))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Jv_([Ho]),u.Vt3,u.OA$]})}}return q})(),$o=(()=>{class q{static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275dir=u.FsC({type:q,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return q})(),ba=(()=>{class q{static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275mod=u.$C({type:q})}static{this.\u0275inj=u.G2t({})}}return q})();const Wn=new u.nKC("NgModelWithFormControlWarning"),Is={provide:nt,useExisting:(0,u.Rfq)(()=>Tr)};let Tr=(()=>{class q extends nt{constructor(V,he,Le){super(),this.callSetDisabledState=Le,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.bkB,this._setValidators(V),this._setAsyncValidators(he)}ngOnChanges(V){this._checkFormPresent(),V.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(V){const he=this.form.get(V.path);return rn(he,V,this.callSetDisabledState),he.updateValueAndValidity({emitEvent:!1}),this.directives.push(V),he}getControl(V){return this.form.get(V.path)}removeControl(V){ln(V.control||null,V,!1),function Uo(q,Z){const V=q.indexOf(Z);V>-1&&q.splice(V,1)}(this.directives,V)}addFormGroup(V){this._setUpFormContainer(V)}removeFormGroup(V){this._cleanUpFormContainer(V)}getFormGroup(V){return this.form.get(V.path)}addFormArray(V){this._setUpFormContainer(V)}removeFormArray(V){this._cleanUpFormContainer(V)}getFormArray(V){return this.form.get(V.path)}updateModel(V,he){this.form.get(V.path).setValue(he)}onSubmit(V){return this.submitted=!0,ra(this.form,this.directives),this.ngSubmit.emit(V),"dialog"===V?.target?.method}onReset(){this.resetForm()}resetForm(V=void 0){this.form.reset(V),this.submitted=!1}_updateDomValue(){this.directives.forEach(V=>{const he=V.control,Le=this.form.get(V.path);he!==Le&&(ln(he||null,V),(q=>q instanceof Es)(Le)&&(rn(Le,V,this.callSetDisabledState),V.control=Le))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(V){const he=this.form.get(V.path);cn(he,V),he.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(V){if(this.form){const he=this.form.get(V.path);he&&function Nn(q,Z){return Er(q,Z)}(he,V)&&he.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cr(this.form,this),this._oldForm&&Er(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(Ve,10),u.rXU(Ze,10),u.rXU(lt,8))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["","formGroup",""]],hostBindings:function(he,Le){1&he&&u.bIt("submit",function(Xn){return Le.onSubmit(Xn)})("reset",function(){return Le.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([Is]),u.Vt3,u.OA$]})}}return q})();const Yi={provide:Dt,useExisting:(0,u.Rfq)(()=>Jt)};let Jt=(()=>{class q extends Dt{set isDisabled(V){}static{this._ngModelWarningSentOnce=!1}constructor(V,he,Le,_n,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.name=null,this.update=new u.bkB,this._ngModelWarningSent=!1,this._parent=V,this._setValidators(he),this._setAsyncValidators(Le),this.valueAccessor=Oo(0,_n)}ngOnChanges(V){this._added||this._setUpControl(),Rr(V,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(V){this.viewModel=V,this.update.emit(V)}get path(){return Qt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(he){return new(he||q)(u.rXU(nt,13),u.rXU(Ve,10),u.rXU(Ze,10),u.rXU(Me,10),u.rXU(Wn,8))}}static{this.\u0275dir=u.FsC({type:q,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u.Jv_([Yi]),u.Vt3,u.OA$]})}}return q})(),Ui=(()=>{class q{constructor(){this._validator=Vt}ngOnChanges(V){if(this.inputName in V){const he=this.normalizeInput(V[this.inputName].currentValue);this._enabled=this.enabled(he),this._validator=this._enabled?this.createValidator(he):Vt,this._onChange&&this._onChange()}}validate(V){return this._validator(V)}registerOnValidatorChange(V){this._onChange=V}enabled(V){return null!=V}static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275dir=u.FsC({type:q,features:[u.OA$]})}}return q})();const ql={provide:Ve,useExisting:(0,u.Rfq)(()=>Ms),multi:!0},no={provide:Ve,useExisting:(0,u.Rfq)(()=>Ws),multi:!0};let Ms=(()=>{class q extends Ui{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.L39,this.createValidator=V=>De}enabled(V){return V}static{this.\u0275fac=function(){let V;return function(Le){return(V||(V=u.xGo(q)))(Le||q)}}()}static{this.\u0275dir=u.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(he,Le){2&he&&u.BMQ("required",Le._enabled?"":null)},inputs:{required:"required"},features:[u.Jv_([ql]),u.Vt3]})}}return q})(),Ws=(()=>{class q extends Ms{constructor(){super(...arguments),this.createValidator=V=>Se}static{this.\u0275fac=function(){let V;return function(Le){return(V||(V=u.xGo(q)))(Le||q)}}()}static{this.\u0275dir=u.FsC({type:q,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(he,Le){2&he&&u.BMQ("required",Le._enabled?"":null)},features:[u.Jv_([no]),u.Vt3]})}}return q})(),yr=(()=>{class q{static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275mod=u.$C({type:q})}static{this.\u0275inj=u.G2t({imports:[ba]})}}return q})();class hr extends oe{constructor(Z,V,he){super(Wi(V),ir(he,V)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(V),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Z){return this.controls[this._adjustIndex(Z)]}push(Z,V={}){this.controls.push(Z),this._registerControl(Z),this.updateValueAndValidity({emitEvent:V.emitEvent}),this._onCollectionChange()}insert(Z,V,he={}){this.controls.splice(Z,0,V),this._registerControl(V),this.updateValueAndValidity({emitEvent:he.emitEvent})}removeAt(Z,V={}){let he=this._adjustIndex(Z);he<0&&(he=0),this.controls[he]&&this.controls[he]._registerOnCollectionChange(()=>{}),this.controls.splice(he,1),this.updateValueAndValidity({emitEvent:V.emitEvent})}setControl(Z,V,he={}){let Le=this._adjustIndex(Z);Le<0&&(Le=0),this.controls[Le]&&this.controls[Le]._registerOnCollectionChange(()=>{}),this.controls.splice(Le,1),V&&(this.controls.splice(Le,0,V),this._registerControl(V)),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Z,V={}){Vi(this,0,Z),Z.forEach((he,Le)=>{Fi(this,!1,Le),this.at(Le).setValue(he,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V)}patchValue(Z,V={}){null!=Z&&(Z.forEach((he,Le)=>{this.at(Le)&&this.at(Le).patchValue(he,{onlySelf:!0,emitEvent:V.emitEvent})}),this.updateValueAndValidity(V))}reset(Z=[],V={}){this._forEachChild((he,Le)=>{he.reset(Z[Le],{onlySelf:!0,emitEvent:V.emitEvent})}),this._updatePristine(V),this._updateTouched(V),this.updateValueAndValidity(V)}getRawValue(){return this.controls.map(Z=>Z.getRawValue())}clear(Z={}){this.controls.length<1||(this._forEachChild(V=>V._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Z.emitEvent}))}_adjustIndex(Z){return Z<0?Z+this.length:Z}_syncPendingControls(){let Z=this.controls.reduce((V,he)=>!!he._syncPendingControls()||V,!1);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){this.controls.forEach((V,he)=>{Z(V,he)})}_updateValue(){this.value=this.controls.filter(Z=>Z.enabled||this.disabled).map(Z=>Z.value)}_anyControls(Z){return this.controls.some(V=>V.enabled&&Z(V))}_setUpControls(){this._forEachChild(Z=>this._registerControl(Z))}_allControlsDisabled(){for(const Z of this.controls)if(Z.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Z){Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)}_find(Z){return this.at(Z)??null}}function Ks(q){return!!q&&(void 0!==q.asyncValidators||void 0!==q.validators||void 0!==q.updateOn)}let Hr=(()=>{class q{constructor(){this.useNonNullable=!1}get nonNullable(){const V=new q;return V.useNonNullable=!0,V}group(V,he=null){const Le=this._reduceControls(V);let _n={};return Ks(he)?_n=he:null!==he&&(_n.validators=he.validator,_n.asyncValidators=he.asyncValidator),new J(Le,_n)}record(V,he=null){const Le=this._reduceControls(V);return new W(Le,he)}control(V,he,Le){let _n={};return this.useNonNullable?(Ks(he)?_n=he:(_n.validators=he,_n.asyncValidators=Le),new Es(V,{..._n,nonNullable:!0})):new Es(V,he,Le)}array(V,he,Le){const _n=V.map(Xn=>this._createControl(Xn));return new hr(_n,he,Le)}_reduceControls(V){const he={};return Object.keys(V).forEach(Le=>{he[Le]=this._createControl(V[Le])}),he}_createControl(V){return V instanceof Es||V instanceof oe?V:Array.isArray(V)?this.control(V[0],V.length>1?V[1]:null,V.length>2?V[2]:null):this.control(V)}static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275prov=u.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),cl=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:lt,useValue:V.callSetDisabledState??xt}]}}static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275mod=u.$C({type:q})}static{this.\u0275inj=u.G2t({imports:[yr]})}}return q})(),Tl=(()=>{class q{static withConfig(V){return{ngModule:q,providers:[{provide:Wn,useValue:V.warnOnNgModelWithFormControl??"always"},{provide:lt,useValue:V.callSetDisabledState??xt}]}}static{this.\u0275fac=function(he){return new(he||q)}}static{this.\u0275mod=u.$C({type:q})}static{this.\u0275inj=u.G2t({imports:[yr]})}}return q})()},4073:()=>{const Bt=":";Error;const nt=function(Re,...Ye){if(nt.translate){const St=nt.translate(Re,Ye);Re=St[0],Ye=St[1]}let st=jt(Re[0],Re.raw[0]);for(let St=1;St<Re.length;St++)st+=Ye[St-1]+jt(Re[St],Re.raw[St]);return st},Dt=":";function jt(Re,Ye){return Ye.charAt(0)===Dt?Re.substring(function Cn(Re,Ye){for(let st=1,St=1;st<Re.length;st++,St++)if("\\"===Ye[St])St++;else if(Re[st]===Bt)return st;throw new Error(`Unterminated $localize metadata block in "${Ye}".`)}(Re,Ye)+1):Re}globalThis.$localize=nt},345:(Bt,He,P)=>{P.d(He,{B7:()=>Ke,Bb:()=>Re,hE:()=>ie,sG:()=>Te,up:()=>ls});var u=P(7705),ae=P(177);class c extends ae.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class te extends c{static makeCurrent(){(0,ae.ZD)(new te)}onAndCancel(j,z,W){return j.addEventListener(z,W),()=>{j.removeEventListener(z,W)}}dispatchEvent(j,z){j.dispatchEvent(z)}remove(j){j.parentNode&&j.parentNode.removeChild(j)}createElement(j,z){return(z=z||this.getDefaultDocument()).createElement(j)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(j){return j.nodeType===Node.ELEMENT_NODE}isShadowRoot(j){return j instanceof DocumentFragment}getGlobalEventTarget(j,z){return"window"===z?window:"document"===z?j:"body"===z?j.body:null}getBaseHref(j){const z=function ve(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==z?null:function Me(J){Ie=Ie||document.createElement("a"),Ie.setAttribute("href",J);const j=Ie.pathname;return"/"===j.charAt(0)?j:`/${j}`}(z)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(j){return(0,ae._b)(document.cookie,j)}}let Ie,fe=null,re=(()=>{class J{build(){return new XMLHttpRequest}static{this.\u0275fac=function(W){return new(W||J)}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();const ue=new u.nKC("EventManagerPlugins");let be=(()=>{class J{constructor(z,W){this._zone=W,this._eventNameToPlugin=new Map,z.forEach(_e=>{_e.manager=this}),this._plugins=z.slice().reverse()}addEventListener(z,W,_e){return this._findPluginFor(W).addEventListener(z,W,_e)}getZone(){return this._zone}_findPluginFor(z){let W=this._eventNameToPlugin.get(z);if(W)return W;if(W=this._plugins.find(lt=>lt.supports(z)),!W)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(z,W),W}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ue),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();class Ge{constructor(j){this._doc=j}}const $e="ng-app-id";let ot=(()=>{class J{constructor(z,W,_e,lt={}){this.doc=z,this.appId=W,this.nonce=_e,this.platformId=lt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ae.Vy)(lt),this.resetHostNodes()}addStyles(z){for(const W of z)1===this.changeUsageCount(W,1)&&this.onStyleAdded(W)}removeStyles(z){for(const W of z)this.changeUsageCount(W,-1)<=0&&this.onStyleRemoved(W)}ngOnDestroy(){const z=this.styleNodesInDOM;z&&(z.forEach(W=>W.remove()),z.clear());for(const W of this.getAllStyles())this.onStyleRemoved(W);this.resetHostNodes()}addHost(z){this.hostNodes.add(z);for(const W of this.getAllStyles())this.addStyleToHost(z,W)}removeHost(z){this.hostNodes.delete(z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(z){for(const W of this.hostNodes)this.addStyleToHost(W,z)}onStyleRemoved(z){const W=this.styleRef;W.get(z)?.elements?.forEach(_e=>_e.remove()),W.delete(z)}collectServerRenderedStyles(){const z=this.doc.head?.querySelectorAll(`style[${$e}="${this.appId}"]`);if(z?.length){const W=new Map;return z.forEach(_e=>{null!=_e.textContent&&W.set(_e.textContent,_e)}),W}return null}changeUsageCount(z,W){const _e=this.styleRef;if(_e.has(z)){const lt=_e.get(z);return lt.usage+=W,lt.usage}return _e.set(z,{usage:W,elements:[]}),W}getStyleElement(z,W){const _e=this.styleNodesInDOM,lt=_e?.get(W);if(lt?.parentNode===z)return _e.delete(W),lt.removeAttribute($e),lt;{const xt=this.doc.createElement("style");return this.nonce&&xt.setAttribute("nonce",this.nonce),xt.textContent=W,this.platformIsServer&&xt.setAttribute($e,this.appId),xt}}addStyleToHost(z,W){const _e=this.getStyleElement(z,W);z.appendChild(_e);const lt=this.styleRef,xt=lt.get(W)?.elements;xt?xt.push(_e):lt.set(W,{elements:[_e],usage:1})}resetHostNodes(){const z=this.hostNodes;z.clear(),z.add(this.doc.head)}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ae.qQ),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ve=/%COMP%/g,ke=new u.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ce(J,j){return j.map(z=>z.replace(Ve,J))}let Ke=(()=>{class J{constructor(z,W,_e,lt,xt,Qt,rn,ln=null){this.eventManager=z,this.sharedStylesHost=W,this.appId=_e,this.removeStylesOnCompDestroy=lt,this.doc=xt,this.platformId=Qt,this.ngZone=rn,this.nonce=ln,this.rendererByCompId=new Map,this.platformIsServer=(0,ae.Vy)(Qt),this.defaultRenderer=new Ae(z,xt,rn,this.platformIsServer)}createRenderer(z,W){if(!z||!W)return this.defaultRenderer;this.platformIsServer&&W.encapsulation===u.gXe.ShadowDom&&(W={...W,encapsulation:u.gXe.Emulated});const _e=this.getOrCreateRenderer(z,W);return _e instanceof si?_e.applyToHost(z):_e instanceof gi&&_e.applyStyles(),_e}getOrCreateRenderer(z,W){const _e=this.rendererByCompId;let lt=_e.get(W.id);if(!lt){const xt=this.doc,Qt=this.ngZone,rn=this.eventManager,ln=this.sharedStylesHost,sn=this.removeStylesOnCompDestroy,mi=this.platformIsServer;switch(W.encapsulation){case u.gXe.Emulated:lt=new si(rn,ln,W,this.appId,sn,xt,Qt,mi);break;case u.gXe.ShadowDom:return new zn(rn,ln,z,W,xt,Qt,this.nonce,mi);default:lt=new gi(rn,ln,W,sn,xt,Qt,mi)}_e.set(W.id,lt)}return lt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(be),u.KVO(ot),u.KVO(u.sZ2),u.KVO(ke),u.KVO(ae.qQ),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();class Ae{constructor(j,z,W,_e){this.eventManager=j,this.doc=z,this.ngZone=W,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(j,z){return z?this.doc.createElementNS(Ue[z]||z,j):this.doc.createElement(j)}createComment(j){return this.doc.createComment(j)}createText(j){return this.doc.createTextNode(j)}appendChild(j,z){(zt(j)?j.content:j).appendChild(z)}insertBefore(j,z,W){j&&(zt(j)?j.content:j).insertBefore(z,W)}removeChild(j,z){j&&j.removeChild(z)}selectRootElement(j,z){let W="string"==typeof j?this.doc.querySelector(j):j;if(!W)throw new u.wOt(-5104,!1);return z||(W.textContent=""),W}parentNode(j){return j.parentNode}nextSibling(j){return j.nextSibling}setAttribute(j,z,W,_e){if(_e){z=_e+":"+z;const lt=Ue[_e];lt?j.setAttributeNS(lt,z,W):j.setAttribute(z,W)}else j.setAttribute(z,W)}removeAttribute(j,z,W){if(W){const _e=Ue[W];_e?j.removeAttributeNS(_e,z):j.removeAttribute(`${W}:${z}`)}else j.removeAttribute(z)}addClass(j,z){j.classList.add(z)}removeClass(j,z){j.classList.remove(z)}setStyle(j,z,W,_e){_e&(u.czy.DashCase|u.czy.Important)?j.style.setProperty(z,W,_e&u.czy.Important?"important":""):j.style[z]=W}removeStyle(j,z,W){W&u.czy.DashCase?j.style.removeProperty(z):j.style[z]=""}setProperty(j,z,W){j[z]=W}setValue(j,z){j.nodeValue=z}listen(j,z,W){if("string"==typeof j&&!(j=(0,ae.QT)().getGlobalEventTarget(this.doc,j)))throw new Error(`Unsupported event target ${j} for event ${z}`);return this.eventManager.addEventListener(j,z,this.decoratePreventDefault(W))}decoratePreventDefault(j){return z=>{if("__ngUnwrap__"===z)return j;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>j(z)):j(z))&&z.preventDefault()}}}function zt(J){return"TEMPLATE"===J.tagName&&void 0!==J.content}class zn extends Ae{constructor(j,z,W,_e,lt,xt,Qt,rn){super(j,lt,xt,rn),this.sharedStylesHost=z,this.hostEl=W,this.shadowRoot=W.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ln=Ce(_e.id,_e.styles);for(const sn of ln){const mi=document.createElement("style");Qt&&mi.setAttribute("nonce",Qt),mi.textContent=sn,this.shadowRoot.appendChild(mi)}}nodeOrShadowRoot(j){return j===this.hostEl?this.shadowRoot:j}appendChild(j,z){return super.appendChild(this.nodeOrShadowRoot(j),z)}insertBefore(j,z,W){return super.insertBefore(this.nodeOrShadowRoot(j),z,W)}removeChild(j,z){return super.removeChild(this.nodeOrShadowRoot(j),z)}parentNode(j){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(j)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gi extends Ae{constructor(j,z,W,_e,lt,xt,Qt,rn){super(j,lt,xt,Qt),this.sharedStylesHost=z,this.removeStylesOnCompDestroy=_e,this.styles=rn?Ce(rn,W.styles):W.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class si extends gi{constructor(j,z,W,_e,lt,xt,Qt,rn){const ln=_e+"-"+W.id;super(j,z,W,lt,xt,Qt,rn,ln),this.contentAttr=function De(J){return"_ngcontent-%COMP%".replace(Ve,J)}(ln),this.hostAttr=function Se(J){return"_nghost-%COMP%".replace(Ve,J)}(ln)}applyToHost(j){this.applyStyles(),this.setAttribute(j,this.hostAttr,"")}createElement(j,z){const W=super.createElement(j,z);return super.setAttribute(W,this.contentAttr,""),W}}let mr=(()=>{class J extends Ge{constructor(z){super(z)}supports(z){return!0}addEventListener(z,W,_e){return z.addEventListener(W,_e,!1),()=>this.removeEventListener(z,W,_e)}removeEventListener(z,W,_e){return z.removeEventListener(W,_e)}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ae.qQ))}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();const ji=["alt","control","meta","shift"],Sn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cn={alt:J=>J.altKey,control:J=>J.ctrlKey,meta:J=>J.metaKey,shift:J=>J.shiftKey};let ye=(()=>{class J extends Ge{constructor(z){super(z)}supports(z){return null!=J.parseEventName(z)}addEventListener(z,W,_e){const lt=J.parseEventName(W),xt=J.eventCallback(lt.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ae.QT)().onAndCancel(z,lt.domEventName,xt))}static parseEventName(z){const W=z.toLowerCase().split("."),_e=W.shift();if(0===W.length||"keydown"!==_e&&"keyup"!==_e)return null;const lt=J._normalizeKey(W.pop());let xt="",Qt=W.indexOf("code");if(Qt>-1&&(W.splice(Qt,1),xt="code."),ji.forEach(ln=>{const sn=W.indexOf(ln);sn>-1&&(W.splice(sn,1),xt+=ln+".")}),xt+=lt,0!=W.length||0===lt.length)return null;const rn={};return rn.domEventName=_e,rn.fullKey=xt,rn}static matchEventFullKeyCode(z,W){let _e=Sn[z.key]||z.key,lt="";return W.indexOf("code.")>-1&&(_e=z.code,lt="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),ji.forEach(xt=>{xt!==_e&&(0,Cn[xt])(z)&&(lt+=xt+".")}),lt+=_e,lt===W)}static eventCallback(z,W,_e){return lt=>{J.matchEventFullKeyCode(lt,z)&&_e.runGuarded(()=>W(lt))}}static _normalizeKey(z){return"esc"===z?"escape":z}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ae.qQ))}}static{this.\u0275prov=u.jDH({token:J,factory:J.\u0275fac})}}return J})();const Te=(0,u.oH4)(u.fpN,"browser",[{provide:u.Agw,useValue:ae.AJ},{provide:u.PLl,useValue:function rt(){te.makeCurrent()},multi:!0},{provide:ae.qQ,useFactory:function It(){return(0,u.TL$)(document),document},deps:[]}]),nt=new u.nKC(""),Dt=[{provide:u.e01,useClass:class me{addToWindow(j){u.JZv.getAngularTestability=(W,_e=!0)=>{const lt=j.findTestabilityInTree(W,_e);if(null==lt)throw new u.wOt(5103,!1);return lt},u.JZv.getAllAngularTestabilities=()=>j.getAllTestabilities(),u.JZv.getAllAngularRootElements=()=>j.getAllRootElements(),u.JZv.frameworkStabilizers||(u.JZv.frameworkStabilizers=[]),u.JZv.frameworkStabilizers.push(W=>{const _e=u.JZv.getAllAngularTestabilities();let lt=_e.length,xt=!1;const Qt=function(rn){xt=xt||rn,lt--,0==lt&&W(xt)};_e.forEach(rn=>{rn.whenStable(Qt)})})}findTestabilityInTree(j,z,W){return null==z?null:j.getTestability(z)??(W?(0,ae.QT)().isShadowRoot(z)?this.findTestabilityInTree(j,z.host,!0):this.findTestabilityInTree(j,z.parentElement,!0):null)}},deps:[]},{provide:u.WHO,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]},{provide:u.NYb,useClass:u.NYb,deps:[u.SKi,u.giA,u.e01]}],jt=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function Qe(){return new u.zcH},deps:[]},{provide:ue,useClass:mr,multi:!0,deps:[ae.qQ,u.SKi,u.Agw]},{provide:ue,useClass:ye,multi:!0,deps:[ae.qQ]},Ke,ot,be,{provide:u._9s,useExisting:Ke},{provide:ae.N0,useClass:re,deps:[]},[]];let Re=(()=>{class J{constructor(z){}static withServerTransition(z){return{ngModule:J,providers:[{provide:u.sZ2,useValue:z.appId}]}}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(nt,12))}}static{this.\u0275mod=u.$C({type:J})}static{this.\u0275inj=u.G2t({providers:[...jt,...Dt],imports:[ae.MD,u.Hbi]})}}return J})(),ie=(()=>{class J{constructor(z){this._doc=z}getTitle(){return this._doc.title}setTitle(z){this._doc.title=z||""}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ae.qQ))}}static{this.\u0275prov=u.jDH({token:J,factory:function(W){let _e=null;return _e=W?new W:function tt(){return new ie((0,u.KVO)(ae.qQ))}(),_e},providedIn:"root"})}}return J})();typeof window<"u"&&window;let ls=(()=>{class J{static{this.\u0275fac=function(W){return new(W||J)}}static{this.\u0275prov=u.jDH({token:J,factory:function(W){let _e=null;return _e=W?new(W||J):u.KVO(_r),_e},providedIn:"root"})}}return J})(),_r=(()=>{class J extends ls{constructor(z){super(),this._doc=z}sanitize(z,W){if(null==W)return null;switch(z){case u.WPN.NONE:return W;case u.WPN.HTML:return(0,u.ZF7)(W,"HTML")?(0,u.rcV)(W):(0,u.h9k)(this._doc,String(W)).toString();case u.WPN.STYLE:return(0,u.ZF7)(W,"Style")?(0,u.rcV)(W):W;case u.WPN.SCRIPT:if((0,u.ZF7)(W,"Script"))return(0,u.rcV)(W);throw new u.wOt(5200,!1);case u.WPN.URL:return(0,u.ZF7)(W,"URL")?(0,u.rcV)(W):(0,u.$MX)(String(W));case u.WPN.RESOURCE_URL:if((0,u.ZF7)(W,"ResourceURL"))return(0,u.rcV)(W);throw new u.wOt(5201,!1);default:throw new u.wOt(5202,!1)}}bypassSecurityTrustHtml(z){return(0,u.Kcf)(z)}bypassSecurityTrustStyle(z){return(0,u.cWb)(z)}bypassSecurityTrustScript(z){return(0,u.UyX)(z)}bypassSecurityTrustUrl(z){return(0,u.osQ)(z)}bypassSecurityTrustResourceUrl(z){return(0,u.e5t)(z)}static{this.\u0275fac=function(W){return new(W||J)(u.KVO(ae.qQ))}}static{this.\u0275prov=u.jDH({token:J,factory:function(W){let _e=null;return _e=W?new W:function Ci(J){return new _r(J.get(ae.qQ))}(u.KVO(u.zZn)),_e},providedIn:"root"})}}return J})()},1188:(Bt,He,P)=>{P.d(He,{j5:()=>ur,wF:()=>ki,L6:()=>rr,Z:()=>Dr,Ix:()=>Or,Wk:()=>fa,wQ:()=>Li,iI:()=>kt,n3:()=>Jt});var u=P(7705),ae=P(4402),c=P(8455),te=P(7673),fe=P(4412),ve=P(4572),Ie=P(9350),Me=P(8793),me=P(9030),re=P(1203),ue=P(8810),be=P(983),Ge=P(17),$e=P(1413),ot=P(8359),Ue=P(177),Ve=P(6354),Ze=P(5558),at=P(6697),mt=P(9172),ge=P(5964),ke=P(3028),De=P(1594),Se=P(274),Ce=P(8141),Ke=P(9437),Ae=P(2816),Pt=P(9901),Vt=P(9974),zt=P(4360);function zn(N){return N<=0?()=>be.w:(0,Vt.N)((L,A)=>{let k=[];L.subscribe((0,zt._)(A,K=>{k.push(K),N<k.length&&k.shift()},()=>{for(const K of k)A.next(K);A.complete()},void 0,()=>{k=null}))})}var gi=P(3774),si=P(3669),ji=P(3703),Sn=P(980),Cn=P(9898),ye=P(6977),je=P(6365),ze=P(345);const Fe="primary",wt=Symbol("RouteTitle");class rt{constructor(L){this.params=L||{}}has(L){return Object.prototype.hasOwnProperty.call(this.params,L)}get(L){if(this.has(L)){const A=this.params[L];return Array.isArray(A)?A[0]:A}return null}getAll(L){if(this.has(L)){const A=this.params[L];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function Qe(N){return new rt(N)}function It(N,L,A){const k=A.path.split("/");if(k.length>N.length||"full"===A.pathMatch&&(L.hasChildren()||k.length<N.length))return null;const K={};for(let de=0;de<k.length;de++){const Oe=k[de],Ct=N[de];if(Oe.startsWith(":"))K[Oe.substring(1)]=Ct;else if(Oe!==Ct.path)return null}return{consumed:N.slice(0,k.length),posParams:K}}function Te(N,L){const A=N?Object.keys(N):void 0,k=L?Object.keys(L):void 0;if(!A||!k||A.length!=k.length)return!1;let K;for(let de=0;de<A.length;de++)if(K=A[de],!nt(N[K],L[K]))return!1;return!0}function nt(N,L){if(Array.isArray(N)&&Array.isArray(L)){if(N.length!==L.length)return!1;const A=[...N].sort(),k=[...L].sort();return A.every((K,de)=>k[de]===K)}return N===L}function Dt(N){return N.length>0?N[N.length-1]:null}function jt(N){return(0,ae.A)(N)?N:(0,u.jNT)(N)?(0,c.H)(Promise.resolve(N)):(0,te.of)(N)}const Re={exact:function tt(N,L,A){if(!Mn(N.segments,L.segments)||!We(N.segments,L.segments,A)||N.numberOfChildren!==L.numberOfChildren)return!1;for(const k in L.children)if(!N.children[k]||!tt(N.children[k],L.children[k],A))return!1;return!0},subset:Ne},Ye={exact:function St(N,L){return Te(N,L)},subset:function ie(N,L){return Object.keys(L).length<=Object.keys(N).length&&Object.keys(L).every(A=>nt(N[A],L[A]))},ignored:()=>!0};function st(N,L,A){return Re[A.paths](N.root,L.root,A.matrixParams)&&Ye[A.queryParams](N.queryParams,L.queryParams)&&!("exact"===A.fragment&&N.fragment!==L.fragment)}function Ne(N,L,A){return Be(N,L,L.segments,A)}function Be(N,L,A,k){if(N.segments.length>A.length){const K=N.segments.slice(0,A.length);return!(!Mn(K,A)||L.hasChildren()||!We(K,A,k))}if(N.segments.length===A.length){if(!Mn(N.segments,A)||!We(N.segments,A,k))return!1;for(const K in L.children)if(!N.children[K]||!Ne(N.children[K],L.children[K],k))return!1;return!0}{const K=A.slice(0,N.segments.length),de=A.slice(N.segments.length);return!!(Mn(N.segments,K)&&We(N.segments,K,k)&&N.children[Fe])&&Be(N.children[Fe],L,de,k)}}function We(N,L,A){return L.every((k,K)=>Ye[A](N[K].parameters,k.parameters))}class ut{constructor(L=new _t([],{}),A={},k=null){this.root=L,this.queryParams=A,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return Kt.serialize(this)}}class _t{constructor(L,A){this.segments=L,this.children=A,this.parent=null,Object.values(A).forEach(k=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ti(this)}}class Yt{constructor(L,A){this.path=L,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=Qe(this.parameters)),this._parameterMap}toString(){return Ki(this)}}function Mn(N,L){return N.length===L.length&&N.every((A,k)=>A.path===L[k].path)}let An=(()=>{class N{static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:function(){return new Gn},providedIn:"root"})}}return N})();class Gn{parse(L){const A=new _e(L);return new ut(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(L){const A=`/${bn(L.root,!0)}`,k=function Ls(N){const L=Object.keys(N).map(A=>{const k=N[A];return Array.isArray(k)?k.map(K=>`${Oi(A)}=${Oi(K)}`).join("&"):`${Oi(A)}=${Oi(k)}`}).filter(A=>!!A);return L.length?`?${L.join("&")}`:""}(L.queryParams);return`${A}${k}${"string"==typeof L.fragment?`#${function ls(N){return encodeURI(N)}(L.fragment)}`:""}`}}const Kt=new Gn;function ti(N){return N.segments.map(L=>Ki(L)).join("/")}function bn(N,L){if(!N.hasChildren())return ti(N);if(L){const A=N.children[Fe]?bn(N.children[Fe],!1):"",k=[];return Object.entries(N.children).forEach(([K,de])=>{K!==Fe&&k.push(`${K}:${bn(de,!1)}`)}),k.length>0?`${A}(${k.join("//")})`:A}{const A=function Xt(N,L){let A=[];return Object.entries(N.children).forEach(([k,K])=>{k===Fe&&(A=A.concat(L(K,k)))}),Object.entries(N.children).forEach(([k,K])=>{k!==Fe&&(A=A.concat(L(K,k)))}),A}(N,(k,K)=>K===Fe?[bn(N.children[Fe],!1)]:[`${K}:${bn(k,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[Fe]?`${ti(N)}/${A[0]}`:`${ti(N)}/(${A.join("//")})`}}function xr(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(N){return xr(N).replace(/%3B/gi,";")}function Ci(N){return xr(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(N){return decodeURIComponent(N)}function Wi(N){return _r(N.replace(/\+/g,"%20"))}function Ki(N){return`${Ci(N.path)}${function ir(N){return Object.keys(N).map(L=>`;${Ci(L)}=${Ci(N[L])}`).join("")}(N.parameters)}`}const ci=/^[^\/()?;#]+/;function Fi(N){const L=N.match(ci);return L?L[0]:""}const Vi=/^[^\/()?;=#]+/,J=/^[^=?&#]+/,z=/^[^&#]+/;class _e{constructor(L){this.url=L,this.remaining=L}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const L={};if(this.consumeOptional("?"))do{this.parseQueryParam(L)}while(this.consumeOptional("&"));return L}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const L=[];for(this.peekStartsWith("(")||L.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),L.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(L.length>0||Object.keys(A).length>0)&&(k[Fe]=new _t(L,A)),k}parseSegment(){const L=Fi(this.remaining);if(""===L&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(L),new Yt(_r(L),this.parseMatrixParams())}parseMatrixParams(){const L={};for(;this.consumeOptional(";");)this.parseParam(L);return L}parseParam(L){const A=function oe(N){const L=N.match(Vi);return L?L[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const K=Fi(this.remaining);K&&(k=K,this.capture(k))}L[_r(A)]=_r(k)}parseQueryParam(L){const A=function j(N){const L=N.match(J);return L?L[0]:""}(this.remaining);if(!A)return;this.capture(A);let k="";if(this.consumeOptional("=")){const Oe=function W(N){const L=N.match(z);return L?L[0]:""}(this.remaining);Oe&&(k=Oe,this.capture(k))}const K=Wi(A),de=Wi(k);if(L.hasOwnProperty(K)){let Oe=L[K];Array.isArray(Oe)||(Oe=[Oe],L[K]=Oe),Oe.push(de)}else L[K]=de}parseParens(L){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=Fi(this.remaining),K=this.remaining[k.length];if("/"!==K&&")"!==K&&";"!==K)throw new u.wOt(4010,!1);let de;k.indexOf(":")>-1?(de=k.slice(0,k.indexOf(":")),this.capture(de),this.capture(":")):L&&(de=Fe);const Oe=this.parseChildren();A[de]=1===Object.keys(Oe).length?Oe[Fe]:new _t([],Oe),this.consumeOptional("//")}return A}peekStartsWith(L){return this.remaining.startsWith(L)}consumeOptional(L){return!!this.peekStartsWith(L)&&(this.remaining=this.remaining.substring(L.length),!0)}capture(L){if(!this.consumeOptional(L))throw new u.wOt(4011,!1)}}function lt(N){return N.segments.length>0?new _t([],{[Fe]:N}):N}function xt(N){const L={};for(const k of Object.keys(N.children)){const de=xt(N.children[k]);if(k===Fe&&0===de.segments.length&&de.hasChildren())for(const[Oe,Ct]of Object.entries(de.children))L[Oe]=Ct;else(de.segments.length>0||de.hasChildren())&&(L[k]=de)}return function Qt(N){if(1===N.numberOfChildren&&N.children[Fe]){const L=N.children[Fe];return new _t(N.segments.concat(L.segments),L.children)}return N}(new _t(N.segments,L))}function rn(N){return N instanceof ut}function sn(N){let L;const K=lt(function A(de){const Oe={};for(const yt of de.children){const on=A(yt);Oe[yt.outlet]=on}const Ct=new _t(de.url,Oe);return de===N&&(L=Ct),Ct}(N.root));return L??K}function mi(N,L,A,k){let K=N;for(;K.parent;)K=K.parent;if(0===L.length)return lo(K,K,K,A,k);const de=function Ut(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new ft(!0,0,N);let L=0,A=!1;const k=N.reduce((K,de,Oe)=>{if("object"==typeof de&&null!=de){if(de.outlets){const Ct={};return Object.entries(de.outlets).forEach(([yt,on])=>{Ct[yt]="string"==typeof on?on.split("/"):on}),[...K,{outlets:Ct}]}if(de.segmentPath)return[...K,de.segmentPath]}return"string"!=typeof de?[...K,de]:0===Oe?(de.split("/").forEach((Ct,yt)=>{0==yt&&"."===Ct||(0==yt&&""===Ct?A=!0:".."===Ct?L++:""!=Ct&&K.push(Ct))}),K):[...K,de]},[]);return new ft(A,L,k)}(L);if(de.toRoot())return lo(K,K,new _t([],{}),A,k);const Oe=function Nn(N,L,A){if(N.isAbsolute)return new cn(L,!0,0);if(!A)return new cn(L,!1,NaN);if(null===A.parent)return new cn(A,!0,0);const k=cr(N.commands[0])?0:1;return function un(N,L,A){let k=N,K=L,de=A;for(;de>K;){if(de-=K,k=k.parent,!k)throw new u.wOt(4005,!1);K=k.segments.length}return new cn(k,!1,K-de)}(A,A.segments.length-1+k,N.numberOfDoubleDots)}(de,K,N),Ct=Oe.processChildren?Ri(Oe.segmentGroup,Oe.index,de.commands):Bi(Oe.segmentGroup,Oe.index,de.commands);return lo(K,Oe.segmentGroup,Ct,A,k)}function cr(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function Er(N){return"object"==typeof N&&null!=N&&N.outlets}function lo(N,L,A,k,K){let Oe,de={};k&&Object.entries(k).forEach(([yt,on])=>{de[yt]=Array.isArray(on)?on.map(Zn=>`${Zn}`):`${on}`}),Oe=N===L?A:At(N,L,A);const Ct=lt(xt(Oe));return new ut(Ct,de,K)}function At(N,L,A){const k={};return Object.entries(N.children).forEach(([K,de])=>{k[K]=de===L?A:At(de,L,A)}),new _t(N.segments,k)}class ft{constructor(L,A,k){if(this.isAbsolute=L,this.numberOfDoubleDots=A,this.commands=k,L&&k.length>0&&cr(k[0]))throw new u.wOt(4003,!1);const K=k.find(Er);if(K&&K!==Dt(k))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cn{constructor(L,A,k){this.segmentGroup=L,this.processChildren=A,this.index=k}}function Bi(N,L,A){if(N||(N=new _t([],{})),0===N.segments.length&&N.hasChildren())return Ri(N,L,A);const k=function co(N,L,A){let k=0,K=L;const de={match:!1,pathIndex:0,commandIndex:0};for(;K<N.segments.length;){if(k>=A.length)return de;const Oe=N.segments[K],Ct=A[k];if(Er(Ct))break;const yt=`${Ct}`,on=k<A.length-1?A[k+1]:null;if(K>0&&void 0===yt)break;if(yt&&on&&"object"==typeof on&&void 0===on.outlets){if(!Oo(yt,on,Oe))return de;k+=2}else{if(!Oo(yt,{},Oe))return de;k++}K++}return{match:!0,pathIndex:K,commandIndex:k}}(N,L,A),K=A.slice(k.commandIndex);if(k.match&&k.pathIndex<N.segments.length){const de=new _t(N.segments.slice(0,k.pathIndex),{});return de.children[Fe]=new _t(N.segments.slice(k.pathIndex),N.children),Ri(de,0,K)}return k.match&&0===K.length?new _t(N.segments,{}):k.match&&!N.hasChildren()?Rr(N,L,A):k.match?Ri(N,0,K):Rr(N,L,A)}function Ri(N,L,A){if(0===A.length)return new _t(N.segments,{});{const k=function ui(N){return Er(N[0])?N[0].outlets:{[Fe]:N}}(A),K={};if(Object.keys(k).some(de=>de!==Fe)&&N.children[Fe]&&1===N.numberOfChildren&&0===N.children[Fe].segments.length){const de=Ri(N.children[Fe],L,A);return new _t(N.segments,de.children)}return Object.entries(k).forEach(([de,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(K[de]=Bi(N.children[de],L,Oe))}),Object.entries(N.children).forEach(([de,Oe])=>{void 0===k[de]&&(K[de]=Oe)}),new _t(N.segments,K)}}function Rr(N,L,A){const k=N.segments.slice(0,L);let K=0;for(;K<A.length;){const de=A[K];if(Er(de)){const yt=Ao(de.outlets);return new _t(k,yt)}if(0===K&&cr(A[0])){k.push(new Yt(N.segments[L].path,ra(A[0]))),K++;continue}const Oe=Er(de)?de.outlets[Fe]:`${de}`,Ct=K<A.length-1?A[K+1]:null;Oe&&Ct&&cr(Ct)?(k.push(new Yt(Oe,ra(Ct))),K+=2):(k.push(new Yt(Oe,{})),K++)}return new _t(k,{})}function Ao(N){const L={};return Object.entries(N).forEach(([A,k])=>{"string"==typeof k&&(k=[k]),null!==k&&(L[A]=Rr(new _t([],{}),0,k))}),L}function ra(N){const L={};return Object.entries(N).forEach(([A,k])=>L[A]=`${k}`),L}function Oo(N,L,A){return N==A.path&&Te(L,A.parameters)}const Uo="imperative";class Ir{constructor(L,A){this.id=L,this.url=A}}class Dr extends Ir{constructor(L,A,k="imperative",K=null){super(L,A),this.type=0,this.navigationTrigger=k,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ki extends Ir{constructor(L,A,k){super(L,A),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ur extends Ir{constructor(L,A,k,K){super(L,A),this.reason=k,this.code=K,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ti extends Ir{constructor(L,A,k,K){super(L,A),this.reason=k,this.code=K,this.type=16}}class rr extends Ir{constructor(L,A,k,K){super(L,A),this.error=k,this.target=K,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Es extends Ir{constructor(L,A,k,K){super(L,A),this.urlAfterRedirects=k,this.state=K,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ha extends Ir{constructor(L,A,k,K){super(L,A),this.urlAfterRedirects=k,this.state=K,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s extends Ir{constructor(L,A,k,K,de){super(L,A),this.urlAfterRedirects=k,this.state=K,this.shouldActivate=de,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sr extends Ir{constructor(L,A,k,K){super(L,A),this.urlAfterRedirects=k,this.state=K,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Il extends Ir{constructor(L,A,k,K){super(L,A),this.urlAfterRedirects=k,this.state=K,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zo{constructor(L){this.route=L,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _c{constructor(L){this.route=L,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Go{constructor(L){this.snapshot=L,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ll{constructor(L){this.snapshot=L,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(L){this.snapshot=L,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ho{constructor(L){this.snapshot=L,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(L,A,k){this.routerEvent=L,this.position=A,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dr{}class $o{constructor(L){this.url=L}}class Wo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sa,this.attachRef=null}}let sa=(()=>{class N{constructor(){this.contexts=new Map}onChildOutletCreated(A,k){const K=this.getOrCreateContext(A);K.outlet=k,this.contexts.set(A,K)}onChildOutletDestroyed(A){const k=this.getContext(A);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const A=this.contexts;return this.contexts=new Map,A}onOutletReAttached(A){this.contexts=A}getOrCreateContext(A){let k=this.getContext(A);return k||(k=new Wo,this.contexts.set(A,k)),k}getContext(A){return this.contexts.get(A)||null}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();class ya{constructor(L){this._root=L}get root(){return this._root.value}parent(L){const A=this.pathFromRoot(L);return A.length>1?A[A.length-2]:null}children(L){const A=ba(L,this._root);return A?A.children.map(k=>k.value):[]}firstChild(L){const A=ba(L,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(L){const A=No(L,this._root);return A.length<2?[]:A[A.length-2].children.map(K=>K.value).filter(K=>K!==L)}pathFromRoot(L){return No(L,this._root).map(A=>A.value)}}function ba(N,L){if(N===L.value)return L;for(const A of L.children){const k=ba(N,A);if(k)return k}return null}function No(N,L){if(N===L.value)return[L];for(const A of L.children){const k=No(N,A);if(k.length)return k.unshift(L),k}return[]}class cs{constructor(L,A){this.value=L,this.children=A}toString(){return`TreeNode(${this.value})`}}function eo(N){const L={};return N&&N.children.forEach(A=>L[A.value.outlet]=A),L}class Ko extends ya{constructor(L,A){super(L),this.snapshot=A,uo(this,L)}toString(){return this.snapshot.toString()}}function Wn(N,L){const A=function us(N,L){const Oe=new $a([],{},{},"",{},Fe,L,null,{});return new oa("",new cs(Oe,[]))}(0,L),k=new fe.t([new Yt("",{})]),K=new fe.t({}),de=new fe.t({}),Oe=new fe.t({}),Ct=new fe.t(""),yt=new sr(k,K,Oe,Ct,de,Fe,L,A.root);return yt.snapshot=A.root,new Ko(new cs(yt,[]),A)}class sr{constructor(L,A,k,K,de,Oe,Ct,yt){this.urlSubject=L,this.paramsSubject=A,this.queryParamsSubject=k,this.fragmentSubject=K,this.dataSubject=de,this.outlet=Oe,this.component=Ct,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,Ve.T)(on=>on[wt]))??(0,te.of)(void 0),this.url=L,this.params=A,this.queryParams=k,this.fragment=K,this.data=de}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.T)(L=>Qe(L)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.T)(L=>Qe(L)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Is(N,L="emptyOnly"){const A=N.pathFromRoot;let k=0;if("always"!==L)for(k=A.length-1;k>=1;){const K=A[k],de=A[k-1];if(K.routeConfig&&""===K.routeConfig.path)k--;else{if(de.component)break;k--}}return function Tr(N){return N.reduce((L,A)=>({params:{...L.params,...A.params},data:{...L.data,...A.data},resolve:{...A.data,...L.resolve,...A.routeConfig?.data,...A._resolvedData}}),{params:{},data:{},resolve:{}})}(A.slice(k))}class $a{get title(){return this.data?.[wt]}constructor(L,A,k,K,de,Oe,Ct,yt,on){this.url=L,this.params=A,this.queryParams=k,this.fragment=K,this.data=de,this.outlet=Oe,this.component=Ct,this.routeConfig=yt,this._resolve=on}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oa extends ya{constructor(L,A){super(A),this.url=L,uo(this,A)}toString(){return Jr(this._root)}}function uo(N,L){L.value._routerState=N,L.children.forEach(A=>uo(N,A))}function Jr(N){const L=N.children.length>0?` { ${N.children.map(Jr).join(", ")} } `:"";return`${N.value}${L}`}function Yo(N){if(N.snapshot){const L=N.snapshot,A=N._futureSnapshot;N.snapshot=A,Te(L.queryParams,A.queryParams)||N.queryParamsSubject.next(A.queryParams),L.fragment!==A.fragment&&N.fragmentSubject.next(A.fragment),Te(L.params,A.params)||N.paramsSubject.next(A.params),function se(N,L){if(N.length!==L.length)return!1;for(let A=0;A<N.length;++A)if(!Te(N[A],L[A]))return!1;return!0}(L.url,A.url)||N.urlSubject.next(A.url),Te(L.data,A.data)||N.dataSubject.next(A.data)}else N.snapshot=N._futureSnapshot,N.dataSubject.next(N._futureSnapshot.data)}function Yi(N,L){const A=Te(N.params,L.params)&&function hn(N,L){return Mn(N,L)&&N.every((A,k)=>Te(A.parameters,L[k].parameters))}(N.url,L.url);return A&&!(!N.parent!=!L.parent)&&(!N.parent||Yi(N.parent,L.parent))}let Jt=(()=>{class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(sa),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(di,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(A){if(A.name){const{firstChange:k,previousValue:K}=A.name;if(k)return;this.isTrackedInParentContexts(K)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(K)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(A){return this.parentContexts.getContext(A)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const A=this.parentContexts.getContext(this.name);A?.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(A.instance),A}attach(A,k){this.activated=A,this._activatedRoute=k,this.location.insert(A.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(A.instance)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,k){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=A;const K=this.location,Oe=A.snapshot.component,Ct=this.parentContexts.getOrCreateContext(this.name).children,yt=new Kn(A,Ct,K.injector);this.activated=K.createComponent(Oe,{index:K.length,injector:yt,environmentInjector:k??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275dir=u.FsC({type:N,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}}return N})();class Kn{constructor(L,A,k){this.route=L,this.childContexts=A,this.parent=k}get(L,A){return L===sr?this.route:L===sa?this.childContexts:this.parent.get(L,A)}}const di=new u.nKC("");let Ds=(()=>{class N{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(A){this.unsubscribeFromRouteData(A),this.subscribeToRouteData(A)}unsubscribeFromRouteData(A){this.outletDataSubscriptions.get(A)?.unsubscribe(),this.outletDataSubscriptions.delete(A)}subscribeToRouteData(A){const{activatedRoute:k}=A,K=(0,ve.z)([k.queryParams,k.params,k.data]).pipe((0,Ze.n)(([de,Oe,Ct],yt)=>(Ct={...de,...Oe,...Ct},0===yt?(0,te.of)(Ct):Promise.resolve(Ct)))).subscribe(de=>{if(!A.isActivated||!A.activatedComponentRef||A.activatedRoute!==k||null===k.component)return void this.unsubscribeFromRouteData(A);const Oe=(0,u.HJs)(k.component);if(Oe)for(const{templateName:Ct}of Oe.inputs)A.activatedComponentRef.setInput(Ct,de[Ct]);else this.unsubscribeFromRouteData(A)});this.outletDataSubscriptions.set(A,K)}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac})}}return N})();function kr(N,L,A){if(A&&N.shouldReuseRoute(L.value,A.value.snapshot)){const k=A.value;k._futureSnapshot=L.value;const K=function ho(N,L,A){return L.children.map(k=>{for(const K of A.children)if(N.shouldReuseRoute(k.value,K.value.snapshot))return kr(N,k,K);return kr(N,k)})}(N,L,A);return new cs(k,K)}{if(N.shouldAttach(L.value)){const de=N.retrieve(L.value);if(null!==de){const Oe=de.route;return Oe.value._futureSnapshot=L.value,Oe.children=L.children.map(Ct=>kr(N,Ct)),Oe}}const k=function qi(N){return new sr(new fe.t(N.url),new fe.t(N.params),new fe.t(N.queryParams),new fe.t(N.fragment),new fe.t(N.data),N.outlet,N.component,N)}(L.value),K=L.children.map(de=>kr(N,de));return new cs(k,K)}}const fo="ngNavigationCancelingError";function vr(N,L){const{redirectTo:A,navigationBehaviorOptions:k}=rn(L)?{redirectTo:L,navigationBehaviorOptions:void 0}:L,K=Tn(!1,0,L);return K.url=A,K.navigationBehaviorOptions=k,K}function Tn(N,L,A){const k=new Error("NavigationCancelingError: "+(N||""));return k[fo]=!0,k.cancellationCode=L,A&&(k.url=A),k}function wa(N){return N&&N[fo]}let to=(()=>{class N{static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275cmp=u.VBU({type:N,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(k,K){1&k&&u.nrm(0,"router-outlet")},dependencies:[Jt],encapsulation:2})}}return N})();function or(N){const L=N.children&&N.children.map(or),A=L?{...N,children:L}:{...N};return!A.component&&!A.loadComponent&&(L||A.loadChildren)&&A.outlet&&A.outlet!==Fe&&(A.component=to),A}function Fn(N){return N.outlet||Fe}function po(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let L=N.parent;L;L=L.parent){const A=L.routeConfig;if(A?._loadedInjector)return A._loadedInjector;if(A?._injector)return A._injector}return null}class es{constructor(L,A,k,K,de){this.routeReuseStrategy=L,this.futureState=A,this.currState=k,this.forwardEvent=K,this.inputBindingEnabled=de}activate(L){const A=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,k,L),Yo(this.futureState.root),this.activateChildRoutes(A,k,L)}deactivateChildRoutes(L,A,k){const K=eo(A);L.children.forEach(de=>{const Oe=de.value.outlet;this.deactivateRoutes(de,K[Oe],k),delete K[Oe]}),Object.values(K).forEach(de=>{this.deactivateRouteAndItsChildren(de,k)})}deactivateRoutes(L,A,k){const K=L.value,de=A?A.value:null;if(K===de)if(K.component){const Oe=k.getContext(K.outlet);Oe&&this.deactivateChildRoutes(L,A,Oe.children)}else this.deactivateChildRoutes(L,A,k);else de&&this.deactivateRouteAndItsChildren(A,k)}deactivateRouteAndItsChildren(L,A){L.value.component&&this.routeReuseStrategy.shouldDetach(L.value.snapshot)?this.detachAndStoreRouteSubtree(L,A):this.deactivateRouteAndOutlet(L,A)}detachAndStoreRouteSubtree(L,A){const k=A.getContext(L.value.outlet),K=k&&L.value.component?k.children:A,de=eo(L);for(const Oe of Object.keys(de))this.deactivateRouteAndItsChildren(de[Oe],K);if(k&&k.outlet){const Oe=k.outlet.detach(),Ct=k.children.onOutletDeactivated();this.routeReuseStrategy.store(L.value.snapshot,{componentRef:Oe,route:L,contexts:Ct})}}deactivateRouteAndOutlet(L,A){const k=A.getContext(L.value.outlet),K=k&&L.value.component?k.children:A,de=eo(L);for(const Oe of Object.keys(de))this.deactivateRouteAndItsChildren(de[Oe],K);k&&(k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated()),k.attachRef=null,k.route=null)}activateChildRoutes(L,A,k){const K=eo(A);L.children.forEach(de=>{this.activateRoutes(de,K[de.value.outlet],k),this.forwardEvent(new Ho(de.value.snapshot))}),L.children.length&&this.forwardEvent(new ll(L.value.snapshot))}activateRoutes(L,A,k){const K=L.value,de=A?A.value:null;if(Yo(K),K===de)if(K.component){const Oe=k.getOrCreateContext(K.outlet);this.activateChildRoutes(L,A,Oe.children)}else this.activateChildRoutes(L,A,k);else if(K.component){const Oe=k.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const Ct=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Oe.children.onOutletReAttached(Ct.contexts),Oe.attachRef=Ct.componentRef,Oe.route=Ct.route.value,Oe.outlet&&Oe.outlet.attach(Ct.componentRef,Ct.route.value),Yo(Ct.route.value),this.activateChildRoutes(L,null,Oe.children)}else{const Ct=po(K.snapshot);Oe.attachRef=null,Oe.route=K,Oe.injector=Ct,Oe.outlet&&Oe.outlet.activateWith(K,Oe.injector),this.activateChildRoutes(L,null,Oe.children)}}else this.activateChildRoutes(L,null,k)}}class Os{constructor(L){this.path=L,this.route=this.path[this.path.length-1]}}class la{constructor(L,A){this.component=L,this.route=A}}function Gr(N,L,A){const k=N._root;return hr(k,L?L._root:null,A,[k.value])}function yr(N,L){const A=Symbol(),k=L.get(N,A);return k===A?"function"!=typeof N||(0,u.LfX)(N)?L.get(N):N:k}function hr(N,L,A,k,K={canDeactivateChecks:[],canActivateChecks:[]}){const de=eo(L);return N.children.forEach(Oe=>{(function Xl(N,L,A,k,K={canDeactivateChecks:[],canActivateChecks:[]}){const de=N.value,Oe=L?L.value:null,Ct=A?A.getContext(N.value.outlet):null;if(Oe&&de.routeConfig===Oe.routeConfig){const yt=function Pn(N,L,A){if("function"==typeof A)return A(N,L);switch(A){case"pathParamsChange":return!Mn(N.url,L.url);case"pathParamsOrQueryParamsChange":return!Mn(N.url,L.url)||!Te(N.queryParams,L.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yi(N,L)||!Te(N.queryParams,L.queryParams);default:return!Yi(N,L)}}(Oe,de,de.routeConfig.runGuardsAndResolvers);yt?K.canActivateChecks.push(new Os(k)):(de.data=Oe.data,de._resolvedData=Oe._resolvedData),hr(N,L,de.component?Ct?Ct.children:null:A,k,K),yt&&Ct&&Ct.outlet&&Ct.outlet.isActivated&&K.canDeactivateChecks.push(new la(Ct.outlet.component,Oe))}else Oe&&Ks(L,Ct,K),K.canActivateChecks.push(new Os(k)),hr(N,null,de.component?Ct?Ct.children:null:A,k,K)})(Oe,de[Oe.value.outlet],A,k.concat([Oe.value]),K),delete de[Oe.value.outlet]}),Object.entries(de).forEach(([Oe,Ct])=>Ks(Ct,A.getContext(Oe),K)),K}function Ks(N,L,A){const k=eo(N),K=N.value;Object.entries(k).forEach(([de,Oe])=>{Ks(Oe,K.component?L?L.children.getContext(de):null:L,A)}),A.canDeactivateChecks.push(new la(K.component&&L&&L.outlet&&L.outlet.isActivated?L.outlet.component:null,K))}function Hr(N){return"function"==typeof N}function he(N){return N instanceof Ie.G||"EmptyError"===N?.name}const Le=Symbol("INITIAL_VALUE");function _n(){return(0,Ze.n)(N=>(0,ve.z)(N.map(L=>L.pipe((0,at.s)(1),(0,mt.Z)(Le)))).pipe((0,Ve.T)(L=>{for(const A of L)if(!0!==A){if(A===Le)return Le;if(!1===A||A instanceof ut)return A}return!0}),(0,ge.p)(L=>L!==Le),(0,at.s)(1)))}function Mr(N){return(0,re.F)((0,Ce.M)(L=>{if(rn(L))throw vr(0,L)}),(0,Ve.T)(L=>!0===L))}class da{constructor(L){this.segmentGroup=L||null}}class io{constructor(L){this.urlTree=L}}function Wr(N){return(0,ue.$)(new da(N))}function Bs(N){return(0,ue.$)(new io(N))}class Xi{constructor(L,A){this.urlSerializer=L,this.urlTree=A}noMatchError(L){return new u.wOt(4002,!1)}lineralizeSegments(L,A){let k=[],K=A.root;for(;;){if(k=k.concat(K.segments),0===K.numberOfChildren)return(0,te.of)(k);if(K.numberOfChildren>1||!K.children[Fe])return(0,ue.$)(new u.wOt(4e3,!1));K=K.children[Fe]}}applyRedirectCommands(L,A,k){return this.applyRedirectCreateUrlTree(A,this.urlSerializer.parse(A),L,k)}applyRedirectCreateUrlTree(L,A,k,K){const de=this.createSegmentGroup(L,A.root,k,K);return new ut(de,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(L,A){const k={};return Object.entries(L).forEach(([K,de])=>{if("string"==typeof de&&de.startsWith(":")){const Ct=de.substring(1);k[K]=A[Ct]}else k[K]=de}),k}createSegmentGroup(L,A,k,K){const de=this.createSegments(L,A.segments,k,K);let Oe={};return Object.entries(A.children).forEach(([Ct,yt])=>{Oe[Ct]=this.createSegmentGroup(L,yt,k,K)}),new _t(de,Oe)}createSegments(L,A,k,K){return A.map(de=>de.path.startsWith(":")?this.findPosParam(L,de,K):this.findOrReturn(de,k))}findPosParam(L,A,k){const K=k[A.path.substring(1)];if(!K)throw new u.wOt(4001,!1);return K}findOrReturn(L,A){let k=0;for(const K of A){if(K.path===L.path)return A.splice(k),K;k++}return L}}const Kr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yc(N,L,A,k,K){const de=Ka(N,L,A);return de.matched?(k=function Ui(N,L){return N.providers&&!N._injector&&(N._injector=(0,u.Ol2)(N.providers,L,`Route: ${N.path}`)),N._injector??L}(L,k),function $r(N,L,A,k){const K=L.canMatch;if(!K||0===K.length)return(0,te.of)(!0);const de=K.map(Oe=>{const Ct=yr(Oe,N);return jt(function q(N){return N&&Hr(N.canMatch)}(Ct)?Ct.canMatch(L,A):N.runInContext(()=>Ct(L,A)))});return(0,te.of)(de).pipe(_n(),Mr())}(k,L,A).pipe((0,Ve.T)(Oe=>!0===Oe?de:{...Kr}))):(0,te.of)(de)}function Ka(N,L,A){if(""===L.path)return"full"===L.pathMatch&&(N.hasChildren()||A.length>0)?{...Kr}:{matched:!0,consumedSegments:[],remainingSegments:A,parameters:{},positionalParamSegments:{}};const K=(L.matcher||It)(A,N,L);if(!K)return{...Kr};const de={};Object.entries(K.posParams??{}).forEach(([Ct,yt])=>{de[Ct]=yt.path});const Oe=K.consumed.length>0?{...de,...K.consumed[K.consumed.length-1].parameters}:de;return{matched:!0,consumedSegments:K.consumed,remainingSegments:A.slice(K.consumed.length),parameters:Oe,positionalParamSegments:K.posParams??{}}}function Ql(N,L,A,k){return A.length>0&&function Qi(N,L,A){return A.some(k=>Da(N,L,k)&&Fn(k)!==Fe)}(N,A,k)?{segmentGroup:new _t(L,qo(k,new _t(A,N.children))),slicedSegments:[]}:0===A.length&&function Ei(N,L,A){return A.some(k=>Da(N,L,k))}(N,A,k)?{segmentGroup:new _t(N.segments,Ya(N,0,A,k,N.children)),slicedSegments:A}:{segmentGroup:new _t(N.segments,N.children),slicedSegments:A}}function Ya(N,L,A,k,K){const de={};for(const Oe of k)if(Da(N,A,Oe)&&!K[Fn(Oe)]){const Ct=new _t([],{});de[Fn(Oe)]=Ct}return{...K,...de}}function qo(N,L){const A={};A[Fe]=L;for(const k of N)if(""===k.path&&Fn(k)!==Fe){const K=new _t([],{});A[Fn(k)]=K}return A}function Da(N,L,A){return(!(N.hasChildren()||L.length>0)||"full"!==A.pathMatch)&&""===A.path}class hl{constructor(L,A,k,K,de,Oe,Ct){this.injector=L,this.configLoader=A,this.rootComponentType=k,this.config=K,this.urlTree=de,this.paramsInheritanceStrategy=Oe,this.urlSerializer=Ct,this.allowRedirects=!0,this.applyRedirects=new Xi(this.urlSerializer,this.urlTree)}noMatchError(L){return new u.wOt(4002,!1)}recognize(){const L=Ql(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,L,Fe).pipe((0,Ke.W)(A=>{if(A instanceof io)return this.allowRedirects=!1,this.urlTree=A.urlTree,this.match(A.urlTree);throw A instanceof da?this.noMatchError(A):A}),(0,Ve.T)(A=>{const k=new $a([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fe,this.rootComponentType,null,{}),K=new cs(k,A),de=new oa("",K),Oe=function ln(N,L,A=null,k=null){return mi(sn(N),L,A,k)}(k,[],this.urlTree.queryParams,this.urlTree.fragment);return Oe.queryParams=this.urlTree.queryParams,de.url=this.urlSerializer.serialize(Oe),this.inheritParamsAndData(de._root),{state:de,tree:Oe}}))}match(L){return this.processSegmentGroup(this.injector,this.config,L.root,Fe).pipe((0,Ke.W)(k=>{throw k instanceof da?this.noMatchError(k):k}))}inheritParamsAndData(L){const A=L.value,k=Is(A,this.paramsInheritanceStrategy);A.params=Object.freeze(k.params),A.data=Object.freeze(k.data),L.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(L,A,k,K){return 0===k.segments.length&&k.hasChildren()?this.processChildren(L,A,k):this.processSegment(L,A,k,k.segments,K,!0)}processChildren(L,A,k){const K=[];for(const de of Object.keys(k.children))"primary"===de?K.unshift(de):K.push(de);return(0,c.H)(K).pipe((0,Se.H)(de=>{const Oe=k.children[de],Ct=function Ca(N,L){const A=N.filter(k=>Fn(k)===L);return A.push(...N.filter(k=>Fn(k)!==L)),A}(A,de);return this.processSegmentGroup(L,Ct,Oe,de)}),(0,Ae.S)((de,Oe)=>(de.push(...Oe),de)),(0,Pt.U)(null),function mr(N,L){const A=arguments.length>=2;return k=>k.pipe(N?(0,ge.p)((K,de)=>N(K,de,k)):si.D,zn(1),A?(0,Pt.U)(L):(0,gi.v)(()=>new Ie.G))}(),(0,ke.Z)(de=>{if(null===de)return Wr(k);const Oe=Zl(de);return function ha(N){N.sort((L,A)=>L.value.outlet===Fe?-1:A.value.outlet===Fe?1:L.value.outlet.localeCompare(A.value.outlet))}(Oe),(0,te.of)(Oe)}))}processSegment(L,A,k,K,de,Oe){return(0,c.H)(A).pipe((0,Se.H)(Ct=>this.processSegmentAgainstRoute(Ct._injector??L,A,Ct,k,K,de,Oe).pipe((0,Ke.W)(yt=>{if(yt instanceof da)return(0,te.of)(null);throw yt}))),(0,De.$)(Ct=>!!Ct),(0,Ke.W)(Ct=>{if(he(Ct))return function bc(N,L,A){return 0===L.length&&!N.children[A]}(k,K,de)?(0,te.of)([]):Wr(k);throw Ct}))}processSegmentAgainstRoute(L,A,k,K,de,Oe,Ct){return function dl(N,L,A,k){return!!(Fn(N)===k||k!==Fe&&Da(L,A,N))&&("**"===N.path||Ka(L,N,A).matched)}(k,K,de,Oe)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(L,K,k,de,Oe,Ct):Ct&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(L,K,A,k,de,Oe):Wr(K):Wr(K)}expandSegmentAgainstRouteUsingRedirect(L,A,k,K,de,Oe){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(L,k,K,Oe):this.expandRegularSegmentAgainstRouteUsingRedirect(L,A,k,K,de,Oe)}expandWildCardWithParamsAgainstRouteUsingRedirect(L,A,k,K){const de=this.applyRedirects.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Bs(de):this.applyRedirects.lineralizeSegments(k,de).pipe((0,ke.Z)(Oe=>{const Ct=new _t(Oe,{});return this.processSegment(L,A,Ct,Oe,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(L,A,k,K,de,Oe){const{matched:Ct,consumedSegments:yt,remainingSegments:on,positionalParamSegments:Zn}=Ka(A,K,de);if(!Ct)return Wr(A);const Zi=this.applyRedirects.applyRedirectCommands(yt,K.redirectTo,Zn);return K.redirectTo.startsWith("/")?Bs(Zi):this.applyRedirects.lineralizeSegments(K,Zi).pipe((0,ke.Z)(Di=>this.processSegment(L,k,A,Di.concat(on),Oe,!1)))}matchSegmentAgainstRoute(L,A,k,K,de,Oe){let Ct;if("**"===k.path){const yt=K.length>0?Dt(K).parameters:{},on=new $a(K,yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Du(k),Fn(k),k.component??k._loadedComponent??null,k,Su(k));Ct=(0,te.of)({snapshot:on,consumedSegments:[],remainingSegments:[]}),A.children={}}else Ct=yc(A,k,K,L).pipe((0,Ve.T)(({matched:yt,consumedSegments:on,remainingSegments:Zn,parameters:Zi})=>yt?{snapshot:new $a(on,Zi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Du(k),Fn(k),k.component??k._loadedComponent??null,k,Su(k)),consumedSegments:on,remainingSegments:Zn}:null));return Ct.pipe((0,Ze.n)(yt=>null===yt?Wr(A):this.getChildConfig(L=k._injector??L,k,K).pipe((0,Ze.n)(({routes:on})=>{const Zn=k._loadedInjector??L,{snapshot:Zi,consumedSegments:Di,remainingSegments:Ys}=yt,{segmentGroup:ml,slicedSegments:Lo}=Ql(A,Di,Ys,on);if(0===Lo.length&&ml.hasChildren())return this.processChildren(Zn,on,ml).pipe((0,Ve.T)(Qo=>null===Qo?null:[new cs(Zi,Qo)]));if(0===on.length&&0===Lo.length)return(0,te.of)([new cs(Zi,[])]);const Tc=Fn(k)===de;return this.processSegment(Zn,on,ml,Lo,Tc?Fe:de,!0).pipe((0,Ve.T)(Qo=>[new cs(Zi,Qo)]))}))))}getChildConfig(L,A,k){return A.children?(0,te.of)({routes:A.children,injector:L}):A.loadChildren?void 0!==A._loadedRoutes?(0,te.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):function ts(N,L,A,k){const K=L.canLoad;if(void 0===K||0===K.length)return(0,te.of)(!0);const de=K.map(Oe=>{const Ct=yr(Oe,N);return jt(function Dl(N){return N&&Hr(N.canLoad)}(Ct)?Ct.canLoad(L,A):N.runInContext(()=>Ct(L,A)))});return(0,te.of)(de).pipe(_n(),Mr())}(L,A,k).pipe((0,ke.Z)(K=>K?this.configLoader.loadChildren(L,A).pipe((0,Ce.M)(de=>{A._loadedRoutes=de.routes,A._loadedInjector=de.injector})):function Ni(N){return(0,ue.$)(Tn(!1,3))}())):(0,te.of)({routes:[],injector:L})}}function Sa(N){const L=N.value.routeConfig;return L&&""===L.path}function Zl(N){const L=[],A=new Set;for(const k of N){if(!Sa(k)){L.push(k);continue}const K=L.find(de=>k.value.routeConfig===de.value.routeConfig);void 0!==K?(K.children.push(...k.children),A.add(K)):L.push(k)}for(const k of A){const K=Zl(k.children);L.push(new cs(k.value,K))}return L.filter(k=>!A.has(k))}function Du(N){return N.data||{}}function Su(N){return N.resolve||{}}function Ec(N){return"string"==typeof N.title||null===N.title}function Ot(N){return(0,Ze.n)(L=>{const A=N(L);return A?(0,c.H)(A).pipe((0,Ve.T)(()=>L)):(0,te.of)(L)})}const ns=new u.nKC("ROUTES");let mo=(()=>{class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(A){if(this.componentLoaders.get(A))return this.componentLoaders.get(A);if(A._loadedComponent)return(0,te.of)(A._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(A);const k=jt(A.loadComponent()).pipe((0,Ve.T)(U),(0,Ce.M)(de=>{this.onLoadEndListener&&this.onLoadEndListener(A),A._loadedComponent=de}),(0,Sn.j)(()=>{this.componentLoaders.delete(A)})),K=new Ge.G(k,()=>new $e.B).pipe((0,Cn.B)());return this.componentLoaders.set(A,K),K}loadChildren(A,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,te.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const de=function C(N,L,A,k){return jt(N.loadChildren()).pipe((0,Ve.T)(U),(0,ke.Z)(K=>K instanceof u.Co$||Array.isArray(K)?(0,te.of)(K):(0,c.H)(L.compileModuleAsync(K))),(0,Ve.T)(K=>{k&&k(N);let de,Oe,Ct=!1;return Array.isArray(K)?(Oe=K,!0):(de=K.create(A).injector,Oe=de.get(ns,[],{optional:!0,self:!0}).flat()),{routes:Oe.map(or),injector:de}}))}(k,this.compiler,A,this.onLoadEndListener).pipe((0,Sn.j)(()=>{this.childrenLoaders.delete(k)})),Oe=new Ge.G(de,()=>new $e.B).pipe((0,Cn.B)());return this.childrenLoaders.set(k,Oe),Oe}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();function U(N){return function ne(N){return N&&"object"==typeof N&&"default"in N}(N)?N.default:N}let Q=(()=>{class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $e.B,this.transitionAbortSubject=new $e.B,this.configLoader=(0,u.WQX)(mo),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(An),this.rootContexts=(0,u.WQX)(sa),this.inputBindingEnabled=null!==(0,u.WQX)(di,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,te.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=K=>this.events.next(new _c(K)),this.configLoader.onLoadStartListener=K=>this.events.next(new zo(K))}complete(){this.transitions?.complete()}handleNavigationRequest(A){const k=++this.navigationId;this.transitions?.next({...this.transitions.value,...A,id:k})}setupNavigations(A,k,K){return this.transitions=new fe.t({id:0,currentUrlTree:k,currentRawUrl:k,currentBrowserUrl:k,extractedUrl:A.urlHandlingStrategy.extract(k),urlAfterRedirects:A.urlHandlingStrategy.extract(k),rawUrl:k,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uo,restoredState:null,currentSnapshot:K.snapshot,targetSnapshot:null,currentRouterState:K,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ge.p)(de=>0!==de.id),(0,Ve.T)(de=>({...de,extractedUrl:A.urlHandlingStrategy.extract(de.rawUrl)})),(0,Ze.n)(de=>{this.currentTransition=de;let Oe=!1,Ct=!1;return(0,te.of)(de).pipe((0,Ce.M)(yt=>{this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ze.n)(yt=>{const on=yt.currentBrowserUrl.toString(),Zn=!A.navigated||yt.extractedUrl.toString()!==on||on!==yt.currentUrlTree.toString();if(!Zn&&"reload"!==(yt.extras.onSameUrlNavigation??A.onSameUrlNavigation)){const Di="";return this.events.next(new Ti(yt.id,this.urlSerializer.serialize(yt.rawUrl),Di,0)),yt.resolve(null),be.w}if(A.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,te.of)(yt).pipe((0,Ze.n)(Di=>{const Ys=this.transitions?.getValue();return this.events.next(new Dr(Di.id,this.urlSerializer.serialize(Di.extractedUrl),Di.source,Di.restoredState)),Ys!==this.transitions?.getValue()?be.w:Promise.resolve(Di)}),function Qd(N,L,A,k,K,de){return(0,ke.Z)(Oe=>function Wc(N,L,A,k,K,de,Oe="emptyOnly"){return new hl(N,L,A,k,K,Oe,de).recognize()}(N,L,A,k,Oe.extractedUrl,K,de).pipe((0,Ve.T)(({state:Ct,tree:yt})=>({...Oe,targetSnapshot:Ct,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,A.config,this.urlSerializer,A.paramsInheritanceStrategy),(0,Ce.M)(Di=>{de.targetSnapshot=Di.targetSnapshot,de.urlAfterRedirects=Di.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Di.urlAfterRedirects};const Ys=new Es(Di.id,this.urlSerializer.serialize(Di.extractedUrl),this.urlSerializer.serialize(Di.urlAfterRedirects),Di.targetSnapshot);this.events.next(Ys)}));if(Zn&&A.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:Di,extractedUrl:Ys,source:ml,restoredState:Lo,extras:Tc}=yt,Qo=new Dr(Di,this.urlSerializer.serialize(Ys),ml,Lo);this.events.next(Qo);const Jc=Wn(0,this.rootComponentType).snapshot;return this.currentTransition=de={...yt,targetSnapshot:Jc,urlAfterRedirects:Ys,extras:{...Tc,skipLocationChange:!1,replaceUrl:!1}},(0,te.of)(de)}{const Di="";return this.events.next(new Ti(yt.id,this.urlSerializer.serialize(yt.extractedUrl),Di,1)),yt.resolve(null),be.w}}),(0,Ce.M)(yt=>{const on=new Ha(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(on)}),(0,Ve.T)(yt=>(this.currentTransition=de={...yt,guards:Gr(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},de)),function Xn(N,L){return(0,ke.Z)(A=>{const{targetSnapshot:k,currentSnapshot:K,guards:{canActivateChecks:de,canDeactivateChecks:Oe}}=A;return 0===Oe.length&&0===de.length?(0,te.of)({...A,guardsResult:!0}):function ua(N,L,A,k){return(0,c.H)(N).pipe((0,ke.Z)(K=>function $c(N,L,A,k,K){const de=L&&L.routeConfig?L.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,te.of)(!0);const Oe=de.map(Ct=>{const yt=po(L)??K,on=yr(Ct,yt);return jt(function Tl(N){return N&&Hr(N.canDeactivate)}(on)?on.canDeactivate(N,L,A,k):yt.runInContext(()=>on(N,L,A,k))).pipe((0,De.$)())});return(0,te.of)(Oe).pipe(_n())}(K.component,K.route,A,L,k)),(0,De.$)(K=>!0!==K,!0))}(Oe,k,K,N).pipe((0,ke.Z)(Ct=>Ct&&function ca(N){return"boolean"==typeof N}(Ct)?function Ea(N,L,A,k){return(0,c.H)(L).pipe((0,Se.H)(K=>(0,Me.x)(function Ia(N,L){return null!==N&&L&&L(new Go(N)),(0,te.of)(!0)}(K.route.parent,k),function ul(N,L){return null!==N&&L&&L(new ms(N)),(0,te.of)(!0)}(K.route,k),function vc(N,L,A){const k=L[L.length-1],de=L.slice(0,L.length-1).reverse().map(Oe=>function Wa(N){const L=N.routeConfig?N.routeConfig.canActivateChild:null;return L&&0!==L.length?{node:N,guards:L}:null}(Oe)).filter(Oe=>null!==Oe).map(Oe=>(0,me.v)(()=>{const Ct=Oe.guards.map(yt=>{const on=po(Oe.node)??A,Zn=yr(yt,on);return jt(function cl(N){return N&&Hr(N.canActivateChild)}(Zn)?Zn.canActivateChild(k,N):on.runInContext(()=>Zn(k,N))).pipe((0,De.$)())});return(0,te.of)(Ct).pipe(_n())}));return(0,te.of)(de).pipe(_n())}(N,K.path,A),function Iu(N,L,A){const k=L.routeConfig?L.routeConfig.canActivate:null;if(!k||0===k.length)return(0,te.of)(!0);const K=k.map(de=>(0,me.v)(()=>{const Oe=po(L)??A,Ct=yr(de,Oe);return jt(function Sl(N){return N&&Hr(N.canActivate)}(Ct)?Ct.canActivate(L,N):Oe.runInContext(()=>Ct(L,N))).pipe((0,De.$)())}));return(0,te.of)(K).pipe(_n())}(N,K.route,A))),(0,De.$)(K=>!0!==K,!0))}(k,de,N,L):(0,te.of)(Ct)),(0,Ve.T)(Ct=>({...A,guardsResult:Ct})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,Ce.M)(yt=>{if(de.guardsResult=yt.guardsResult,rn(yt.guardsResult))throw vr(0,yt.guardsResult);const on=new $s(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(on)}),(0,ge.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",3),!1)),Ot(yt=>{if(yt.guards.canActivateChecks.length)return(0,te.of)(yt).pipe((0,Ce.M)(on=>{const Zn=new Sr(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Zn)}),(0,Ze.n)(on=>{let Zn=!1;return(0,te.of)(on).pipe(function wc(N,L){return(0,ke.Z)(A=>{const{targetSnapshot:k,guards:{canActivateChecks:K}}=A;if(!K.length)return(0,te.of)(A);let de=0;return(0,c.H)(K).pipe((0,Se.H)(Oe=>function Zd(N,L,A,k){const K=N.routeConfig,de=N._resolve;return void 0!==K?.title&&!Ec(K)&&(de[wt]=K.title),function Kc(N,L,A,k){const K=function Yc(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}(N);if(0===K.length)return(0,te.of)({});const de={};return(0,c.H)(K).pipe((0,ke.Z)(Oe=>function Cc(N,L,A,k){const K=po(L)??k,de=yr(N,K);return jt(de.resolve?de.resolve(L,A):K.runInContext(()=>de(L,A)))}(N[Oe],L,A,k).pipe((0,De.$)(),(0,Ce.M)(Ct=>{de[Oe]=Ct}))),zn(1),(0,ji.u)(de),(0,Ke.W)(Oe=>he(Oe)?be.w:(0,ue.$)(Oe)))}(de,N,L,k).pipe((0,Ve.T)(Oe=>(N._resolvedData=Oe,N.data=Is(N,A).resolve,K&&Ec(K)&&(N.data[wt]=K.title),null)))}(Oe.route,k,N,L)),(0,Ce.M)(()=>de++),zn(1),(0,ke.Z)(Oe=>de===K.length?(0,te.of)(A):be.w))})}(A.paramsInheritanceStrategy,this.environmentInjector),(0,Ce.M)({next:()=>Zn=!0,complete:()=>{Zn||this.cancelNavigationTransition(on,"",2)}}))}),(0,Ce.M)(on=>{const Zn=new Il(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(Zn)}))}),Ot(yt=>{const on=Zn=>{const Zi=[];Zn.routeConfig?.loadComponent&&!Zn.routeConfig._loadedComponent&&Zi.push(this.configLoader.loadComponent(Zn.routeConfig).pipe((0,Ce.M)(Di=>{Zn.component=Di}),(0,Ve.T)(()=>{})));for(const Di of Zn.children)Zi.push(...on(Di));return Zi};return(0,ve.z)(on(yt.targetSnapshot.root)).pipe((0,Pt.U)(),(0,at.s)(1))}),Ot(()=>this.afterPreactivation()),(0,Ve.T)(yt=>{const on=function Ss(N,L,A){const k=kr(N,L._root,A?A._root:void 0);return new Ko(k,L)}(A.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=de={...yt,targetRouterState:on},de}),(0,Ce.M)(()=>{this.events.next(new dr)}),((N,L,A,k)=>(0,Ve.T)(K=>(new es(L,K.targetRouterState,K.currentRouterState,A,k).activate(N),K)))(this.rootContexts,A.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,at.s)(1),(0,Ce.M)({next:yt=>{Oe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ki(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),A.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Oe=!0}}),(0,ye.Q)(this.transitionAbortSubject.pipe((0,Ce.M)(yt=>{throw yt}))),(0,Sn.j)(()=>{Oe||Ct||this.cancelNavigationTransition(de,"",1),this.currentNavigation?.id===de.id&&(this.currentNavigation=null)}),(0,Ke.W)(yt=>{if(Ct=!0,wa(yt))this.events.next(new ur(de.id,this.urlSerializer.serialize(de.extractedUrl),yt.message,yt.cancellationCode)),function Po(N){return wa(N)&&rn(N.url)}(yt)?this.events.next(new $o(yt.url)):de.resolve(!1);else{this.events.next(new rr(de.id,this.urlSerializer.serialize(de.extractedUrl),yt,de.targetSnapshot??void 0));try{de.resolve(A.errorHandler(yt))}catch(on){de.reject(on)}}return be.w}))}))}cancelNavigationTransition(A,k,K){const de=new ur(A.id,this.urlSerializer.serialize(A.extractedUrl),k,K);this.events.next(de),A.resolve(!1)}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();function Pe(N){return N!==Uo}let gt=(()=>{class N{buildTitle(A){let k,K=A.root;for(;void 0!==K;)k=this.getResolvedTitleForRoute(K)??k,K=K.children.find(de=>de.outlet===Fe);return k}getResolvedTitleForRoute(A){return A.data[wt]}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:function(){return(0,u.WQX)(Ft)},providedIn:"root"})}}return N})(),Ft=(()=>{class N extends gt{constructor(A){super(),this.title=A}updateTitle(A){const k=this.buildTitle(A);void 0!==k&&this.title.setTitle(k)}static{this.\u0275fac=function(k){return new(k||N)(u.KVO(ze.hE))}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})(),En=(()=>{class N{static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:function(){return(0,u.WQX)(ar)},providedIn:"root"})}}return N})();class Ii{shouldDetach(L){return!1}store(L,A){}shouldAttach(L){return!1}retrieve(L){return null}shouldReuseRoute(L,A){return L.routeConfig===A.routeConfig}}let ar=(()=>{class N extends Ii{static{this.\u0275fac=function(){let A;return function(K){return(A||(A=u.xGo(N)))(K||N)}}()}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();const bi=new u.nKC("",{providedIn:"root",factory:()=>({})});let Qn=(()=>{class N{static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:function(){return(0,u.WQX)(Ar)},providedIn:"root"})}}return N})(),Ar=(()=>{class N{shouldProcessUrl(A){return!0}extract(A){return A}merge(A,k){return A}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();var _i=function(N){return N[N.COMPLETE=0]="COMPLETE",N[N.FAILED=1]="FAILED",N[N.REDIRECTING=2]="REDIRECTING",N}(_i||{});function lr(N,L){N.events.pipe((0,ge.p)(A=>A instanceof ki||A instanceof ur||A instanceof rr||A instanceof Ti),(0,Ve.T)(A=>A instanceof ki||A instanceof Ti?_i.COMPLETE:A instanceof ur&&(0===A.code||1===A.code)?_i.REDIRECTING:_i.FAILED),(0,ge.p)(A=>A!==_i.REDIRECTING),(0,at.s)(1)).subscribe(()=>{L()})}function ro(N){throw N}function xo(N,L,A){return L.parse("/")}const fr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Or=(()=>{class N{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.WQX)(u.H3F),this.isNgZoneEnabled=!1,this._events=new $e.B,this.options=(0,u.WQX)(bi,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.$K3),this.errorHandler=this.options.errorHandler||ro,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.WQX)(Qn),this.routeReuseStrategy=(0,u.WQX)(En),this.titleStrategy=(0,u.WQX)(gt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.WQX)(ns,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.WQX)(Q),this.urlSerializer=(0,u.WQX)(An),this.location=(0,u.WQX)(Ue.aZ),this.componentInputBindingEnabled=!!(0,u.WQX)(di,{optional:!0}),this.eventsSubscription=new ot.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ut,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(A=>{this.lastSuccessfulId=A.id,this.currentPageId=this.browserPageId},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const A=this.navigationTransitions.events.subscribe(k=>{try{const{currentTransition:K}=this.navigationTransitions;if(null===K)return void(Xo(k)&&this._events.next(k));if(k instanceof Dr)Pe(K.source)&&(this.browserUrlTree=K.extractedUrl);else if(k instanceof Ti)this.rawUrlTree=K.rawUrl;else if(k instanceof Es){if("eager"===this.urlUpdateStrategy){if(!K.extras.skipLocationChange){const de=this.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl);this.setBrowserUrl(de,K)}this.browserUrlTree=K.urlAfterRedirects}}else if(k instanceof dr)this.currentUrlTree=K.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),this.routerState=K.targetRouterState,"deferred"===this.urlUpdateStrategy&&(K.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,K),this.browserUrlTree=K.urlAfterRedirects);else if(k instanceof ur)0!==k.code&&1!==k.code&&(this.navigated=!0),(3===k.code||2===k.code)&&this.restoreHistory(K);else if(k instanceof $o){const de=this.urlHandlingStrategy.merge(k.url,K.currentRawUrl),Oe={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pe(K.source)};this.scheduleNavigation(de,Uo,null,Oe,{resolve:K.resolve,reject:K.reject,promise:K.promise})}k instanceof rr&&this.restoreHistory(K,!0),k instanceof ki&&(this.navigated=!0),Xo(k)&&this._events.next(k)}catch(K){this.navigationTransitions.transitionAbortSubject.next(K)}});this.eventsSubscription.add(A)}resetRootComponentType(A){this.routerState.root.component=A,this.navigationTransitions.rootComponentType=A}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const A=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uo,A)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const k="popstate"===A.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{this.navigateToSyncWithBrowser(A.url,k,A.state)},0)}))}navigateToSyncWithBrowser(A,k,K){const de={replaceUrl:!0},Oe=K?.navigationId?K:null;if(K){const yt={...K};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(de.state=yt)}const Ct=this.parseUrl(A);this.scheduleNavigation(Ct,k,Oe,de)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(A){this.config=A.map(or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(A,k={}){const{relativeTo:K,queryParams:de,fragment:Oe,queryParamsHandling:Ct,preserveFragment:yt}=k,on=yt?this.currentUrlTree.fragment:Oe;let Zi,Zn=null;switch(Ct){case"merge":Zn={...this.currentUrlTree.queryParams,...de};break;case"preserve":Zn=this.currentUrlTree.queryParams;break;default:Zn=de||null}null!==Zn&&(Zn=this.removeEmptyProps(Zn));try{Zi=sn(K?K.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof A[0]||!A[0].startsWith("/"))&&(A=[]),Zi=this.currentUrlTree.root}return mi(Zi,A,Zn,on??null)}navigateByUrl(A,k={skipLocationChange:!1}){const K=rn(A)?A:this.parseUrl(A),de=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(de,Uo,null,k)}navigate(A,k={skipLocationChange:!1}){return function ds(N){for(let L=0;L<N.length;L++)if(null==N[L])throw new u.wOt(4008,!1)}(A),this.navigateByUrl(this.createUrlTree(A,k),k)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let k;try{k=this.urlSerializer.parse(A)}catch(K){k=this.malformedUriErrorHandler(K,this.urlSerializer,A)}return k}isActive(A,k){let K;if(K=!0===k?{...fr}:!1===k?{...Ns}:k,rn(A))return st(this.currentUrlTree,A,K);const de=this.parseUrl(A);return st(this.currentUrlTree,de,K)}removeEmptyProps(A){return Object.keys(A).reduce((k,K)=>{const de=A[K];return null!=de&&(k[K]=de),k},{})}scheduleNavigation(A,k,K,de,Oe){if(this.disposed)return Promise.resolve(!1);let Ct,yt,on;Oe?(Ct=Oe.resolve,yt=Oe.reject,on=Oe.promise):on=new Promise((Zi,Di)=>{Ct=Zi,yt=Di});const Zn=this.pendingTasks.add();return lr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Zn))}),this.navigationTransitions.handleNavigationRequest({source:k,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:A,extras:de,resolve:Ct,reject:yt,promise:on,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),on.catch(Zi=>Promise.reject(Zi))}setBrowserUrl(A,k){const K=this.urlSerializer.serialize(A);if(this.location.isCurrentPathEqualTo(K)||k.extras.replaceUrl){const Oe={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId)};this.location.replaceState(K,"",Oe)}else{const de={...k.extras.state,...this.generateNgRouterState(k.id,this.browserPageId+1)};this.location.go(K,"",de)}}restoreHistory(A,k=!1){if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-this.browserPageId;0!==de?this.location.historyGo(de):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===de&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(A,k){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:k}:{navigationId:A}}static{this.\u0275fac=function(k){return new(k||N)}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();function Xo(N){return!(N instanceof dr||N instanceof $o)}let fa=(()=>{class N{constructor(A,k,K,de,Oe,Ct){this.router=A,this.route=k,this.tabIndexAttribute=K,this.renderer=de,this.el=Oe,this.locationStrategy=Ct,this.href=null,this.commands=null,this.onChanges=new $e.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const yt=Oe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=A.events.subscribe(on=>{on instanceof ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(A){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",A)}ngOnChanges(A){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(A){null!=A?(this.commands=Array.isArray(A)?A:[A],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(A,k,K,de,Oe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==A||k||K||de||Oe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const A=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(A,k){const K=this.renderer,de=this.el.nativeElement;null!==k?K.setAttribute(de,A,k):K.removeAttribute(de,A)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(k){return new(k||N)(u.rXU(Or),u.rXU(sr),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ue.hb))}}static{this.\u0275dir=u.FsC({type:N,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(k,K){1&k&&u.bIt("click",function(Oe){return K.onClick(Oe.button,Oe.ctrlKey,Oe.shiftKey,Oe.altKey,Oe.metaKey)}),2&k&&u.BMQ("target",K.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.L39],skipLocationChange:["skipLocationChange","skipLocationChange",u.L39],replaceUrl:["replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}}return N})(),Li=(()=>{class N{get isActive(){return this._isActive}constructor(A,k,K,de,Oe){this.router=A,this.element=k,this.renderer=K,this.cdr=de,this.link=Oe,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.bkB,this.routerEventsSubscription=A.events.subscribe(Ct=>{Ct instanceof ki&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,(0,te.of)(null)).pipe((0,je.U)()).subscribe(A=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const A=[...this.links.toArray(),this.link].filter(k=>!!k).map(k=>k.onChanges);this.linkInputChangesSubscription=(0,c.H)(A).pipe((0,je.U)()).subscribe(k=>{this._isActive!==this.isLinkActive(this.router)(k)&&this.update()})}set routerLinkActive(A){const k=Array.isArray(A)?A:A.split(" ");this.classes=k.filter(K=>!!K)}ngOnChanges(A){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const A=this.hasActiveLinks();this._isActive!==A&&(this._isActive=A,this.cdr.markForCheck(),this.classes.forEach(k=>{A?this.renderer.addClass(this.element.nativeElement,k):this.renderer.removeClass(this.element.nativeElement,k)}),A&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(A))})}isLinkActive(A){const k=function qc(N){return!!N.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return K=>!!K.urlTree&&A.isActive(K.urlTree,k)}hasActiveLinks(){const A=this.isLinkActive(this.router);return this.link&&A(this.link)||this.links.some(A)}static{this.\u0275fac=function(k){return new(k||N)(u.rXU(Or),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(fa,8))}}static{this.\u0275dir=u.FsC({type:N,selectors:[["","routerLinkActive",""]],contentQueries:function(k,K,de){if(1&k&&u.wni(de,fa,5),2&k){let Oe;u.mGM(Oe=u.lsd())&&(K.links=Oe)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.OA$]})}}return N})();class Al{}let td=(()=>{class N{constructor(A,k,K,de,Oe){this.router=A,this.injector=K,this.preloadingStrategy=de,this.loader=Oe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ge.p)(A=>A instanceof ki),(0,Se.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,k){const K=[];for(const de of k){de.providers&&!de._injector&&(de._injector=(0,u.Ol2)(de.providers,A,`Route: ${de.path}`));const Oe=de._injector??A,Ct=de._loadedInjector??Oe;(de.loadChildren&&!de._loadedRoutes&&void 0===de.canLoad||de.loadComponent&&!de._loadedComponent)&&K.push(this.preloadConfig(Oe,de)),(de.children||de._loadedRoutes)&&K.push(this.processRoutes(Ct,de.children??de._loadedRoutes))}return(0,c.H)(K).pipe((0,je.U)())}preloadConfig(A,k){return this.preloadingStrategy.preload(k,()=>{let K;K=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(A,k):(0,te.of)(null);const de=K.pipe((0,ke.Z)(Oe=>null===Oe?(0,te.of)(void 0):(k._loadedRoutes=Oe.routes,k._loadedInjector=Oe.injector,this.processRoutes(Oe.injector??A,Oe.routes))));if(k.loadComponent&&!k._loadedComponent){const Oe=this.loader.loadComponent(k);return(0,c.H)([de,Oe]).pipe((0,je.U)())}return de})}static{this.\u0275fac=function(k){return new(k||N)(u.KVO(Or),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(Al),u.KVO(mo))}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})();const Ro=new u.nKC("");let ko=(()=>{class N{constructor(A,k,K,de,Oe={}){this.urlSerializer=A,this.transitions=k,this.viewportScroller=K,this.zone=de,this.options=Oe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Oe.scrollPositionRestoration=Oe.scrollPositionRestoration||"disabled",Oe.anchorScrolling=Oe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof Dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof ki?(this.lastId=A.id,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.urlAfterRedirects).fragment)):A instanceof Ti&&0===A.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(A,this.urlSerializer.parse(A.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(A=>{A instanceof _s&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,k){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _s(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(k){u.QTQ()}}static{this.\u0275prov=u.jDH({token:N,factory:N.\u0275fac})}}return N})();function vo(N,L){return{\u0275kind:N,\u0275providers:L}}function pr(){const N=(0,u.WQX)(u.zZn);return L=>{const A=N.get(u.o8S);if(L!==A.components[0])return;const k=N.get(Or),K=N.get(Xc);1===N.get(tc)&&k.initialNavigation(),N.get(hs,null,u.$GK.Optional)?.setUpPreloading(),N.get(Ro,null,u.$GK.Optional)?.init(),k.resetRootComponentType(A.componentTypes[0]),K.closed||(K.next(),K.complete(),K.unsubscribe())}}const Xc=new u.nKC("",{factory:()=>new $e.B}),tc=new u.nKC("",{providedIn:"root",factory:()=>1}),hs=new u.nKC("");function Qc(N){return vo(0,[{provide:hs,useExisting:td},{provide:Al,useExisting:N}])}const gl=new u.nKC("ROUTER_FORROOT_GUARD"),ys=[Ue.aZ,{provide:An,useClass:Gn},Or,sa,{provide:sr,useFactory:function nd(N){return N.routerState.root},deps:[Or]},mo,[]];function js(){return new u.NEm("Router",Or)}let kt=(()=>{class N{constructor(A){}static forRoot(A,k){return{ngModule:N,providers:[ys,[],{provide:ns,multi:!0,useValue:A},{provide:gl,useFactory:bs,deps:[[Or,new u.Xx1,new u.kdw]]},{provide:bi,useValue:k||{}},k?.useHash?{provide:Ue.hb,useClass:Ue.fw}:{provide:Ue.hb,useClass:Ue.Sm},{provide:Ro,useFactory:()=>{const N=(0,u.WQX)(Ue.Xr),L=(0,u.WQX)(u.SKi),A=(0,u.WQX)(bi),k=(0,u.WQX)(Q),K=(0,u.WQX)(An);return A.scrollOffset&&N.setOffset(A.scrollOffset),new ko(K,k,N,L,A)}},k?.preloadingStrategy?Qc(k.preloadingStrategy).\u0275providers:[],{provide:u.NEm,multi:!0,useFactory:js},k?.initialNavigation?qa(k):[],k?.bindToComponentInputs?vo(8,[Ds,{provide:di,useExisting:Ds}]).\u0275providers:[],[{provide:rc,useFactory:pr},{provide:u.iLQ,multi:!0,useExisting:rc}]]}}static forChild(A){return{ngModule:N,providers:[{provide:ns,multi:!0,useValue:A}]}}static{this.\u0275fac=function(k){return new(k||N)(u.KVO(gl,8))}}static{this.\u0275mod=u.$C({type:N})}static{this.\u0275inj=u.G2t({})}}return N})();function bs(N){return"guarded"}function qa(N){return["disabled"===N.initialNavigation?vo(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const L=(0,u.WQX)(Or);return()=>{L.setUpLocationChangeListener()}}},{provide:tc,useValue:2}]).\u0275providers:[],"enabledBlocking"===N.initialNavigation?vo(2,[{provide:tc,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:L=>{const A=L.get(Ue.hj,Promise.resolve());return()=>A.then(()=>new Promise(k=>{const K=L.get(Or),de=L.get(Xc);lr(K,()=>{k(!0)}),L.get(Q).afterPreactivation=()=>(k(!0),de.closed?(0,te.of)(void 0):de),K.initialNavigation()}))}}]).\u0275providers:[]]}const rc=new u.nKC("")},3345:(Bt,He,P)=>{P.d(He,{A:()=>ot});var u=P(1076),ae=P(1362),c=P(7852),te=P(8041);class fe{constructor(Ve,Ze){this._delegate=Ve,this.firebase=Ze,(0,c._addComponent)(Ve,new ae.uA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,c.deleteApp)(this._delegate)))}_getService(Ve,Ze=c._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const mt=this._delegate.container.getProvider(Ve);return!mt.isInitialized()&&"EXPLICIT"===(null===(at=mt.getComponent())||void 0===at?void 0:at.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Ze})}_removeServiceInstance(Ve,Ze=c._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(Ze)}_addComponent(Ve){(0,c._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,c._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ie=new u.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function me(){const Ue=function Me(Ue){const Ve={},Ze={__esModule:!0,initializeApp:function ge(Ce,Ke={}){const Ae=c.initializeApp(Ce,Ke);if((0,u.gR)(Ve,Ae.name))return Ve[Ae.name];const Pt=new Ue(Ae,Ze);return Ve[Ae.name]=Pt,Pt},app:mt,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function De(Ce){const Ke=Ce.name,Ae=Ke.replace("-compat","");if(c._registerComponent(Ce)&&"PUBLIC"===Ce.type){const Pt=(Vt=mt())=>{if("function"!=typeof Vt[Ae])throw Ie.create("invalid-app-argument",{appName:Ke});return Vt[Ae]()};void 0!==Ce.serviceProps&&(0,u.zw)(Pt,Ce.serviceProps),Ze[Ae]=Pt,Ue.prototype[Ae]=function(...Vt){return this._getService.bind(this,Ke).apply(this,Ce.multipleInstances?Vt:[])}}return"PUBLIC"===Ce.type?Ze[Ae]:null},removeApp:function at(Ce){delete Ve[Ce]},useAsService:function Se(Ce,Ke){return"serverAuth"===Ke?null:Ke},modularAPIs:c}};function mt(Ce){if(!(0,u.gR)(Ve,Ce=Ce||c._DEFAULT_ENTRY_NAME))throw Ie.create("no-app",{appName:Ce});return Ve[Ce]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function ke(){return Object.keys(Ve).map(Ce=>Ve[Ce])}}),mt.App=Ue,Ze}(fe);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function Ve(Ze){(0,u.zw)(Ue,Ze)},createSubscribe:u.tD,ErrorFactory:u.FA,deepExtend:u.zw}),Ue}(),ue=new te.Vy("@firebase/app-compat");if((0,u.Bd)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=re;!function $e(Ue){(0,c.registerVersion)("@firebase/app-compat","0.2.13",Ue)}()},7852:(Bt,He,P)=>{P.r(He),P.d(He,{FirebaseError:()=>te.g,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>We,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Mn,_apps:()=>_t,_clearComponents:()=>Kt,_components:()=>Yt,_getProvider:()=>An,_registerComponent:()=>Xt,_removeServiceInstance:()=>Gn,deleteApp:()=>Wi,getApp:()=>Ci,getApps:()=>_r,initializeApp:()=>ls,onLog:()=>Ls,registerVersion:()=>ir,setLogLevel:()=>ci});var u=P(467),ae=P(1362),c=P(8041),te=P(1076);const fe=(At,ft)=>ft.some(Ut=>At instanceof Ut);let ve,Ie;const re=new WeakMap,ue=new WeakMap,be=new WeakMap,Ge=new WeakMap,$e=new WeakMap;let Ve={get(At,ft,Ut){if(At instanceof IDBTransaction){if("done"===ft)return ue.get(At);if("objectStoreNames"===ft)return At.objectStoreNames||be.get(At);if("store"===ft)return Ut.objectStoreNames[1]?void 0:Ut.objectStore(Ut.objectStoreNames[0])}return ge(At[ft])},set:(At,ft,Ut)=>(At[ft]=Ut,!0),has:(At,ft)=>At instanceof IDBTransaction&&("done"===ft||"store"===ft)||ft in At};function mt(At){return"function"==typeof At?function at(At){return At!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(At)?function(...ft){return At.apply(ke(this),ft),ge(re.get(this))}:function(...ft){return ge(At.apply(ke(this),ft))}:function(ft,...Ut){const cn=At.call(ke(this),ft,...Ut);return be.set(cn,ft.sort?ft.sort():[ft]),ge(cn)}}(At):(At instanceof IDBTransaction&&function Ue(At){if(ue.has(At))return;const ft=new Promise((Ut,cn)=>{const Nn=()=>{At.removeEventListener("complete",un),At.removeEventListener("error",ui),At.removeEventListener("abort",ui)},un=()=>{Ut(),Nn()},ui=()=>{cn(At.error||new DOMException("AbortError","AbortError")),Nn()};At.addEventListener("complete",un),At.addEventListener("error",ui),At.addEventListener("abort",ui)});ue.set(At,ft)}(At),fe(At,function Me(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(At,Ve):At)}function ge(At){if(At instanceof IDBRequest)return function ot(At){const ft=new Promise((Ut,cn)=>{const Nn=()=>{At.removeEventListener("success",un),At.removeEventListener("error",ui)},un=()=>{Ut(ge(At.result)),Nn()},ui=()=>{cn(At.error),Nn()};At.addEventListener("success",un),At.addEventListener("error",ui)});return ft.then(Ut=>{Ut instanceof IDBCursor&&re.set(Ut,At)}).catch(()=>{}),$e.set(ft,At),ft}(At);if(Ge.has(At))return Ge.get(At);const ft=mt(At);return ft!==At&&(Ge.set(At,ft),$e.set(ft,At)),ft}const ke=At=>$e.get(At),Ce=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],Ae=new Map;function Pt(At,ft){if(!(At instanceof IDBDatabase)||ft in At||"string"!=typeof ft)return;if(Ae.get(ft))return Ae.get(ft);const Ut=ft.replace(/FromIndex$/,""),cn=ft!==Ut,Nn=Ke.includes(Ut);if(!(Ut in(cn?IDBIndex:IDBObjectStore).prototype)||!Nn&&!Ce.includes(Ut))return;const un=function(){var ui=(0,u.A)(function*(Bi,...Ri){const co=this.transaction(Bi,Nn?"readwrite":"readonly");let Rr=co.store;return cn&&(Rr=Rr.index(Ri.shift())),(yield Promise.all([Rr[Ut](...Ri),Nn&&co.done]))[0]});return function(Ri){return ui.apply(this,arguments)}}();return Ae.set(ft,un),un}!function Ze(At){Ve=At(Ve)}(At=>({...At,get:(ft,Ut,cn)=>Pt(ft,Ut)||At.get(ft,Ut,cn),has:(ft,Ut)=>!!Pt(ft,Ut)||At.has(ft,Ut)}));class Vt{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(Ut=>{if(function zt(At){const ft=At.getComponent();return"VERSION"===ft?.type}(Ut)){const cn=Ut.getImmediate();return`${cn.library}/${cn.version}`}return null}).filter(Ut=>Ut).join(" ")}}const zn="@firebase/app",si=new c.Vy("@firebase/app"),We="[DEFAULT]",ut={[zn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Yt=new Map;function hn(At,ft){try{At.container.addComponent(ft)}catch(Ut){si.debug(`Component ${ft.name} failed to register with FirebaseApp ${At.name}`,Ut)}}function Mn(At,ft){At.container.addOrOverwriteComponent(ft)}function Xt(At){const ft=At.name;if(Yt.has(ft))return si.debug(`There were multiple attempts to register component ${ft}.`),!1;Yt.set(ft,At);for(const Ut of _t.values())hn(Ut,At);return!0}function An(At,ft){const Ut=At.container.getProvider("heartbeat").getImmediate({optional:!0});return Ut&&Ut.triggerHeartbeat(),At.container.getProvider(ft)}function Gn(At,ft,Ut=We){An(At,ft).clearInstance(Ut)}function Kt(){Yt.clear()}const bn=new te.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xr{constructor(ft,Ut,cn){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},Ut),this._name=Ut.name,this._automaticDataCollectionEnabled=Ut.automaticDataCollectionEnabled,this._container=cn,this.container.addComponent(new ae.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const Oi="9.23.0";function ls(At,ft={}){let Ut=At;"object"!=typeof ft&&(ft={name:ft});const cn=Object.assign({name:We,automaticDataCollectionEnabled:!1},ft),Nn=cn.name;if("string"!=typeof Nn||!Nn)throw bn.create("bad-app-name",{appName:String(Nn)});if(Ut||(Ut=(0,te.T9)()),!Ut)throw bn.create("no-options");const un=_t.get(Nn);if(un){if((0,te.bD)(Ut,un.options)&&(0,te.bD)(cn,un.config))return un;throw bn.create("duplicate-app",{appName:Nn})}const ui=new ae.h1(Nn);for(const Ri of Yt.values())ui.addComponent(Ri);const Bi=new xr(Ut,cn,ui);return _t.set(Nn,Bi),Bi}function Ci(At=We){const ft=_t.get(At);if(!ft&&At===We&&(0,te.T9)())return ls();if(!ft)throw bn.create("no-app",{appName:At});return ft}function _r(){return Array.from(_t.values())}function Wi(At){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,u.A)(function*(At){const ft=At.name;_t.has(ft)&&(_t.delete(ft),yield Promise.all(At.container.getProviders().map(Ut=>Ut.delete())),At.isDeleted=!0)})).apply(this,arguments)}function ir(At,ft,Ut){var cn;let Nn=null!==(cn=ut[At])&&void 0!==cn?cn:At;Ut&&(Nn+=`-${Ut}`);const un=Nn.match(/\s|\//),ui=ft.match(/\s|\//);if(un||ui){const Bi=[`Unable to register library "${Nn}" with version "${ft}":`];return un&&Bi.push(`library name "${Nn}" contains illegal characters (whitespace or "/")`),un&&ui&&Bi.push("and"),ui&&Bi.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void si.warn(Bi.join(" "))}Xt(new ae.uA(`${Nn}-version`,()=>({library:Nn,version:ft}),"VERSION"))}function Ls(At,ft){if(null!==At&&"function"!=typeof At)throw bn.create("invalid-log-argument");(0,c.Ey)(At,ft)}function ci(At){(0,c.He)(At)}const Fi="firebase-heartbeat-database",Vi=1,oe="firebase-heartbeat-store";let J=null;function j(){return J||(J=function De(At,ft,{blocked:Ut,upgrade:cn,blocking:Nn,terminated:un}={}){const ui=indexedDB.open(At,ft),Bi=ge(ui);return cn&&ui.addEventListener("upgradeneeded",Ri=>{cn(ge(ui.result),Ri.oldVersion,Ri.newVersion,ge(ui.transaction),Ri)}),Ut&&ui.addEventListener("blocked",Ri=>Ut(Ri.oldVersion,Ri.newVersion,Ri)),Bi.then(Ri=>{un&&Ri.addEventListener("close",()=>un()),Nn&&Ri.addEventListener("versionchange",co=>Nn(co.oldVersion,co.newVersion,co))}).catch(()=>{}),Bi}(Fi,Vi,{upgrade:(At,ft)=>{0===ft&&At.createObjectStore(oe)}}).catch(At=>{throw bn.create("idb-open",{originalErrorMessage:At.message})})),J}function W(){return(W=(0,u.A)(function*(At){try{return yield(yield j()).transaction(oe).objectStore(oe).get(xt(At))}catch(ft){if(ft instanceof te.g)si.warn(ft.message);else{const Ut=bn.create("idb-get",{originalErrorMessage:ft?.message});si.warn(Ut.message)}}})).apply(this,arguments)}function _e(At,ft){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.A)(function*(At,ft){try{const cn=(yield j()).transaction(oe,"readwrite");yield cn.objectStore(oe).put(ft,xt(At)),yield cn.done}catch(Ut){if(Ut instanceof te.g)si.warn(Ut.message);else{const cn=bn.create("idb-set",{originalErrorMessage:Ut?.message});si.warn(cn.message)}}})).apply(this,arguments)}function xt(At){return`${At.name}!${At.options.appId}`}class ln{constructor(ft){this.container=ft,this._heartbeatsCache=null;const Ut=this.container.getProvider("app").getImmediate();this._storage=new cr(Ut),this._heartbeatsCachePromise=this._storage.read().then(cn=>(this._heartbeatsCache=cn,cn))}triggerHeartbeat(){var ft=this;return(0,u.A)(function*(){const cn=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nn=sn();if(null===ft._heartbeatsCache&&(ft._heartbeatsCache=yield ft._heartbeatsCachePromise),ft._heartbeatsCache.lastSentHeartbeatDate!==Nn&&!ft._heartbeatsCache.heartbeats.some(un=>un.date===Nn))return ft._heartbeatsCache.heartbeats.push({date:Nn,agent:cn}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter(un=>{const ui=new Date(un.date).valueOf();return Date.now()-ui<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,u.A)(function*(){if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null===ft._heartbeatsCache||0===ft._heartbeatsCache.heartbeats.length)return"";const Ut=sn(),{heartbeatsToSend:cn,unsentEntries:Nn}=function mi(At,ft=1024){const Ut=[];let cn=At.slice();for(const Nn of At){const un=Ut.find(ui=>ui.agent===Nn.agent);if(un){if(un.dates.push(Nn.date),Er(Ut)>ft){un.dates.pop();break}}else if(Ut.push({agent:Nn.agent,dates:[Nn.date]}),Er(Ut)>ft){Ut.pop();break}cn=cn.slice(1)}return{heartbeatsToSend:Ut,unsentEntries:cn}}(ft._heartbeatsCache.heartbeats),un=(0,te.Uj)(JSON.stringify({version:2,heartbeats:cn}));return ft._heartbeatsCache.lastSentHeartbeatDate=Ut,Nn.length>0?(ft._heartbeatsCache.heartbeats=Nn,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),un})()}}function sn(){return(new Date).toISOString().substring(0,10)}class cr{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.A)(function*(){return!!(0,te.zW)()&&(0,te.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,u.A)(function*(){return(yield ft._canUseIndexedDBPromise)&&(yield function z(At){return W.apply(this,arguments)}(ft.app))||{heartbeats:[]}})()}overwrite(ft){var Ut=this;return(0,u.A)(function*(){var cn;if(yield Ut._canUseIndexedDBPromise){const un=yield Ut.read();return _e(Ut.app,{lastSentHeartbeatDate:null!==(cn=ft.lastSentHeartbeatDate)&&void 0!==cn?cn:un.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var Ut=this;return(0,u.A)(function*(){var cn;if(yield Ut._canUseIndexedDBPromise){const un=yield Ut.read();return _e(Ut.app,{lastSentHeartbeatDate:null!==(cn=ft.lastSentHeartbeatDate)&&void 0!==cn?cn:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...ft.heartbeats]})}})()}}function Er(At){return(0,te.Uj)(JSON.stringify({version:2,heartbeats:At})).length}!function lo(At){Xt(new ae.uA("platform-logger",ft=>new Vt(ft),"PRIVATE")),Xt(new ae.uA("heartbeat",ft=>new ln(ft),"PRIVATE")),ir(zn,"0.9.13",At),ir(zn,"0.9.13","esm2017"),ir("fire-js","")}("")},1362:(Bt,He,P)=>{P.d(He,{Kq:()=>fe,h1:()=>Me,uA:()=>c});var u=P(467),ae=P(1076);class c{constructor(re,ue,be){this.name=re,this.instanceFactory=ue,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const te="[DEFAULT]";class fe{constructor(re,ue){this.name=re,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const ue=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(ue)){const be=new ae.cY;if(this.instancesDeferred.set(ue,be),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:ue});Ge&&be.resolve(Ge)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(re){var ue;const be=this.normalizeInstanceIdentifier(re?.identifier),Ge=null!==(ue=re?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch($e){if(Ge)return null;throw $e}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Ie(me){return"EAGER"===me.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[ue,be]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(ue);try{const $e=this.getOrInitializeService({instanceIdentifier:Ge});be.resolve($e)}catch{}}}}clearInstance(re=te){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,u.A)(function*(){const ue=Array.from(re.instances.values());yield Promise.all([...ue.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...ue.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=te){return this.instances.has(re)}getOptions(re=te){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:ue={}}=re,be=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:be,options:ue});for(const[$e,ot]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier($e)&&ot.resolve(Ge);return Ge}onInit(re,ue){var be;const Ge=this.normalizeInstanceIdentifier(ue),$e=null!==(be=this.onInitCallbacks.get(Ge))&&void 0!==be?be:new Set;$e.add(re),this.onInitCallbacks.set(Ge,$e);const ot=this.instances.get(Ge);return ot&&re(ot,Ge),()=>{$e.delete(re)}}invokeOnInitCallbacks(re,ue){const be=this.onInitCallbacks.get(ue);if(be)for(const Ge of be)try{Ge(re,ue)}catch{}}getOrInitializeService({instanceIdentifier:re,options:ue={}}){let be=this.instances.get(re);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(me=re,me===te?void 0:me),options:ue}),this.instances.set(re,be),this.instancesOptions.set(re,ue),this.invokeOnInitCallbacks(be,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,be)}catch{}var me;return be||null}normalizeInstanceIdentifier(re=te){return this.component?this.component.multipleInstances?re:te:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const ue=this.getProvider(re.name);if(ue.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);ue.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const ue=new fe(re,this);return this.providers.set(re,ue),ue}getProviders(){return Array.from(this.providers.values())}}},8041:(Bt,He,P)=>{P.d(He,{$b:()=>ae,Ey:()=>me,He:()=>Me,Vy:()=>Ie});const u=[];var ae=function(re){return re[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",re}(ae||{});const c={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},te=ae.INFO,fe={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},ve=(re,ue,...be)=>{if(ue<re.logLevel)return;const Ge=(new Date).toISOString(),$e=fe[ue];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[$e](`[${Ge}]  ${re.name}:`,...be)};class Ie{constructor(ue){this.name=ue,this._logLevel=te,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in ae))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?c[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...ue),this._logHandler(this,ae.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...ue),this._logHandler(this,ae.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...ue),this._logHandler(this,ae.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...ue),this._logHandler(this,ae.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...ue),this._logHandler(this,ae.ERROR,...ue)}}function Me(re){u.forEach(ue=>{ue.setLogLevel(re)})}function me(re,ue){for(const be of u){let Ge=null;ue&&ue.level&&(Ge=c[ue.level]),be.userLogHandler=null===re?null:($e,ot,...Ue)=>{const Ve=Ue.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");ot>=(Ge??$e.logLevel)&&re({level:ae[ot].toLowerCase(),message:Ve,args:Ue,type:$e.name})}}}},1084:(Bt,He,P)=>{P.d(He,{$G:()=>Lo,tg:()=>Vu,_H:()=>jl,U0:()=>dc,do:()=>kc,Bq:()=>Pa,UN:()=>yf,X9:()=>Vl,Um:()=>Cd,sy:()=>fs,Gx:()=>Ed,Ri:()=>hf,WA:()=>Uu,m_:()=>M});var u=P(7705),ae=P(1985),c=P(983),te=P(7673),fe=P(1413),ve=P(3726),Ie=P(1584),Me=P(8750);const{isArray:me}=Array;function re(g){return 1===g.length&&me(g[0])?g[0]:g}var ue=P(4360);function be(...g){return 1===(g=re(g)).length?(0,Me.Tg)(g[0]):new ae.c(function Ge(g){return S=>{let f=[];for(let v=0;f&&!S.closed&&v<g.length;v++)f.push((0,Me.Tg)(g[v]).subscribe((0,ue._)(S,D=>{if(f){for(let G=0;G<f.length;G++)G!==v&&f[G].unsubscribe();f=null}S.next(D)})))}}(g))}P(7786);var ot=P(9326);function Ue(...g){const S=(0,ot.ms)(g),f=re(g);return f.length?new ae.c(v=>{let D=f.map(()=>[]),G=f.map(()=>!1);v.add(()=>{D=G=null});for(let ee=0;!v.closed&&ee<f.length;ee++)(0,Me.Tg)(f[ee]).subscribe((0,ue._)(v,qe=>{if(D[ee].push(qe),D.every(ct=>ct.length)){const ct=D.map(Tt=>Tt.shift());v.next(S?S(...ct):ct),D.some((Tt,bt)=>!Tt.length&&G[bt])&&v.complete()}},()=>{G[ee]=!0,!D[ee].length&&v.complete()}));return()=>{D=G=null}}):c.w}var Ve=P(8793),at=P(6977),mt=P(5964),ge=P(6697),ke=P(8141),De=P(6354),Se=P(3993),Ce=P(1986),Ke=P(5558),Ae=P(9172),Pt=P(3294),Vt=P(5245),zt=P(177);Error,P(9417);var z={left:"right",right:"left",bottom:"top",top:"bottom"};function W(g){return g.replace(/left|right|bottom|top/g,function(S){return z[S]})}function _e(g){return g.split("-")[0]}var lt={start:"end",end:"start"};function xt(g){return g.replace(/start|end/g,function(S){return lt[S]})}var Qt="top",rn="bottom",ln="right",sn="left",mi="auto",cr=[Qt,rn,ln,sn],Er="start",lo="end",ft="viewport",Ut="popper",Nn=cr.reduce(function(g,S){return g.concat([S+"-"+Er,S+"-"+lo])},[]),un=[].concat(cr,[mi]).reduce(function(g,S){return g.concat([S,S+"-"+Er,S+"-"+lo])},[]),Ir=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Dr(g){if(null==g)return window;if("[object Window]"!==g.toString()){var S=g.ownerDocument;return S&&S.defaultView||window}return g}function ki(g){return g instanceof Dr(g).Element||g instanceof Element}function ur(g){return g instanceof Dr(g).HTMLElement||g instanceof HTMLElement}function Ti(g){return!(typeof ShadowRoot>"u")&&(g instanceof Dr(g).ShadowRoot||g instanceof ShadowRoot)}function rr(g){return((ki(g)?g.ownerDocument:g.document)||window.document).documentElement}var Es=Math.max,Ha=Math.min,$s=Math.round;function Sr(){var g=navigator.userAgentData;return null!=g&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(S){return S.brand+"/"+S.version}).join(" "):navigator.userAgent}function Il(){return!/^((?!chrome|android).)*safari/i.test(Sr())}function zo(g,S,f){void 0===S&&(S=!1),void 0===f&&(f=!1);var v=g.getBoundingClientRect(),D=1,G=1;S&&ur(g)&&(D=g.offsetWidth>0&&$s(v.width)/g.offsetWidth||1,G=g.offsetHeight>0&&$s(v.height)/g.offsetHeight||1);var qe=(ki(g)?Dr(g):window).visualViewport,ct=!Il()&&f,Tt=(v.left+(ct&&qe?qe.offsetLeft:0))/D,bt=(v.top+(ct&&qe?qe.offsetTop:0))/G,en=v.width/D,Ht=v.height/G;return{width:en,height:Ht,top:bt,right:Tt+en,bottom:bt+Ht,left:Tt,x:Tt,y:bt}}function _c(g){var S=Dr(g);return{scrollLeft:S.pageXOffset,scrollTop:S.pageYOffset}}function Go(g){return zo(rr(g)).left+_c(g).scrollLeft}function ms(g){return Dr(g).getComputedStyle(g)}function _s(g){return g?(g.nodeName||"").toLowerCase():null}function dr(g){return"html"===_s(g)?g:g.assignedSlot||g.parentNode||(Ti(g)?g.host:null)||rr(g)}function $o(g){var S=ms(g);return/auto|scroll|overlay|hidden/.test(S.overflow+S.overflowY+S.overflowX)}function zr(g){return["html","body","#document"].indexOf(_s(g))>=0?g.ownerDocument.body:ur(g)&&$o(g)?g:zr(dr(g))}function Wo(g,S){var f;void 0===S&&(S=[]);var v=zr(g),D=v===(null==(f=g.ownerDocument)?void 0:f.body),G=Dr(v),ee=D?[G].concat(G.visualViewport||[],$o(v)?v:[]):v,qe=S.concat(ee);return D?qe:qe.concat(Wo(dr(ee)))}function sa(g){return["table","td","th"].indexOf(_s(g))>=0}function ya(g){return ur(g)&&"fixed"!==ms(g).position?g.offsetParent:null}function No(g){for(var S=Dr(g),f=ya(g);f&&sa(f)&&"static"===ms(f).position;)f=ya(f);return f&&("html"===_s(f)||"body"===_s(f)&&"static"===ms(f).position)?S:f||function ba(g){var S=/firefox/i.test(Sr());if(/Trident/i.test(Sr())&&ur(g)&&"fixed"===ms(g).position)return null;var D=dr(g);for(Ti(D)&&(D=D.host);ur(D)&&["html","body"].indexOf(_s(D))<0;){var G=ms(D);if("none"!==G.transform||"none"!==G.perspective||"paint"===G.contain||-1!==["transform","perspective"].indexOf(G.willChange)||S&&"filter"===G.willChange||S&&G.filter&&"none"!==G.filter)return D;D=D.parentNode}return null}(g)||S}function cs(g,S){var f=S.getRootNode&&S.getRootNode();if(g.contains(S))return!0;if(f&&Ti(f)){var v=S;do{if(v&&g.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function eo(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function Wn(g,S,f){return S===ft?eo(function ll(g,S){var f=Dr(g),v=rr(g),D=f.visualViewport,G=v.clientWidth,ee=v.clientHeight,qe=0,ct=0;if(D){G=D.width,ee=D.height;var Tt=Il();(Tt||!Tt&&"fixed"===S)&&(qe=D.offsetLeft,ct=D.offsetTop)}return{width:G,height:ee,x:qe+Go(g),y:ct}}(g,f)):ki(S)?function Ko(g,S){var f=zo(g,!1,"fixed"===S);return f.top=f.top+g.clientTop,f.left=f.left+g.clientLeft,f.bottom=f.top+g.clientHeight,f.right=f.left+g.clientWidth,f.width=g.clientWidth,f.height=g.clientHeight,f.x=f.left,f.y=f.top,f}(S,f):eo(function Ho(g){var S,f=rr(g),v=_c(g),D=null==(S=g.ownerDocument)?void 0:S.body,G=Es(f.scrollWidth,f.clientWidth,D?D.scrollWidth:0,D?D.clientWidth:0),ee=Es(f.scrollHeight,f.clientHeight,D?D.scrollHeight:0,D?D.clientHeight:0),qe=-v.scrollLeft+Go(g),ct=-v.scrollTop;return"rtl"===ms(D||f).direction&&(qe+=Es(f.clientWidth,D?D.clientWidth:0)-G),{width:G,height:ee,x:qe,y:ct}}(rr(g)))}function Is(g){return g.split("-")[1]}function Tr(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function $a(g){var ct,S=g.reference,f=g.element,v=g.placement,D=v?_e(v):null,G=v?Is(v):null,ee=S.x+S.width/2-f.width/2,qe=S.y+S.height/2-f.height/2;switch(D){case Qt:ct={x:ee,y:S.y-f.height};break;case rn:ct={x:ee,y:S.y+S.height};break;case ln:ct={x:S.x+S.width,y:qe};break;case sn:ct={x:S.x-f.width,y:qe};break;default:ct={x:S.x,y:S.y}}var Tt=D?Tr(D):null;if(null!=Tt){var bt="y"===Tt?"height":"width";switch(G){case Er:ct[Tt]=ct[Tt]-(S[bt]/2-f[bt]/2);break;case lo:ct[Tt]=ct[Tt]+(S[bt]/2-f[bt]/2)}}return ct}function uo(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function Jr(g,S){return S.reduce(function(f,v){return f[v]=g,f},{})}function Yo(g,S){void 0===S&&(S={});var v=S.placement,D=void 0===v?g.placement:v,G=S.strategy,ee=void 0===G?g.strategy:G,qe=S.boundary,ct=void 0===qe?"clippingParents":qe,Tt=S.rootBoundary,bt=void 0===Tt?ft:Tt,en=S.elementContext,Ht=void 0===en?Ut:en,tn=S.altBoundary,ii=void 0!==tn&&tn,pi=S.padding,jn=void 0===pi?0:pi,zi=uo("number"!=typeof jn?jn:Jr(jn,cr)),gr=g.rects.popper,hi=g.elements[ii?Ht===Ut?"reference":Ut:Ht],Pi=function sr(g,S,f,v){var D="clippingParents"===S?function us(g){var S=Wo(dr(g)),v=["absolute","fixed"].indexOf(ms(g).position)>=0&&ur(g)?No(g):g;return ki(v)?S.filter(function(D){return ki(D)&&cs(D,v)&&"body"!==_s(D)}):[]}(g):[].concat(S),G=[].concat(D,[f]),qe=G.reduce(function(ct,Tt){var bt=Wn(g,Tt,v);return ct.top=Es(bt.top,ct.top),ct.right=Ha(bt.right,ct.right),ct.bottom=Ha(bt.bottom,ct.bottom),ct.left=Es(bt.left,ct.left),ct},Wn(g,G[0],v));return qe.width=qe.right-qe.left,qe.height=qe.bottom-qe.top,qe.x=qe.left,qe.y=qe.top,qe}(ki(hi)?hi:hi.contextElement||rr(g.elements.popper),ct,bt,ee),wr=zo(g.elements.reference),ei=$a({reference:wr,element:gr,strategy:"absolute",placement:D}),Nr=eo(Object.assign({},gr,ei)),Xs=Ht===Ut?Nr:wr,Us={top:Pi.top-Xs.top+zi.top,bottom:Xs.bottom-Pi.bottom+zi.bottom,left:Pi.left-Xs.left+zi.left,right:Xs.right-Pi.right+zi.right},ka=g.modifiersData.offset;if(Ht===Ut&&ka){var hc=ka[D];Object.keys(Us).forEach(function(La){var hu=[ln,rn].indexOf(La)>=0?1:-1,Td=[Qt,rn].indexOf(La)>=0?"y":"x";Us[La]+=hc[Td]*hu})}return Us}const di={name:"flip",enabled:!0,phase:"main",fn:function Kn(g){var S=g.state,f=g.options,v=g.name;if(!S.modifiersData[v]._skip){for(var D=f.mainAxis,G=void 0===D||D,ee=f.altAxis,qe=void 0===ee||ee,ct=f.fallbackPlacements,Tt=f.padding,bt=f.boundary,en=f.rootBoundary,Ht=f.altBoundary,tn=f.flipVariations,ii=void 0===tn||tn,pi=f.allowedAutoPlacements,jn=S.options.placement,zi=_e(jn),gr=ct||(zi!==jn&&ii?function Jt(g){if(_e(g)===mi)return[];var S=W(g);return[xt(g),S,xt(S)]}(jn):[W(jn)]),hi=[jn].concat(gr).reduce(function(wf,$u){return wf.concat(_e($u)===mi?function Yi(g,S){void 0===S&&(S={});var D=S.boundary,G=S.rootBoundary,ee=S.padding,qe=S.flipVariations,ct=S.allowedAutoPlacements,Tt=void 0===ct?un:ct,bt=Is(S.placement),en=bt?qe?Nn:Nn.filter(function(ii){return Is(ii)===bt}):cr,Ht=en.filter(function(ii){return Tt.indexOf(ii)>=0});0===Ht.length&&(Ht=en);var tn=Ht.reduce(function(ii,pi){return ii[pi]=Yo(g,{placement:pi,boundary:D,rootBoundary:G,padding:ee})[_e(pi)],ii},{});return Object.keys(tn).sort(function(ii,pi){return tn[ii]-tn[pi]})}(S,{placement:$u,boundary:bt,rootBoundary:en,padding:Tt,flipVariations:ii,allowedAutoPlacements:pi}):$u)},[]),Pi=S.rects.reference,wr=S.rects.popper,ei=new Map,Nr=!0,Xs=hi[0],Us=0;Us<hi.length;Us++){var ka=hi[Us],hc=_e(ka),La=Is(ka)===Er,hu=[Qt,rn].indexOf(hc)>=0,Td=hu?"width":"height",Za=Yo(S,{placement:ka,boundary:bt,rootBoundary:en,altBoundary:Ht,padding:Tt}),Ja=hu?La?ln:sn:La?rn:Qt;Pi[Td]>wr[Td]&&(Ja=W(Ja));var ga=W(Ja),Hu=[];if(G&&Hu.push(Za[hc]<=0),qe&&Hu.push(Za[Ja]<=0,Za[ga]<=0),Hu.every(function(wf){return wf})){Xs=ka,Nr=!1;break}ei.set(ka,Hu)}if(Nr)for(var bf=function($u){var Mp=hi.find(function(Cf){var vh=ei.get(Cf);if(vh)return vh.slice(0,$u).every(function(jg){return jg})});if(Mp)return Xs=Mp,"break"},Bc=ii?3:1;Bc>0&&"break"!==bf(Bc);Bc--);S.placement!==Xs&&(S.modifiersData[v]._skip=!0,S.placement=Xs,S.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ss(g,S,f){return Es(g,Ha(S,f))}function ho(g){var S=zo(g),f=g.offsetWidth,v=g.offsetHeight;return Math.abs(S.width-f)<=1&&(f=S.width),Math.abs(S.height-v)<=1&&(v=S.height),{x:g.offsetLeft,y:g.offsetTop,width:f,height:v}}const fo={name:"preventOverflow",enabled:!0,phase:"main",fn:function qi(g){var S=g.state,f=g.options,v=g.name,D=f.mainAxis,G=void 0===D||D,ee=f.altAxis,qe=void 0!==ee&&ee,Ht=f.tether,tn=void 0===Ht||Ht,ii=f.tetherOffset,pi=void 0===ii?0:ii,jn=Yo(S,{boundary:f.boundary,rootBoundary:f.rootBoundary,padding:f.padding,altBoundary:f.altBoundary}),zi=_e(S.placement),vi=Is(S.placement),gr=!vi,hi=Tr(zi),Pi=function Ds(g){return"x"===g?"y":"x"}(hi),wr=S.modifiersData.popperOffsets,ei=S.rects.reference,Nr=S.rects.popper,Xs="function"==typeof pi?pi(Object.assign({},S.rects,{placement:S.placement})):pi,Us="number"==typeof Xs?{mainAxis:Xs,altAxis:Xs}:Object.assign({mainAxis:0,altAxis:0},Xs),ka=S.modifiersData.offset?S.modifiersData.offset[S.placement]:null,hc={x:0,y:0};if(wr){if(G){var La,hu="y"===hi?Qt:sn,Td="y"===hi?rn:ln,Za="y"===hi?"height":"width",Ja=wr[hi],ga=Ja+jn[hu],Hu=Ja-jn[Td],Tp=tn?-Nr[Za]/2:0,bf=vi===Er?ei[Za]:Nr[Za],Bc=vi===Er?-Nr[Za]:-ei[Za],Bg=S.elements.arrow,wf=tn&&Bg?ho(Bg):{width:0,height:0},$u=S.modifiersData["arrow#persistent"]?S.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Mp=$u[hu],Cf=$u[Td],vh=Ss(0,ei[Za],wf[Za]),jg=gr?ei[Za]/2-Tp-vh-Mp-Us.mainAxis:bf-vh-Mp-Us.mainAxis,yh=gr?-ei[Za]/2+Tp+vh+Cf+Us.mainAxis:Bc+vh+Cf+Us.mainAxis,Md=S.elements.arrow&&No(S.elements.arrow),k_=Md?"y"===hi?Md.clientTop||0:Md.clientLeft||0:0,L_=null!=(La=ka?.[hi])?La:0,B_=Ja+yh-L_,Iy=Ss(tn?Ha(ga,Ja+jg-L_-k_):ga,Ja,tn?Es(Hu,B_):Hu);wr[hi]=Iy,hc[hi]=Iy-Ja}if(qe){var Ef,Ad=wr[Pi],wh="y"===Pi?"height":"width",Df=Ad+jn["x"===hi?Qt:sn],Od=Ad-jn["x"===hi?rn:ln],Vg=-1!==[Qt,sn].indexOf(zi),Rs=null!=(Ef=ka?.[Pi])?Ef:0,Wu=Vg?Df:Ad-ei[wh]-Nr[wh]-Rs+Us.altAxis,Dy=Vg?Ad+ei[wh]+Nr[wh]-Rs-Us.altAxis:Od,Ug=tn&&Vg?function kr(g,S,f){var v=Ss(g,S,f);return v>f?f:v}(Wu,Ad,Dy):Ss(tn?Wu:Df,Ad,tn?Dy:Od);wr[Pi]=Ug,hc[Pi]=Ug-Ad}S.modifiersData[v]=hc}},requiresIfExists:["offset"]},wa={name:"arrow",enabled:!0,phase:"main",fn:function Tn(g){var S,f=g.state,v=g.name,D=g.options,G=f.elements.arrow,ee=f.modifiersData.popperOffsets,qe=_e(f.placement),ct=Tr(qe),bt=[sn,ln].indexOf(qe)>=0?"height":"width";if(G&&ee){var en=function(S,f){return uo("number"!=typeof(S="function"==typeof S?S(Object.assign({},f.rects,{placement:f.placement})):S)?S:Jr(S,cr))}(D.padding,f),Ht=ho(G),tn="y"===ct?Qt:sn,ii="y"===ct?rn:ln,pi=f.rects.reference[bt]+f.rects.reference[ct]-ee[ct]-f.rects.popper[bt],jn=ee[ct]-f.rects.reference[ct],zi=No(G),vi=zi?"y"===ct?zi.clientHeight||0:zi.clientWidth||0:0,wr=vi/2-Ht[bt]/2+(pi/2-jn/2),ei=Ss(en[tn],wr,vi-Ht[bt]-en[ii]);f.modifiersData[v]=((S={})[ct]=ei,S.centerOffset=ei-wr,S)}},effect:function Po(g){var S=g.state,v=g.options.element,D=void 0===v?"[data-popper-arrow]":v;null!=D&&("string"==typeof D&&!(D=S.elements.popper.querySelector(D))||cs(S.elements.popper,D)&&(S.elements.arrow=D))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ts(g,S,f){void 0===f&&(f=!1);var v=ur(S),D=ur(S)&&function aa(g){var S=g.getBoundingClientRect(),f=$s(S.width)/g.offsetWidth||1,v=$s(S.height)/g.offsetHeight||1;return 1!==f||1!==v}(S),G=rr(S),ee=zo(g,D,f),qe={scrollLeft:0,scrollTop:0},ct={x:0,y:0};return(v||!v&&!f)&&(("body"!==_s(S)||$o(G))&&(qe=function Ui(g){return g!==Dr(g)&&ur(g)?function to(g){return{scrollLeft:g.scrollLeft,scrollTop:g.scrollTop}}(g):_c(g)}(S)),ur(S)?((ct=zo(S,!0)).x+=S.clientLeft,ct.y+=S.clientTop):G&&(ct.x=Go(G))),{x:ee.left+qe.scrollLeft-ct.x,y:ee.top+qe.scrollTop-ct.y,width:ee.width,height:ee.height}}function Fs(g){var S=new Map,f=new Set,v=[];function D(G){f.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(qe){if(!f.has(qe)){var ct=S.get(qe);ct&&D(ct)}}),v.push(G)}return g.forEach(function(G){S.set(G.name,G)}),g.forEach(function(G){f.has(G.name)||D(G)}),v}function ql(g){var S;return function(){return S||(S=new Promise(function(f){Promise.resolve().then(function(){S=void 0,f(g())})})),S}}var Ms={placement:"bottom",modifiers:[],strategy:"absolute"};function Ws(){for(var g=arguments.length,S=new Array(g),f=0;f<g;f++)S[f]=arguments[f];return!S.some(function(v){return!(v&&"function"==typeof v.getBoundingClientRect)})}function or(g){void 0===g&&(g={});var f=g.defaultModifiers,v=void 0===f?[]:f,D=g.defaultOptions,G=void 0===D?Ms:D;return function(qe,ct,Tt){void 0===Tt&&(Tt=G);var bt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ms,G),modifiersData:{},elements:{reference:qe,popper:ct},attributes:{},styles:{}},en=[],Ht=!1,tn={state:bt,setOptions:function(zi){var vi="function"==typeof zi?zi(bt.options):zi;pi(),bt.options=Object.assign({},G,bt.options,vi),bt.scrollParents={reference:ki(qe)?Wo(qe):qe.contextElement?Wo(qe.contextElement):[],popper:Wo(ct)};var gr=function vs(g){var S=Fs(g);return Ir.reduce(function(f,v){return f.concat(S.filter(function(D){return D.phase===v}))},[])}(function no(g){var S=g.reduce(function(f,v){var D=f[v.name];return f[v.name]=D?Object.assign({},D,v,{options:Object.assign({},D.options,v.options),data:Object.assign({},D.data,v.data)}):v,f},{});return Object.keys(S).map(function(f){return S[f]})}([].concat(v,bt.options.modifiers)));return bt.orderedModifiers=gr.filter(function(hi){return hi.enabled}),function ii(){bt.orderedModifiers.forEach(function(jn){var vi=jn.options,hi=jn.effect;if("function"==typeof hi){var Pi=hi({state:bt,name:jn.name,instance:tn,options:void 0===vi?{}:vi});en.push(Pi||function(){})}})}(),tn.update()},forceUpdate:function(){if(!Ht){var zi=bt.elements,vi=zi.reference,gr=zi.popper;if(Ws(vi,gr)){bt.rects={reference:Ts(vi,No(gr),"fixed"===bt.options.strategy),popper:ho(gr)},bt.reset=!1,bt.placement=bt.options.placement,bt.orderedModifiers.forEach(function(Us){return bt.modifiersData[Us.name]=Object.assign({},Us.data)});for(var hi=0;hi<bt.orderedModifiers.length;hi++)if(!0!==bt.reset){var Pi=bt.orderedModifiers[hi],wr=Pi.fn,ei=Pi.options;"function"==typeof wr&&(bt=wr({state:bt,options:void 0===ei?{}:ei,name:Pi.name,instance:tn})||bt)}else bt.reset=!1,hi=-1}}},update:ql(function(){return new Promise(function(jn){tn.forceUpdate(),jn(bt)})}),destroy:function(){pi(),Ht=!0}};if(!Ws(qe,ct))return tn;function pi(){en.forEach(function(jn){return jn()}),en=[]}return tn.setOptions(Tt).then(function(jn){!Ht&&Tt.onFirstUpdate&&Tt.onFirstUpdate(jn)}),tn}}var Ca={passive:!0},Os={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gr(g){var S,f=g.popper,v=g.popperRect,D=g.placement,G=g.variation,ee=g.offsets,qe=g.position,ct=g.gpuAcceleration,Tt=g.adaptive,bt=g.roundOffsets,en=g.isFixed,Ht=ee.x,tn=void 0===Ht?0:Ht,ii=ee.y,pi=void 0===ii?0:ii,jn="function"==typeof bt?bt({x:tn,y:pi}):{x:tn,y:pi};tn=jn.x,pi=jn.y;var zi=ee.hasOwnProperty("x"),vi=ee.hasOwnProperty("y"),gr=sn,hi=Qt,Pi=window;if(Tt){var wr=No(f),ei="clientHeight",Nr="clientWidth";wr===Dr(f)&&"static"!==ms(wr=rr(f)).position&&"absolute"===qe&&(ei="scrollHeight",Nr="scrollWidth"),(D===Qt||(D===sn||D===ln)&&G===lo)&&(hi=rn,pi-=(en&&wr===Pi&&Pi.visualViewport?Pi.visualViewport.height:wr[ei])-v.height,pi*=ct?1:-1),D!==sn&&(D!==Qt&&D!==rn||G!==lo)||(gr=ln,tn-=(en&&wr===Pi&&Pi.visualViewport?Pi.visualViewport.width:wr[Nr])-v.width,tn*=ct?1:-1)}var La,ka=Object.assign({position:qe},Tt&&Os),hc=!0===bt?function la(g,S){var v=g.y,D=S.devicePixelRatio||1;return{x:$s(g.x*D)/D||0,y:$s(v*D)/D||0}}({x:tn,y:pi},Dr(f)):{x:tn,y:pi};return tn=hc.x,pi=hc.y,Object.assign({},ka,ct?((La={})[hi]=vi?"0":"",La[gr]=zi?"0":"",La.transform=(Pi.devicePixelRatio||1)<=1?"translate("+tn+"px, "+pi+"px)":"translate3d("+tn+"px, "+pi+"px, 0)",La):((S={})[hi]=vi?pi+"px":"",S[gr]=zi?tn+"px":"",S.transform="",S))}var Hr=or({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function po(g){var S=g.state,f=g.instance,v=g.options,D=v.scroll,G=void 0===D||D,ee=v.resize,qe=void 0===ee||ee,ct=Dr(S.elements.popper),Tt=[].concat(S.scrollParents.reference,S.scrollParents.popper);return G&&Tt.forEach(function(bt){bt.addEventListener("scroll",f.update,Ca)}),qe&&ct.addEventListener("resize",f.update,Ca),function(){G&&Tt.forEach(function(bt){bt.removeEventListener("scroll",f.update,Ca)}),qe&&ct.removeEventListener("resize",f.update,Ca)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function As(g){var S=g.state;S.modifiersData[g.name]=$a({reference:S.rects.reference,element:S.rects.popper,strategy:"absolute",placement:S.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Wa(g){var S=g.state,f=g.options,v=f.gpuAcceleration,D=void 0===v||v,G=f.adaptive,ee=void 0===G||G,qe=f.roundOffsets,ct=void 0===qe||qe,Tt={placement:_e(S.placement),variation:Is(S.placement),popper:S.elements.popper,popperRect:S.rects.popper,gpuAcceleration:D,isFixed:"fixed"===S.options.strategy};null!=S.modifiersData.popperOffsets&&(S.styles.popper=Object.assign({},S.styles.popper,Gr(Object.assign({},Tt,{offsets:S.modifiersData.popperOffsets,position:S.options.strategy,adaptive:ee,roundOffsets:ct})))),null!=S.modifiersData.arrow&&(S.styles.arrow=Object.assign({},S.styles.arrow,Gr(Object.assign({},Tt,{offsets:S.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ct})))),S.attributes.popper=Object.assign({},S.attributes.popper,{"data-popper-placement":S.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function hr(g){var S=g.state;Object.keys(S.elements).forEach(function(f){var v=S.styles[f]||{},D=S.attributes[f]||{},G=S.elements[f];!ur(G)||!_s(G)||(Object.assign(G.style,v),Object.keys(D).forEach(function(ee){var qe=D[ee];!1===qe?G.removeAttribute(ee):G.setAttribute(ee,!0===qe?"":qe)}))})},effect:function Xl(g){var S=g.state,f={popper:{position:S.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(S.elements.popper.style,f.popper),S.styles=f,S.elements.arrow&&Object.assign(S.elements.arrow.style,f.arrow),function(){Object.keys(S.elements).forEach(function(v){var D=S.elements[v],G=S.attributes[v]||{},qe=Object.keys(S.styles.hasOwnProperty(v)?S.styles[v]:f[v]).reduce(function(ct,Tt){return ct[Tt]="",ct},{});!ur(D)||!_s(D)||(Object.assign(D.style,qe),Object.keys(G).forEach(function(ct){D.removeAttribute(ct)}))})}},requires:["computeStyles"]}]});const Sl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Dl(g){var S=g.state,v=g.name,D=g.options.offset,G=void 0===D?[0,0]:D,ee=un.reduce(function(bt,en){return bt[en]=function ca(g,S,f){var v=_e(g),D=[sn,Qt].indexOf(v)>=0?-1:1,G="function"==typeof f?f(Object.assign({},S,{placement:g})):f,ee=G[0],qe=G[1];return ee=ee||0,qe=(qe||0)*D,[sn,ln].indexOf(v)>=0?{x:qe,y:ee}:{x:ee,y:qe}}(en,S.rects,G),bt},{}),qe=ee[S.placement],Tt=qe.y;null!=S.modifiersData.popperOffsets&&(S.modifiersData.popperOffsets.x+=qe.x,S.modifiersData.popperOffsets.y+=Tt),S.modifiersData[v]=ee}},Xn=["*"],Jl=function(g){return{$implicit:g}},Du=["dialog"],Su=["ngbNavOutlet",""];function Qd(g,S){}function wc(g,S){if(1&g&&(u.j41(0,"div",2),u.DNE(1,Qd,0,0,"ng-template",3),u.k0s()),2&g){const f=u.XpG().$implicit,v=u.XpG();u.Y8G("item",f)("nav",v.nav)("role",v.paneRole),u.R7$(1),u.Y8G("ngTemplateOutlet",(null==f.contentTpl?null:f.contentTpl.templateRef)||null)("ngTemplateOutletContext",u.eq3(5,Jl,f.active||v.isPanelTransitioning(f)))}}function Zd(g,S){if(1&g&&u.DNE(0,wc,2,7,"div",1),2&g){const f=S.$implicit,v=u.XpG();u.Y8G("ngIf",f.isPanelInDom()||v.isPanelTransitioning(f))}}function gl(g){return"string"==typeof g}function kt(g){return null!=g}function qa(g){return(g||document.body).getBoundingClientRect()}function Sc(g=document){const S=g?.activeElement;return S?S.shadowRoot?Sc(S.shadowRoot):S:null}const id={animation:!0,transitionTimerDelayMs:5},Jd=()=>{},{transitionTimerDelayMs:eh}=id,Lr=new Map,N=(g,S,f,v)=>{let D=v.context||{};const G=Lr.get(S);if(G)switch(v.runningTransition){case"continue":return c.w;case"stop":g.run(()=>G.transition$.complete()),D=Object.assign(G.context,D),Lr.delete(S)}const ee=f(S,v.animation,D)||Jd;if(!v.animation||"none"===window.getComputedStyle(S).transitionProperty)return g.run(()=>ee()),(0,te.of)(void 0).pipe(function rc(g){return S=>new ae.c(f=>S.subscribe({next:ee=>g.run(()=>f.next(ee)),error:ee=>g.run(()=>f.error(ee)),complete:()=>g.run(()=>f.complete())}))}(g));const qe=new fe.B,ct=new fe.B,Tt=qe.pipe(function Ze(...g){return S=>(0,Ve.x)(S,(0,te.of)(...g))}(!0));Lr.set(S,{transition$:qe,complete:()=>{ct.next(),ct.complete()},context:D});const bt=function Ol(g){const{transitionDelay:S,transitionDuration:f}=window.getComputedStyle(g);return 1e3*(parseFloat(S)+parseFloat(f))}(S);return g.runOutsideAngular(()=>{const en=(0,ve.R)(S,"transitionend").pipe((0,at.Q)(Tt),(0,mt.p)(({target:tn})=>tn===S));be((0,Ie.O)(bt+eh).pipe((0,at.Q)(Tt)),en,ct).pipe((0,at.Q)(Tt)).subscribe(()=>{Lr.delete(S),g.run(()=>{ee(),qe.next(),qe.complete()})})}),qe.asObservable()},k=(g,S,f)=>{let{direction:v,maxSize:D,dimension:G}=f;const{classList:ee}=g;function qe(){ee.add("collapse"),"show"===v?ee.add("show"):ee.remove("show")}if(S)return D||(D=function A(g,S){if(typeof navigator>"u")return"0px";const{classList:f}=g,v=f.contains("show");v||f.add("show"),g.style[S]="";const D=g.getBoundingClientRect()[S]+"px";return v||f.remove("show"),D}(g,G),f.maxSize=D,g.style[G]="show"!==v?D:"0px",ee.remove("collapse"),ee.remove("collapsing"),ee.remove("show"),qa(g),ee.add("collapsing")),g.style[G]="show"===v?D:"0px",()=>{qe(),ee.remove("collapsing"),g.style[G]=""};qe()};let K=(()=>{class g{constructor(){this.animation=id.animation}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),ml=(()=>{class g{constructor(f){this._ngbConfig=f,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(K))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Lo=(()=>{class g{set collapsed(f){this._isCollapsed!==f&&(this._isCollapsed=f,this._afterInit&&this._runTransitionWithEvents(f,this.animation))}constructor(f,v,D){this._element=f,this._zone=D,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new u.bkB,this.shown=new u.bkB,this.hidden=new u.bkB,this.animation=v.animation,this.horizontal=v.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(f=this._isCollapsed){this.collapsed=!f,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(f,v){return N(this._zone,this._element.nativeElement,k,{animation:v,runningTransition:"stop",context:{direction:f?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(f,v){this._runTransition(f,v).subscribe(()=>{f?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.aKT),u.rXU(ml),u.rXU(u.SKi))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(v,D){2&v&&u.AVh("collapse-horizontal",D.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return g})(),Nl=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),sc=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),xl=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),od=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();var Ji=function(g){return g[g.Tab=9]="Tab",g[g.Enter=13]="Enter",g[g.Escape=27]="Escape",g[g.Space=32]="Space",g[g.PageUp=33]="PageUp",g[g.PageDown=34]="PageDown",g[g.End=35]="End",g[g.Home=36]="Home",g[g.ArrowLeft=37]="ArrowLeft",g[g.ArrowUp=38]="ArrowUp",g[g.ArrowRight=39]="ArrowRight",g[g.ArrowDown=40]="ArrowDown",g}(Ji||{});const kl=(g,S)=>!!S&&S.some(f=>f.contains(g)),cc=(g,S)=>!S||null!=function bs(g,S){return!S||typeof g.closest>"u"?null:g.closest(S)}(g,S),qs=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ll=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Vs(g){const S=Array.from(g.querySelectorAll(Ll)).filter(f=>-1!==f.tabIndex);return[S[0],S[S.length-1]]}let rh=(()=>{class g{constructor(f){this._element=f.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(zt.qQ))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const ku=/\s+/,x=/  +/gi,F={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},we=/^left/,et=/^right/,dt=/^start/,Nt=/^end/;function an({placement:g,baseClass:S},f){let v=Array.isArray(g)?g:g.split(ku),G=v.findIndex(Tt=>"auto"===Tt);G>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Tt){null==v.find(bt=>-1!==bt.search("^"+Tt))&&v.splice(G++,1,Tt)});const ee=v.map(Tt=>function X(g,S){const[f,v]=F[g];return S&&v||f}(Tt,f.isRTL()));return{placement:ee.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!S,phase:"write",fn({state:Tt}){const bt=new RegExp(S+"(-[a-z]+)*","gi"),en=Tt.elements.popper,Ht=Tt.placement;let tn=en.className;tn=tn.replace(bt,""),tn+=` ${function dn(g,S){let[f,v]=S.split("-");const D=f.replace(we,"start").replace(et,"end");let G=[D];if(v){let ee=v;("left"===f||"right"===f)&&(ee=ee.replace(dt,"top").replace(Nt,"bottom")),G.push(`${D}-${ee}`)}return g&&(G=G.map(ee=>`${g}-${ee}`)),G.join(" ")}(S,Ht)}`,tn=tn.trim().replace(x," "),en.className=tn}},di,fo,wa,{enabled:!0,name:"flip",options:{fallbackPlacements:ee}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Rn(g){return g}new Date(1882,10,12),new Date(2174,10,25);let gn=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),mp=(()=>{class g{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=f=>f}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),jl=(()=>{class g{set disabled(f){this._disabled=""===f||!0===f,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(f,v){this.elementRef=f,this._renderer=v,this._disabled=!1}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(v,D){2&v&&(u.Mr5("tabIndex",D.disabled?-1:0),u.AVh("disabled",D.disabled))},inputs:{disabled:"disabled"},standalone:!0})}}return g})(),dc=(()=>{class g{constructor(f,v){this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=v.nativeElement}static{this.\u0275fac=function(v){return new(v||g)(u.rXU((0,u.Rfq)(()=>Vu)),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(v,D,G){if(1&v&&u.wni(G,jl,4),2&v){let ee;u.mGM(ee=u.lsd())&&(D.menuItems=ee)}},hostVars:4,hostBindings:function(v,D){1&v&&u.bIt("keydown.ArrowUp",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.ArrowDown",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Home",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.End",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Enter",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Space",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Tab",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Shift.Tab",function(ee){return D.dropdown.onKeyDown(ee)}),2&v&&u.AVh("dropdown-menu",!0)("show",D.dropdown.isOpen())},standalone:!0})}}return g})(),Fo=(()=>{class g{constructor(f,v){this.dropdown=f,this.nativeElement=v.nativeElement}static{this.\u0275fac=function(v){return new(v||g)(u.rXU((0,u.Rfq)(()=>Vu)),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(v,D){2&v&&u.BMQ("aria-expanded",D.dropdown.isOpen())},standalone:!0})}}return g})(),kc=(()=>{class g extends Fo{constructor(f,v){super(f,v)}static{this.\u0275fac=function(v){return new(v||g)(u.rXU((0,u.Rfq)(()=>Vu)),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(v,D){1&v&&u.bIt("click",function(){return D.dropdown.toggle()})("keydown.ArrowUp",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.ArrowDown",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Home",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.End",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Tab",function(ee){return D.dropdown.onKeyDown(ee)})("keydown.Shift.Tab",function(ee){return D.dropdown.onKeyDown(ee)}),2&v&&u.BMQ("aria-expanded",D.dropdown.isOpen())},standalone:!0,features:[u.Jv_([{provide:Fo,useExisting:(0,u.Rfq)(()=>g)}]),u.Vt3]})}}return g})(),Vu=(()=>{class g{constructor(f,v,D,G,ee,qe){this._changeDetector=f,this._document=D,this._ngZone=G,this._elementRef=ee,this._renderer=qe,this._destroyCloseHandlers$=new fe.B,this._bodyContainer=null,this._open=!1,this.openChange=new u.bkB,this.placement=v.placement,this.popperOptions=v.popperOptions,this.container=v.container,this.autoClose=v.autoClose,this._positioning=function qn(){const g=(0,u.WQX)(rh);let S=null;return{createPopper(f){if(!S){let D=(f.updatePopperOptions||Rn)(an(f,g));S=Hr(f.hostElement,f.targetElement,D)}},update(){S&&S.update()},setOptions(f){if(S){let D=(f.updatePopperOptions||Rn)(an(f,g));S.setOptions(D)}},destroy(){S&&(S.destroy(),S=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ge.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(f){if(f.container&&this._open&&this._applyContainer(this.container),f.placement&&!f.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),f.dropdownClass){const{currentValue:v,previousValue:D}=f.dropdownClass;this._applyCustomDropdownClass(v,D)}f.autoClose&&this._open&&(this.autoClose=f.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:f=>this.popperOptions(function Aa(g){return S=>(S.modifiers.push(Sl,{name:"offset",options:{offset:()=>g}}),S)}([0,2])(f))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Zo(g,S,f,v,D,G,ee,qe){f&&g.runOutsideAngular((g=>qs?()=>setTimeout(()=>g(),100):g)(()=>{const Tt=(0,ve.R)(S,"keydown").pipe((0,at.Q)(D),(0,mt.p)(Ht=>Ht.which===Ji.Escape),(0,ke.M)(Ht=>Ht.preventDefault())),bt=(0,ve.R)(S,"mousedown").pipe((0,De.T)(Ht=>{const tn=Ht.target;return 2!==Ht.button&&!kl(tn,ee)&&("inside"===f?kl(tn,G)&&cc(tn,qe):"outside"===f?!kl(tn,G):cc(tn,qe)||!kl(tn,G))}),(0,at.Q)(D)),en=(0,ve.R)(S,"mouseup").pipe((0,Se.E)(bt),(0,mt.p)(([Ht,tn])=>tn),(0,Ce.c)(0),(0,at.Q)(D));be([Tt.pipe((0,De.T)(Ht=>0)),en.pipe((0,De.T)(Ht=>1))]).subscribe(Ht=>g.run(()=>v(Ht)))}))}(this._ngZone,this._document,this.autoClose,f=>{this.close(),0===f&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(f){const v=f.which,D=this._getMenuElements();let G=-1,ee=null;const qe=this._isEventFromToggle(f);if(!qe&&D.length&&D.forEach((ct,Tt)=>{ct.contains(f.target)&&(ee=ct),ct===Sc(this._document)&&(G=Tt)}),v!==Ji.Space&&v!==Ji.Enter){if(v!==Ji.Tab){if(qe||ee){if(this.open(),D.length){switch(v){case Ji.ArrowDown:G=Math.min(G+1,D.length-1);break;case Ji.ArrowUp:if(this._isDropup()&&-1===G){G=D.length-1;break}G=Math.max(G-1,0);break;case Ji.Home:G=0;break;case Ji.End:G=D.length-1}D[G].focus()}f.preventDefault()}}else if(f.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===f.target)return void("body"!==this.container||f.shiftKey?f.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const ct=this._menu.nativeElement.querySelectorAll(Ll);f.shiftKey&&f.target===ct[0]?(this._anchor.nativeElement.focus(),f.preventDefault()):!f.shiftKey&&f.target===ct[ct.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,ve.R)(f.target,"focusout").pipe((0,ge.s)(1)).subscribe(({relatedTarget:ct})=>{this._elementRef.nativeElement.contains(ct)||this.close()})}}else ee&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,ve.R)(ee,"click").pipe((0,ge.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(f){return this._anchor.nativeElement.contains(f.target)}_getMenuElements(){const f=this._menu;return null==f?[]:f.menuItems.filter(v=>!v.disabled).map(v=>v.elementRef.nativeElement)}_positionMenu(){const f=this._menu;this.isOpen()&&f&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(f){return Array.isArray(f)?f[0]:f.split(" ")[0]}_resetContainer(){const f=this._renderer;this._menu&&f.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(f.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(f=null){if(this._resetContainer(),"body"===f){const v=this._renderer,D=this._menu.nativeElement,G=this._bodyContainer=this._bodyContainer||v.createElement("div");v.setStyle(G,"position","absolute"),v.setStyle(D,"position","static"),v.setStyle(G,"z-index","1055"),v.appendChild(G,D),v.appendChild(this._document.body,G)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(f,v){const D="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;D&&(v&&this._renderer.removeClass(D,v),f&&this._renderer.addClass(D,f))}_applyPlacementClasses(f){const v=this._menu;if(v){f||(f=this._getFirstPlacement(this.placement));const D=this._renderer,G=this._elementRef.nativeElement;D.removeClass(G,"dropup"),D.removeClass(G,"dropdown");const{nativeElement:ee}=v;"static"===this.display?(v.placement=null,D.setAttribute(ee,"data-bs-popper","static")):(v.placement=f,D.removeAttribute(ee,"data-bs-popper"));const qe=-1!==f.search("^top")?"dropup":"dropdown";D.addClass(G,qe);const ct=this._bodyContainer;ct&&(D.removeClass(ct,"dropup"),D.removeClass(ct,"dropdown"),D.addClass(ct,qe))}}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.gRc),u.rXU(mp),u.rXU(zt.qQ),u.rXU(u.SKi),u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbDropdown",""]],contentQueries:function(v,D,G){if(1&v&&(u.wni(G,dc,5),u.wni(G,Fo,5)),2&v){let ee;u.mGM(ee=u.lsd())&&(D._menu=ee.first),u.mGM(ee=u.lsd())&&(D._anchor=ee.first)}},hostVars:2,hostBindings:function(v,D){2&v&&u.AVh("show",D.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[u.OA$]})}}return g})(),fh=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();class rs{constructor(S,f,v){this.nodes=S,this.viewRef=f,this.componentRef=v}}let xs=(()=>{class g{constructor(f,v){this._el=f,this._zone=v}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ge.s)(1)).subscribe(()=>{N(this._zone,this._el.nativeElement,(f,v)=>{v&&qa(f),f.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return N(this._zone,this._el.nativeElement,({classList:f})=>f.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.aKT),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(v,D){2&v&&(u.HbH("modal-backdrop"+(D.backdropClass?" "+D.backdropClass:"")),u.AVh("show",!D.animation)("fade",D.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[u.aNF],decls:0,vars:0,template:function(v,D){},encapsulation:2})}}return g})();class bl{update(S){}close(S){}dismiss(S){}}const lu=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],_p=["animation","backdropClass"];class vp{_applyWindowOptions(S,f){lu.forEach(v=>{kt(f[v])&&(S[v]=f[v])})}_applyBackdropOptions(S,f){_p.forEach(v=>{kt(f[v])&&(S[v]=f[v])})}update(S){this._applyWindowOptions(this._windowCmptRef.instance,S),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,S)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,at.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,at.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(S,f,v,D){this._windowCmptRef=S,this._contentRef=f,this._backdropCmptRef=v,this._beforeDismiss=D,this._closed=new fe.B,this._dismissed=new fe.B,this._hidden=new fe.B,S.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,ee)=>{this._resolve=G,this._reject=ee}),this.result.then(null,()=>{})}close(S){this._windowCmptRef&&(this._closed.next(S),this._resolve(S),this._removeModalElements())}_dismiss(S){this._dismissed.next(S),this._reject(S),this._removeModalElements()}dismiss(S){if(this._windowCmptRef)if(this._beforeDismiss){const f=this._beforeDismiss();!function oi(g){return g&&g.then}(f)?!1!==f&&this._dismiss(S):f.then(v=>{!1!==v&&this._dismiss(S)},()=>{})}else this._dismiss(S)}_removeModalElements(){const S=this._windowCmptRef.instance.hide(),f=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,te.of)(void 0);S.subscribe(()=>{const{nativeElement:v}=this._windowCmptRef.location;v.parentNode.removeChild(v),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),f.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:v}=this._backdropCmptRef.location;v.parentNode.removeChild(v),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ue(S,f).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ph=function(g){return g[g.BACKDROP_CLICK=0]="BACKDROP_CLICK",g[g.ESC=1]="ESC",g}(ph||{});let Co=(()=>{class g{constructor(f,v,D){this._document=f,this._elRef=v,this._zone=D,this._closed$=new fe.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.bkB,this.shown=new fe.B,this.hidden=new fe.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":gl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(f){this.dismissEvent.emit(f)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ge.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:f}=this._elRef,v={animation:this.animation,runningTransition:"stop"},ee=Ue(N(this._zone,f,()=>f.classList.remove("show"),v),N(this._zone,this._dialogEl.nativeElement,()=>{},v));return ee.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ee}_show(){const f={animation:this.animation,runningTransition:"continue"};Ue(N(this._zone,this._elRef.nativeElement,(G,ee)=>{ee&&qa(G),G.classList.add("show")},f),N(this._zone,this._dialogEl.nativeElement,()=>{},f)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:f}=this._elRef;this._zone.runOutsideAngular(()=>{(0,ve.R)(f,"keydown").pipe((0,at.Q)(this._closed$),(0,mt.p)(D=>D.which===Ji.Escape)).subscribe(D=>{this.keyboard?requestAnimationFrame(()=>{D.defaultPrevented||this._zone.run(()=>this.dismiss(ph.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let v=!1;(0,ve.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,at.Q)(this._closed$),(0,ke.M)(()=>v=!1),(0,Ke.n)(()=>(0,ve.R)(f,"mouseup").pipe((0,at.Q)(this._closed$),(0,ge.s)(1))),(0,mt.p)(({target:D})=>f===D)).subscribe(()=>{v=!0}),(0,ve.R)(f,"click").pipe((0,at.Q)(this._closed$)).subscribe(({target:D})=>{f===D&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!v&&this._zone.run(()=>this.dismiss(ph.BACKDROP_CLICK))),v=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:f}=this._elRef;if(!f.contains(document.activeElement)){const v=f.querySelector("[ngbAutofocus]"),D=Vs(f)[0];(v||D||f).focus()}}_restoreFocus(){const f=this._document.body,v=this._elWithFocus;let D;D=v&&v.focus&&f.contains(v)?v:f,this._zone.runOutsideAngular(()=>{setTimeout(()=>D.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&N(this._zone,this._elRef.nativeElement,({classList:f})=>(f.add("modal-static"),()=>f.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(zt.qQ),u.rXU(u.aKT),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["ngb-modal-window"]],viewQuery:function(v,D){if(1&v&&u.GBs(Du,7),2&v){let G;u.mGM(G=u.lsd())&&(D._dialogEl=G.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(v,D){2&v&&(u.BMQ("aria-modal",!0)("aria-labelledby",D.ariaLabelledBy)("aria-describedby",D.ariaDescribedBy),u.HbH("modal d-block"+(D.windowClass?" "+D.windowClass:"")),u.AVh("fade",D.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[u.aNF],ngContentSelectors:Xn,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(v,D){1&v&&(u.NAR(),u.j41(0,"div",0,1)(2,"div",2),u.SdG(3),u.k0s()()),2&v&&u.HbH("modal-dialog"+(D.size?" modal-"+D.size:"")+(D.centered?" modal-dialog-centered":"")+D.fullscreenClass+(D.scrollable?" modal-dialog-scrollable":"")+(D.modalDialogClass?" "+D.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return g})(),Mg=(()=>{class g{constructor(f){this._document=f}hide(){const f=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),v=this._document.body,D=v.style,{overflow:G,paddingRight:ee}=D;if(f>0){const qe=parseFloat(window.getComputedStyle(v).paddingRight);D.paddingRight=`${qe+f}px`}return D.overflow="hidden",()=>{f>0&&(D.paddingRight=ee),D.overflow=G}}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(zt.qQ))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Eo=(()=>{class g{constructor(f,v,D,G,ee,qe,ct){this._applicationRef=f,this._injector=v,this._environmentInjector=D,this._document=G,this._scrollBar=ee,this._rendererFactory=qe,this._ngZone=ct,this._activeWindowCmptHasChanged=new fe.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new u.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Tt=this._windowCmpts[this._windowCmpts.length-1];((g,S,f,v=!1)=>{g.runOutsideAngular(()=>{const D=(0,ve.R)(S,"focusin").pipe((0,at.Q)(f),(0,De.T)(G=>G.target));(0,ve.R)(S,"keydown").pipe((0,at.Q)(f),(0,mt.p)(G=>G.which===Ji.Tab),(0,Se.E)(D)).subscribe(([G,ee])=>{const[qe,ct]=Vs(S);(ee===qe||ee===S)&&G.shiftKey&&(ct.focus(),G.preventDefault()),ee===ct&&!G.shiftKey&&(qe.focus(),G.preventDefault())}),v&&(0,ve.R)(S,"click").pipe((0,at.Q)(f),(0,Se.E)(D),(0,De.T)(G=>G[1])).subscribe(G=>G.focus())})})(this._ngZone,Tt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Tt.location.nativeElement)}})}_restoreScrollBar(){const f=this._scrollBarRestoreFn;f&&(this._scrollBarRestoreFn=null,f())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(f,v,D){const G=D.container instanceof HTMLElement?D.container:kt(D.container)?this._document.querySelector(D.container):this._document.body,ee=this._rendererFactory.createRenderer(null,null);if(!G)throw new Error(`The specified modal container "${D.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const qe=new bl,ct=(f=D.injector||f).get(u.uvJ,null)||this._environmentInjector,Tt=this._getContentRef(f,ct,v,qe,D);let bt=!1!==D.backdrop?this._attachBackdrop(G):void 0,en=this._attachWindowComponent(G,Tt.nodes),Ht=new vp(en,Tt,bt,D.beforeDismiss);return this._registerModalRef(Ht),this._registerWindowCmpt(en),Ht.hidden.pipe((0,ge.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(ee.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),qe.close=tn=>{Ht.close(tn)},qe.dismiss=tn=>{Ht.dismiss(tn)},qe.update=tn=>{Ht.update(tn)},Ht.update(D),1===this._modalRefs.length&&ee.addClass(this._document.body,"modal-open"),bt&&bt.instance&&bt.changeDetectorRef.detectChanges(),en.changeDetectorRef.detectChanges(),Ht}get activeInstances(){return this._activeInstances}dismissAll(f){this._modalRefs.forEach(v=>v.dismiss(f))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(f){let v=(0,u.a0P)(xs,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(v.hostView),f.appendChild(v.location.nativeElement),v}_attachWindowComponent(f,v){let D=(0,u.a0P)(Co,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:v});return this._applicationRef.attachView(D.hostView),f.appendChild(D.location.nativeElement),D}_getContentRef(f,v,D,G,ee){return D?D instanceof u.C4Q?this._createFromTemplateRef(D,G):gl(D)?this._createFromString(D):this._createFromComponent(f,v,D,G,ee):new rs([])}_createFromTemplateRef(f,v){const G=f.createEmbeddedView({$implicit:v,close(ee){v.close(ee)},dismiss(ee){v.dismiss(ee)}});return this._applicationRef.attachView(G),new rs([G.rootNodes],G)}_createFromString(f){const v=this._document.createTextNode(`${f}`);return new rs([[v]])}_createFromComponent(f,v,D,G,ee){const qe=u.zZn.create({providers:[{provide:bl,useValue:G}],parent:f}),ct=(0,u.a0P)(D,{environmentInjector:v,elementInjector:qe}),Tt=ct.location.nativeElement;return ee.scrollable&&Tt.classList.add("component-host-scrollable"),this._applicationRef.attachView(ct.hostView),new rs([[Tt]],ct.hostView,ct)}_setAriaHidden(f){const v=f.parentElement;v&&f!==this._document.body&&(Array.from(v.children).forEach(D=>{D!==f&&"SCRIPT"!==D.nodeName&&(this._ariaHiddenValues.set(D,D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))}),this._setAriaHidden(v))}_revertAriaHidden(){this._ariaHiddenValues.forEach((f,v)=>{f?v.setAttribute("aria-hidden",f):v.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(f){const v=()=>{const D=this._modalRefs.indexOf(f);D>-1&&(this._modalRefs.splice(D,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(f),this._activeInstances.emit(this._modalRefs),f.result.then(v,v)}_registerWindowCmpt(f){this._windowCmpts.push(f),this._activeWindowCmptHasChanged.next(),f.onDestroy(()=>{const v=this._windowCmpts.indexOf(f);v>-1&&(this._windowCmpts.splice(v,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(u.o8S),u.KVO(u.zZn),u.KVO(u.uvJ),u.KVO(zt.qQ),u.KVO(Mg),u.KVO(u._9s),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),wd=(()=>{class g{constructor(f){this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(K))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Pa=(()=>{class g{constructor(f,v,D){this._injector=f,this._modalStack=v,this._config=D}open(f,v={}){const D={...this._config,animation:this._config.animation,...v};return this._modalStack.open(this._injector,f,D)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(f){this._modalStack.dismissAll(f)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(u.zZn),u.KVO(Eo),u.KVO(wd))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),uf=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({providers:[Pa]})}}return g})(),Lc=(()=>{class g{constructor(f){this._ngbConfig=f,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}static{this.\u0275fac=function(v){return new(v||g)(u.KVO(K))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const so=g=>kt(g)&&""!==g;let Fc=0,Cd=(()=>{class g{constructor(f){this.templateRef=f}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}}return g})(),Ed=(()=>{class g{constructor(f,v){this.role=f,this.nav=v}static{this.\u0275fac=function(v){return new(v||g)(u.kS0("role"),u.rXU((0,u.Rfq)(()=>Vl)))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(v,D){2&v&&u.BMQ("role",D.role?D.role:D.nav.roles?"presentation":void 0)},standalone:!0})}}return g})(),fs=(()=>{class g{constructor(f,v){this._nav=f,this.elementRef=v,this.disabled=!1,this.shown=new u.bkB,this.hidden=new u.bkB}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){kt(this.domId)||(this.domId="ngb-nav-"+Fc++)}get active(){return this._nav.activeId===this.id}get id(){return so(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(kt(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}static{this.\u0275fac=function(v){return new(v||g)(u.rXU((0,u.Rfq)(()=>Vl)),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbNavItem",""]],contentQueries:function(v,D,G){if(1&v&&u.wni(G,Cd,4),2&v){let ee;u.mGM(ee=u.lsd())&&(D.contentTpls=ee)}},hostVars:2,hostBindings:function(v,D){2&v&&u.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}}return g})(),Vl=(()=>{class g{constructor(f,v,D,G){this.role=f,this._cd=D,this._document=G,this.activeIdChange=new u.bkB,this.shown=new u.bkB,this.hidden=new u.bkB,this.destroy$=new fe.B,this.navItemChange$=new fe.B,this.navChange=new u.bkB,this.animation=v.animation,this.destroyOnHide=v.destroyOnHide,this.orientation=v.orientation,this.roles=v.roles,this.keyboard=v.keyboard}click(f){f.disabled||this._updateActiveId(f.id)}onKeyDown(f){if("tablist"!==this.roles||!this.keyboard)return;const v=f.which,D=this.links.filter(qe=>!qe.navItem.disabled),{length:G}=D;let ee=-1;if(D.forEach((qe,ct)=>{qe.elRef.nativeElement===this._document.activeElement&&(ee=ct)}),G){switch(v){case Ji.ArrowLeft:if("vertical"===this.orientation)return;ee=(ee-1+G)%G;break;case Ji.ArrowRight:if("vertical"===this.orientation)return;ee=(ee+1)%G;break;case Ji.ArrowDown:if("horizontal"===this.orientation)return;ee=(ee+1)%G;break;case Ji.ArrowUp:if("horizontal"===this.orientation)return;ee=(ee-1+G)%G;break;case Ji.Home:ee=0;break;case Ji.End:ee=G-1}"changeWithArrows"===this.keyboard&&this.select(D[ee].navItem.id),D[ee].elRef.nativeElement.focus(),f.preventDefault()}}select(f){this._updateActiveId(f,!1)}ngAfterContentInit(){if(!kt(this.activeId)){const f=this.items.first?this.items.first.id:null;so(f)&&(this._updateActiveId(f,!1),this._cd.detectChanges())}this.items.changes.pipe((0,at.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:f}){f&&!f.firstChange&&this._notifyItemChanged(f.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(f,v=!0){if(this.activeId!==f){let D=!1;v&&this.navChange.emit({activeId:this.activeId,nextId:f,preventDefault:()=>{D=!0}}),D||(this.activeId=f,this.activeIdChange.emit(f),this._notifyItemChanged(f))}}_notifyItemChanged(f){this.navItemChange$.next(this._getItemById(f))}_getItemById(f){return this.items&&this.items.find(v=>v.id===f)||null}static{this.\u0275fac=function(v){return new(v||g)(u.kS0("role"),u.rXU(Lc),u.rXU(u.gRc),u.rXU(zt.qQ))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbNav",""]],contentQueries:function(v,D,G){if(1&v&&(u.wni(G,fs,4),u.wni(G,Uu,5)),2&v){let ee;u.mGM(ee=u.lsd())&&(D.items=ee),u.mGM(ee=u.lsd())&&(D.links=ee)}},hostVars:6,hostBindings:function(v,D){1&v&&u.bIt("keydown.arrowLeft",function(ee){return D.onKeyDown(ee)})("keydown.arrowRight",function(ee){return D.onKeyDown(ee)})("keydown.arrowDown",function(ee){return D.onKeyDown(ee)})("keydown.arrowUp",function(ee){return D.onKeyDown(ee)})("keydown.Home",function(ee){return D.onKeyDown(ee)})("keydown.End",function(ee){return D.onKeyDown(ee)}),2&v&&(u.BMQ("aria-orientation","vertical"===D.orientation&&"tablist"===D.roles?"vertical":void 0)("role",D.role?D.role:D.roles?"tablist":void 0),u.AVh("nav",!0)("flex-column","vertical"===D.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[u.OA$]})}}return g})(),Uu=(()=>{class g{constructor(f,v,D,G){this.role=f,this.navItem=v,this.nav=D,this.elRef=G}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(v){return new(v||g)(u.kS0("role"),u.rXU(fs),u.rXU(Vl),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(v,D){2&v&&(u.Mr5("id",D.navItem.domId),u.BMQ("role",D.role?D.role:D.nav.roles?"tab":void 0)("tabindex",D.navItem.disabled?-1:void 0)("aria-controls",D.navItem.isPanelInDom()?D.navItem.panelDomId:null)("aria-selected",D.navItem.active)("aria-disabled",D.navItem.disabled),u.AVh("nav-link",!0)("nav-item",D.hasNavItemClass())("active",D.navItem.active)("disabled",D.navItem.disabled))},standalone:!0})}}return g})(),hf=(()=>{class g{constructor(f,v){this.navItem=f,this.nav=v}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(fs),u.rXU(Vl))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(v,D){1&v&&u.bIt("click",function(ee){return D.nav.click(D.navItem),ee.preventDefault()})},standalone:!0,features:[u.nM4([Uu])]})}}return g})();const I=({classList:g})=>(g.remove("show"),()=>g.remove("active")),_=(g,S)=>{S&&qa(g),g.classList.add("show")};let b=(()=>{class g{constructor(f){this.elRef=f}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(v,D){2&v&&(u.Mr5("id",D.item.panelDomId),u.BMQ("role",D.role?D.role:D.nav.roles?"tabpanel":void 0)("aria-labelledby",D.item.domId),u.AVh("fade",D.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}}return g})(),M=(()=>{class g{constructor(f,v){this._cd=f,this._ngZone=v,this._activePane=null}isPanelTransitioning(f){return this._activePane?.item===f}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,at.Q)(this.nav.destroy$),(0,Ae.Z)(this._activePane?.item||null),(0,Pt.F)(),(0,Vt.i)(1)).subscribe(f=>{const v={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?N(this._ngZone,this._activePane.elRef.nativeElement,I,v).subscribe(()=>{const D=this._activePane?.item;this._activePane=this._getPaneForItem(f),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),N(this._ngZone,this._activePane.elRef.nativeElement,_,v).subscribe(()=>{f&&(f.shown.emit(),this.nav.shown.emit(f.id))})),D&&(D.hidden.emit(),this.nav.hidden.emit(D.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(f){return this._panes&&this._panes.find(v=>v.item===f)||null}_getActivePane(){return this._panes&&this._panes.find(f=>f.item.active)||null}static{this.\u0275fac=function(v){return new(v||g)(u.rXU(u.gRc),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["","ngbNavOutlet",""]],viewQuery:function(v,D){if(1&v&&u.GBs(b,5),2&v){let G;u.mGM(G=u.lsd())&&(D._panes=G)}},hostVars:2,hostBindings:function(v,D){2&v&&u.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[u.aNF],attrs:Su,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(v,D){1&v&&u.DNE(0,Zd,1,1,"ng-template",0),2&v&&u.Y8G("ngForOf",D.nav.items)},dependencies:[b,zt.pM,zt.bT,zt.T3],encapsulation:2,changeDetection:0})}}return g})(),le=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),wl=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),wp=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),Ng=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),ff=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),my=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),T_=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),vy=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),cu=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();new u.nKC("live announcer delay",{providedIn:"root",factory:function yy(){return 100}});let Sp=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})(),vf=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();const du=[Nl,sc,xl,od,gn,fh,uf,le,vf,wl,wp,Ng,ff,my,T_,vy,cu,Sp];let yf=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({imports:[du,Nl,sc,xl,od,gn,fh,uf,le,vf,wl,wp,Ng,ff,my,T_,vy,cu,Sp]})}}return g})()},418:(Bt,He,P)=>{P.d(He,{Zl:()=>De});var u=P(7705),ae=P(1413),c=P(177);let re=(()=>{class Se{constructor(){this.actionStream=new ae.B,this.actionQueue=[],this.isActionInProgress=!1}push(Ke){this.actionQueue.push(Ke),this.tryToRunNextAction()}continue(){this.isActionInProgress=!1,this.tryToRunNextAction()}tryToRunNextAction(){this.isActionInProgress||0===this.actionQueue.length||(this.isActionInProgress=!0,this.actionStream.next(this.actionQueue.shift()))}static{this.\u0275fac=function(Ae){return new(Ae||Se)}}static{this.\u0275prov=u.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const ue=new u.nKC("[angular-notifier] Notifier Options"),be=new u.nKC("[anuglar-notifier] Notifier Config");class Ge{constructor(Ce={}){this.animations={enabled:!0,hide:{easing:"ease",offset:50,preset:"fade",speed:300},overlap:150,shift:{easing:"ease",speed:300},show:{easing:"ease",preset:"slide",speed:300}},this.behaviour={autoHide:7e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},this.position={horizontal:{distance:12,position:"left"},vertical:{distance:12,gap:10,position:"bottom"}},this.theme="material",void 0!==Ce.theme&&(this.theme=Ce.theme),void 0!==Ce.animations&&(void 0!==Ce.animations.enabled&&(this.animations.enabled=Ce.animations.enabled),void 0!==Ce.animations.overlap&&(this.animations.overlap=Ce.animations.overlap),void 0!==Ce.animations.hide&&Object.assign(this.animations.hide,Ce.animations.hide),void 0!==Ce.animations.shift&&Object.assign(this.animations.shift,Ce.animations.shift),void 0!==Ce.animations.show&&Object.assign(this.animations.show,Ce.animations.show)),void 0!==Ce.behaviour&&Object.assign(this.behaviour,Ce.behaviour),void 0!==Ce.position&&(void 0!==Ce.position.horizontal&&Object.assign(this.position.horizontal,Ce.position.horizontal),void 0!==Ce.position.vertical&&Object.assign(this.position.vertical,Ce.position.vertical))}}let $e=(()=>{class Se{constructor(Ke,Ae){this.queueService=Ke,this.config=Ae}getConfig(){return this.config}get actionStream(){return this.queueService.actionStream.asObservable()}show(Ke){this.queueService.push({payload:Ke,type:"SHOW"})}hide(Ke){this.queueService.push({payload:Ke,type:"HIDE"})}hideNewest(){this.queueService.push({type:"HIDE_NEWEST"})}hideOldest(){this.queueService.push({type:"HIDE_OLDEST"})}hideAll(){this.queueService.push({type:"HIDE_ALL"})}notify(Ke,Ae,Pt){const Vt={message:Ae,type:Ke};void 0!==Pt&&(Vt.id=Pt),this.show(Vt)}static{this.\u0275fac=function(Ae){return new(Ae||Se)(u.KVO(re),u.KVO(be))}}static{this.\u0275prov=u.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();const Ue={hide:()=>({from:{opacity:"1"},to:{opacity:"0"}}),show:()=>({from:{opacity:"0"},to:{opacity:"1"}})},Ve={hide:Se=>{const Ce=Se.component.getConfig(),Ke=Se.component.getShift();let Ae,Pt;if("left"===Ce.position.horizontal.position)Ae={transform:`translate3d( 0, ${Ke}px, 0 )`},Pt={transform:`translate3d( calc( -100% - ${Ce.position.horizontal.distance}px - 10px ), ${Ke}px, 0 )`};else if("right"===Ce.position.horizontal.position)Ae={transform:`translate3d( 0, ${Ke}px, 0 )`},Pt={transform:`translate3d( calc( 100% + ${Ce.position.horizontal.distance}px + 10px ), ${Ke}px, 0 )`};else{let Vt;Vt="top"===Ce.position.vertical.position?`calc( -100% - ${Ce.position.horizontal.distance}px - 10px )`:`calc( 100% + ${Ce.position.horizontal.distance}px + 10px )`,Ae={transform:`translate3d( -50%, ${Ke}px, 0 )`},Pt={transform:`translate3d( -50%, ${Vt}, 0 )`}}return{from:Ae,to:Pt}},show:Se=>{const Ce=Se.component.getConfig();let Ke,Ae;if("left"===Ce.position.horizontal.position)Ke={transform:`translate3d( calc( -100% - ${Ce.position.horizontal.distance}px - 10px ), 0, 0 )`},Ae={transform:"translate3d( 0, 0, 0 )"};else if("right"===Ce.position.horizontal.position)Ke={transform:`translate3d( calc( 100% + ${Ce.position.horizontal.distance}px + 10px ), 0, 0 )`},Ae={transform:"translate3d( 0, 0, 0 )"};else{let Pt;Pt="top"===Ce.position.vertical.position?`calc( -100% - ${Ce.position.horizontal.distance}px - 10px )`:`calc( 100% + ${Ce.position.horizontal.distance}px + 10px )`,Ke={transform:`translate3d( -50%, ${Pt}, 0 )`},Ae={transform:"translate3d( -50%, 0, 0 )"}}return{from:Ke,to:Ae}}};let Ze=(()=>{class Se{constructor(){this.animationPresets={fade:Ue,slide:Ve}}getAnimationData(Ke,Ae){let Pt,Vt,zt;return"show"===Ke?(Pt=this.animationPresets[Ae.component.getConfig().animations.show.preset].show(Ae),Vt=Ae.component.getConfig().animations.show.speed,zt=Ae.component.getConfig().animations.show.easing):(Pt=this.animationPresets[Ae.component.getConfig().animations.hide.preset].hide(Ae),Vt=Ae.component.getConfig().animations.hide.speed,zt=Ae.component.getConfig().animations.hide.easing),{keyframes:[Pt.from,Pt.to],options:{duration:Vt,easing:zt,fill:"forwards"}}}static{this.\u0275fac=function(Ae){return new(Ae||Se)}}static{this.\u0275prov=u.jDH({token:Se,factory:Se.\u0275fac})}}return Se})();function ge(Se){return new Ge(Se)}function ke(){return new Ge({})}let De=(()=>{class Se{static withConfig(Ke={}){return{ngModule:Se,providers:[{provide:ue,useValue:Ke},{deps:[ue],provide:be,useFactory:ge}]}}static{this.\u0275fac=function(Ae){return new(Ae||Se)}}static{this.\u0275mod=u.$C({type:Se})}static{this.\u0275inj=u.G2t({providers:[Ze,$e,re,{provide:be,useFactory:ke}],imports:[c.MD]})}}return Se})()},2214:(Bt,He,P)=>{P.d(He,{Dk:()=>u.getApps,Sx:()=>u.getApp});var u=P(7852);(0,u.registerVersion)("firebase","9.23.0","app")},7935:(Bt,He,P)=>{P.d(He,{A:()=>u.A});var u=P(3345);u.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Bt,He,P)=>{var u=P(467),ae=P(3345),c=P(1076),te=P(7852),fe=P(1635),ve=P(8041),Ie=P(1362);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ot=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ue=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ve=new c.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new ve.Vy("@firebase/auth");function ge(I,..._){at.logLevel<=ve.$b.ERROR&&at.error(`Auth (${te.SDK_VERSION}): ${I}`,..._)}function ke(I,..._){throw Ke(I,..._)}function De(I,..._){return Ke(I,..._)}function Se(I,_,b){const M=Object.assign(Object.assign({},Ue()),{[_]:b});return new c.FA("auth","Firebase",M).create(_,{appName:I.name})}function Ce(I,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&ke(I,"argument-error"),Se(I,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(I,..._){if("string"!=typeof I){const b=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=I.name),I._errorFactory.create(b,...M)}return Ve.create(I,..._)}function Ae(I,_,...b){if(!I)throw Ke(_,...b)}function Pt(I){const _="INTERNAL ASSERTION FAILED: "+I;throw ge(_),new Error(_)}function Vt(I,_){I||Pt(_)}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function zn(){return"http:"===gi()||"https:"===gi()}function gi(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ji{constructor(_,b){this.shortDelay=_,this.longDelay=b,Vt(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,c.jZ)()||(0,c.lV)()}get(){return function si(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zn()||(0,c.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(I,_){Vt(I.emulator,"Emulator should always be set here");const{url:b}=I.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Cn{static initialize(_,b,M){this.fetchImpl=_,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new ji(3e4,6e4);function ze(I,_){return I.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:I.tenantId}):_}function Fe(I,_,b,M){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.A)(function*(I,_,b,M,H={}){return rt(I,H,(0,u.A)(function*(){let le={},Xe={};M&&("GET"===_?Xe=M:le={body:JSON.stringify(M)});const ht=(0,c.Am)(Object.assign({key:I.config.apiKey},Xe)).slice(1),Gt=yield I._getAdditionalHeaders();return Gt["Content-Type"]="application/json",I.languageCode&&(Gt["X-Firebase-Locale"]=I.languageCode),Cn.fetch()(Te(I,I.config.apiHost,b,ht),Object.assign({method:_,headers:Gt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function rt(I,_,b){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,u.A)(function*(I,_,b){I._canInitEmulator=!1;const M=Object.assign(Object.assign({},ye),_);try{const H=new nt(I),le=yield Promise.race([b(),H.promise]);H.clearNetworkTimeout();const Xe=yield le.json();if("needConfirmation"in Xe)throw Dt(I,"account-exists-with-different-credential",Xe);if(le.ok&&!("errorMessage"in Xe))return Xe;{const ht=le.ok?Xe.errorMessage:Xe.error.message,[Gt,nn]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw Dt(I,"credential-already-in-use",Xe);if("EMAIL_EXISTS"===Gt)throw Dt(I,"email-already-in-use",Xe);if("USER_DISABLED"===Gt)throw Dt(I,"user-disabled",Xe);const pn=M[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw Se(I,pn,nn);ke(I,pn)}}catch(H){if(H instanceof c.g)throw H;ke(I,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function It(I,_,b,M){return se.apply(this,arguments)}function se(){return(se=(0,u.A)(function*(I,_,b,M,H={}){const le=yield Fe(I,_,b,M,H);return"mfaPendingCredential"in le&&ke(I,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Te(I,_,b,M){const H=`${_}${b}?${M}`;return I.config.emulator?Sn(I.config,H):`${I.config.apiScheme}://${H}`}class nt{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(De(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dt(I,_,b){const M={appName:I.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const H=De(I,_,M);return H.customData._tokenResponse=b,H}function Re(){return(Re=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function st(){return(st=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function tt(){return(tt=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function ie(I){if(I)try{const _=new Date(Number(I));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function We(){return(We=(0,u.A)(function*(I,_=!1){const b=(0,c.Ku)(I),M=yield b.getIdToken(_),H=_t(M);Ae(H&&H.exp&&H.auth_time&&H.iat,b.auth,"internal-error");const le="object"==typeof H.firebase?H.firebase:void 0,Xe=le?.sign_in_provider;return{claims:H,token:M,authTime:ie(ut(H.auth_time)),issuedAtTime:ie(ut(H.iat)),expirationTime:ie(ut(H.exp)),signInProvider:Xe||null,signInSecondFactor:le?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(I){return 1e3*Number(I)}function _t(I){const[_,b,M]=I.split(".");if(void 0===_||void 0===b||void 0===M)return ge("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,c.u)(b);return H?JSON.parse(H):(ge("Failed to decode base64 JWT payload"),null)}catch(H){return ge("Caught error parsing JWT payload as JSON",H?.toString()),null}}function hn(I,_){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.A)(function*(I,_,b=!1){if(b)return _;try{return yield _}catch(M){throw M instanceof c.g&&function Xt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(M)&&I.auth.currentUser===I&&(yield I.auth.signOut()),M}})).apply(this,arguments)}class An{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const H=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,u.A)(function*(){yield b.iteration()}),M)}iteration(){var _=this;return(0,u.A)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b?.code&&_.schedule(!0))}_.schedule()})()}}class Gn{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=ie(this.lastLoginAt),this.creationTime=ie(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kt(I){return ti.apply(this,arguments)}function ti(){return ti=(0,u.A)(function*(I){var _;const b=I.auth,M=yield I.getIdToken(),H=yield hn(I,function St(I,_){return tt.apply(this,arguments)}(b,{idToken:M}));Ae(H?.users.length,b,"internal-error");const le=H.users[0];I._notifyReloadListener(le);const Xe=null!==(_=le.providerUserInfo)&&void 0!==_&&_.length?function ls(I){return I.map(_=>{var{providerId:b}=_,M=(0,fe.Tt)(_,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}(le.providerUserInfo):[],ht=function Oi(I,_){return[...I.filter(M=>!_.some(H=>H.providerId===M.providerId)),..._]}(I.providerData,Xe),pn=!!I.isAnonymous&&!(I.email&&le.passwordHash||ht?.length),In={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:ht,metadata:new Gn(le.createdAt,le.lastLoginAt),isAnonymous:pn};Object.assign(I,In)}),ti.apply(this,arguments)}function xr(){return(xr=(0,u.A)(function*(I){const _=(0,c.Ku)(I);yield Kt(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function _r(){return(_r=(0,u.A)(function*(I,_){const b=yield rt(I,{},(0,u.A)(function*(){const M=(0,c.Am)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:H,apiKey:le}=I.config,Xe=Te(I,H,"/v1/token",`key=${le}`),ht=yield I._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(Xe,{method:"POST",headers:ht,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class Wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Ae(_.idToken,"internal-error"),Ae(typeof _.idToken<"u","internal-error"),Ae(typeof _.refreshToken<"u","internal-error");const b="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function Yt(I){const _=_t(I);return Ae(_,"internal-error"),Ae(typeof _.exp<"u","internal-error"),Ae(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var M=this;return(0,u.A)(function*(){return Ae(!M.accessToken||M.refreshToken,_,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var M=this;return(0,u.A)(function*(){const{accessToken:H,refreshToken:le,expiresIn:Xe}=yield function Ci(I,_){return _r.apply(this,arguments)}(_,b);M.updateTokensAndExpiration(H,le,Number(Xe))})()}updateTokensAndExpiration(_,b,M){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,b){const{refreshToken:M,accessToken:H,expirationTime:le}=b,Xe=new Wi;return M&&(Ae("string"==typeof M,"internal-error",{appName:_}),Xe.refreshToken=M),H&&(Ae("string"==typeof H,"internal-error",{appName:_}),Xe.accessToken=H),le&&(Ae("number"==typeof le,"internal-error",{appName:_}),Xe.expirationTime=le),Xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Wi,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function Ki(I,_){Ae("string"==typeof I||typeof I>"u","internal-error",{appName:_})}class ir{constructor(_){var{uid:b,auth:M,stsTokenManager:H}=_,le=(0,fe.Tt)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new An(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Gn(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,u.A)(function*(){const M=yield hn(b,b.stsTokenManager.getToken(b.auth,_));return Ae(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(_){return function Be(I){return We.apply(this,arguments)}(this,_)}reload(){return function bn(I){return xr.apply(this,arguments)}(this)}_assign(_){this!==_&&(Ae(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const b=new ir(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return b.metadata._copy(this.metadata),b}_onReload(_){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var M=this;return(0,u.A)(function*(){let H=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),H=!0),b&&(yield Kt(M)),yield M.auth._persistUserIfCurrent(M),H&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,u.A)(function*(){const b=yield _.getIdToken();return yield hn(_,function jt(I,_){return Re.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var M,H,le,Xe,ht,Gt,nn,pn;const In=null!==(M=b.displayName)&&void 0!==M?M:void 0,ps=null!==(H=b.email)&&void 0!==H?H:void 0,xa=null!==(le=b.phoneNumber)&&void 0!==le?le:void 0,gh=null!==(Xe=b.photoURL)&&void 0!==Xe?Xe:void 0,yp=null!==(ht=b.tenantId)&&void 0!==ht?ht:void 0,wl=null!==(Gt=b._redirectEventId)&&void 0!==Gt?Gt:void 0,zu=null!==(nn=b.createdAt)&&void 0!==nn?nn:void 0,mh=null!==(pn=b.lastLoginAt)&&void 0!==pn?pn:void 0,{uid:Id,emailVerified:Dd,isAnonymous:Ag,providerData:bp,stsTokenManager:w_}=b;Ae(Id&&w_,_,"internal-error");const wp=Wi.fromJSON(this.name,w_);Ae("string"==typeof Id,_,"internal-error"),Ki(In,_.name),Ki(ps,_.name),Ae("boolean"==typeof Dd,_,"internal-error"),Ae("boolean"==typeof Ag,_,"internal-error"),Ki(xa,_.name),Ki(gh,_.name),Ki(yp,_.name),Ki(wl,_.name),Ki(zu,_.name),Ki(mh,_.name);const Cp=new ir({uid:Id,auth:_,email:ps,emailVerified:Dd,displayName:In,isAnonymous:Ag,photoURL:gh,phoneNumber:xa,tenantId:yp,stsTokenManager:wp,createdAt:zu,lastLoginAt:mh});return bp&&Array.isArray(bp)&&(Cp.providerData=bp.map(Og=>Object.assign({},Og))),wl&&(Cp._redirectEventId=wl),Cp}static _fromIdTokenResponse(_,b,M=!1){return(0,u.A)(function*(){const H=new Wi;H.updateFromServerResponse(b);const le=new ir({uid:b.localId,auth:_,stsTokenManager:H,isAnonymous:M});return yield Kt(le),le})()}}const Ls=new Map;function ci(I){Vt(I instanceof Function,"Expected a class definition");let _=Ls.get(I);return _?(Vt(_ instanceof I,"Instance stored in cache mismatched with class"),_):(_=new I,Ls.set(I,_),_)}const Vi=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.A)(function*(){return!0})()}_set(b,M){var H=this;return(0,u.A)(function*(){H.storage[b]=M})()}_get(b){var M=this;return(0,u.A)(function*(){const H=M.storage[b];return void 0===H?null:H})()}_remove(b){var M=this;return(0,u.A)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return I.type="NONE",I})();function oe(I,_,b){return`firebase:${I}:${_}:${b}`}class J{constructor(_,b,M){this.persistence=_,this.auth=b,this.userKey=M;const{config:H,name:le}=this.auth;this.fullUserKey=oe(this.userKey,H.apiKey,le),this.fullPersistenceKey=oe("persistence",H.apiKey,le),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.A)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?ir._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,u.A)(function*(){if(b.persistence===_)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,M="authUser"){return(0,u.A)(function*(){if(!b.length)return new J(ci(Vi),_,M);const H=(yield Promise.all(b.map(function(){var nn=(0,u.A)(function*(pn){if(yield pn._isAvailable())return pn});return function(pn){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let le=H[0]||ci(Vi);const Xe=oe(M,_.config.apiKey,_.name);let ht=null;for(const nn of b)try{const pn=yield nn._get(Xe);if(pn){const In=ir._fromJSON(_,pn);nn!==le&&(ht=In),le=nn;break}}catch{}const Gt=H.filter(nn=>nn._shouldAllowMigration);return le._shouldAllowMigration&&Gt.length?(le=Gt[0],ht&&(yield le._set(Xe,ht.toJSON())),yield Promise.all(b.map(function(){var nn=(0,u.A)(function*(pn){if(pn!==le)try{yield pn._remove(Xe)}catch{}});return function(pn){return nn.apply(this,arguments)}}())),new J(le,_,M)):new J(le,_,M)})()}}function j(I){const _=I.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(lt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(z(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Qt(_))return"Blackberry";if(rn(_))return"Webos";if(W(_))return"Safari";if((_.includes("chrome/")||_e(_))&&!_.includes("edge/"))return"Chrome";if(xt(_))return"Android";{const M=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===M?.length)return M[1]}return"Other"}function z(I=(0,c.ZQ)()){return/firefox\//i.test(I)}function W(I=(0,c.ZQ)()){const _=I.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function _e(I=(0,c.ZQ)()){return/crios\//i.test(I)}function lt(I=(0,c.ZQ)()){return/iemobile/i.test(I)}function xt(I=(0,c.ZQ)()){return/android/i.test(I)}function Qt(I=(0,c.ZQ)()){return/blackberry/i.test(I)}function rn(I=(0,c.ZQ)()){return/webos/i.test(I)}function ln(I=(0,c.ZQ)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Er(I=(0,c.ZQ)()){return ln(I)||xt(I)||rn(I)||Qt(I)||/windows phone/i.test(I)||lt(I)}function At(I,_=[]){let b;switch(I){case"Browser":b=j((0,c.ZQ)());break;case"Worker":b=`${j((0,c.ZQ)())}-${I}`;break;default:b=I}const M=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${te.SDK_VERSION}/${M}`}function Ut(){return(Ut=(0,u.A)(function*(I){return(yield Fe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cn(I,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.A)(function*(I,_){return Fe(I,"GET","/v2/recaptchaConfig",ze(I,_))})).apply(this,arguments)}function un(I){return void 0!==I&&void 0!==I.getResponse}function ui(I){return void 0!==I&&void 0!==I.enterprise}class Bi{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(b=>"EMAIL_PASSWORD_PROVIDER"===b.provider&&"OFF"!==b.enforcementState)}}function co(I){return new Promise((_,b)=>{const M=document.createElement("script");M.setAttribute("src",I),M.onload=_,M.onerror=H=>{const le=De("internal-error");le.customData=H,b(le)},M.type="text/javascript",M.charset="UTF-8",function Ri(){var I,_;return null!==(_=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==_?_:document}().appendChild(M)})}function Rr(I){return`__${I}${Math.floor(1e6*Math.random())}`}class Uo{constructor(_){this.type="recaptcha-enterprise",this.auth=Ti(_)}verify(_="verify",b=!1){var M=this;return(0,u.A)(function*(){function le(){return le=(0,u.A)(function*(ht){if(!b){if(null==ht.tenantId&&null!=ht._agentRecaptchaConfig)return ht._agentRecaptchaConfig.siteKey;if(null!=ht.tenantId&&void 0!==ht._tenantRecaptchaConfigs[ht.tenantId])return ht._tenantRecaptchaConfigs[ht.tenantId].siteKey}return new Promise(function(){var Gt=(0,u.A)(function*(nn,pn){cn(ht,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(In=>{if(void 0!==In.recaptchaKey){const ps=new Bi(In);return null==ht.tenantId?ht._agentRecaptchaConfig=ps:ht._tenantRecaptchaConfigs[ht.tenantId]=ps,nn(ps.siteKey)}pn(new Error("recaptcha Enterprise site key undefined"))}).catch(In=>{pn(In)})});return function(nn,pn){return Gt.apply(this,arguments)}}())}),le.apply(this,arguments)}function Xe(ht,Gt,nn){const pn=window.grecaptcha;ui(pn)?pn.enterprise.ready(()=>{pn.enterprise.execute(ht,{action:_}).then(In=>{Gt(In)}).catch(()=>{Gt("NO_RECAPTCHA")})}):nn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ht,Gt)=>{(function H(ht){return le.apply(this,arguments)})(M.auth).then(nn=>{if(!b&&ui(window.grecaptcha))Xe(nn,ht,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));co("https://www.google.com/recaptcha/enterprise.js?render="+nn).then(()=>{Xe(nn,ht,Gt)}).catch(pn=>{Gt(pn)})}}).catch(nn=>{Gt(nn)})})})()}}function Ir(I,_,b){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,u.A)(function*(I,_,b,M=!1){const H=new Uo(I);let le;try{le=yield H.verify(b)}catch{le=yield H.verify(b,!0)}const Xe=Object.assign({},_);return Object.assign(Xe,M?{captchaResp:le}:{captchaResponse:le}),Object.assign(Xe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Xe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Xe})).apply(this,arguments)}class ki{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const M=le=>new Promise((Xe,ht)=>{try{Xe(_(le))}catch(Gt){ht(Gt)}});M.onAbort=b,this.queue.push(M);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,u.A)(function*(){if(b.auth.currentUser===_)return;const M=[];try{for(const H of b.queue)yield H(_),H.onAbort&&M.push(H.onAbort)}catch(H){M.reverse();for(const le of M)try{le()}catch{}throw b.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class ur{constructor(_,b,M,H){this.app=_,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=M,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rr(this),this.idTokenSubscription=new rr(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(_,b){var M=this;return b&&(this._popupRedirectResolver=ci(b)),this._initializationPromise=this.queue((0,u.A)(function*(){var H,le;if(!M._deleted&&(M.persistenceManager=yield J.create(M,_),!M._deleted)){if(null!==(H=M._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(le=M.currentUser)||void 0===le?void 0:le.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.A)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,u.A)(function*(){var M;const H=yield b.assertedPersistence.getCurrentUser();let le=H,Xe=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ht=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,Gt=le?._redirectEventId,nn=yield b.tryRedirectSignIn(_);(!ht||ht===Gt)&&nn?.user&&(le=nn.user,Xe=!0)}if(!le)return b.directlySetCurrentUser(null);if(!le._redirectEventId){if(Xe)try{yield b.beforeStateQueue.runMiddleware(le)}catch(ht){le=H,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ht))}return le?b.reloadAndSetCurrentUserOrClear(le):b.directlySetCurrentUser(null)}return Ae(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===le._redirectEventId?b.directlySetCurrentUser(le):b.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(_){var b=this;return(0,u.A)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch{yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,u.A)(function*(){try{yield Kt(_)}catch(M){if("auth/network-request-failed"!==M?.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function mr(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var _=this;return(0,u.A)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,u.A)(function*(){const M=_?(0,c.Ku)(_):null;return M&&Ae(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(_,b=!1){var M=this;return(0,u.A)(function*(){if(!M._deleted)return _&&Ae(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,u.A)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.A)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,u.A)(function*(){yield b.assertedPersistence.setPersistence(ci(_))}))}initializeRecaptchaConfig(){var _=this;return(0,u.A)(function*(){const b=yield cn(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),M=new Bi(b);null==_.tenantId?_._agentRecaptchaConfig=M:_._tenantRecaptchaConfigs[_.tenantId]=M,M.emailPasswordEnabled&&new Uo(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new c.FA("auth","Firebase",_())}onAuthStateChanged(_,b,M){return this.registerStateListener(this.authStateSubscription,_,b,M)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,M){return this.registerStateListener(this.idTokenSubscription,_,b,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var M=this;return(0,u.A)(function*(){const H=yield M.getOrInitRedirectPersistenceManager(b);return null===_?H.removeCurrentUser():H.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,u.A)(function*(){if(!b.redirectPersistenceManager){const M=_&&ci(_)||b._popupRedirectResolver;Ae(M,b,"argument-error"),b.redirectPersistenceManager=yield J.create(b,[ci(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,u.A)(function*(){var M,H;return b._isInitialized&&(yield b.queue((0,u.A)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===_?b._currentUser:(null===(H=b.redirectUser)||void 0===H?void 0:H._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,u.A)(function*(){if(_===b.currentUser)return b.queue((0,u.A)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,M,H){if(this._deleted)return()=>{};const le="function"==typeof b?b:b.next.bind(b),Xe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(Xe,this,"internal-error"),Xe.then(()=>le(this.currentUser)),"function"==typeof b?_.addObserver(b,M,H):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,u.A)(function*(){b.currentUser&&b.currentUser!==_&&b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh(),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.A)(function*(){var b;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const H=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();H&&(M["X-Firebase-Client"]=H);const le=yield _._getAppCheckToken();return le&&(M["X-Firebase-AppCheck"]=le),M})()}_getAppCheckToken(){var _=this;return(0,u.A)(function*(){var b;const M=yield null===(b=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getToken();return M?.error&&function mt(I,..._){at.logLevel<=ve.$b.WARN&&at.warn(`Auth (${te.SDK_VERSION}): ${I}`,..._)}(`Error while retrieving App Check token: ${M.error}`),M?.token})()}}function Ti(I){return(0,c.Ku)(I)}class rr{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,c.tD)(b=>this.observer=b)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sr(I){const _=I.indexOf(":");return _<0?"":I.substr(0,_+1)}function zo(I){if(!I)return null;const _=Number(I);return isNaN(_)?null:_}class Go{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Pt("not implemented")}_getIdTokenResponse(_){return Pt("not implemented")}_linkToIdToken(_,b){return Pt("not implemented")}_getReauthenticationResolver(_){return Pt("not implemented")}}function ll(I,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:resetPassword",ze(I,_))})).apply(this,arguments)}function Ho(I,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function $o(){return($o=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:update",ze(I,_))})).apply(this,arguments)}function zr(I,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithPassword",ze(I,_))})).apply(this,arguments)}function sa(I,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:sendOobCode",ze(I,_))})).apply(this,arguments)}function No(){return(No=(0,u.A)(function*(I,_){return sa(I,_)})).apply(this,arguments)}function cs(I,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.A)(function*(I,_){return sa(I,_)})).apply(this,arguments)}function Ko(I,_){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.A)(function*(I,_){return sa(I,_)})).apply(this,arguments)}function sr(){return(sr=(0,u.A)(function*(I,_){return sa(I,_)})).apply(this,arguments)}function Tr(){return(Tr=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithEmailLink",ze(I,_))})).apply(this,arguments)}function oa(){return(oa=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithEmailLink",ze(I,_))})).apply(this,arguments)}class uo extends Go{constructor(_,b,M,H=null){super("password",M),this._email=_,this._password=b,this._tenantId=H}static _fromEmailAndPassword(_,b){return new uo(_,b,"password")}static _fromEmailAndCode(_,b,M=null){return new uo(_,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,u.A)(function*(){var M;switch(b.signInMethod){case"password":const H={returnSecureToken:!0,email:b._email,password:b._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=_._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const le=yield Ir(_,H,"signInWithPassword");return zr(_,le)}return zr(_,H).catch(function(){var le=(0,u.A)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ht=yield Ir(_,H,"signInWithPassword");return zr(_,ht)}return Promise.reject(Xe)});return function(Xe){return le.apply(this,arguments)}}());case"emailLink":return function Is(I,_){return Tr.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:ke(_,"internal-error")}})()}_linkToIdToken(_,b){var M=this;return(0,u.A)(function*(){switch(M.signInMethod){case"password":return Ho(_,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function $a(I,_){return oa.apply(this,arguments)}(_,{idToken:b,email:M._email,oobCode:M._password});default:ke(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Jr(I,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithIdp",ze(I,_))})).apply(this,arguments)}class Jt extends Go{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Jt(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):ke("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:H}=b,le=(0,fe.Tt)(b,["providerId","signInMethod"]);if(!M||!H)return null;const Xe=new Jt(M,H);return Xe.idToken=le.idToken||void 0,Xe.accessToken=le.accessToken||void 0,Xe.secret=le.secret,Xe.nonce=le.nonce,Xe.pendingToken=le.pendingToken||null,Xe}_getIdTokenResponse(_){return Jr(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Jr(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Jr(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,c.Am)(b)}return _}}function di(){return(di=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:sendVerificationCode",ze(I,_))})).apply(this,arguments)}function Ss(){return(Ss=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithPhoneNumber",ze(I,_))})).apply(this,arguments)}function ho(){return(ho=(0,u.A)(function*(I,_){const b=yield It(I,"POST","/v1/accounts:signInWithPhoneNumber",ze(I,_));if(b.temporaryProof)throw Dt(I,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const qi={USER_NOT_FOUND:"user-not-found"};function vr(){return(vr=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithPhoneNumber",ze(I,Object.assign(Object.assign({},_),{operation:"REAUTH"})),qi)})).apply(this,arguments)}class Tn extends Go{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new Tn({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new Tn({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Ds(I,_){return Ss.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function kr(I,_){return ho.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function fo(I,_){return vr.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:M,verificationCode:H}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:M,code:H}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:M,phoneNumber:H,temporaryProof:le}=_;return M||b||H||le?new Tn({verificationId:b,verificationCode:M,phoneNumber:H,temporaryProof:le}):null}}class to{constructor(_){var b,M,H,le,Xe,ht;const Gt=(0,c.I9)((0,c.hp)(_)),nn=null!==(b=Gt.apiKey)&&void 0!==b?b:null,pn=null!==(M=Gt.oobCode)&&void 0!==M?M:null,In=function Po(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Gt.mode)&&void 0!==H?H:null);Ae(nn&&pn&&In,"argument-error"),this.apiKey=nn,this.operation=In,this.code=pn,this.continueUrl=null!==(le=Gt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(Xe=Gt.languageCode)&&void 0!==Xe?Xe:null,this.tenantId=null!==(ht=Gt.tenantId)&&void 0!==ht?ht:null}static parseLink(_){const b=function wa(I){const _=(0,c.I9)((0,c.hp)(I)).link,b=_?(0,c.I9)((0,c.hp)(_)).deep_link_id:null,M=(0,c.I9)((0,c.hp)(I)).deep_link_id;return(M?(0,c.I9)((0,c.hp)(M)).link:null)||M||b||_||I}(_);try{return new to(b)}catch{return null}}}let aa=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(b,M){return uo._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const H=to.parseLink(M);return Ae(H,"argument-error"),uo._fromEmailAndCode(b,H.code,H.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ts{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Fs extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class vs extends Fs{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Ae("providerId"in b&&"signInMethod"in b,"argument-error"),Jt._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Ae(_.idToken||_.accessToken,"argument-error"),Jt._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return vs.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return vs.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:H,pendingToken:le,nonce:Xe,providerId:ht}=_;if(!M&&!H&&!b&&!le||!ht)return null;try{return new vs(ht)._credential({idToken:b,accessToken:M,nonce:Xe,pendingToken:le})}catch{return null}}}let ql=(()=>{class I extends Fs{constructor(){super("facebook.com")}static credential(b){return Jt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),no=(()=>{class I extends Fs{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return Jt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:H}=b;if(!M&&!H)return null;try{return I.credential(M,H)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Ms=(()=>{class I extends Fs{constructor(){super("github.com")}static credential(b){return Jt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return I.credential(b.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class or extends Go{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Jr(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Jr(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Jr(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:H,pendingToken:le}=b;return M&&H&&le&&M===H?new or(M,le):null}static _create(_,b){return new or(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ca extends Ts{constructor(_){Ae(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return Ca.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return Ca.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=or.fromJSON(_);return Ae(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:M}=_;if(!b||!M)return null;try{return or._create(M,b)}catch{return null}}}let po=(()=>{class I extends Fs{constructor(){super("twitter.com")}static credential(b,M){return Jt._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:H}=b;if(!M||!H)return null;try{return I.credential(M,H)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function go(I,_){return As.apply(this,arguments)}function As(){return(As=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signUp",ze(I,_))})).apply(this,arguments)}class es{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,M,H=!1){return(0,u.A)(function*(){const le=yield ir._fromIdTokenResponse(_,M,H),Xe=Os(M);return new es({user:le,providerId:Xe,_tokenResponse:M,operationType:b})})()}static _forOperation(_,b,M){return(0,u.A)(function*(){yield _._updateTokensIfNecessary(M,!0);const H=Os(M);return new es({user:_,providerId:H,_tokenResponse:M,operationType:b})})()}}function Os(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Gr(){return(Gr=(0,u.A)(function*(I){var _;const b=Ti(I);if(yield b._initializationPromise,null!==(_=b.currentUser)&&void 0!==_&&_.isAnonymous)return new es({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield go(b,{returnSecureToken:!0}),H=yield es._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class Wa extends c.g{constructor(_,b,M,H){var le;super(b.code,b.message),this.operationType=M,this.user=H,Object.setPrototypeOf(this,Wa.prototype),this.customData={appName:_.name,tenantId:null!==(le=_.tenantId)&&void 0!==le?le:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,b,M,H){return new Wa(_,b,M,H)}}function yr(I,_,b,M){return("reauthenticate"===_?b._getReauthenticationResolver(I):b._getIdTokenResponse(I)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Wa._fromErrorAndOperation(I,le,_,M):le})}function hr(I){return new Set(I.map(({providerId:_})=>_).filter(_=>!!_))}function Pn(){return Pn=(0,u.A)(function*(I,_){const b=(0,c.Ku)(I);yield ca(!0,b,_);const{providerUserInfo:M}=yield function Ye(I,_){return st.apply(this,arguments)}(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),H=hr(M||[]);return b.providerData=b.providerData.filter(le=>H.has(le.providerId)),H.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b}),Pn.apply(this,arguments)}function Ks(I,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.A)(function*(I,_,b=!1){const M=yield hn(I,_._linkToIdToken(I.auth,yield I.getIdToken()),b);return es._forOperation(I,"link",M)})).apply(this,arguments)}function ca(I,_,b){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,u.A)(function*(I,_,b){yield Kt(_);const H=!1===I?"provider-already-linked":"no-such-provider";Ae(hr(_.providerData).has(b)===I,_.auth,H)})).apply(this,arguments)}function Sl(I,_){return cl.apply(this,arguments)}function cl(){return(cl=(0,u.A)(function*(I,_,b=!1){const{auth:M}=I,H="reauthenticate";try{const le=yield hn(I,yr(M,H,_,I),b);Ae(le.idToken,M,"internal-error");const Xe=_t(le.idToken);Ae(Xe,M,"internal-error");const{sub:ht}=Xe;return Ae(I.uid===ht,M,"user-mismatch"),es._forOperation(I,H,le)}catch(le){throw"auth/user-not-found"===le?.code&&ke(M,"user-mismatch"),le}})).apply(this,arguments)}function Tl(I,_){return q.apply(this,arguments)}function q(){return(q=(0,u.A)(function*(I,_,b=!1){const M="signIn",H=yield yr(I,M,_),le=yield es._fromIdTokenResponse(I,M,H);return b||(yield I._updateCurrentUser(le.user)),le})).apply(this,arguments)}function Z(I,_){return V.apply(this,arguments)}function V(){return(V=(0,u.A)(function*(I,_){return Tl(Ti(I),_)})).apply(this,arguments)}function he(I,_){return Le.apply(this,arguments)}function Le(){return(Le=(0,u.A)(function*(I,_){const b=(0,c.Ku)(I);return yield ca(!1,b,_.providerId),Ks(b,_)})).apply(this,arguments)}function _n(I,_){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,u.A)(function*(I,_){return Sl((0,c.Ku)(I),_)})).apply(this,arguments)}function Ea(){return(Ea=(0,u.A)(function*(I,_){return It(I,"POST","/v1/accounts:signInWithCustomToken",ze(I,_))})).apply(this,arguments)}function Ia(){return Ia=(0,u.A)(function*(I,_){const b=Ti(I),M=yield function ua(I,_){return Ea.apply(this,arguments)}(b,{token:_,returnSecureToken:!0}),H=yield es._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(H.user),H}),Ia.apply(this,arguments)}class Iu{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?vc._fromServerResponse(_,b):"totpInfo"in b?$c._fromServerResponse(_,b):ke(_,"internal-error")}}class vc extends Iu{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new vc(b)}}class $c extends Iu{constructor(_){super("totp",_)}static _fromServerResponse(_,b){return new $c(b)}}function ts(I,_,b){var M;Ae((null===(M=b.url)||void 0===M?void 0:M.length)>0,I,"invalid-continue-uri"),Ae(typeof b.dynamicLinkDomain>"u"||b.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Ae(b.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Ae(b.android.packageName.length>0,I,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function $r(){return $r=(0,u.A)(function*(I,_,b){var M;const H=Ti(I),le={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(M=H._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const Xe=yield Ir(H,le,"getOobCode",!0);b&&ts(H,Xe,b),yield cs(H,Xe)}else b&&ts(H,le,b),yield cs(H,le).catch(function(){var Xe=(0,u.A)(function*(ht){if("auth/missing-recaptcha-token"!==ht.code)return Promise.reject(ht);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Gt=yield Ir(H,le,"getOobCode",!0);b&&ts(H,Gt,b),yield cs(H,Gt)}});return function(ht){return Xe.apply(this,arguments)}}())}),$r.apply(this,arguments)}function io(){return(io=(0,u.A)(function*(I,_,b){yield ll((0,c.Ku)(I),{oobCode:_,newPassword:b})})).apply(this,arguments)}function Bs(){return Bs=(0,u.A)(function*(I,_){yield function dr(I,_){return $o.apply(this,arguments)}((0,c.Ku)(I),{oobCode:_})}),Bs.apply(this,arguments)}function Ml(I,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.A)(function*(I,_){const b=(0,c.Ku)(I),M=yield ll(b,{oobCode:_}),H=M.requestType;switch(Ae(H,b,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(M.mfaInfo,b,"internal-error");default:Ae(M.email,b,"internal-error")}let le=null;return M.mfaInfo&&(le=Iu._fromServerResponse(Ti(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:le},operation:H}})).apply(this,arguments)}function Kr(){return(Kr=(0,u.A)(function*(I,_){const{data:b}=yield Ml((0,c.Ku)(I),_);return b.email})).apply(this,arguments)}function Ka(){return Ka=(0,u.A)(function*(I,_,b){var M;const H=Ti(I),le={returnSecureToken:!0,email:_,password:b,clientType:"CLIENT_TYPE_WEB"};let Xe;if(null!==(M=H._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const nn=yield Ir(H,le,"signUpPassword");Xe=go(H,nn)}else Xe=go(H,le).catch(function(){var nn=(0,u.A)(function*(pn){if("auth/missing-recaptcha-token"===pn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const In=yield Ir(H,le,"signUpPassword");return go(H,In)}return Promise.reject(pn)});return function(pn){return nn.apply(this,arguments)}}());const ht=yield Xe.catch(nn=>Promise.reject(nn)),Gt=yield es._fromIdTokenResponse(H,"signIn",ht);return yield H._updateCurrentUser(Gt.user),Gt}),Ka.apply(this,arguments)}function qo(){return qo=(0,u.A)(function*(I,_,b){var M;const H=Ti(I),le={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function Xe(ht,Gt){Ae(Gt.handleCodeInApp,H,"argument-error"),Gt&&ts(H,ht,Gt)}if(null!==(M=H._getRecaptchaConfig())&&void 0!==M&&M.emailPasswordEnabled){const ht=yield Ir(H,le,"getOobCode",!0);Xe(ht,b),yield Ko(H,ht)}else Xe(le,b),yield Ko(H,le).catch(function(){var ht=(0,u.A)(function*(Gt){if("auth/missing-recaptcha-token"!==Gt.code)return Promise.reject(Gt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nn=yield Ir(H,le,"getOobCode",!0);Xe(nn,b),yield Ko(H,nn)}});return function(Gt){return ht.apply(this,arguments)}}())}),qo.apply(this,arguments)}function Da(){return(Da=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I),H=aa.credentialWithLink(_,b||zt());return Ae(H._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Z(M,H)})).apply(this,arguments)}function bc(){return(bc=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:createAuthUri",ze(I,_))})).apply(this,arguments)}function hl(){return hl=(0,u.A)(function*(I,_){const M={identifier:_,continueUri:zn()?zt():"http://localhost"},{signinMethods:H}=yield function dl(I,_){return bc.apply(this,arguments)}((0,c.Ku)(I),M);return H||[]}),hl.apply(this,arguments)}function Sa(){return Sa=(0,u.A)(function*(I,_){const b=(0,c.Ku)(I),H={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};_&&ts(b.auth,H,_);const{email:le}=yield function ba(I,_){return No.apply(this,arguments)}(b.auth,H);le!==I.email&&(yield I.reload())}),Sa.apply(this,arguments)}function Jl(){return Jl=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:_};b&&ts(M.auth,le,b);const{email:Xe}=yield function us(I,_){return sr.apply(this,arguments)}(M.auth,le);Xe!==I.email&&(yield I.reload())}),Jl.apply(this,arguments)}function Su(){return(Su=(0,u.A)(function*(I,_){return Fe(I,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function wc(){return wc=(0,u.A)(function*(I,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const M=(0,c.Ku)(I),le={idToken:yield M.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},Xe=yield hn(M,function Du(I,_){return Su.apply(this,arguments)}(M.auth,le));M.displayName=Xe.displayName||null,M.photoURL=Xe.photoUrl||null;const ht=M.providerData.find(({providerId:Gt})=>"password"===Gt);ht&&(ht.displayName=M.displayName,ht.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Xe)}),wc.apply(this,arguments)}function Yc(I,_,b){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.A)(function*(I,_,b){const{auth:M}=I,le={idToken:yield I.getIdToken(),returnSecureToken:!0};_&&(le.email=_),b&&(le.password=b);const Xe=yield hn(I,Ho(M,le));yield I._updateTokensIfNecessary(Xe,!0)})).apply(this,arguments)}class Ot{constructor(_,b,M={}){this.isNewUser=_,this.providerId=b,this.profile=M}}class ns extends Ot{constructor(_,b,M,H){super(_,b,M),this.username=H}}class mo extends Ot{constructor(_,b){super(_,"facebook.com",b)}}class C extends ns{constructor(_,b){super(_,"github.com",b,"string"==typeof b?.login?b?.login:null)}}class ne extends Ot{constructor(_,b){super(_,"google.com",b)}}class U extends ns{constructor(_,b,M){super(_,"twitter.com",b,M)}}function Q(I){const{user:_,_tokenResponse:b}=I;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Ec(I){var _,b;if(!I)return null;const{providerId:M}=I,H=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},le=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!M&&I?.idToken){const Xe=null===(b=null===(_=_t(I.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(Xe)return new Ot(le,"anonymous"!==Xe&&"custom"!==Xe?Xe:null)}if(!M)return null;switch(M){case"facebook.com":return new mo(le,H);case"github.com":return new C(le,H);case"google.com":return new ne(le,H);case"twitter.com":return new U(le,H,I.screenName||null);case"custom":case"anonymous":return new Ot(le,null);default:return new Ot(le,M,H)}}(b)}class lr{constructor(_,b,M){this.type=_,this.credential=b,this.auth=M}static _fromIdtoken(_,b){return new lr("enroll",_,b)}static _fromMfaPendingCredential(_){return new lr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,M;if(_?.multiFactorSession){if(null!==(b=_.multiFactorSession)&&void 0!==b&&b.pendingCredential)return lr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(M=_.multiFactorSession)&&void 0!==M&&M.idToken)return lr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class ro{constructor(_,b,M){this.session=_,this.hints=b,this.signInResolver=M}static _fromError(_,b){const M=Ti(_),H=b.customData._serverResponse,le=(H.mfaInfo||[]).map(ht=>Iu._fromServerResponse(M,ht));Ae(H.mfaPendingCredential,M,"internal-error");const Xe=lr._fromMfaPendingCredential(H.mfaPendingCredential);return new ro(Xe,le,function(){var ht=(0,u.A)(function*(Gt){const nn=yield Gt._process(M,Xe);delete H.mfaInfo,delete H.mfaPendingCredential;const pn=Object.assign(Object.assign({},H),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(b.operationType){case"signIn":const In=yield es._fromIdTokenResponse(M,b.operationType,pn);return yield M._updateCurrentUser(In.user),In;case"reauthenticate":return Ae(b.user,M,"internal-error"),es._forOperation(b.user,b.operationType,pn);default:ke(M,"internal-error")}});return function(Gt){return ht.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,u.A)(function*(){return b.signInResolver(_)})()}}class fa{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>Iu._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new fa(_)}getSession(){var _=this;return(0,u.A)(function*(){return lr._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,b){var M=this;return(0,u.A)(function*(){const H=_,le=yield M.getSession(),Xe=yield hn(M.user,H._process(M.user.auth,le,b));return yield M.user._updateTokensIfNecessary(Xe),M.user.reload()})()}unenroll(_){var b=this;return(0,u.A)(function*(){const M="string"==typeof _?_:_.uid,H=yield b.user.getIdToken();try{const le=yield hn(b.user,function Xo(I,_){return Fe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(I,_))}(b.user.auth,{idToken:H,mfaEnrollmentId:M}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Xe})=>Xe!==M),yield b.user._updateTokensIfNecessary(le),yield b.user.reload()}catch(le){throw le}})()}}const Li=new WeakMap,Al="__sak";class _o{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(Al,"1"),this.storage.removeItem(Al),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const fl=(()=>{class I extends _o{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function op(){const I=(0,c.ZQ)();return W(I)||ln(I)}()&&function lo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Er(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const H=this.storage.getItem(M),le=this.localCache[M];H!==le&&b(M,le,H)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((ht,Gt,nn)=>{this.notifyListeners(ht,nn)});const H=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(H);if(b.newValue!==ht)null!==b.newValue?this.storage.setItem(H,b.newValue):this.storage.removeItem(H);else if(this.localCache[H]===b.newValue&&!M)return}const le=()=>{const ht=this.storage.getItem(H);!M&&this.localCache[H]===ht||this.notifyListeners(H,ht)},Xe=this.storage.getItem(H);!function cr(){return(0,c.lT)()&&10===document.documentMode}()||Xe===b.newValue||b.newValue===b.oldValue?le():setTimeout(le,10)}notifyListeners(b,M){this.localCache[b]=M;const H=this.listeners[b];if(H)for(const le of Array.from(H))le(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var H=()=>super._set,le=this;return(0,u.A)(function*(){yield H().call(le,b,M),le.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,H=this;return(0,u.A)(function*(){const le=yield M().call(H,b);return H.localCache[b]=JSON.stringify(le),le})()}_remove(b){var M=()=>super._remove,H=this;return(0,u.A)(function*(){yield M().call(H,b),delete H.localCache[b]})()}}return I.type="LOCAL",I})(),vo=(()=>{class I extends _o{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return I.type="SESSION",I})();let Tu=(()=>{class I{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(le=>le.isListeningto(b));if(M)return M;const H=new I(b);return this.receivers.push(H),H}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,u.A)(function*(){const H=b,{eventId:le,eventType:Xe,data:ht}=H.data,Gt=M.handlersMap[Xe];if(!Gt?.size)return;H.ports[0].postMessage({status:"ack",eventId:le,eventType:Xe});const nn=Array.from(Gt).map(function(){var In=(0,u.A)(function*(ps){return ps(H.origin,ht)});return function(ps){return In.apply(this,arguments)}}()),pn=yield function ec(I){return Promise.all(I.map(function(){var _=(0,u.A)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return _.apply(this,arguments)}}()))}(nn);H.ports[0].postMessage({status:"done",eventId:le,eventType:Xe,response:pn})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Mu(I="",_=10){let b="";for(let M=0;M<_;M++)b+=Math.floor(10*Math.random());return I+b}class Qh{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,M=50){var H=this;return(0,u.A)(function*(){const le=typeof MessageChannel<"u"?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let Xe,ht;return new Promise((Gt,nn)=>{const pn=Mu("",20);le.port1.start();const In=setTimeout(()=>{nn(new Error("unsupported_event"))},M);ht={messageChannel:le,onMessage(ps){const xa=ps;if(xa.data.eventId===pn)switch(xa.data.status){case"ack":clearTimeout(In),Xe=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Xe),Gt(xa.data.response);break;default:clearTimeout(In),clearTimeout(Xe),nn(new Error("invalid_response"))}}},H.handlers.add(ht),le.port1.addEventListener("message",ht.onMessage),H.target.postMessage({eventType:_,eventId:pn,data:b},[le.port2])}).finally(()=>{ht&&H.removeMessageHandler(ht)})})()}}function pr(){return window}function tc(){return typeof pr().WorkerGlobalScope<"u"&&"function"==typeof pr().importScripts}function pl(){return(pl=(0,u.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qc="firebaseLocalStorageDb",Ic="firebaseLocalStorage",Yr="fbase_key";class nc{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Dc(I,_){return I.transaction([Ic],_?"readwrite":"readonly").objectStore(Ic)}function ys(){const I=indexedDB.open(Qc,1);return new Promise((_,b)=>{I.addEventListener("error",()=>{b(I.error)}),I.addEventListener("upgradeneeded",()=>{const M=I.result;try{M.createObjectStore(Ic,{keyPath:Yr})}catch(H){b(H)}}),I.addEventListener("success",(0,u.A)(function*(){const M=I.result;M.objectStoreNames.contains(Ic)?_(M):(M.close(),yield function gl(){const I=indexedDB.deleteDatabase(Qc);return new nc(I).toPromise()}(),_(yield ys()))}))})}function js(I,_,b){return kt.apply(this,arguments)}function kt(){return(kt=(0,u.A)(function*(I,_,b){const M=Dc(I,!0).put({[Yr]:_,value:b});return new nc(M).toPromise()})).apply(this,arguments)}function ic(){return(ic=(0,u.A)(function*(I,_){const b=Dc(I,!1).get(_),M=yield new nc(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Zc(I,_){const b=Dc(I,!0).delete(_);return new nc(b).toPromise()}const bo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,u.A)(function*(){return b.db||(b.db=yield ys()),b.db})()}_withRetries(b){var M=this;return(0,u.A)(function*(){let H=0;for(;;)try{const le=yield M._openDb();return yield b(le)}catch(le){if(H++>3)throw le;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,u.A)(function*(){return tc()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,u.A)(function*(){b.receiver=Tu._getInstance(function hs(){return tc()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,u.A)(function*(H,le){return{keyProcessed:(yield b._poll()).includes(le.key)}});return function(H,le){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,u.A)(function*(H,le){return["keyChanged"]});return function(H,le){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,u.A)(function*(){var M,H;if(b.activeServiceWorker=yield function Hn(){return pl.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Qh(b.activeServiceWorker);const le=yield b.sender._send("ping",{},800);le&&null!==(M=le[0])&&void 0!==M&&M.fulfilled&&null!==(H=le[0])&&void 0!==H&&H.value.includes("keyChanged")&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,u.A)(function*(){if(M.sender&&M.activeServiceWorker&&function Zh(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.A)(function*(){try{if(!indexedDB)return!1;const b=yield ys();return yield js(b,Al,"1"),yield Zc(b,Al),!0}catch{}return!1})()}_withPendingWrite(b){var M=this;return(0,u.A)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var H=this;return(0,u.A)(function*(){return H._withPendingWrite((0,u.A)(function*(){return yield H._withRetries(le=>js(le,b,M)),H.localCache[b]=M,H.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,u.A)(function*(){const H=yield M._withRetries(le=>function oi(I,_){return ic.apply(this,arguments)}(le,b));return M.localCache[b]=H,H})()}_remove(b){var M=this;return(0,u.A)(function*(){return M._withPendingWrite((0,u.A)(function*(){return yield M._withRetries(H=>Zc(H,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,u.A)(function*(){const M=yield b._withRetries(Xe=>{const ht=Dc(Xe,!1).getAll();return new nc(ht).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const H=[],le=new Set;for(const{fbase_key:Xe,value:ht}of M)le.add(Xe),JSON.stringify(b.localCache[Xe])!==JSON.stringify(ht)&&(b.notifyListeners(Xe,ht),H.push(Xe));for(const Xe of Object.keys(b.localCache))b.localCache[Xe]&&!le.has(Xe)&&(b.notifyListeners(Xe,null),H.push(Xe));return H})()}notifyListeners(b,M){this.localCache[b]=M;const H=this.listeners[b];if(H)for(const le of Array.from(H))le(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,u.A)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),Lr=1e12;class N{constructor(_){this.auth=_,this.counter=Lr,this._widgets=new Map}render(_,b){const M=this.counter;return this._widgets.set(M,new L(_,this.auth.name,b||{})),this.counter++,M}reset(_){var b;const M=_||Lr;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(_){var b;return(null===(b=this._widgets.get(_||Lr))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,u.A)(function*(){var M;return null===(M=b._widgets.get(_||Lr))||void 0===M||M.execute(),""})()}}class L{constructor(_,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof _?document.getElementById(_):_;Ae(H,"argument-error",{appName:b}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function A(I){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<I;M++)_.push(b.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const k=Rr("rcb"),K=new ji(3e4,6e4);class Oe{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=pr().grecaptcha)||void 0===_||!_.render)}load(_,b=""){return Ae(function Ct(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(b),_,"argument-error"),this.shouldResolveImmediately(b)&&un(pr().grecaptcha)?Promise.resolve(pr().grecaptcha):new Promise((M,H)=>{const le=pr().setTimeout(()=>{H(De(_,"network-request-failed"))},K.get());pr()[k]=()=>{pr().clearTimeout(le),delete pr()[k];const ht=pr().grecaptcha;if(!ht||!un(ht))return void H(De(_,"internal-error"));const Gt=ht.render;ht.render=(nn,pn)=>{const In=Gt(nn,pn);return this.counter++,In},this.hostLanguage=b,M(ht)},co(`https://www.google.com/recaptcha/api.js??${(0,c.Am)({onload:k,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(le),H(De(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var b;return!(null===(b=pr().grecaptcha)||void 0===b||!b.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yt{load(_){return(0,u.A)(function*(){return new N(_)})()}clearedOneInstance(){}}const on="recaptcha",Zn={theme:"light",type:"image"};class Zi{constructor(_,b=Object.assign({},Zn),M){this.parameters=b,this.type=on,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ti(M),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof _?document.getElementById(_):_;Ae(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yt:new Oe,this.validateStartingState()}verify(){var _=this;return(0,u.A)(function*(){_.assertNotDestroyed();const b=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(b)||new Promise(le=>{const Xe=ht=>{ht&&(_.tokenChangeListeners.delete(Xe),le(ht))};_.tokenChangeListeners.add(Xe),_.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof _)_(b);else if("string"==typeof _){const M=pr()[_];"function"==typeof M&&M(b)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.A)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.A)(function*(){Ae(zn()&&!tc(),_.auth,"internal-error"),yield function Di(){let I=null;return new Promise(_=>{"complete"!==document.readyState?(I=()=>_(),window.addEventListener("load",I)):_()}).catch(_=>{throw I&&window.removeEventListener("load",I),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function ft(I){return Ut.apply(this,arguments)}(_.auth);Ae(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=Tn._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function Lo(){return(Lo=(0,u.A)(function*(I,_,b){const M=Ti(I),H=yield rd(M,_,(0,c.Ku)(b));return new Ys(H,le=>Z(M,le))})).apply(this,arguments)}function Qo(){return(Qo=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I);yield ca(!1,M,"phone");const H=yield rd(M.auth,_,(0,c.Ku)(b));return new Ys(H,le=>he(M,le))})).apply(this,arguments)}function Mc(){return(Mc=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I),H=yield rd(M.auth,_,(0,c.Ku)(b));return new Ys(H,le=>_n(M,le))})).apply(this,arguments)}function rd(I,_,b){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,u.A)(function*(I,_,b){var M;const H=yield b.verify();try{let le;if(Ae("string"==typeof H,I,"argument-error"),Ae(b.type===on,I,"argument-error"),le="string"==typeof _?{phoneNumber:_}:_,"session"in le){const Xe=le.session;if("phoneNumber"in le)return Ae("enroll"===Xe.type,I,"internal-error"),(yield function fr(I,_){return Fe(I,"POST","/v2/accounts/mfaEnrollment:start",ze(I,_))}(I,{idToken:Xe.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Ae("signin"===Xe.type,I,"internal-error");const ht=(null===(M=le.multiFactorHint)||void 0===M?void 0:M.uid)||le.multiFactorUid;return Ae(ht,I,"missing-multi-factor-info"),(yield function Sc(I,_){return Fe(I,"POST","/v2/accounts/mfaSignIn:start",ze(I,_))}(I,{mfaPendingCredential:Xe.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Xe}=yield function Kn(I,_){return di.apply(this,arguments)}(I,{phoneNumber:le.phoneNumber,recaptchaToken:H});return Xe}}finally{b._reset()}}),Jh.apply(this,arguments)}function _l(){return(_l=(0,u.A)(function*(I,_){yield Ks((0,c.Ku)(I),_)})).apply(this,arguments)}let br=(()=>{class I{constructor(b){this.providerId=I.PROVIDER_ID,this.auth=Ti(b)}verifyPhoneNumber(b,M){return rd(this.auth,b,(0,c.Ku)(M))}static credential(b,M){return Tn._fromVerification(b,M)}static credentialFromResult(b){return I.credentialFromTaggedObject(b)}static credentialFromError(b){return I.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:H}=b;return M&&H?Tn._fromTokenResponse(M,H):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Nl(I,_){return _?ci(_):(Ae(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Ta extends Go{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Jr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Jr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Jr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function ef(I){return Tl(I.auth,new Ta(I),I.bypassAuthState)}function tf(I){const{auth:_,user:b}=I;return Ae(b,_,"internal-error"),Sl(b,new Ta(I),I.bypassAuthState)}function sc(I){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.A)(function*(I){const{auth:_,user:b}=I;return Ae(b,_,"internal-error"),Ks(b,new Ta(I),I.bypassAuthState)})).apply(this,arguments)}class eu{constructor(_,b,M,H,le=!1){this.auth=_,this.resolver=M,this.user=H,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,u.A)(function*(M,H){_.pendingPromise={resolve:M,reject:H};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(le){_.reject(le)}});return function(M,H){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,u.A)(function*(){const{urlResponse:M,sessionId:H,postBody:le,tenantId:Xe,error:ht,type:Gt}=_;if(ht)return void b.reject(ht);const nn={auth:b.auth,requestUri:M,sessionId:H,tenantId:Xe||void 0,postBody:le||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Gt)(nn))}catch(pn){b.reject(pn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ef;case"linkViaPopup":case"linkViaRedirect":return sc;case"reauthViaPopup":case"reauthViaRedirect":return tf;default:ke(this.auth,"internal-error")}}resolve(_){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const is=new ji(2e3,1e4);function sd(){return(sd=(0,u.A)(function*(I,_,b){const M=Ti(I);Ce(I,_,Ts);const H=Nl(M,b);return new sf(M,"signInViaPopup",_,H).executeNotNull()})).apply(this,arguments)}function Ou(){return(Ou=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I);Ce(M.auth,_,Ts);const H=Nl(M.auth,b);return new sf(M.auth,"reauthViaPopup",_,H,M).executeNotNull()})).apply(this,arguments)}function rf(){return(rf=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I);Ce(M.auth,_,Ts);const H=Nl(M.auth,b);return new sf(M.auth,"linkViaPopup",_,H,M).executeNotNull()})).apply(this,arguments)}let sf=(()=>{class I extends eu{constructor(b,M,H,le,Xe){super(b,M,le,Xe),this.provider=H,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var b=this;return(0,u.A)(function*(){const M=yield b.execute();return Ae(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,u.A)(function*(){Vt(1===b.filter.length,"Popup operations only handle one event");const M=Mu();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(H=>{b.reject(H)}),b.resolver._isIframeWebStorageSupported(b.auth,H=>{H||b.reject(De(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,H;this.pollId=null!==(H=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(b,is.get())};b()}}return I.currentPopupAction=null,I})();const th="pendingRedirect",xl=new Map;class od extends eu{constructor(_,b,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,u.A)(function*(){let M=xl.get(b.auth._key());if(!M){try{const le=(yield function Ps(I,_){return Nu.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;M=()=>Promise.resolve(le)}catch(H){M=()=>Promise.reject(H)}xl.set(b.auth._key(),M)}return b.bypassAuthState||xl.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,M=this;return(0,u.A)(function*(){if("signInViaRedirect"===_.type)return b().call(M,_);if("unknown"!==_.type){if(_.eventId){const H=yield M.auth._redirectUserForId(_.eventId);if(H)return M.user=H,b().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,u.A)(function*(){})()}cleanUp(){}}function Nu(){return(Nu=(0,u.A)(function*(I,_){const b=cd(_),M=ld(I);if(!(yield M._isAvailable()))return!1;const H="true"===(yield M._get(b));return yield M._remove(b),H})).apply(this,arguments)}function ad(I,_){return nh.apply(this,arguments)}function nh(){return(nh=(0,u.A)(function*(I,_){return ld(I)._set(cd(_),"true")})).apply(this,arguments)}function oc(I,_){xl.set(I._key(),_)}function ld(I){return ci(I._redirectPersistence)}function cd(I){return oe(th,I.config.apiKey,I.name)}function tu(I,_,b){return function Ac(I,_,b){return Pu.apply(this,arguments)}(I,_,b)}function Pu(){return(Pu=(0,u.A)(function*(I,_,b){const M=Ti(I);Ce(I,_,Ts),yield M._initializationPromise;const H=Nl(M,b);return yield ad(H,M),H._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function Oc(I,_,b){return function Nc(I,_,b){return nu.apply(this,arguments)}(I,_,b)}function nu(){return(nu=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I);Ce(M.auth,_,Ts),yield M.auth._initializationPromise;const H=Nl(M.auth,b);yield ad(H,M.auth);const le=yield Si(M);return H._openRedirect(M.auth,_,"reauthViaRedirect",le)})).apply(this,arguments)}function af(I,_,b){return function ud(I,_,b){return dd.apply(this,arguments)}(I,_,b)}function dd(){return(dd=(0,u.A)(function*(I,_,b){const M=(0,c.Ku)(I);Ce(M.auth,_,Ts),yield M.auth._initializationPromise;const H=Nl(M.auth,b);yield ca(!1,M,_.providerId),yield ad(H,M.auth);const le=yield Si(M);return H._openRedirect(M.auth,_,"linkViaRedirect",le)})).apply(this,arguments)}function Ma(){return(Ma=(0,u.A)(function*(I,_){return yield Ti(I)._initializationPromise,fd(I,_,!1)})).apply(this,arguments)}function fd(I,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.A)(function*(I,_,b=!1){const M=Ti(I),H=Nl(M,_),Xe=yield new od(M,H,b).execute();return Xe&&!b&&(delete Xe.user._redirectEventId,yield M._persistUserIfCurrent(Xe.user),yield M._setRedirectUser(null,_)),Xe})).apply(this,arguments)}function Si(I){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.A)(function*(I){const _=Mu(`${I.uid}:::`);return I._redirectEventId=_,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),_})).apply(this,arguments)}class lc{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(b=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ji(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xu(I);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var M;if(_.error&&!xu(_)){const H=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(De(this.auth,H))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const M=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iu(_))}saveEventToCache(_){this.cachedEventUids.add(iu(_)),this.lastProcessedEventTime=Date.now()}}function iu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(_=>_).join("-")}function xu({type:I,error:_}){return"unknown"===I&&"auth/no-auth-event"===_?.code}function lf(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,u.A)(function*(I,_={}){return Fe(I,"GET","/v1/projects",_)})).apply(this,arguments)}const wg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ru=/^https?/;function Rl(){return(Rl=(0,u.A)(function*(I){if(I.config.emulator)return;const{authorizedDomains:_}=yield lf(I);for(const b of _)try{if(pd(b))return}catch{}ke(I,"unauthorized-domain")})).apply(this,arguments)}function pd(I){const _=zt(),{protocol:b,hostname:M}=new URL(_);if(I.startsWith("chrome-extension://")){const Xe=new URL(I);return""===Xe.hostname&&""===M?"chrome-extension:"===b&&I.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&Xe.hostname===M}if(!ru.test(b))return!1;if(wg.test(I))return M===I;const H=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(M)}const gd=new ji(3e4,6e4);function kl(){const I=pr().___jsl;if(I?.H)for(const _ of Object.keys(I.H))if(I.H[_].r=I.H[_].r||[],I.H[_].L=I.H[_].L||[],I.H[_].r=[...I.H[_].L],I.CP)for(let b=0;b<I.CP.length;b++)I.CP[b]=null}let qs=null;const Zo=new ji(5e3,15e3),Ll="__/auth/iframe",Vs="emulator/auth/iframe",ih={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ku(I){const _=I.config;Ae(_.authDomain,I,"auth-domain-config-required");const b=_.emulator?Sn(_,Vs):`https://${I.config.authDomain}/${Ll}`,M={apiKey:_.apiKey,appName:I.name,v:te.SDK_VERSION},H=rh.get(I.config.apiHost);H&&(M.eid=H);const le=I._getFrameworks();return le.length&&(M.fw=le.join(",")),`${b}?${(0,c.Am)(M).slice(1)}`}function F(){return F=(0,u.A)(function*(I){const _=yield function xc(I){return qs=qs||function cc(I){return new Promise((_,b)=>{var M,H,le;function Xe(){kl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{kl(),b(De(I,"network-request-failed"))},timeout:gd.get()})}if(null!==(H=null===(M=pr().gapi)||void 0===M?void 0:M.iframes)&&void 0!==H&&H.Iframe)_(gapi.iframes.getContext());else{if(null===(le=pr().gapi)||void 0===le||!le.load){const ht=Rr("iframefcb");return pr()[ht]=()=>{gapi.load?Xe():b(De(I,"network-request-failed"))},co(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Gt=>b(Gt))}Xe()}}).catch(_=>{throw qs=null,_})}(I),qs}(I),b=pr().gapi;return Ae(b,I,"internal-error"),_.open({where:document.body,url:ku(I),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ih,dontclear:!0},M=>new Promise(function(){var H=(0,u.A)(function*(le,Xe){yield M.restyle({setHideOnLeave:!1});const ht=De(I,"network-request-failed"),Gt=pr().setTimeout(()=>{Xe(ht)},Zo.get());function nn(){pr().clearTimeout(Gt),le(M)}M.ping(nn).then(nn,()=>{Xe(ht)})});return function(le,Xe){return H.apply(this,arguments)}}()))}),F.apply(this,arguments)}const X={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dn{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qn="__/auth/handler",Jn="emulator/auth/handler",Aa=encodeURIComponent("fac");function qr(I,_,b,M,H,le){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,u.A)(function*(I,_,b,M,H,le){Ae(I.config.authDomain,I,"auth-domain-config-required"),Ae(I.config.apiKey,I,"invalid-api-key");const Xe={apiKey:I.config.apiKey,appName:I.name,authType:b,redirectUrl:M,v:te.SDK_VERSION,eventId:H};if(_ instanceof Ts){_.setDefaultLanguage(I.languageCode),Xe.providerId=_.providerId||"",(0,c.Im)(_.getCustomParameters())||(Xe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[pn,In]of Object.entries(le||{}))Xe[pn]=In}if(_ instanceof Fs){const pn=_.getScopes().filter(In=>""!==In);pn.length>0&&(Xe.scopes=pn.join(","))}I.tenantId&&(Xe.tid=I.tenantId);const ht=Xe;for(const pn of Object.keys(ht))void 0===ht[pn]&&delete ht[pn];const Gt=yield I._getAppCheckToken(),nn=Gt?`#${Aa}=${encodeURIComponent(Gt)}`:"";return`${function sh({config:I}){return I.emulator?Sn(I,Jn):`https://${I.authDomain}/${qn}`}(I)}?${(0,c.Am)(ht).slice(1)}${nn}`})).apply(this,arguments)}const Br="webStorageSupport",Oa=class vl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vo,this._completeRedirectFn=fd,this._overrideRedirectResult=oc}_openPopup(_,b,M,H){var le=this;return(0,u.A)(function*(){var Xe;Vt(null===(Xe=le.eventManagers[_._key()])||void 0===Xe?void 0:Xe.manager,"_initialize() not called before _openPopup()");const ht=yield qr(_,b,M,zt(),H);return function an(I,_,b,M=500,H=600){const le=Math.max((window.screen.availHeight-H)/2,0).toString(),Xe=Math.max((window.screen.availWidth-M)/2,0).toString();let ht="";const Gt=Object.assign(Object.assign({},X),{width:M.toString(),height:H.toString(),top:le,left:Xe}),nn=(0,c.ZQ)().toLowerCase();b&&(ht=_e(nn)?"_blank":b),z(nn)&&(_=_||"http://localhost",Gt.scrollbars="yes");const pn=Object.entries(Gt).reduce((ps,[xa,gh])=>`${ps}${xa}=${gh},`,"");if(function mi(I=(0,c.ZQ)()){var _;return ln(I)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(nn)&&"_self"!==ht)return function Rn(I,_){const b=document.createElement("a");b.href=I,b.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(_||"",ht),new dn(null);const In=window.open(_||"",ht,pn);Ae(In,I,"popup-blocked");try{In.focus()}catch{}return new dn(In)}(_,ht,Mu())})()}_openRedirect(_,b,M,H){var le=this;return(0,u.A)(function*(){return yield le._originValidation(_),function Xc(I){pr().location.href=I}(yield qr(_,b,M,zt(),H)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:H,promise:le}=this.eventManagers[b];return H?Promise.resolve(H):(Vt(le,"If manager is not set, promise should be"),le)}const M=this.initAndGetManager(_);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(_){var b=this;return(0,u.A)(function*(){const M=yield function x(I){return F.apply(this,arguments)}(_),H=new lc(_);return M.register("authEvent",le=>(Ae(le?.authEvent,_,"invalid-auth-event"),{status:H.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:H},b.iframes[_._key()]=M,H})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(Br,{type:Br},H=>{var le;const Xe=null===(le=H?.[0])||void 0===le?void 0:le[Br];void 0!==Xe&&b(!!Xe),ke(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Pc(I){return Rl.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Er()||W()||ln()}};class cf{constructor(_){this.factorId=_}_process(_,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,M);case"signin":return this._finalizeSignIn(_,b.credential);default:return Pt("unexpected MultiFactorSessionType")}}}class Na extends cf{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Na(_)}_finalizeEnroll(_,b,M){return function Ns(I,_){return Fe(I,"POST","/v2/accounts/mfaEnrollment:finalize",ze(I,_))}(_,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Ol(I,_){return Fe(I,"POST","/v2/accounts/mfaSignIn:finalize",ze(I,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oh=(()=>{class I{constructor(){}static assertion(b){return Na._fromCredential(b)}}return I.FACTOR_ID="phone",I})();var uy="@firebase/auth";class Ub{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,u.A)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(M=>{_(M?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);b&&(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fu(){return window}(0,c.XA)("authIdTokenMaxAge"),function cp(I){(0,te._registerComponent)(new Ie.uA("auth",(_,{options:b})=>{const M=_.getProvider("app").getImmediate(),H=_.getProvider("heartbeat"),le=_.getProvider("app-check-internal"),{apiKey:Xe,authDomain:ht}=M.options;Ae(Xe&&!Xe.includes(":"),"invalid-api-key",{appName:M.name});const Gt={apiKey:Xe,authDomain:ht,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(I)},nn=new ur(M,H,le,Gt);return function Ha(I,_){const b=_?.persistence||[],M=(Array.isArray(b)?b:[b]).map(ci);_?.errorMap&&I._updateErrorMap(_.errorMap),I._initializeWithPersistence(M,_?.popupRedirectResolver)}(nn,b),nn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,M)=>{_.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new Ie.uA("auth-internal",_=>{const b=Ti(_.getProvider("auth").getImmediate());return new Ub(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(uy,"0.23.2",function yl(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,te.registerVersion)(uy,"0.23.2","esm2017")}("Browser");function Qa(){return Qa=(0,u.A)(function*(I,_,b){var M;const{BuildInfo:H}=Fu();Vt(_.sessionId,"AuthEvent did not contain a session ID");const le=yield function dp(I){return su.apply(this,arguments)}(_.sessionId),Xe={};return ln()?Xe.ibi=H.packageName:xt()?Xe.apn=H.packageName:ke(I,"operation-not-supported-in-this-environment"),H.displayName&&(Xe.appDisplayName=H.displayName),Xe.sessionId=le,qr(I,b,_.type,void 0,null!==(M=_.eventId)&&void 0!==M?M:void 0,Xe)}),Qa.apply(this,arguments)}function wo(){return(wo=(0,u.A)(function*(I){const{BuildInfo:_}=Fu(),b={};ln()?b.iosBundleId=_.packageName:xt()?b.androidPackageName=_.packageName:ke(I,"operation-not-supported-in-this-environment"),yield lf(I,b)})).apply(this,arguments)}function up(){return(up=(0,u.A)(function*(I,_,b){const{cordova:M}=Fu();let H=()=>{};try{yield new Promise((le,Xe)=>{let ht=null;function Gt(){var In;le();const ps=null===(In=M.plugins.browsertab)||void 0===In?void 0:In.close;"function"==typeof ps&&ps(),"function"==typeof b?.close&&b.close()}function nn(){ht||(ht=window.setTimeout(()=>{Xe(De(I,"redirect-cancelled-by-user"))},2e3))}function pn(){"visible"===document?.visibilityState&&nn()}_.addPassiveListener(Gt),document.addEventListener("resume",nn,!1),xt()&&document.addEventListener("visibilitychange",pn,!1),H=()=>{_.removePassiveListener(Gt),document.removeEventListener("resume",nn,!1),document.removeEventListener("visibilitychange",pn,!1),ht&&window.clearTimeout(ht)}})}finally{H()}})).apply(this,arguments)}function su(){return(su=(0,u.A)(function*(I){const _=function Fl(I){if(Vt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(I);const _=new ArrayBuffer(I.length),b=new Uint8Array(_);for(let M=0;M<I.length;M++)b[M]=I.charCodeAt(M);return b}(I),b=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(b)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class hp extends lc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(_)),super.onEvent(_)}initialized(){var _=this;return(0,u.A)(function*(){yield _.initPromise})()}}function Bu(I){return ju.apply(this,arguments)}function ju(){return(ju=(0,u.A)(function*(I){const _=yield au()._get(yd(I));return _&&(yield au()._remove(yd(I))),_})).apply(this,arguments)}function vd(){const I=[];for(let b=0;b<20;b++){const M=Math.floor(62*Math.random());I.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(M))}return I.join("")}function au(){return ci(fl)}function yd(I){return oe("authEvent",I.config.apiKey,I.name)}function uc(I){if(!I?.includes("?"))return{};const[_,...b]=I.split("?");return(0,c.I9)(b.join("?"))}const __=class pp{constructor(){this._redirectPersistence=vo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fd,this._overrideRedirectResult=oc}_initialize(_){var b=this;return(0,u.A)(function*(){const M=_._key();let H=b.eventManagers.get(M);return H||(H=new hp(_),b.eventManagers.set(M,H),b.attachCallbackListeners(_,H)),H})()}_openPopup(_){ke(_,"operation-not-supported-in-this-environment")}_openRedirect(_,b,M,H){var le=this;return(0,u.A)(function*(){!function ch(I){var _,b,M,H,le,Xe,ht,Gt,nn,pn;const In=Fu();Ae("function"==typeof(null===(_=In?.universalLinks)||void 0===_?void 0:_.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ae(typeof(null===(b=In?.BuildInfo)||void 0===b?void 0:b.packageName)<"u",I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ae("function"==typeof(null===(le=null===(H=null===(M=In?.cordova)||void 0===M?void 0:M.plugins)||void 0===H?void 0:H.browsertab)||void 0===le?void 0:le.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(Gt=null===(ht=null===(Xe=In?.cordova)||void 0===Xe?void 0:Xe.plugins)||void 0===ht?void 0:ht.browsertab)||void 0===Gt?void 0:Gt.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ae("function"==typeof(null===(pn=null===(nn=In?.cordova)||void 0===nn?void 0:nn.InAppBrowser)||void 0===pn?void 0:pn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Xe=yield le._initialize(_);yield Xe.initialized(),Xe.resetRedirect(),function bg(){xl.clear()}(),yield le._originValidation(_);const ht=function p_(I,_,b=null){return{type:_,eventId:b,urlResponse:null,sessionId:vd(),postBody:null,tenantId:I.tenantId,error:De(I,"no-auth-event")}}(_,M,H);yield function g_(I,_){return au()._set(yd(I),_)}(_,ht);const Gt=yield function hy(I,_,b){return Qa.apply(this,arguments)}(_,ht,b),nn=yield function Ig(I){const{cordova:_}=Fu();return new Promise(b=>{_.plugins.browsertab.isAvailable(M=>{let H=null;M?_.plugins.browsertab.openUrl(I):H=_.InAppBrowser.open(I,function sn(I=(0,c.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),b(H)})})}(Gt);return function md(I,_,b){return up.apply(this,arguments)}(_,Xe,nn)})()}_isIframeWebStorageSupported(_,b){throw new Error("Method not implemented.")}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Xr(I){return wo.apply(this,arguments)}(_)),this.originValidationPromises[b]}attachCallbackListeners(_,b){const{universalLinks:M,handleOpenURL:H,BuildInfo:le}=Fu(),Xe=setTimeout((0,u.A)(function*(){yield Bu(_),b.onEvent(v_())}),500),ht=function(){var pn=(0,u.A)(function*(In){clearTimeout(Xe);const ps=yield Bu(_);let xa=null;ps&&In?.url&&(xa=function _d(I,_){var b,M;const H=function fp(I){const _=uc(I),b=_.link?decodeURIComponent(_.link):void 0,M=uc(b).link,H=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return uc(H).link||H||M||b||I}(_);if(H.includes("/__/auth/callback")){const le=uc(H),Xe=le.firebaseError?function m_(I){try{return JSON.parse(I)}catch{return null}}(decodeURIComponent(le.firebaseError)):null,ht=null===(M=null===(b=Xe?.code)||void 0===b?void 0:b.split("auth/"))||void 0===M?void 0:M[1],Gt=ht?De(ht):null;return Gt?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:H,postBody:null}}return null}(ps,In.url)),b.onEvent(xa||v_())});return function(ps){return pn.apply(this,arguments)}}();typeof M<"u"&&"function"==typeof M.subscribe&&M.subscribe(null,ht);const Gt=H,nn=`${le.packageName.toLowerCase()}://`;Fu().handleOpenURL=function(){var pn=(0,u.A)(function*(In){if(In.toLowerCase().startsWith(nn)&&ht({url:In}),"function"==typeof Gt)try{Gt(In)}catch(ps){console.error(ps)}});return function(In){return pn.apply(this,arguments)}}()}};function v_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function uh(){var I;return(null===(I=self?.location)||void 0===I?void 0:I.protocol)||null}function dh(I=(0,c.ZQ)()){return!("file:"!==uh()&&"ionic:"!==uh()&&"capacitor:"!==uh()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function gy(){try{const I=self.localStorage,_=Mu();if(I)return I.setItem(_,"1"),I.removeItem(_),!function py(I=(0,c.ZQ)()){return function fy(){return(0,c.lT)()&&11===document?.documentMode}()||function b_(I=(0,c.ZQ)()){return/Edge\/\d+/.test(I)}(I)}()||(0,c.zW)()}catch{return Bl()&&(0,c.zW)()}return!1}function Bl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function gn(){return(function Tg(){return"http:"===uh()||"https:"===uh()}()||(0,c.sr)()||dh())&&!function gp(){return(0,c.lV)()||(0,c.Ll)()}()&&gy()&&!Bl()}function mp(){return dh()&&typeof document<"u"}function jl(){return(jl=(0,u.A)(function*(){return!!mp()&&new Promise(I=>{const _=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),I(!0)})})})).apply(this,arguments)}const Fo={LOCAL:"local",NONE:"none",SESSION:"session"},kc=Ae,Vu="persistence";function fh(I){return rs.apply(this,arguments)}function rs(){return(rs=(0,u.A)(function*(I){yield I._initializationPromise;const _=xs(),b=oe(Vu,I.config.apiKey,I.name);_&&_.setItem(b,I._getPersistence())})).apply(this,arguments)}function xs(){var I;try{return(null===(I=function dc(){return typeof window<"u"?window:null}())||void 0===I?void 0:I.sessionStorage)||null}catch{return null}}const bl=Ae;class lu{constructor(){this.browserResolver=ci(Oa),this.cordovaResolver=ci(__),this.underlyingResolver=null,this._redirectPersistence=vo,this._completeRedirectFn=fd,this._overrideRedirectResult=oc}_initialize(_){var b=this;return(0,u.A)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,b,M,H){var le=this;return(0,u.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openPopup(_,b,M,H)})()}_openRedirect(_,b,M,H){var le=this;return(0,u.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._openRedirect(_,b,M,H)})()}_isIframeWebStorageSupported(_,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,b)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return mp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,u.A)(function*(){if(_.underlyingResolver)return;const b=yield function ni(){return jl.apply(this,arguments)}();_.underlyingResolver=b?_.cordovaResolver:_.browserResolver})()}}function _p(I){return I.unwrap()}function ph(I){return Mg(I)}function Mg(I){const{_tokenResponse:_}=I instanceof c.g?I.customData:I;if(!_)return null;if(!(I instanceof c.g)&&"temporaryProof"in _&&"phoneNumber"in _)return br.credentialFromResult(I);const b=_.providerId;if(!b||b===me.PASSWORD)return null;let M;switch(b){case me.GOOGLE:M=no;break;case me.FACEBOOK:M=ql;break;case me.GITHUB:M=Ms;break;case me.TWITTER:M=po;break;default:const{oauthIdToken:H,oauthAccessToken:le,oauthTokenSecret:Xe,pendingToken:ht,nonce:Gt}=_;return le||Xe||H||ht?ht?b.startsWith("saml.")?or._create(b,ht):Jt._fromParams({providerId:b,signInMethod:b,pendingToken:ht,idToken:H,accessToken:le}):new vs(b).credential({idToken:H,accessToken:le,rawNonce:Gt}):null}return I instanceof c.g?M.credentialFromError(I):M.credentialFromResult(I)}function Eo(I,_){return _.catch(b=>{throw b instanceof c.g&&function Co(I,_){var b;const M=null===(b=_.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===_?.code)_.resolver=new uf(I,function xo(I,_){var b;const M=(0,c.Ku)(I),H=_;return Ae(_.customData.operationType,M,"argument-error"),Ae(null===(b=H.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),ro._fromError(M,H)}(I,_));else if(M){const H=Mg(_),le=_;H&&(le.credential=H,le.tenantId=M.tenantId||void 0,le.email=M.email||void 0,le.phoneNumber=M.phoneNumber||void 0)}}(I,b),b}).then(b=>{const H=b.user;return{operationType:b.operationType,credential:ph(b),additionalUserInfo:Q(b),user:Lc.getOrCreate(H)}})}function wd(I,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.A)(function*(I,_){const b=yield _;return{verificationId:b.verificationId,confirm:M=>Eo(I,b.confirm(M))}})).apply(this,arguments)}class uf{constructor(_,b){this.resolver=b,this.auth=function vp(I){return I.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Eo(_p(this.auth),this.resolver.resolveSignIn(_))}}class Lc{constructor(_){this._delegate=_,this.multiFactor=function qc(I){const _=(0,c.Ku)(I);return Li.has(_)||Li.set(_,fa._fromUser(_)),Li.get(_)}(_)}static getOrCreate(_){return Lc.USER_MAP.has(_)||Lc.USER_MAP.set(_,new Lc(_)),Lc.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var b=this;return(0,u.A)(function*(){return Eo(b.auth,he(b._delegate,_))})()}linkWithPhoneNumber(_,b){var M=this;return(0,u.A)(function*(){return wd(M.auth,function Tc(I,_,b){return Qo.apply(this,arguments)}(M._delegate,_,b))})()}linkWithPopup(_){var b=this;return(0,u.A)(function*(){return Eo(b.auth,function ap(I,_,b){return rf.apply(this,arguments)}(b._delegate,_,lu))})()}linkWithRedirect(_){var b=this;return(0,u.A)(function*(){return yield fh(Ti(b.auth)),af(b._delegate,_,lu)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var b=this;return(0,u.A)(function*(){return Eo(b.auth,_n(b._delegate,_))})()}reauthenticateWithPhoneNumber(_,b){return wd(this.auth,function Jc(I,_,b){return Mc.apply(this,arguments)}(this._delegate,_,b))}reauthenticateWithPopup(_){return Eo(this.auth,function nf(I,_,b){return Ou.apply(this,arguments)}(this._delegate,_,lu))}reauthenticateWithRedirect(_){var b=this;return(0,u.A)(function*(){return yield fh(Ti(b.auth)),Oc(b._delegate,_,lu)})()}sendEmailVerification(_){return function ha(I,_){return Sa.apply(this,arguments)}(this._delegate,_)}unlink(_){var b=this;return(0,u.A)(function*(){return yield function Xl(I,_){return Pn.apply(this,arguments)}(b._delegate,_),b})()}updateEmail(_){return function Zd(I,_){return Yc((0,c.Ku)(I),_,null)}(this._delegate,_)}updatePassword(_){return function Kc(I,_){return Yc((0,c.Ku)(I),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function Fr(I,_){return _l.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function Qd(I,_){return wc.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,b){return function Zl(I,_,b){return Jl.apply(this,arguments)}(this._delegate,_,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lc.USER_MAP=new WeakMap;const so=Ae;let Fc=(()=>{class I{constructor(b,M){if(this.app=b,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=b.options;so(H,"invalid-api-key",{appName:b.name}),so(H,"invalid-api-key",{appName:b.name});const le=typeof window<"u"?lu:void 0;this._delegate=M.initialize({options:{persistence:Ed(H,b.name),popupRedirectResolver:le}}),this._delegate._updateErrorMap(ot),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,M){!function $s(I,_,b){const M=Ti(I);Ae(M._canInitEmulator,M,"emulator-config-failed"),Ae(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const H=!!b?.disableWarnings,le=Sr(_),{host:Xe,port:ht}=function Il(I){const _=Sr(I),b=/(\/\/)?([^?#/]+)/.exec(I.substr(_.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(M);if(H){const le=H[1];return{host:le,port:zo(M.substr(le.length+1))}}{const[le,Xe]=M.split(":");return{host:le,port:zo(Xe)}}}(_);M.config.emulator={url:`${le}//${Xe}${null===ht?"":`:${ht}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Xe,port:ht,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function _c(){function I(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,b,M)}applyActionCode(b){return function Wr(I,_){return Bs.apply(this,arguments)}(this._delegate,b)}checkActionCode(b){return Ml(this._delegate,b)}confirmPasswordReset(b,M){return function da(I,_,b){return io.apply(this,arguments)}(this._delegate,b,M)}createUserWithEmailAndPassword(b,M){var H=this;return(0,u.A)(function*(){return Eo(H._delegate,function yc(I,_,b){return Ka.apply(this,arguments)}(H._delegate,b,M))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return function Wc(I,_){return hl.apply(this,arguments)}(this._delegate,b)}isSignInWithEmailLink(b){return function Qi(I,_){const b=to.parseLink(_);return"EMAIL_SIGNIN"===b?.operation}(0,b)}getRedirectResult(){var b=this;return(0,u.A)(function*(){so(gn(),b._delegate,"operation-not-supported-in-this-environment");const M=yield function hd(I,_){return Ma.apply(this,arguments)}(b._delegate,lu);return M?Eo(b._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function y_(I,_){Ti(I)._logFramework(_)}(this._delegate,b)}onAuthStateChanged(b,M,H){const{next:le,error:Xe,complete:ht}=Cd(b,M,H);return this._delegate.onAuthStateChanged(le,Xe,ht)}onIdTokenChanged(b,M,H){const{next:le,error:Xe,complete:ht}=Cd(b,M,H);return this._delegate.onIdTokenChanged(le,Xe,ht)}sendSignInLinkToEmail(b,M){return function Ya(I,_,b){return qo.apply(this,arguments)}(this._delegate,b,M)}sendPasswordResetEmail(b,M){return function Mr(I,_,b){return $r.apply(this,arguments)}(this._delegate,b,M||void 0)}setPersistence(b){var M=this;return(0,u.A)(function*(){let H;switch(function hh(I,_){kc(Object.values(Fo).includes(_),I,"invalid-persistence-type"),(0,c.lV)()?kc(_!==Fo.SESSION,I,"unsupported-persistence-type"):(0,c.Ll)()?kc(_===Fo.NONE,I,"unsupported-persistence-type"):Bl()?kc(_===Fo.NONE||_===Fo.LOCAL&&(0,c.zW)(),I,"unsupported-persistence-type"):kc(_===Fo.NONE||gy(),I,"unsupported-persistence-type")}(M._delegate,b),b){case Fo.SESSION:H=vo;break;case Fo.LOCAL:H=(yield ci(bo)._isAvailable())?bo:fl;break;case Fo.NONE:H=Vi;break;default:return ke("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return Eo(this._delegate,function la(I){return Gr.apply(this,arguments)}(this._delegate))}signInWithCredential(b){return Eo(this._delegate,Z(this._delegate,b))}signInWithCustomToken(b){return Eo(this._delegate,function ul(I,_){return Ia.apply(this,arguments)}(this._delegate,b))}signInWithEmailAndPassword(b,M){return Eo(this._delegate,function Ql(I,_,b){return Z((0,c.Ku)(I),aa.credential(_,b))}(this._delegate,b,M))}signInWithEmailLink(b,M){return Eo(this._delegate,function Ei(I,_,b){return Da.apply(this,arguments)}(this._delegate,b,M))}signInWithPhoneNumber(b,M){return wd(this._delegate,function ml(I,_,b){return Lo.apply(this,arguments)}(this._delegate,b,M))}signInWithPopup(b){var M=this;return(0,u.A)(function*(){return so(gn(),M._delegate,"operation-not-supported-in-this-environment"),Eo(M._delegate,function Au(I,_,b){return sd.apply(this,arguments)}(M._delegate,b,lu))})()}signInWithRedirect(b){var M=this;return(0,u.A)(function*(){return so(gn(),M._delegate,"operation-not-supported-in-this-environment"),yield fh(M._delegate),tu(M._delegate,b,lu)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return function Xi(I,_){return Kr.apply(this,arguments)}(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Fo,I})();function Cd(I,_,b){let M=I;"function"!=typeof I&&({next:M,error:_,complete:b}=I);const H=M;return{next:Xe=>H(Xe&&Lc.getOrCreate(Xe)),error:_,complete:b}}function Ed(I,_){const b=function bd(I,_){const b=xs();if(!b)return[];const M=oe(Vu,I,_);switch(b.getItem(M)){case Fo.NONE:return[Vi];case Fo.LOCAL:return[bo,vo];case Fo.SESSION:return[vo];default:return[]}}(I,_);if(typeof self<"u"&&!b.includes(bo)&&b.push(bo),typeof window<"u")for(const M of[fl,vo])b.includes(M)||b.push(M);return b.includes(Vi)||b.push(Vi),b}class fs{constructor(){this.providerId="phone",this._delegate=new br(_p(ae.A.auth()))}static credential(_,b){return br.credential(_,b)}verifyPhoneNumber(_,b){return this._delegate.verifyPhoneNumber(_,b)}unwrap(){return this._delegate}}fs.PHONE_SIGN_IN_METHOD=br.PHONE_SIGN_IN_METHOD,fs.PROVIDER_ID=br.PROVIDER_ID;const Vl=Ae;class Uu{constructor(_,b,M=ae.A.app()){var H;Vl(null===(H=M.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new Zi(_,b,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hf(I){I.INTERNAL.registerComponent(new Ie.uA("auth-compat",_=>{const b=_.getProvider("app-compat").getImmediate(),M=_.getProvider("auth");return new Fc(b,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:aa,FacebookAuthProvider:ql,GithubAuthProvider:Ms,GoogleAuthProvider:no,OAuthProvider:vs,SAMLAuthProvider:Ca,PhoneAuthProvider:fs,PhoneMultiFactorGenerator:oh,RecaptchaVerifier:Uu,TwitterAuthProvider:po,Auth:Fc,AuthCredential:Go,Error:c.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.4.2")}(ae.A)},9384:(Bt,He,P)=>{P.d(He,{FG:()=>Fe,db:()=>ze,gG:()=>wt});var u=P(7705),ae=P(9417),c=P(9969),te=P(177);const fe=["hueSlider"],ve=["alphaSlider"];function Ie(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"div",8),u.bIt("newValue",function(nt){u.eBV(se);const Dt=u.XpG();return u.Njj(Dt.onSliderChange("saturation-lightness",nt))}),u.j41(1,"div",9),u.nrm(2,"div"),u.k0s()()}if(2&Qe){const se=u.XpG();u.xc7("background-color",se.hueSliderColor),u.Y8G("rgX",1)("rgY",1),u.R7$(1),u.xc7("top",null==se.slider?null:se.slider.v,"px")("left",null==se.slider?null:se.slider.s,"px")}}function Me(Qe,It){if(1&Qe&&(u.j41(0,"div",10),u.nrm(1,"div",11)(2,"div",12),u.k0s()),2&Qe){const se=u.XpG();u.R7$(2),u.xc7("background-color",se.selectedColor)}}function me(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"div",13,14),u.bIt("newValue",function(nt){u.eBV(se);const Dt=u.XpG();return u.Njj(Dt.onSliderChange("hue",nt))}),u.j41(2,"div",15)(3,"div"),u.nrm(4,"div"),u.k0s()()()}if(2&Qe){const se=u.XpG();u.Y8G("rgX",1),u.R7$(2),u.xc7("left",null==se.slider?null:se.slider.h,"px")}}function re(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"div",16,17),u.bIt("newValue",function(nt){u.eBV(se);const Dt=u.XpG();return u.Njj(Dt.onSliderChange("alpha",nt))}),u.nrm(2,"div",18),u.j41(3,"div",15)(4,"div"),u.nrm(5,"div"),u.k0s()()()}if(2&Qe){const se=u.XpG();u.Y8G("rgX",1),u.R7$(2),u.Y8G("ngStyle",se.getBackgroundColor(se.alphaSliderColor)),u.R7$(1),u.xc7("left",null==se.slider?null:se.slider.a,"px")}}const ue=["dialog"];function be(Qe,It){1&Qe&&u.nrm(0,"div",11)}function Ge(Qe,It){if(1&Qe){const se=u.RV6();u.qex(0),u.j41(1,"div",8)(2,"div",9),u.bIt("click",function(){const Dt=u.eBV(se).$implicit,jt=u.XpG(2);return u.Njj(jt.onColorClick(Dt))}),u.DNE(3,be,1,0,"div",10),u.k0s()(),u.bVm()}if(2&Qe){const se=It.$implicit,Te=It.index,nt=u.XpG(2);u.R7$(2),u.AVh("colornull",!se),u.Y8G("ngStyle",nt.getBackgroundColor(se)),u.R7$(1),u.Y8G("ngIf",Te==nt.indexSeleccionado)}}function $e(Qe,It){if(1&Qe&&u.nrm(0,"div",17),2&Qe){const se=u.XpG(3);u.Y8G("ngStyle",se.getBackgroundColor(se.color))}}function ot(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"div",12),u.bIt("click",function(){u.eBV(se);const nt=u.XpG(2);return u.Njj(nt.addColor())}),u.DNE(1,$e,1,1,"div",13),u.qSk(),u.j41(2,"svg",14),u.nrm(3,"path",15)(4,"path",16),u.k0s()()}if(2&Qe){const se=u.XpG(2);u.R7$(1),u.Y8G("ngIf",void 0===se.indexSeleccionado)}}function Ue(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"color-picker",18),u.bIt("colorChange",function(nt){u.eBV(se);const Dt=u.XpG(2);return u.Njj(Dt.onChangeColorPicker(nt))})("onAlphaChange",function(nt){u.eBV(se);const Dt=u.XpG(2);return u.Njj(Dt.onAlphaChange(nt))}),u.k0s()}if(2&Qe){const se=u.XpG(2);u.Y8G("controls",se.colorPickerControls)("color",se.hsva)}}function Ve(Qe,It){if(1&Qe&&(u.qex(0),u.j41(1,"div",4),u.DNE(2,Ge,4,4,"ng-container",5),u.DNE(3,ot,5,1,"div",6),u.DNE(4,Ue,1,2,"color-picker",7),u.k0s(),u.bVm()),2&Qe){const se=u.XpG();u.R7$(1),u.Y8G("@colorsAnimation",se.colorsAnimationEffect),u.R7$(1),u.Y8G("ngForOf",se.palette),u.R7$(1),u.Y8G("ngIf",!se.hideColorPicker&&"only-alpha"!=se.colorPickerControls),u.R7$(1),u.Y8G("ngIf",!se.hideColorPicker&&"only-alpha"==se.colorPickerControls)}}function Ze(Qe,It){1&Qe&&u.nrm(0,"div",11)}const at=function(Qe){return{background:Qe}};function mt(Qe,It){if(1&Qe){const se=u.RV6();u.qSk(),u.joV(),u.qex(0),u.j41(1,"div",8)(2,"div",24),u.bIt("click",function(){const Dt=u.eBV(se).$implicit,jt=u.XpG(2);return u.Njj(jt.changeColor(Dt))}),u.DNE(3,Ze,1,0,"div",10),u.k0s()(),u.bVm()}if(2&Qe){const se=It.$implicit,Te=u.XpG(2);u.R7$(2),u.AVh("colornull",!se),u.Y8G("ngStyle",u.eq3(4,at,se)),u.R7$(1),u.Y8G("ngIf",Te.isSelected(se))}}function ge(Qe,It){if(1&Qe){const se=u.RV6();u.qex(0),u.j41(1,"div",4)(2,"div",19)(3,"div",20),u.bIt("click",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.onClickBack())}),u.qSk(),u.j41(4,"svg",21),u.nrm(5,"path",22)(6,"path",23),u.k0s()()(),u.DNE(7,mt,4,6,"ng-container",5),u.k0s(),u.bVm()}if(2&Qe){const se=u.XpG();u.R7$(1),u.Y8G("@colorsAnimation",se.colorsAnimationEffect),u.R7$(6),u.Y8G("ngForOf",se.variants)}}function ke(Qe,It){if(1&Qe){const se=u.RV6();u.qex(0),u.j41(1,"div",25)(2,"div",26),u.bIt("click",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.onClickBack())}),u.qSk(),u.j41(3,"svg",21),u.nrm(4,"path",22)(5,"path",23),u.k0s()(),u.joV(),u.j41(6,"button",27),u.bIt("click",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.emitClose("cancel"))}),u.EFF(7),u.k0s(),u.j41(8,"button",27),u.bIt("click",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.emitClose("accept"))}),u.EFF(9),u.k0s()(),u.j41(10,"div",28)(11,"color-picker",29),u.bIt("sliderChange",function(nt){u.eBV(se);const Dt=u.XpG();return u.Njj(Dt.onChangeColorPicker(nt))}),u.k0s()(),u.bVm()}if(2&Qe){const se=u.XpG();u.R7$(7),u.SpI(" ",se.cancelLabel," "),u.R7$(2),u.SpI(" ",se.acceptLabel," "),u.R7$(2),u.Y8G("controls",se.colorPickerControls)("color",se.hsva)}}function De(Qe,It){if(1&Qe){const se=u.RV6();u.j41(0,"div",30)(1,"p",31),u.bIt("click",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.nextFormat())}),u.EFF(2),u.k0s(),u.j41(3,"div",32)(4,"input",33,34),u.bIt("keyup",function(){u.eBV(se);const nt=u.sdS(5),Dt=u.XpG();return u.Njj(Dt.changeColorManual(nt.value))})("keydown.enter",function(){u.eBV(se);const nt=u.XpG();return u.Njj(nt.emitClose("accept"))}),u.k0s()()()}if(2&Qe){const se=u.XpG();u.R7$(2),u.JRh(se.colorFormats[se.format]),u.R7$(2),u.xc7("font-size",se.color&&se.color.length>23?9:10,"px")("letter-spacing",se.color&&se.color.length>16?0:1.5,"px"),u.Y8G("placeholder",se.placeholder)("value",se.color)}}const Se=["hex","rgba","hsla","cmyk"];var Ce=function(Qe){return Qe[Qe.HEX=0]="HEX",Qe[Qe.RGBA=1]="RGBA",Qe[Qe.HSLA=2]="HSLA",Qe[Qe.CMYK=3]="CMYK",Qe}(Ce||{});const Ke=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}];class Ae{constructor(It,se,Te,nt){this.r=It,this.g=se,this.b=Te,this.a=nt}denormalize(){return this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b),this}toString(){return this.denormalize(),"rgb"+(1!=this.a?"a(":"(")+this.r+", "+this.g+", "+this.b+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class Pt{constructor(It,se,Te,nt){this.h=It,this.s=se,this.v=Te,this.a=nt,this.onChange=new u.bkB(!0)}onColorChange(It){this.s=It.s/It.rgX,this.v=It.v/It.rgY}onHueChange(It){this.h=It.v/It.rgX}onValueChange(It){this.v=It.v/It.rgX}onAlphaChange(It){this.a=It.v/It.rgX}}class Vt{constructor(It,se,Te,nt){this.h=It,this.s=se,this.l=Te,this.a=nt}denormalize(){return this.h=Math.round(360*this.h),this.s=Math.round(100*this.s),this.l=Math.round(100*this.l),this}toString(){return"hsl"+(1!=this.a?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class zt{constructor(It,se,Te,nt,Dt=1){this.c=It,this.m=se,this.y=Te,this.k=nt,this.a=Dt}denormalize(){return this.c=Math.round(100*this.c),this.m=Math.round(100*this.m),this.y=Math.round(100*this.y),this.k=Math.round(100*this.k),this}toString(){return this.denormalize(),"cmyk("+this.c+", "+this.m+", "+this.y+", "+this.k+")"}}class zn{constructor(It){It&&(this.preview=It.preview,this.variants=It.variants)}}let gi=(()=>{class Qe{constructor(){}toFormat(se,Te){var nt="";if(se)switch(Te){case Ce.HEX:(jt=this.hsvaToRgba(se)).denormalize(),nt=this.rgbaToHex(jt,!0);break;case Ce.HSLA:var Dt=this.hsva2hsla(se);Dt.denormalize(),nt=Dt.toString();break;case Ce.RGBA:var jt;nt=(jt=this.hsvaToRgba(se)).toString();break;case Ce.CMYK:nt=this.hsvaToCmyk(se).toString()}return nt}stringToFormat(se,Te){var nt=this.stringToHsva(se,!0);return this.toFormat(nt,Te)}hsva2hsla(se){const Te=se.h,nt=se.s,Dt=se.v,jt=se.a;if(0===Dt)return new Vt(Te,0,0,jt);if(0===nt&&1===Dt)return new Vt(Te,1,1,jt);{const Re=Dt*(2-nt)/2;return new Vt(Te,Dt*nt/(1-Math.abs(2*Re-1)),Re,jt)}}hsla2hsva(se){const Te=Math.min(se.h,1),nt=Math.min(se.s,1),Dt=Math.min(se.l,1),jt=Math.min(se.a,1);if(0===Dt)return new Pt(Te,0,0,jt);{const Re=Dt+nt*(1-Math.abs(2*Dt-1))/2;return new Pt(Te,2*(Re-Dt)/Re,Re,jt)}}hsvaToRgba(se){let Te,nt,Dt;const jt=se.h,Re=se.s,Ye=se.v,st=se.a,St=Math.floor(6*jt),tt=6*jt-St,ie=Ye*(1-Re),Ne=Ye*(1-tt*Re),Be=Ye*(1-(1-tt)*Re);switch(St%6){case 0:Te=Ye,nt=Be,Dt=ie;break;case 1:Te=Ne,nt=Ye,Dt=ie;break;case 2:Te=ie,nt=Ye,Dt=Be;break;case 3:Te=ie,nt=Ne,Dt=Ye;break;case 4:Te=Be,nt=ie,Dt=Ye;break;case 5:Te=Ye,nt=ie,Dt=Ne;break;default:Te=0,nt=0,Dt=0}return new Ae(Te,nt,Dt,st)}cmykToRgb(se){return new Ae((1-se.c)*(1-se.k),(1-se.m)*(1-se.k),(1-se.y)*(1-se.k),se.a)}rgbaToCmyk(se){const Te=1-Math.max(se.r,se.g,se.b);return 1===Te?new zt(0,0,0,1,se.a):new zt((1-se.r-Te)/(1-Te),(1-se.g-Te)/(1-Te),(1-se.b-Te)/(1-Te),Te,se.a)}hsvaToCmyk(se){let Te=this.hsvaToRgba(se);return this.rgbaToCmyk(Te)}rgbaToHsva(se){let Te,nt;const Dt=Math.min(se.r,1),jt=Math.min(se.g,1),Re=Math.min(se.b,1),Ye=Math.min(se.a,1),st=Math.max(Dt,jt,Re),St=Math.min(Dt,jt,Re),tt=st,ie=st-St;if(nt=0===st?0:ie/st,st===St)Te=0;else{switch(st){case Dt:Te=(jt-Re)/ie+(jt<Re?6:0);break;case jt:Te=(Re-Dt)/ie+2;break;case Re:Te=(Dt-jt)/ie+4;break;default:Te=0}Te/=6}return new Pt(Te,nt,tt,Ye)}rgbaToHex(se,Te){let nt="#"+(16777216|se.r<<16|se.g<<8|se.b).toString(16).substr(1);return 1!=se.a&&(nt+=(256|Math.round(255*se.a)).toString(16).substr(1)),nt}normalizeCMYK(se){return new zt(se.c/100,se.m/100,se.y/100,se.k/100,se.a)}denormalizeCMYK(se){return new zt(Math.floor(100*se.c),Math.floor(100*se.m),Math.floor(100*se.y),Math.floor(100*se.k),se.a)}denormalizeRGBA(se){return new Ae(Math.round(255*se.r),Math.round(255*se.g),Math.round(255*se.b),se.a)}stringToHsva(se="",Te=!0){let nt=null;se=(se||"").toLowerCase();const Dt=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(jt){return new Ae(parseInt(jt[2],10)/255,parseInt(jt[3],10)/255,parseInt(jt[4],10)/255,isNaN(parseFloat(jt[5]))?1:parseFloat(jt[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(jt){return new Vt(parseInt(jt[2],10)/360,parseInt(jt[3],10)/100,parseInt(jt[4],10)/100,isNaN(parseFloat(jt[5]))?1:parseFloat(jt[5]))}},{re:/cmyk?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(jt){return new zt(parseInt(jt[1],10)/100,parseInt(jt[2],10)/100,parseInt(jt[3],10)/100,parseInt(jt[4],10)/100)}}];Dt.push(Te?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(jt){return new Ae(parseInt(jt[1],16)/255,parseInt(jt[2],16)/255,parseInt(jt[3],16)/255,parseInt(jt[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(jt){return new Ae(parseInt(jt[1],16)/255,parseInt(jt[2],16)/255,parseInt(jt[3],16)/255,1)}}),Dt.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(jt){return new Ae(parseInt(jt[1]+jt[1],16)/255,parseInt(jt[2]+jt[2],16)/255,parseInt(jt[3]+jt[3],16)/255,1)}});for(const jt in Dt)if(Dt.hasOwnProperty(jt)){const Re=Dt[jt],Ye=Re.re.exec(se),st=Ye&&Re.parse(Ye);if(st){if(st instanceof Ae)nt=this.rgbaToHsva(st);else if(st instanceof Vt)nt=this.hsla2hsva(st);else if(st instanceof zt){let St=this.cmykToRgb(st);nt=this.rgbaToHsva(St)}return nt}}return nt}outputFormat(se){return this.hsvaToRgba(se).toString()}getFormatByString(se){if(se){se=se.toLowerCase();let nt=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,Dt=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/,jt=/(cmyk\(\d{1,3}(,\s?\d{1,3}){3}\))/;if(/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/.test(se))return"hex";if(nt.test(se))return"rgba";if(Dt.test(se))return"hsla";if(jt.test(se))return"cmyk"}return"hex"}}return Qe.\u0275fac=function(se){return new(se||Qe)},Qe.\u0275prov=u.jDH({token:Qe,factory:Qe.\u0275fac}),Qe})();class si{constructor(It,se,Te,nt){this.h=It,this.s=se,this.v=Te,this.a=nt}}class mr{constructor(It,se,Te,nt){this.h=It,this.s=se,this.v=Te,this.a=nt}}let ji=(()=>{class Qe{mouseDown(se){this.start(se)}touchStart(se){this.start(se)}constructor(se){this.elRef=se,this.dragEnd=new u.bkB,this.dragStart=new u.bkB,this.newValue=new u.bkB,this.listenerMove=Te=>this.move(Te),this.listenerStop=()=>this.stop()}move(se){se.preventDefault(),this.setCursor(se)}start(se){this.setCursor(se),se.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(se){const Te=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==se.pageX?se.pageX:se.touches[0].pageX)-Te.left-window.pageXOffset}getY(se){const Te=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==se.pageY?se.pageY:se.touches[0].pageY)-Te.top-window.pageYOffset}setCursor(se){const Te=this.elRef.nativeElement.offsetWidth,nt=this.elRef.nativeElement.offsetHeight,Dt=Math.max(0,Math.min(this.getX(se),Te)),jt=Math.max(0,Math.min(this.getY(se),nt));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:Dt/Te,v:1-jt/nt,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:jt/nt,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:Dt/Te,rgX:this.rgX})}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.rXU(u.aKT))},Qe.\u0275dir=u.FsC({type:Qe,selectors:[["","slider",""]],hostBindings:function(se,Te){1&se&&u.bIt("mousedown",function(Dt){return Te.mouseDown(Dt)})("touchstart",function(Dt){return Te.touchStart(Dt)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),Qe})(),Sn=(()=>{class Qe{constructor(se,Te){this.service=se,this.cdr=Te,this.color=new Pt(0,1,1,1),this.controls="default",this.sliderChange=new u.bkB(!1),this.onAlphaChange=new u.bkB(!1),this.hsva=new Pt(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new Pt(0,1,1,1)),this.slider=new si(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(se){se.color&&this.color&&this.update()}ngAfterViewInit(){this.sliderDimMax=new mr(this.hueSlider?.nativeElement.offsetWidth||140,220,130,this.alphaSlider?.nativeElement.offsetWidth||140),this.update()}onSliderChange(se,Te){switch(se){case"saturation-lightness":this.hsva.onColorChange(Te);break;case"hue":this.hsva.onHueChange(Te);break;case"alpha":this.hsva.onAlphaChange(Te),this.onAlphaChange.emit(Te);break;case"value":this.hsva.onValueChange(Te)}this.update(),this.setColor(this.outputColor)}setColor(se){this.color=se,this.sliderChange.emit(this.color)}getBackgroundColor(se){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+se+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let se=this.service.hsvaToRgba(this.hsva).denormalize(),Te=this.service.hsvaToRgba(new Pt(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+Te.r+","+Te.g+","+Te.b+")",this.alphaSliderColor="rgb("+se.r+","+se.g+","+se.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new si(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.rXU(gi),u.rXU(u.gRc))},Qe.\u0275cmp=u.VBU({type:Qe,selectors:[["color-picker"]],viewQuery:function(se,Te){if(1&se&&(u.GBs(fe,5),u.GBs(ve,5)),2&se){let nt;u.mGM(nt=u.lsd())&&(Te.hueSlider=nt.first),u.mGM(nt=u.lsd())&&(Te.alphaSlider=nt.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[u.OA$],decls:8,vars:4,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"slider","rgX","newValue"],["hueSlider",""],[1,"sliderCursor"],[1,"alpha",3,"slider","rgX","newValue"],["alphaSlider",""],[1,"alpha-gradient",3,"ngStyle"]],template:function(se,Te){1&se&&(u.j41(0,"div",0,1),u.bIt("click",function(Dt){return Dt.stopPropagation()}),u.DNE(2,Ie,3,8,"div",2),u.j41(3,"div",3),u.DNE(4,Me,3,2,"div",4),u.j41(5,"div",5),u.DNE(6,me,5,3,"div",6),u.DNE(7,re,6,4,"div",7),u.k0s()()()),2&se&&(u.R7$(2),u.Y8G("ngIf","only-alpha"!=Te.controls),u.R7$(2),u.Y8G("ngIf","only-alpha"!=Te.controls),u.R7$(2),u.Y8G("ngIf","only-alpha"!=Te.controls),u.R7$(1),u.Y8G("ngIf","no-alpha"!=Te.controls))},dependencies:[te.bT,te.B3,ji],styles:[".color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}\n"],encapsulation:2}),Qe})(),Cn=(()=>{class Qe{click(se){this.isOutside(se)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(se,Te){this.service=se,this.cdr=Te,this.color="#000000",this.previewColor="#000000",this.hsva=new Pt(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=Ke,this.variants=[],this.userFormats=[],this.colorFormats=Se,this.format=Ce.HEX,this.formatMap={hex:Ce.HEX,rgba:Ce.RGBA,hsla:Ce.HSLA,cmyk:Ce.CMYK},this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default",this.placeholder="#FFFFFF"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(se){let Te;if(this.color)for(let nt=0;nt<se.length;nt++){const Dt=se[nt];"string"==typeof Dt?this.service.stringToFormat(this.color,Ce.HEX)==this.service.stringToFormat(Dt,Ce.HEX)&&(Te=nt):void 0===Dt?this.color=void 0:null!=this.findIndexSelectedColor(Dt.variants)&&(Te=nt)}return Te}iniciate(se,Te,nt,Dt,jt,Re,Ye,st,St,tt,ie,Ne,Be=[]){if(this.colorPickerControls=ie,this.triggerInstance=se,this.TriggerBBox=Te,this.color=nt,this.hideColorPicker=st,this.hideTextInput=Ye,this.acceptLabel=St,this.cancelLabel=tt,Be.length&&Be.every(ut=>Se.includes(ut))&&(this.colorFormats=Be),Re?this.colorFormats.includes(Re)?(this.format=this.colorFormats.indexOf(Re.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=Re.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=Ce.HEX):(this.format=this.colorFormats.indexOf(this.service.getFormatByString(this.color)),this.format<0&&(this.format=0)),this.previewColor=this.color,this.palette=Dt??Ke,this.colorsAnimationEffect=jt,"top"==Ne){let We=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+We.height+"px ))"}}setPosition(){if(this.TriggerBBox){const Te=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=Te.top+Te.height,this.left=Te.left+250>window.innerWidth?Te.right<250?window.innerWidth/2-125:Te.right-250:Te.left}}setPositionY(){const se=this.TriggerBBox.nativeElement.getBoundingClientRect(),Te=this.panelRef.nativeElement.getBoundingClientRect();this.positionString=se.bottom+Te.height>window.innerHeight?se.top<Te.height?"transform: translateY(-"+se.bottom+"px );":"transform: translateY(calc( -100% - "+se.height+"px ));":"",this.cdr.detectChanges()}hasVariant(se){return!!this.previewColor&&"string"!=typeof se&&se.variants.some(Te=>Te.toUpperCase()==this.previewColor.toUpperCase())}isSelected(se){return!!this.previewColor&&"string"==typeof se&&se.toUpperCase()==this.previewColor.toUpperCase()}getBackgroundColor(se){return"string"==typeof se?{background:se}:{background:se?.preview}}onAlphaChange(se){this.palette=this.ChangeAlphaOnPalette(se,this.palette)}ChangeAlphaOnPalette(se,Te){var nt=[];for(let Dt=0;Dt<Te.length;Dt++){const jt=Te[Dt];if("string"==typeof jt){let Re=this.service.stringToHsva(jt);Re.onAlphaChange(se),nt.push(this.service.toFormat(Re,this.format))}else{let Re=new zn,Ye=this.service.stringToHsva(jt.preview);Ye.onAlphaChange(se),Re.preview=this.service.toFormat(Ye,this.format),Re.variants=this.ChangeAlphaOnPalette(se,jt.variants),nt.push(Re)}}return nt}changeColor(se){this.setColor(this.service.stringToHsva(se)),this.emitClose("accept")}onChangeColorPicker(se){this.temporalColor=se,this.color=this.service.toFormat(se,this.format),this.triggerInstance.sliderChange(this.service.toFormat(se,this.format))}changeColorManual(se){this.previewColor=se,this.color=se,this.hsva=this.service.stringToHsva(se),this.setPreviewColor(this.hsva),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color,this.previewColor)}setColor(se,Te=-1){this.hsva=se;let Dt=Te;Dt<0&&(Dt=this.formatMap[this.colorFormats[this.format]]),this.color=this.service.toFormat(se,Dt),this.setPreviewColor(se),this.triggerInstance.setColor(this.color,this.previewColor)}setPreviewColor(se){this.previewColor=se?this.service.hsvaToRgba(se).toString():void 0}onChange(){}onColorClick(se){"string"==typeof se||void 0===se?this.changeColor(se):(this.variants=se.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){if(this.canChangeFormat){this.format=(this.format+1)%this.colorFormats.length;let Te=this.formatMap[this.colorFormats[this.format]];this.setColor(this.hsva,Te),this.placeholder=this.service.toFormat(new Pt(0,0,1,1),Te)}}emitClose(se){3==this.menu&&("cancel"==se||"accept"==se&&this.setColor(this.temporalColor)),this.triggerInstance.closePanel()}onClickBack(){3==this.menu&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(se){return se.target.classList.contains("ngx-colors-overlay")}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.rXU(gi),u.rXU(u.gRc))},Qe.\u0275cmp=u.VBU({type:Qe,selectors:[["ngx-colors-panel"]],viewQuery:function(se,Te){if(1&se&&u.GBs(ue,5),2&se){let nt;u.mGM(nt=u.lsd())&&(Te.panelRef=nt.first)}},hostVars:4,hostBindings:function(se,Te){1&se&&u.bIt("mousedown",function(Dt){return Te.click(Dt)},!1,u.EBC)("scroll",function(){return Te.onScroll()},!1,u.EBC)("resize",function(){return Te.onResize()},!1,u.tSv),2&se&&u.xc7("top",Te.top,"px")("left",Te.left,"px")},decls:6,vars:6,consts:[[1,"opened"],["dialog",""],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"ngStyle","click"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style","\n            position: absolute;\n            height: 7px;\n            width: 7px;\n            border: 1px solid rgba(0, 0, 0, 0.03);\n            border-radius: 100%;\n            top: 0;\n            right: 0;\n          ",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"controls","color","colorChange","onAlphaChange"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"ngStyle","click"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"controls","color","sliderChange"],[1,"manual-input-wrapper"],[2,"cursor","pointer",3,"click"],[1,"g-input"],["type","text",3,"placeholder","value","keyup","keydown.enter"],["paintInput",""]],template:function(se,Te){1&se&&(u.j41(0,"div",0,1),u.DNE(2,Ve,5,4,"ng-container",2),u.DNE(3,ge,8,2,"ng-container",2),u.DNE(4,ke,12,4,"ng-container",2),u.DNE(5,De,6,7,"div",3),u.k0s()),2&se&&(u.Aen(Te.positionString),u.R7$(2),u.Y8G("ngIf",1==Te.menu),u.R7$(1),u.Y8G("ngIf",2==Te.menu),u.R7$(1),u.Y8G("ngIf",3==Te.menu),u.R7$(1),u.Y8G("ngIf",!Te.hideTextInput))},dependencies:[te.Sq,te.bT,te.B3,Sn],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[(0,c.hZ)("colorsAnimation",[(0,c.kY)("void => slide-in",[(0,c.P)(":enter",(0,c.iF)({opacity:0}),{optional:!0}),(0,c.P)(":enter",(0,c.yc)("10ms",[(0,c.i0)(".3s ease-in",(0,c.i7)([(0,c.iF)({opacity:0,transform:"translatex(-50%)",offset:0}),(0,c.iF)({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),(0,c.iF)({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),(0,c.kY)("void => popup",[(0,c.P)(":enter",(0,c.iF)({opacity:0,transform:"scale(0)"}),{optional:!0}),(0,c.P)(":enter",(0,c.yc)("10ms",[(0,c.i0)("500ms ease-out",(0,c.i7)([(0,c.iF)({opacity:.5,transform:"scale(.5)",offset:.3}),(0,c.iF)({opacity:1,transform:"scale(1.1)",offset:.8}),(0,c.iF)({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),Qe})();const ye={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0};let je=(()=>{class Qe{constructor(se,Te,nt){this.resolver=se,this.applicationRef=Te,this.injector=nt}createPanel(se,Te){null!=this.componentRef&&this.removePanel();const nt=this.resolver.resolveComponentFactory(Cn);this.componentRef=nt.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);const Dt=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(Te),Object.keys(ye).forEach(jt=>{this.overlay.style[jt]=ye[jt]}),se?document.getElementById(se).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(Dt),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.KVO(u.OM3),u.KVO(u.o8S),u.KVO(u.zZn))},Qe.\u0275prov=u.jDH({token:Qe,factory:Qe.\u0275fac}),Qe})(),ze=(()=>{class Qe{onClick(){this.openPanel()}constructor(se,Te,nt){this.triggerRef=se,this.panelFactory=Te,this.service=nt,this.color="",this.colorsAnimation="slide-in",this.position="bottom",this.attachTo=void 0,this.overlayClassName=void 0,this.colorPickerControls="default",this.acceptLabel="ACCEPT",this.cancelLabel="CANCEL",this.change=new u.bkB,this.input=new u.bkB,this.slider=new u.bkB,this.close=new u.bkB,this.open=new u.bkB,this.isDisabled=!1,this.onTouchedCallback=()=>{},this.onChangeCallback=()=>{}}ngOnDestroy(){this.panelRef&&this.panelFactory.removePanel()}openPanel(){this.isDisabled||(this.panelRef=this.panelFactory.createPanel(this.attachTo,this.overlayClassName),this.panelRef.instance.iniciate(this,this.triggerRef,this.color,this.palette,this.colorsAnimation,this.format,this.hideTextInput,this.hideColorPicker,this.acceptLabel,this.cancelLabel,this.colorPickerControls,this.position,this.formats)),this.open.emit(this.color)}closePanel(){this.panelFactory.removePanel(),this.onTouchedCallback(),this.close.emit(this.color)}setDisabledState(se){this.isDisabled=se,this.triggerRef.nativeElement.style.opacity=se?.5:1}setColor(se,Te=""){this.writeValue(se,Te),this.onChangeCallback(se),this.input.emit(se)}sliderChange(se){this.slider.emit(se)}get value(){return this.color}set value(se){this.setColor(se),this.onChangeCallback(se)}writeValue(se,Te=""){if(se!==this.color){if(this.format){let Dt=Se.indexOf(this.format.toLowerCase());se=this.service.stringToFormat(se,Dt)}this.color=se;let nt=!1;se&&se.startsWith("cmyk")&&(nt=!0,Te||(Te=this.service.stringToFormat(se,Ce.RGBA))),this.change.emit(nt?Te:se)}}registerOnChange(se){this.onChangeCallback=se}registerOnTouched(se){this.onTouchedCallback=se}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.rXU(u.aKT),u.rXU(je),u.rXU(gi))},Qe.\u0275dir=u.FsC({type:Qe,selectors:[["","ngx-colors-trigger",""]],hostBindings:function(se,Te){1&se&&u.bIt("click",function(){return Te.onClick()})},inputs:{colorsAnimation:"colorsAnimation",palette:"palette",format:"format",formats:"formats",position:"position",hideTextInput:"hideTextInput",hideColorPicker:"hideColorPicker",attachTo:"attachTo",overlayClassName:"overlayClassName",colorPickerControls:"colorPickerControls",acceptLabel:"acceptLabel",cancelLabel:"cancelLabel"},outputs:{change:"change",input:"input",slider:"slider",close:"close",open:"open"},features:[u.Jv_([{provide:ae.kq,useExisting:(0,u.Rfq)(()=>Qe),multi:!0}])]}),Qe})(),Fe=(()=>{class Qe{constructor(se,Te){this.cdRef=se,this.triggerDirective=Te,this.triggerDirectiveColorChangeSubscription=null,this.color=this.triggerDirective.color}ngOnInit(){this.triggerDirectiveColorChangeSubscription=this.triggerDirective.change.subscribe(se=>{this.color=se,this.cdRef.markForCheck()})}ngOnDestroy(){this.triggerDirectiveColorChangeSubscription&&this.triggerDirectiveColorChangeSubscription.unsubscribe()}}return Qe.\u0275fac=function(se){return new(se||Qe)(u.rXU(u.gRc),u.rXU(ze,1))},Qe.\u0275cmp=u.VBU({type:Qe,selectors:[["ngx-colors"]],decls:4,vars:5,consts:[[1,"app-color-picker"],[1,"preview"],[1,"preview-background"],[1,"circle",3,"ngStyle"]],template:function(se,Te){1&se&&(u.j41(0,"div",0)(1,"div",1)(2,"div",2),u.nrm(3,"div",3),u.k0s()()()),2&se&&(u.R7$(3),u.AVh("colornull",!Te.color),u.Y8G("ngStyle",u.eq3(3,at,Te.color)))},dependencies:[te.B3],styles:["[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]{line-height:1px;font-family:sans-serif}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{margin:2px;display:inline-block;box-sizing:border-box;border-radius:100%;background:white;cursor:pointer;padding:3px;box-shadow:0 1px 1px #0003,0 1px 1px 1px #00000024,0 1px 1px 1px #0000001f}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .preview-background[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px;border-radius:100%}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:20px;width:20px;box-sizing:border-box;border-radius:100%;cursor:pointer}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}[_nghost-%COMP%]   .app-color-picker[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]   .noselected[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}"]}),Qe})(),wt=(()=>{class Qe{}return Qe.\u0275fac=function(se){return new(se||Qe)},Qe.\u0275mod=u.$C({type:Qe}),Qe.\u0275inj=u.G2t({providers:[gi,je],imports:[te.MD]}),Qe})()},4972:(Bt,He,P)=>{P.d(He,{$P:()=>be,sN:()=>ot});var u=P(467),ae=P(7705),c=P(2771),te=P(8359),fe=P(1413),ve=P(3236),Ie=P(1985),Me=P(3386),me=P(5558);class re{constructor(){this.subject=new c.m(1),this.subscriptions=new te.yU}doFilter(Ve){this.subject.next(Ve)}dispose(){this.subscriptions.unsubscribe()}notEmpty(Ve,Ze){this.subscriptions.add(this.subject.subscribe(at=>{if(at[Ve]){const mt=at[Ve].currentValue;null!=mt&&Ze(mt)}}))}has(Ve,Ze){this.subscriptions.add(this.subject.subscribe(at=>{at[Ve]&&Ze(at[Ve].currentValue)}))}notFirst(Ve,Ze){this.subscriptions.add(this.subject.subscribe(at=>{at[Ve]&&!at[Ve].isFirstChange()&&Ze(at[Ve].currentValue)}))}notFirstAndEmpty(Ve,Ze){this.subscriptions.add(this.subject.subscribe(at=>{if(at[Ve]&&!at[Ve].isFirstChange()){const mt=at[Ve].currentValue;null!=mt&&Ze(mt)}}))}}const ue=new ae.nKC("NGX_ECHARTS_CONFIG");let be=(()=>{class Ue{constructor(Ze,at,mt){this.el=at,this.ngZone=mt,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new ae.bkB,this.optionsError=new ae.bkB,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new c.m(1),this.resize$=new fe.B,this.changeFilter=new re,this.echarts=Ze.echarts}ngOnChanges(Ze){this.changeFilter.doFilter(Ze)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe((0,Me.c)(100,ve.E,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",Ze=>this.onOptionsChange(Ze)),this.changeFilter.notFirstAndEmpty("merge",Ze=>this.setOption(Ze)),this.changeFilter.has("loading",Ze=>this.toggleLoading(!!Ze)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(Ze){this.chart?Ze?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(at=>Ze?at.showLoading(this.loadingType,this.loadingOpts):at.hideLoading())}setOption(Ze,at){if(this.chart)try{this.chart.setOption(Ze,at)}catch(mt){console.error(mt),this.optionsError.emit(mt)}}refreshChart(){var Ze=this;return(0,u.A)(function*(){Ze.dispose(),yield Ze.initChart()})()}createChart(){const Ze=this.el.nativeElement;if(window&&window.getComputedStyle){const at=window.getComputedStyle(Ze,null).getPropertyValue("height");(!at||"0px"===at)&&(!Ze.style.height||"0px"===Ze.style.height)&&(Ze.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:mt})=>mt(Ze,this.theme,this.initOpts)))}initChart(){var Ze=this;return(0,u.A)(function*(){yield Ze.onOptionsChange(Ze.options),Ze.merge&&Ze.chart&&Ze.setOption(Ze.merge)})()}onOptionsChange(Ze){var at=this;return(0,u.A)(function*(){Ze&&(at.chart||(at.chart=yield at.createChart(),at.chart$.next(at.chart),at.chartInit.emit(at.chart)),at.setOption(at.options,!0))})()}createLazyEvent(Ze){return this.chartInit.pipe((0,me.n)(at=>new Ie.c(mt=>(at.on(Ze,ge=>this.ngZone.run(()=>mt.next(ge))),()=>{this.chart&&(this.chart.isDisposed()||at.off(Ze))}))))}static{this.\u0275fac=function(at){return new(at||Ue)(ae.rXU(ue),ae.rXU(ae.aKT),ae.rXU(ae.SKi))}}static{this.\u0275dir=ae.FsC({type:Ue,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[ae.OA$]})}}return Ue})();const $e=Ue=>({provide:ue,useValue:Ue});let ot=(()=>{class Ue{static forRoot(Ze){return{ngModule:Ue,providers:[$e(Ze)]}}static forChild(){return{ngModule:Ue}}static{this.\u0275fac=function(at){return new(at||Ue)}}static{this.\u0275mod=ae.$C({type:Ue})}static{this.\u0275inj=ae.G2t({})}}return Ue})()},2774:(Bt,He,P)=>{P.d(He,{fw:()=>re,sq:()=>ae});var u=P(7705);const ae=new u.nKC("HIGHLIGHT_OPTIONS");let re=(()=>{class ue{static{this.\u0275fac=function($e){return new($e||ue)}}static{this.\u0275mod=u.$C({type:ue})}static{this.\u0275inj=u.G2t({})}}return ue})()},7394:(Bt,He,P)=>{P.d(He,{Yh:()=>Fi,Id:()=>Vi});var u=P(7705),ae=P(177),c=P(4085),te=P(8141),fe=P(1985),ve=P(3726),Ie=P(6354),Me=P(7786),me=P(6977),re=P(5558),ue=P(983),be=P(7673),Ge=P(1413),$e=P(3294),ot=P(536),Ue=P(3028),Ve=P(4412),Ze=P(152),at=P(8359),mt=P(3946),ge=P(5964),ke=P(3798),De=P(8203),Se=P(6860),Ce=P(6697),Ke=P(9974),Ae=P(5412),Vt=P(4360),zn=P(980);const ye="function"==typeof Float32Array;function je(oe,J){return 1-3*J+3*oe}function ze(oe,J){return 3*J-6*oe}function Fe(oe){return 3*oe}function wt(oe,J,j){return((je(J,j)*oe+ze(J,j))*oe+Fe(J))*oe}function rt(oe,J,j){return 3*je(J,j)*oe*oe+2*ze(J,j)*oe+Fe(J)}function se(oe){return oe}function Te(oe,J,j,z){if(!(0<=oe&&oe<=1&&0<=j&&j<=1))throw new Error("bezier x values must be in [0, 1] range");if(oe===J&&j===z)return se;let W=ye?new Float32Array(11):new Array(11);for(let lt=0;lt<11;++lt)W[lt]=wt(.1*lt,oe,j);return function(xt){return 0===xt?0:1===xt?1:wt(function _e(lt){let xt=0,Qt=1;for(;10!==Qt&&W[Qt]<=lt;++Qt)xt+=.1;--Qt;let sn=xt+(lt-W[Qt])/(W[Qt+1]-W[Qt])*.1,mi=rt(sn,oe,j);return mi>=.001?function It(oe,J,j,z){for(let W=0;W<4;++W){let _e=rt(J,j,z);if(0===_e)return J;J-=(wt(J,j,z)-oe)/_e}return J}(lt,sn,oe,j):0===mi?sn:function Qe(oe,J,j,z,W){let _e,lt,xt=0;do{lt=J+(j-J)/2,_e=wt(lt,z,W)-oe,_e>0?j=lt:J=lt}while(Math.abs(_e)>1e-7&&++xt<10);return lt}(lt,xt,xt+.1,oe,j)}(xt),J,z)}}const nt=new u.nKC("SMOOTH_SCROLL_OPTIONS");let Dt=(()=>{class oe{get _w(){return this._document.defaultView}get _now(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now}constructor(j,z,W){this._document=j,this._platform=z,this._onGoingScrolls=new Map,this._defaultOptions={duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1},...W}}_scrollElement(j,z,W){j.scrollLeft=z,j.scrollTop=W}_getElement(j,z){return"string"==typeof j?(z||this._document).querySelector(j):(0,c.i8)(j)}_initSmoothScroll(j){return this._onGoingScrolls.has(j)&&this._onGoingScrolls.get(j).next(),this._onGoingScrolls.set(j,new Ge.B).get(j)}_isFinished(j,z,W){return j.currentX!==j.x||j.currentY!==j.y||(z.next(),W(),!1)}_interrupted(j,z){return(0,Me.h)((0,ve.R)(j,"wheel",{passive:!0,capture:!0}),(0,ve.R)(j,"touchmove",{passive:!0,capture:!0}),z).pipe((0,Ce.s)(1))}_destroy(j,z){z.complete(),this._onGoingScrolls.delete(j)}_step(j){return new fe.c(z=>{let W=(this._now()-j.startTime)/j.duration;W=W>1?1:W;const _e=j.easing(W);j.currentX=j.startX+(j.x-j.startX)*_e,j.currentY=j.startY+(j.y-j.startY)*_e,this._scrollElement(j.scrollable,j.currentX,j.currentY),ot.X.schedule(()=>z.next(j))})}_applyScrollToOptions(j,z){if(!z.duration)return this._scrollElement(j,z.left,z.top),Promise.resolve();const W=this._initSmoothScroll(j),_e={scrollable:j,startTime:this._now(),startX:j.scrollLeft,startY:j.scrollTop,x:null==z.left?j.scrollLeft:~~z.left,y:null==z.top?j.scrollTop:~~z.top,duration:z.duration,easing:Te(z.easing.x1,z.easing.y1,z.easing.x2,z.easing.y2)};return new Promise(lt=>{(0,be.of)(null).pipe(function Pt(oe,J=1/0,j){return J=(J||0)<1?1/0:J,(0,Ke.N)((z,W)=>(0,Ae.h)(z,W,oe,J,void 0,!0,j))}(()=>this._step(_e).pipe(function zt(oe,J=!1){return(0,Ke.N)((j,z)=>{let W=0;j.subscribe((0,Vt._)(z,_e=>{const lt=oe(_e,W++);(lt||J)&&z.next(_e),!lt&&z.complete()}))})}(xt=>this._isFinished(xt,W,lt)))),(0,me.Q)(this._interrupted(j,W)),(0,zn.j)(()=>this._destroy(j,W))).subscribe()})}scrollTo(j,z){if((0,ae.UE)(this._platform)){const W=this._getElement(j),_e="rtl"===getComputedStyle(W).direction,lt=(0,Se.BD)(),xt={...this._defaultOptions,...z,left:null==z.left?_e?z.end:z.start:z.left,right:null==z.right?_e?z.start:z.end:z.right};return null!=xt.bottom&&(xt.top=W.scrollHeight-W.clientHeight-xt.bottom),_e&&0!==lt?(null!=xt.left&&(xt.right=W.scrollWidth-W.clientWidth-xt.left),2===lt?xt.left=xt.right:1===lt&&(xt.left=xt.right?-xt.right:xt.right)):null!=xt.right&&(xt.left=W.scrollWidth-W.clientWidth-xt.right),this._applyScrollToOptions(W,xt)}return Promise.resolve()}scrollToElement(j,z,W={}){const _e=this._getElement(j),lt=this._getElement(z,_e),xt={...W,left:lt.offsetLeft+(W.left||0),top:lt.offsetTop+(W.top||0)};return lt?this.scrollTo(_e,xt):Promise.resolve()}static{this.\u0275fac=function(z){return new(z||oe)(u.KVO(ae.qQ),u.KVO(u.Agw),u.KVO(nt,8))}}static{this.\u0275prov=u.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})();const Re=["scrollbarY"],Ye=["scrollbarX"];function st(oe,J){if(1&oe&&u.nrm(0,"scrollbar-x",null,4),2&oe){const j=u.XpG(2);u.BMQ("scrollable",j.state.isHorizontallyScrollable)("fit",j.state.verticalUsed)}}function St(oe,J){if(1&oe&&u.nrm(0,"scrollbar-y",null,5),2&oe){const j=u.XpG(2);u.BMQ("scrollable",j.state.isVerticallyScrollable)("fit",j.state.horizontalUsed)}}function tt(oe,J){if(1&oe&&(u.qex(0),u.DNE(1,st,2,2,"scrollbar-x",3),u.DNE(2,St,2,2,"scrollbar-y",3),u.bVm()),2&oe){const j=u.XpG();u.R7$(1),u.Y8G("ngIf",j.state.horizontalUsed),u.R7$(1),u.Y8G("ngIf",j.state.verticalUsed)}}const ie=["*"];let Ne=(()=>{class oe{constructor(j){this.el=j}set ngAttr(j){for(const[z,W]of Object.entries(j))this.el.nativeElement.setAttribute(z,W)}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","ngAttr",""]],inputs:{ngAttr:"ngAttr"},standalone:!0})}}return oe})();function Be(oe){return(0,te.M)(()=>{oe.onselectstart=()=>!1})}function We(oe){return(0,te.M)(()=>{oe.onselectstart=null})}function ut(){return(0,te.M)(oe=>oe.stopPropagation())}function _t(oe,J){return oe.clientX>=J.left&&oe.clientX<=J.left+J.width&&oe.clientY>=J.top&&oe.clientY<=J.top+J.height}let Yt=(()=>{class oe{get clientHeight(){return this.nativeElement.clientHeight}get clientWidth(){return this.nativeElement.clientWidth}get scrollHeight(){return this.nativeElement.scrollHeight}get scrollWidth(){return this.nativeElement.scrollWidth}get scrollTop(){return this.nativeElement.scrollTop}get scrollLeft(){return this.nativeElement.scrollLeft}get scrollMaxX(){return this.scrollWidth-this.clientWidth}get scrollMaxY(){return this.scrollHeight-this.clientHeight}get contentHeight(){return this.contentWrapperElement?.clientHeight||0}get contentWidth(){return this.contentWrapperElement?.clientWidth||0}constructor(j){this.viewPort=j,this.nativeElement=j.nativeElement}activatePointerEvents(j,z){this.hovered=new fe.c(W=>{const _e=(0,ve.R)(this.nativeElement,"mousemove",{passive:!0}),lt=j?_e:_e.pipe(ut()),xt=(0,ve.R)(this.nativeElement,"mouseleave",{passive:!0}).pipe((0,Ie.T)(()=>!1));(0,Me.h)(lt,xt).pipe((0,te.M)(Qt=>W.next(Qt)),(0,me.Q)(z)).subscribe()}),this.clicked=new fe.c(W=>{const _e=(0,ve.R)(this.nativeElement,"mousedown",{passive:!0}).pipe((0,te.M)(xt=>W.next(xt))),lt=(0,ve.R)(this.nativeElement,"mouseup",{passive:!0}).pipe((0,te.M)(()=>W.next(!1)));_e.pipe((0,re.n)(()=>lt),(0,me.Q)(z)).subscribe()})}setAsWrapper(){this.nativeElement.className="ng-native-scrollbar-hider ng-scroll-layer",this.nativeElement.firstElementChild&&(this.nativeElement.firstElementChild.className="ng-scroll-layer")}setAsViewport(j){this.nativeElement.className+=` ng-native-scrollbar-hider ng-scroll-viewport ${j}`,this.nativeElement.firstElementChild&&(this.contentWrapperElement=this.nativeElement.firstElementChild,this.contentWrapperElement.classList.add("ng-scroll-content"))}scrollYTo(j){this.nativeElement.scrollTop=j}scrollXTo(j){this.nativeElement.scrollLeft=j}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","scrollViewport",""]],standalone:!0})}}return oe})(),hn=(()=>{class oe{static{this.\u0275fac=function(z){return new(z||oe)}}static{this.\u0275dir=u.FsC({type:oe})}}return oe})(),Mn=(()=>{class oe{get clicked(){const j=(0,ve.R)(this.trackElement,"mousedown",{passive:!0}).pipe(ut(),Be(this.document)),z=(0,ve.R)(this.document,"mouseup",{passive:!0}).pipe(ut(),We(this.document),(0,re.n)(()=>ue.w));return(0,Me.h)(j,z)}get clientRect(){return this.trackElement.getBoundingClientRect()}constructor(j,z,W){this.cmp=j,this.trackElement=z,this.document=W}onTrackClicked(j,z,W){return(0,be.of)(j).pipe((0,Ie.T)(_e=>_e[this.pageProperty]),(0,Ie.T)(_e=>(_e-this.offset-z/2)/this.size*W),(0,te.M)(_e=>{this.cmp.scrollTo({...this.mapToScrollToOption(_e),duration:(0,c.OE)(this.cmp.trackClickScrollDuration)})}))}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(HTMLElement),u.rXU(Document))}}static{this.\u0275dir=u.FsC({type:oe})}}return oe})(),Xt=(()=>{class oe extends Mn{get pageProperty(){return"pageX"}get offset(){return this.clientRect.left}get size(){return this.trackElement.clientWidth}constructor(j,z,W){super(j,z.nativeElement,W),this.cmp=j,this.document=W}mapToScrollToOption(j){return{left:j}}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(u.aKT),u.rXU(ae.qQ))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","scrollbarTrackX",""]],standalone:!0,features:[u.Vt3]})}}return oe})(),An=(()=>{class oe extends Mn{get pageProperty(){return"pageY"}get offset(){return this.clientRect.top}get size(){return this.trackElement.clientHeight}constructor(j,z,W){super(j,z.nativeElement,W),this.cmp=j,this.document=W}mapToScrollToOption(j){return{top:j}}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(u.aKT),u.rXU(ae.qQ))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","scrollbarTrackY",""]],standalone:!0,features:[u.Vt3]})}}return oe})(),Gn=(()=>{class oe{get trackMax(){return this.track.size-this.size}get clientRect(){return this.thumbElement.getBoundingClientRect()}get clicked(){return(0,ve.R)(this.thumbElement,"mousedown",{passive:!0}).pipe(ut())}constructor(j,z,W,_e){this.cmp=j,this.track=z,this.thumbElement=W,this.document=_e,this._dragging=new Ge.B,this.dragging=this._dragging.pipe((0,$e.F)())}update(){const j=function Kt(oe,J,j){return Math.max(~~(oe/J*oe),j)}(this.track.size,this.viewportScrollSize,this.cmp.minThumbSize),z=function ti(oe,J,j){return oe*j/J}(this.viewportScrollOffset,this.viewportScrollMax,this.trackMax);ot.X.schedule(()=>this.updateStyles(this.handleDirection(z,this.trackMax),j))}dragged(j){let z,W;const _e=(0,be.of)(j).pipe(Be(this.document),(0,te.M)(()=>{z=this.trackMax,W=this.viewportScrollMax,this.setDragging(!0)})),lt=(0,ve.R)(this.document,"mousemove",{capture:!0,passive:!0}).pipe(ut()),xt=(0,ve.R)(this.document,"mouseup",{capture:!0}).pipe(ut(),We(this.document),(0,te.M)(()=>this.setDragging(!1)));return _e.pipe((0,Ie.T)(Qt=>Qt[this.pageProperty]),(0,Ie.T)(Qt=>Qt-this.dragStartOffset),(0,Ue.Z)(Qt=>lt.pipe((0,Ie.T)(rn=>rn[this.clientProperty]),(0,Ie.T)(rn=>rn-this.track.offset),(0,Ie.T)(rn=>W*(rn-Qt)/z),(0,Ie.T)(rn=>this.handleDrag(rn,W)),(0,te.M)(rn=>this.scrollTo(rn)),(0,me.Q)(xt))))}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(Mn),u.rXU(HTMLElement),u.rXU(Document))}}static{this.\u0275dir=u.FsC({type:oe,outputs:{dragging:"dragging"}})}}return oe})(),bn=(()=>{class oe extends Gn{get clientProperty(){return"clientX"}get pageProperty(){return"pageX"}get viewportScrollSize(){return this.cmp.viewport.scrollWidth}get viewportScrollOffset(){return this.cmp.viewport.scrollLeft}get viewportScrollMax(){return this.cmp.viewport.scrollMaxX}get dragStartOffset(){return this.clientRect.left+this.document.defaultView.pageXOffset||0}get size(){return this.thumbElement.clientWidth}constructor(j,z,W,_e,lt){super(j,z,W.nativeElement,_e),this.cmp=j,this.track=z,this.element=W,this.document=_e,this.dir=lt}updateStyles(j,z){this.thumbElement.style.width=`${z}px`,this.thumbElement.style.transform=`translate3d(${j}px, 0, 0)`}handleDrag(j,z){if("rtl"===this.dir.value){if(1===this.cmp.manager.rtlScrollAxisType)return j-z;if(2===this.cmp.manager.rtlScrollAxisType)return z-j}return j}handleDirection(j,z){if("rtl"===this.dir.value){if(2===this.cmp.manager.rtlScrollAxisType)return-j;if(0===this.cmp.manager.rtlScrollAxisType)return j-z}return j}setDragging(j){this.cmp.setDragging({horizontalDragging:j})}scrollTo(j){this.cmp.viewport.scrollXTo(j)}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(Xt),u.rXU(u.aKT),u.rXU(ae.qQ),u.rXU(De.dS))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","scrollbarThumbX",""]],standalone:!0,features:[u.Vt3]})}}return oe})(),xr=(()=>{class oe extends Gn{get pageProperty(){return"pageY"}get viewportScrollSize(){return this.cmp.viewport.scrollHeight}get viewportScrollOffset(){return this.cmp.viewport.scrollTop}get viewportScrollMax(){return this.cmp.viewport.scrollMaxY}get clientProperty(){return"clientY"}get dragStartOffset(){return this.clientRect.top+this.document.defaultView.pageYOffset||0}get size(){return this.thumbElement.clientHeight}constructor(j,z,W,_e){super(j,z,W.nativeElement,_e),this.cmp=j,this.track=z,this.element=W,this.document=_e}updateStyles(j,z){this.thumbElement.style.height=`${z}px`,this.thumbElement.style.transform=`translate3d(0px, ${j}px, 0)`}handleDrag(j){return j}handleDirection(j){return j}setDragging(j){this.cmp.setDragging({verticalDragging:j})}scrollTo(j){this.cmp.viewport.scrollYTo(j)}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(hn),u.rXU(An),u.rXU(u.aKT),u.rXU(ae.qQ))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","scrollbarThumbY",""]],standalone:!0,features:[u.Vt3]})}}return oe})(),Oi=(()=>{class oe{constructor(j,z,W,_e,lt){this.el=j,this.cmp=z,this.platform=W,this.document=_e,this.zone=lt,this.destroyed=new Ge.B}activatePointerEvents(){let j,z,W;return"viewport"===this.cmp.pointerEventsMethod?(this.viewportTrackClicked=new Ge.B,this.viewportThumbClicked=new Ge.B,this.cmp.viewport.activatePointerEvents(this.cmp.viewportPropagateMouseMove,this.destroyed),j=this.viewportThumbClicked,z=this.viewportTrackClicked,W=this.cmp.viewport.hovered.pipe((0,Ie.T)(_e=>!!_e&&_t(_e,this.el.getBoundingClientRect())),(0,$e.F)(),(0,te.M)(_e=>this.document.onselectstart=_e?()=>!1:null)),this.cmp.viewport.clicked.pipe((0,te.M)(_e=>{_e?_t(_e,this.thumb.clientRect)?this.viewportThumbClicked.next(_e):_t(_e,this.track.clientRect)&&(this.cmp.setClicked(!0),this.viewportTrackClicked.next(_e)):this.cmp.setClicked(!1)}),(0,me.Q)(this.destroyed)).subscribe()):(j=this.thumb.clicked,z=this.track.clicked,W=this.hovered),(0,Me.h)(W.pipe((0,te.M)(_e=>this.setHovered(_e))),j.pipe((0,re.n)(_e=>this.thumb.dragged(_e))),z.pipe((0,re.n)(_e=>this.track.onTrackClicked(_e,this.thumb.size,this.viewportScrollSize))))}get hovered(){const j=(0,ve.R)(this.el,"mouseenter",{passive:!0}).pipe(ut(),(0,Ie.T)(()=>!0)),z=(0,ve.R)(this.el,"mouseleave",{passive:!0}).pipe(ut(),(0,Ie.T)(()=>!1));return(0,Me.h)(j,z)}ngOnInit(){this.zone.runOutsideAngular(()=>{!(this.platform.IOS||this.platform.ANDROID)&&!this.cmp.pointerEventsDisabled&&this.activatePointerEvents().pipe((0,me.Q)(this.destroyed)).subscribe(),(0,Me.h)(this.cmp.scrolled,this.cmp.updated).pipe((0,te.M)(()=>this.thumb?.update()),(0,me.Q)(this.destroyed)).subscribe()})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete(),this.viewportThumbClicked&&this.viewportTrackClicked&&(this.viewportTrackClicked.complete(),this.viewportThumbClicked.complete())}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(HTMLElement),u.rXU(hn),u.rXU(Se.OD),u.rXU(Document),u.rXU(u.SKi))}}static{this.\u0275dir=u.FsC({type:oe})}}return oe})(),ls=(()=>{class oe extends Oi{get viewportScrollSize(){return this.cmp.viewport.scrollHeight}constructor(j,z,W,_e,lt){super(j.nativeElement,z,W,_e,lt),this.cmp=z,this.platform=W,this.document=_e,this.zone=lt}setHovered(j){this.cmp.setHovered({verticalHovered:j})}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT),u.rXU(hn),u.rXU(Se.OD),u.rXU(ae.qQ),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:oe,selectors:[["scrollbar-y"]],viewQuery:function(z,W){if(1&z&&(u.GBs(An,7),u.GBs(xr,7)),2&z){let _e;u.mGM(_e=u.lsd())&&(W.track=_e.first),u.mGM(_e=u.lsd())&&(W.thumb=_e.first)}},hostVars:2,hostBindings:function(z,W){2&z&&u.AVh("scrollbar-control",!0)},standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:6,consts:[["scrollbarTrackY",""],["scrollbarThumbY",""]],template:function(z,W){1&z&&(u.j41(0,"div",0),u.nrm(1,"div",1),u.k0s()),2&z&&(u.ZvI("ng-scrollbar-track ",W.cmp.trackClass,""),u.R7$(1),u.ZvI("ng-scrollbar-thumb ",W.cmp.thumbClass,""))},dependencies:[An,xr],styles:[".ng-scrollbar-wrapper>scrollbar-y.scrollbar-control{width:var(--vertical-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track{width:var(--vertical-scrollbar-size);height:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-y.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{height:0;width:100%}  .ng-scrollbar-wrapper[verticalHovered=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[verticalDragging=true]>scrollbar-y.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-y.scrollbar-control{top:0;bottom:0}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr]>scrollbar-y.scrollbar-control{right:0;left:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=ltr][position=invertAll]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl]>scrollbar-y.scrollbar-control{left:0;right:unset}  .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertY]>scrollbar-y.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][dir=rtl][position=invertAll]>scrollbar-y.scrollbar-control{left:unset;right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all]>scrollbar-y.scrollbar-control[fit=true]{bottom:var(--scrollbar-total-size);top:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertX]>scrollbar-y.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][position=invertAll]>scrollbar-y.scrollbar-control[fit=true]{top:var(--scrollbar-total-size);bottom:0}"],changeDetection:0})}}return oe})(),Ci=(()=>{class oe extends Oi{get viewportScrollSize(){return this.cmp.viewport.scrollWidth}constructor(j,z,W,_e,lt){super(j.nativeElement,z,W,_e,lt),this.cmp=z,this.platform=W,this.document=_e,this.zone=lt}setHovered(j){this.cmp.setHovered({horizontalHovered:j})}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT),u.rXU(hn),u.rXU(Se.OD),u.rXU(ae.qQ),u.rXU(u.SKi))}}static{this.\u0275cmp=u.VBU({type:oe,selectors:[["scrollbar-x"]],viewQuery:function(z,W){if(1&z&&(u.GBs(Xt,7),u.GBs(bn,7)),2&z){let _e;u.mGM(_e=u.lsd())&&(W.track=_e.first),u.mGM(_e=u.lsd())&&(W.thumb=_e.first)}},hostVars:2,hostBindings:function(z,W){2&z&&u.AVh("scrollbar-control",!0)},standalone:!0,features:[u.Vt3,u.aNF],decls:2,vars:6,consts:[["scrollbarTrackX",""],["scrollbarThumbX",""]],template:function(z,W){1&z&&(u.j41(0,"div",0),u.nrm(1,"div",1),u.k0s()),2&z&&(u.ZvI("ng-scrollbar-track ",W.cmp.trackClass,""),u.R7$(1),u.ZvI("ng-scrollbar-thumb ",W.cmp.thumbClass,""))},dependencies:[Xt,bn],styles:[".ng-scrollbar-wrapper>scrollbar-x.scrollbar-control{height:var(--horizontal-scrollbar-total-size)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track{height:var(--horizontal-scrollbar-size);width:calc(100% - var(--scrollbar-padding) * 2)}  .ng-scrollbar-wrapper>scrollbar-x.scrollbar-control>.ng-scrollbar-track>.ng-scrollbar-thumb{width:0;height:100%}  .ng-scrollbar-wrapper[horizontalHovered=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb,   .ng-scrollbar-wrapper[horizontalDragging=true]>scrollbar-x.scrollbar-control .ng-scrollbar-thumb{background-color:var(--scrollbar-thumb-hover-color)}  .ng-scrollbar-wrapper[position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false]>scrollbar-x.scrollbar-control{left:0;right:0;bottom:0;top:unset}  .ng-scrollbar-wrapper[deactivated=false][position=invertX]>scrollbar-x.scrollbar-control,   .ng-scrollbar-wrapper[deactivated=false][position=invertAll]>scrollbar-x.scrollbar-control{top:0;bottom:unset}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=ltr][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl]>scrollbar-x.scrollbar-control[fit=true]{left:var(--scrollbar-total-size);right:0}  .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertY]>scrollbar-x.scrollbar-control[fit=true],   .ng-scrollbar-wrapper[deactivated=false][track=all][dir=rtl][position=invertAll]>scrollbar-x.scrollbar-control[fit=true]{right:var(--scrollbar-total-size);left:0}"],changeDetection:0})}}return oe})();const _r=new u.nKC("NG_SCROLLBAR_OPTIONS"),Wi={viewClass:"",trackClass:"",thumbClass:"",track:"vertical",appearance:"compact",visibility:"native",position:"native",pointerEventsMethod:"viewport",trackClickScrollDuration:300,minThumbSize:20,windowResizeDebounce:0,sensorDebounce:0,scrollAuditTime:0,viewportPropagateMouseMove:!0,autoHeightDisabled:!0,autoWidthDisabled:!0,sensorDisabled:!1,pointerEventsDisabled:!1};let Ki=(()=>{class oe{constructor(j){this.globalOptions=j?{...Wi,...j}:Wi,this.rtlScrollAxisType=(0,Se.BD)()}static{this.\u0275fac=function(z){return new(z||oe)(u.KVO(_r,8))}}static{this.\u0275prov=u.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})(),ir=(()=>{class oe{constructor(j,z,W){this.document=j,this.manager=z,this.platform=W,this._scrollbarSize=new Ve.t(this.getNativeScrollbarSize()),this.scrollbarSize=this._scrollbarSize.asObservable(),W.isBrowser&&(0,ve.R)(this.document.defaultView,"resize",{passive:!0}).pipe((0,Ze.B)(this.manager.globalOptions.windowResizeDebounce),(0,Ie.T)(()=>this.getNativeScrollbarSize()),(0,$e.F)(),(0,te.M)(_e=>this._scrollbarSize.next(_e))).subscribe()}getNativeScrollbarSize(){if(!this.platform.isBrowser)return 0;if(this.platform.IOS)return 6;const j=this.document.createElement("div");j.className="ng-scrollbar-measure",j.style.left="0px",j.style.overflow="scroll",j.style.position="fixed",j.style.top="-9999px",this.document.body.appendChild(j);const z=j.getBoundingClientRect().right;return this.document.body.removeChild(j),z}static{this.\u0275fac=function(z){return new(z||oe)(u.KVO(ae.qQ),u.KVO(Ki),u.KVO(Se.OD))}}static{this.\u0275prov=u.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}}return oe})(),Ls=(()=>{class oe{constructor(j,z,W){this.renderer=z,this.hideNativeScrollbar=W,this._subscriber=at.yU.EMPTY,this._subscriber=W.scrollbarSize.subscribe(_e=>{this.renderer.setStyle(j.nativeElement,"--native-scrollbar-size",`-${_e}px`,u.czy.DashCase)})}ngOnDestroy(){this._subscriber.unsubscribe()}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(ir))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","hideNativeScrollbar",""]],standalone:!0})}}return oe})(),ci=(()=>{class oe{get debounce(){return this._debounce}set debounce(j){this._debounce=(0,c.OE)(j),this._subscribe()}get disabled(){return this._disabled}set disabled(j){this._disabled=(0,c.he)(j),this._disabled?this._unsubscribe():this._subscribe()}constructor(j,z,W){if(this.zone=j,this.platform=z,this.scrollbar=W,this._disabled=!1,this._currentSubscription=null,this.event=new u.bkB,!W)throw new Error("[NgScrollbar Resize Sensor Directive]: Host element must be an NgScrollbar component.")}ngAfterContentInit(){!this._currentSubscription&&!this._disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){if(this._unsubscribe(),this.platform.isBrowser){const j=new fe.c(z=>{this._resizeObserver=new ResizeObserver(W=>z.next(W)),this._resizeObserver.observe(this.scrollbar.viewport.nativeElement),this.scrollbar.viewport.contentWrapperElement&&this._resizeObserver.observe(this.scrollbar.viewport.contentWrapperElement)});this.zone.runOutsideAngular(()=>{this._currentSubscription=(this._debounce?j.pipe((0,Ze.B)(this._debounce)):j).subscribe(this.event)})}}_unsubscribe(){this._resizeObserver?.disconnect(),this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.SKi),u.rXU(Se.OD),u.rXU(hn))}}static{this.\u0275dir=u.FsC({type:oe,selectors:[["","resizeSensor",""]],inputs:{debounce:["sensorDebounce","debounce"],disabled:["sensorDisabled","disabled"]},outputs:{event:"resizeSensor"},standalone:!0})}}return oe})(),Fi=(()=>{class oe{get disabled(){return this._disabled}set disabled(j){this._disabled=(0,c.he)(j)}get sensorDisabled(){return this._sensorDisabled}set sensorDisabled(j){this._sensorDisabled=(0,c.he)(j)}get pointerEventsDisabled(){return this._pointerEventsDisabled}set pointerEventsDisabled(j){this._pointerEventsDisabled=(0,c.he)(j)}get viewportPropagateMouseMove(){return this._viewportPropagateMouseMove}set viewportPropagateMouseMove(j){this._viewportPropagateMouseMove=(0,c.he)(j)}get autoHeightDisabled(){return this._autoHeightDisabled}set autoHeightDisabled(j){this._autoHeightDisabled=(0,c.he)(j)}get autoWidthDisabled(){return this._autoWidthDisabled}set autoWidthDisabled(j){this._autoWidthDisabled=(0,c.he)(j)}get nativeElement(){return this.el.nativeElement}constructor(j,z,W,_e,lt,xt){this.el=j,this.zone=z,this.changeDetectorRef=W,this.dir=_e,this.smoothScroll=lt,this.manager=xt,this._disabled=!1,this._sensorDisabled=this.manager.globalOptions.sensorDisabled,this._pointerEventsDisabled=this.manager.globalOptions.pointerEventsDisabled,this._autoHeightDisabled=this.manager.globalOptions.autoHeightDisabled,this._autoWidthDisabled=this.manager.globalOptions.autoWidthDisabled,this._viewportPropagateMouseMove=this.manager.globalOptions.viewportPropagateMouseMove,this.viewClass=this.manager.globalOptions.viewClass,this.trackClass=this.manager.globalOptions.trackClass,this.thumbClass=this.manager.globalOptions.thumbClass,this.minThumbSize=this.manager.globalOptions.minThumbSize,this.trackClickScrollDuration=this.manager.globalOptions.trackClickScrollDuration,this.pointerEventsMethod=this.manager.globalOptions.pointerEventsMethod,this.track=this.manager.globalOptions.track,this.visibility=this.manager.globalOptions.visibility,this.appearance=this.manager.globalOptions.appearance,this.position=this.manager.globalOptions.position,this.sensorDebounce=this.manager.globalOptions.sensorDebounce,this.scrollAuditTime=this.manager.globalOptions.scrollAuditTime,this.updated=new u.bkB,this.state={},this.destroyed=new Ge.B}updateState(){let j=!1,z=!1,W=!1,_e=!1;("all"===this.track||"vertical"===this.track)&&(W=this.viewport.scrollHeight>this.viewport.clientHeight,j="always"===this.visibility||W),("all"===this.track||"horizontal"===this.track)&&(_e=this.viewport.scrollWidth>this.viewport.clientWidth,z="always"===this.visibility||_e),this.setState({position:this.position,track:this.track,appearance:this.appearance,visibility:this.visibility,deactivated:this.disabled,dir:this.dir.value,pointerEventsMethod:this.pointerEventsMethod,verticalUsed:j,horizontalUsed:z,isVerticallyScrollable:W,isHorizontallyScrollable:_e})}setState(j){this.state={...this.state,...j},this.changeDetectorRef.detectChanges()}getScrolledByDirection(j){let z;return this.scrolled.pipe((0,te.M)(W=>z=W),(0,Ie.T)(W=>W.target[j]),(0,mt.J)(),(0,ge.p)(([W,_e])=>W!==_e),(0,Ie.T)(()=>z))}setHovered(j){this.zone.run(()=>this.setState({...j}))}setDragging(j){this.zone.run(()=>this.setState({...j}))}setClicked(j){this.zone.run(()=>this.setState({scrollbarClicked:j}))}ngOnInit(){this.zone.runOutsideAngular(()=>{this.customViewPort?(this.viewport=this.customViewPort,this.defaultViewPort.setAsWrapper()):this.viewport=this.defaultViewPort,this.viewport.setAsViewport(this.viewClass);let j=(0,ve.R)(this.viewport.nativeElement,"scroll",{passive:!0});j=this.scrollAuditTime?j.pipe((0,ke.Z)(this.scrollAuditTime)):j,this.scrolled=j.pipe((0,me.Q)(this.destroyed)),this.verticalScrolled=this.getScrolledByDirection("scrollTop"),this.horizontalScrolled=this.getScrolledByDirection("scrollLeft")})}ngOnChanges(j){this.viewport&&this.update()}ngAfterViewInit(){this.update(),this.dir.change.pipe((0,te.M)(()=>this.update()),(0,me.Q)(this.destroyed)).subscribe()}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}update(){this.autoHeightDisabled||this.updateHeight(),this.autoWidthDisabled||this.updateWidth(),this.updateState(),this.updated.next()}scrollTo(j){return this.smoothScroll.scrollTo(this.viewport.nativeElement,j)}scrollToElement(j,z){return this.smoothScroll.scrollToElement(this.viewport.nativeElement,j,z)}updateHeight(){this.nativeElement.style.height="standard"===this.appearance&&this.scrollbarX?`${this.viewport.contentHeight+this.scrollbarX.nativeElement.clientHeight}px`:`${this.viewport.contentHeight}px`}updateWidth(){this.nativeElement.style.width="standard"===this.appearance&&this.scrollbarY?`${this.viewport.contentWidth+this.scrollbarY.nativeElement.clientWidth}px`:`${this.viewport.contentWidth}px`}static{this.\u0275fac=function(z){return new(z||oe)(u.rXU(u.aKT),u.rXU(u.SKi),u.rXU(u.gRc),u.rXU(De.dS),u.rXU(Dt),u.rXU(Ki))}}static{this.\u0275cmp=u.VBU({type:oe,selectors:[["ng-scrollbar"]],contentQueries:function(z,W,_e){if(1&z&&u.wni(_e,Yt,7),2&z){let lt;u.mGM(lt=u.lsd())&&(W.customViewPort=lt.first)}},viewQuery:function(z,W){if(1&z&&(u.GBs(Re,5,u.aKT),u.GBs(Ye,5,u.aKT),u.GBs(Yt,7)),2&z){let _e;u.mGM(_e=u.lsd())&&(W.scrollbarY=_e.first),u.mGM(_e=u.lsd())&&(W.scrollbarX=_e.first),u.mGM(_e=u.lsd())&&(W.defaultViewPort=_e.first)}},hostVars:2,hostBindings:function(z,W){2&z&&u.AVh("ng-scrollbar",!0)},inputs:{disabled:"disabled",sensorDisabled:"sensorDisabled",pointerEventsDisabled:"pointerEventsDisabled",viewportPropagateMouseMove:"viewportPropagateMouseMove",autoHeightDisabled:"autoHeightDisabled",autoWidthDisabled:"autoWidthDisabled",viewClass:"viewClass",trackClass:"trackClass",thumbClass:"thumbClass",minThumbSize:"minThumbSize",trackClickScrollDuration:"trackClickScrollDuration",pointerEventsMethod:"pointerEventsMethod",track:"track",visibility:"visibility",appearance:"appearance",position:"position",sensorDebounce:"sensorDebounce",scrollAuditTime:"scrollAuditTime"},outputs:{updated:"updated"},exportAs:["ngScrollbar"],standalone:!0,features:[u.Jv_([{provide:hn,useExisting:oe}]),u.OA$,u.aNF],ngContentSelectors:ie,decls:6,vars:4,consts:[[1,"ng-scrollbar-wrapper",3,"ngAttr"],[1,"ng-scroll-viewport-wrapper",3,"sensorDebounce","sensorDisabled","resizeSensor"],["scrollViewport","","hideNativeScrollbar",""],[4,"ngIf"],["scrollbarX",""],["scrollbarY",""]],template:function(z,W){1&z&&(u.NAR(),u.j41(0,"div",0)(1,"div",1),u.bIt("resizeSensor",function(){return W.update()}),u.j41(2,"div",2)(3,"div"),u.SdG(4),u.k0s()()(),u.DNE(5,tt,3,2,"ng-container",3),u.k0s()),2&z&&(u.Y8G("ngAttr",W.state),u.R7$(1),u.Y8G("sensorDebounce",W.sensorDebounce)("sensorDisabled",W.sensorDisabled),u.R7$(4),u.Y8G("ngIf",!W.disabled))},dependencies:[ae.bT,Ne,ci,Yt,Ls,Ci,ls],styles:[".ng-scrollbar-measure{scrollbar-width:none;-ms-overflow-style:none}  .ng-scrollbar-measure::-webkit-scrollbar{display:none}[_nghost-%COMP%]{--scrollbar-border-radius: 7px;--scrollbar-padding: 4px;--scrollbar-track-color: transparent;--scrollbar-thumb-color: rgba(0, 0, 0, .2);--scrollbar-thumb-hover-color: var(--scrollbar-thumb-color);--scrollbar-size: 5px;--scrollbar-hover-size: var(--scrollbar-size);--scrollbar-overscroll-behavior: initial;--scrollbar-transition-duration: .4s;--scrollbar-transition-delay: .8s;--scrollbar-thumb-transition: height ease-out .15s, width ease-out .15s;--scrollbar-track-transition: height ease-out .15s, width ease-out .15s;display:block;position:relative;height:100%;max-height:100%;max-width:100%;box-sizing:content-box!important}[_nghost-%COMP%] > .ng-scrollbar-wrapper[_ngcontent-%COMP%]{--scrollbar-total-size: calc(var(--scrollbar-size) + var(--scrollbar-padding) * 2);--vertical-scrollbar-size: var(--scrollbar-size);--horizontal-scrollbar-size: var(--scrollbar-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalDragging=true][_ngcontent-%COMP%]{--vertical-scrollbar-size: var(--scrollbar-hover-size);--vertical-scrollbar-total-size: calc(var(--vertical-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalHovered=true][_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalDragging=true][_ngcontent-%COMP%]{--horizontal-scrollbar-size: var(--scrollbar-hover-size);--horizontal-scrollbar-total-size: calc(var(--horizontal-scrollbar-size) + var(--scrollbar-padding) * 2);cursor:default}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:var(--scrollbar-total-size);right:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=ltr][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-left:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{left:0;right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertY][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][verticalUsed=true][position=invertAll][dir=rtl][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-right:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:0;bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-bottom:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=scrollbar][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{top:var(--scrollbar-total-size);bottom:0}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertX][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%] > .ng-scroll-content[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][appearance=standard][horizontalUsed=true][position=invertAll][pointerEventsMethod=viewport][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport>.ng-scroll-content{padding-top:var(--scrollbar-total-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport::-webkit-scrollbar{display:none}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{bottom:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{left:0;right:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-native-scrollbar-hider[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][verticalUsed=true][dir=rtl][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-native-scrollbar-hider{right:0;left:var(--native-scrollbar-size)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%] > .scrollbar-control[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-duration:var(--scrollbar-transition-duration);transition-delay:var(--scrollbar-transition-delay)}[_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:hover > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:active > .scrollbar-control[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[deactivated=false][visibility=hover][_ngcontent-%COMP%]:focus > .scrollbar-control[_ngcontent-%COMP%]{opacity:1;transition-duration:var(--scrollbar-transition-duration);transition-delay:0ms}[_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-x:auto;overflow-y:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > .ng-scroll-viewport[_ngcontent-%COMP%], [_nghost-%COMP%] > .ng-scrollbar-wrapper[verticalUsed=true][horizontalUsed=true][_ngcontent-%COMP%] > .ng-scroll-viewport-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] >   .ng-scroll-viewport{overflow:auto}.ng-scroll-viewport-wrapper[_ngcontent-%COMP%]{overflow:hidden}.ng-scroll-viewport[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;contain:strict;will-change:scroll-position;overscroll-behavior:var(--scrollbar-overscroll-behavior)}  .ng-scroll-content{display:inline-block;min-width:100%}.ng-scrollbar-wrapper[_ngcontent-%COMP%], .ng-scroll-viewport-wrapper[_ngcontent-%COMP%], .ng-scroll-layer[_ngcontent-%COMP%],   .ng-scroll-viewport{position:absolute;inset:0}",".ng-scrollbar-wrapper[pointerEventsMethod=viewport]>.scrollbar-control{pointer-events:none}  .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[horizontalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[verticalDragging=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>.ng-scroll-viewport,   .ng-scrollbar-wrapper[scrollbarClicked=true]>.ng-scroll-viewport-wrapper>*>*>  .ng-scroll-viewport{-webkit-user-select:none;-moz-user-select:none;user-select:none}  .ng-scrollbar-wrapper>.scrollbar-control{position:absolute;display:flex;justify-content:center;align-items:center;transition:var(--scrollbar-track-transition)}  .ng-scrollbar-wrapper>.scrollbar-control[scrollable=false] .ng-scrollbar-thumb{display:none}  .ng-scrollbar-track{height:100%;width:100%;z-index:1;border-radius:var(--scrollbar-border-radius);background-color:var(--scrollbar-track-color);overflow:hidden;transition:var(--scrollbar-track-transition);cursor:default}  .ng-scrollbar-thumb{box-sizing:border-box;position:relative;border-radius:inherit;background-color:var(--scrollbar-thumb-color);transform:translateZ(0);transition:var(--scrollbar-thumb-transition)}"],changeDetection:0})}}return oe})(),Vi=(()=>{class oe{static{this.\u0275fac=function(z){return new(z||oe)}}static{this.\u0275mod=u.$C({type:oe})}static{this.\u0275inj=u.G2t({})}}return oe})()},467:(Bt,He,P)=>{function u(c,te,fe,ve,Ie,Me,me){try{var re=c[Me](me),ue=re.value}catch(be){return void fe(be)}re.done?te(ue):Promise.resolve(ue).then(ve,Ie)}function ae(c){return function(){var te=this,fe=arguments;return new Promise(function(ve,Ie){var Me=c.apply(te,fe);function me(ue){u(Me,ve,Ie,me,re,"next",ue)}function re(ue){u(Me,ve,Ie,me,re,"throw",ue)}me(void 0)})}}P.d(He,{A:()=>ae})},1635:(Bt,He,P)=>{P.d(He,{AQ:()=>ke,Cl:()=>c,N3:()=>ge,Tt:()=>te,sH:()=>be,xN:()=>Se});var c=function(){return c=Object.assign||function(je){for(var ze,Fe=1,wt=arguments.length;Fe<wt;Fe++)for(var rt in ze=arguments[Fe])Object.prototype.hasOwnProperty.call(ze,rt)&&(je[rt]=ze[rt]);return je},c.apply(this,arguments)};function te(ye,je){var ze={};for(var Fe in ye)Object.prototype.hasOwnProperty.call(ye,Fe)&&je.indexOf(Fe)<0&&(ze[Fe]=ye[Fe]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(Fe=Object.getOwnPropertySymbols(ye);wt<Fe.length;wt++)je.indexOf(Fe[wt])<0&&Object.prototype.propertyIsEnumerable.call(ye,Fe[wt])&&(ze[Fe[wt]]=ye[Fe[wt]])}return ze}function be(ye,je,ze,Fe){return new(ze||(ze=Promise))(function(rt,Qe){function It(nt){try{Te(Fe.next(nt))}catch(Dt){Qe(Dt)}}function se(nt){try{Te(Fe.throw(nt))}catch(Dt){Qe(Dt)}}function Te(nt){nt.done?rt(nt.value):function wt(rt){return rt instanceof ze?rt:new ze(function(Qe){Qe(rt)})}(nt.value).then(It,se)}Te((Fe=Fe.apply(ye,je||[])).next())})}function ge(ye){return this instanceof ge?(this.v=ye,this):new ge(ye)}function ke(ye,je,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,Fe=ze.apply(ye,je||[]),rt=[];return wt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),It("next"),It("throw"),It("return",function Qe(Re){return function(Ye){return Promise.resolve(Ye).then(Re,Dt)}}),wt[Symbol.asyncIterator]=function(){return this},wt;function It(Re,Ye){Fe[Re]&&(wt[Re]=function(st){return new Promise(function(St,tt){rt.push([Re,st,St,tt])>1||se(Re,st)})},Ye&&(wt[Re]=Ye(wt[Re])))}function se(Re,Ye){try{!function Te(Re){Re.value instanceof ge?Promise.resolve(Re.value.v).then(nt,Dt):jt(rt[0][2],Re)}(Fe[Re](Ye))}catch(st){jt(rt[0][3],st)}}function nt(Re){se("next",Re)}function Dt(Re){se("throw",Re)}function jt(Re,Ye){Re(Ye),rt.shift(),rt.length&&se(rt[0][0],rt[0][1])}}function Se(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,je=ye[Symbol.asyncIterator];return je?je.call(ye):(ye=function Ue(ye){var je="function"==typeof Symbol&&Symbol.iterator,ze=je&&ye[je],Fe=0;if(ze)return ze.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Fe>=ye.length&&(ye=void 0),{value:ye&&ye[Fe++],done:!ye}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),ze={},Fe("next"),Fe("throw"),Fe("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Fe(rt){ze[rt]=ye[rt]&&function(Qe){return new Promise(function(It,se){!function wt(rt,Qe,It,se){Promise.resolve(se).then(function(Te){rt({value:Te,done:It})},Qe)}(It,se,(Qe=ye[rt](Qe)).done,Qe.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},Bt=>{var He=u=>Bt(Bt.s=u);He(4073),He(8218)}]);