(self.webpackChunkadmitro=self.webpackChunkadmitro||[]).push([[199],{3199:(cn,pt,ee)=>{"use strict";ee.r(pt),ee.d(pt,{AppsModule:()=>Do});var B=ee(177),Et=ee(1188),d=ee(7705);const _i=[];let jt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[Et.iI.forChild(_i),Et.iI]})}}return t})();var ki=ee(1084),Ti=ee(418);const bt=new d.nKC("@sweetalert2/ngx-sweetalert2#swalProvider"),Ut=new d.nKC("@sweetalert2/ngx-sweetalert2#fireOnInit"),Xt=new d.nKC("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let ut=(()=>{class t{swalProvider;swalPromiseCache;constructor(e){this.swalProvider=e}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const e=function i(a){return"function"==typeof a&&void 0===a.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=e.then(a=>function r(a){return"function"==typeof a}(a)?a:a.default)}static \u0275fac=function(i){return new(i||t)(d.KVO(bt))};static \u0275prov=d.jDH({token:t,factory:t.\u0275fac})}return t})();function ie(){return ee.e(32).then(ee.t.bind(ee,8032,19))}let _t=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[ut,{provide:bt,useValue:e.provideSwal||ie},{provide:Ut,useValue:e.fireOnInit||!1},{provide:Xt,useValue:e.dismissOnDestroy||!0}]}}static forChild(e={}){return{ngModule:t,providers:[...e.provideSwal?[ut,{provide:bt,useValue:e.provideSwal}]:[],...void 0!==e.fireOnInit?[{provide:Ut,useValue:e.fireOnInit}]:[],...void 0!==e.dismissOnDestroy?[{provide:Xt,useValue:e.dismissOnDestroy}]:[]]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=d.$C({type:t});static \u0275inj=d.G2t({imports:[B.MD]})}return t})();var We=ee(9417),it=ee(1413),kt=ee(3386),Be=ee(8141),Ie=ee(3294),je=ee(5964),le=typeof window<"u"?window:{screen:{},navigator:{}},Te=(le.matchMedia||function(){return{matches:!1}}).bind(le),Ue=!1,Xe=function(){};le.addEventListener&&le.addEventListener("p",Xe,{get passive(){return Ue=!0}}),le.removeEventListener&&le.removeEventListener("p",Xe,!1);var ht=Ue,me="ontouchstart"in le,mt=(me||"TouchEvent"in le&&Te("(any-pointer: coarse)"),le.navigator.userAgent||"");Te("(pointer: coarse)").matches&&/iPad|Macintosh/.test(mt)&&Math.min(le.screen.width||0,le.screen.height||0);function Ot(t,n){}function Mt(t,n){1&t&&d.DNE(0,Ot,0,0,"ng-template")}(Te("(pointer: coarse)").matches||!Te("(pointer: fine)").matches&&me)&&/Windows.*Firefox/.test(mt),Te("(any-pointer: fine)").matches||Te("(any-hover: hover)");const At=function(t,n,e){return{tooltip:t,placement:n,content:e}};function Vt(t,n){if(1&t&&(d.qex(0),d.DNE(1,Mt,1,0,null,1),d.bVm()),2&t){const e=d.XpG();d.R7$(1),d.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",d.sMw(2,At,e.tooltip,e.placement,e.content))}}function Zt(t,n){if(1&t&&(d.qex(0),d.j41(1,"div",2),d.EFF(2),d.k0s(),d.bVm()),2&t){const e=d.XpG();d.R7$(1),d.BMQ("title",e.tooltip)("data-tooltip-placement",e.placement),d.R7$(1),d.SpI(" ",e.content," ")}}const Vi=["tooltipTemplate"],Ri=["leftOuterSelectionBar"],Pi=["rightOuterSelectionBar"],$t=["fullBar"],Qt=["selectionBar"],Jt=["minHandle"],ei=["maxHandle"],ti=["floorLabel"],ii=["ceilLabel"],Rt=["minHandleLabel"],ni=["maxHandleLabel"],Hi=["combinedLabel"],Li=["ticksElement"];function Bi(t,n){if(1&t&&d.nrm(0,"ngx-slider-tooltip-wrapper",32),2&t){const e=d.XpG().$implicit,i=d.XpG();d.Y8G("template",i.tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function Ii(t,n){if(1&t&&d.nrm(0,"span",33),2&t){const e=d.XpG().$implicit;d.Y8G("innerText",e.legend)}}function ri(t,n){if(1&t&&d.nrm(0,"span",34),2&t){const e=d.XpG().$implicit;d.Y8G("innerHTML",e.legend,d.npT)}}const ai=function(t){return{"ngx-slider-selected":t}};function oi(t,n){if(1&t&&(d.j41(0,"span",27),d.nrm(1,"ngx-slider-tooltip-wrapper",28),d.DNE(2,Bi,1,4,"ngx-slider-tooltip-wrapper",29),d.DNE(3,Ii,1,1,"span",30),d.DNE(4,ri,1,1,"span",31),d.k0s()),2&t){const e=n.$implicit,i=d.XpG();d.Y8G("ngClass",d.eq3(8,ai,e.selected))("ngStyle",e.style),d.R7$(1),d.Y8G("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),d.R7$(1),d.Y8G("ngIf",null!=e.value),d.R7$(1),d.Y8G("ngIf",null!=e.legend&&!1===i.allowUnsafeHtmlInSlider),d.R7$(1),d.Y8G("ngIf",null!=e.legend&&(null==i.allowUnsafeHtmlInSlider||i.allowUnsafeHtmlInSlider))}}var Se=function(t){return t[t.Low=0]="Low",t[t.High=1]="High",t[t.Floor=2]="Floor",t[t.Ceil=3]="Ceil",t[t.TickValue=4]="TickValue",t}(Se||{});class vt{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1}const W=new d.nKC("AllowUnsafeHtmlInSlider");var V=function(t){return t[t.Min=0]="Min",t[t.Max=1]="Max",t}(V||{});class Pt{value;highValue;pointerType}class E{static isNullOrUndefined(n){return null==n}static areArraysEqual(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==e[i])return!1;return!0}static linearValueToPosition(n,e,i){return(n-e)/(i-e)}static logValueToPosition(n,e,i){return((n=Math.log(n))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(n,e,i){return n*(i-e)+e}static logPositionToValue(n,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(n*(i-e)+e)}static findStepIndex(n,e){const i=e.map(a=>Math.abs(n-a.value));let r=0;for(let a=0;a<e.length;a++)i[a]!==i[r]&&i[a]<i[r]&&(r=a);return r}}class ze{static isTouchEvent(n){return void 0!==window.TouchEvent?n instanceof TouchEvent:void 0!==n.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class J{static roundToPrecisionLimit(n,e){return+n.toPrecision(e)}static isModuloWithinPrecisionLimit(n,e,i){const r=Math.pow(10,-i);return Math.abs(n%e)<=r||Math.abs(Math.abs(n%e)-e)<=r}static clampToRange(n,e,i){return Math.min(Math.max(n,e),i)}}class ge{eventName=null;events=null;eventsSubscription=null;teardownCallback=null}class si{renderer;constructor(n){this.renderer=n}attachPassiveEventListener(n,e,i,r){if(!0!==ht)return this.attachEventListener(n,e,i,r);const a=new ge;a.eventName=e,a.events=new it.B;const o=p=>{a.events.next(p)};return n.addEventListener(e,o,{passive:!0,capture:!1}),a.teardownCallback=()=>{n.removeEventListener(e,o,{passive:!0,capture:!1})},a.eventsSubscription=a.events.pipe(E.isNullOrUndefined(r)?(0,Be.M)(()=>{}):(0,kt.c)(r,void 0,{leading:!0,trailing:!0})).subscribe(p=>{i(p)}),a}detachEventListener(n){E.isNullOrUndefined(n.eventsSubscription)||(n.eventsSubscription.unsubscribe(),n.eventsSubscription=null),E.isNullOrUndefined(n.events)||(n.events.complete(),n.events=null),E.isNullOrUndefined(n.teardownCallback)||(n.teardownCallback(),n.teardownCallback=null)}attachEventListener(n,e,i,r){const a=new ge;return a.eventName=e,a.events=new it.B,a.teardownCallback=this.renderer.listen(n,e,p=>{a.events.next(p)}),a.eventsSubscription=a.events.pipe(E.isNullOrUndefined(r)?(0,Be.M)(()=>{}):(0,kt.c)(r,void 0,{leading:!0,trailing:!0})).subscribe(p=>{i(p)}),a}}let Re=(()=>{class t{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this.eventListenerHelper=new si(this.renderer)}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setRotate(e){this._rotate=e,this.transform="rotate("+e+"deg)"}getRotate(){return this._rotate}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const a=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(a)}onPassive(e,i,r){const a=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(a)}off(e){let i,r;E.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(a=>a.eventName!==e),r=this.eventListeners.filter(a=>a.eventName===e));for(const a of r)this.eventListenerHelper.detachEventListener(a);this.eventListeners=i}isRefDestroyed(){return E.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc))};static \u0275dir=d.FsC({type:t,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.xc7("opacity",r.opacity)("visibility",r.visibility)("left",r.left)("bottom",r.bottom)("height",r.height)("width",r.width)("transform",r.transform)}})}return t})(),se=(()=>{class t extends Re{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}constructor(e,i,r){super(e,i,r)}static \u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc))};static \u0275dir=d.FsC({type:t,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(i,r){2&i&&(d.BMQ("role",r.role)("tabindex",r.tabindex)("aria-orientation",r.ariaOrientation)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledBy)("aria-valuenow",r.ariaValueNow)("aria-valuetext",r.ariaValueText)("aria-valuemin",r.ariaValueMin)("aria-valuemax",r.ariaValueMax),d.AVh("ngx-slider-active",r.active))},features:[d.Vt3]})}return t})(),Q=(()=>{class t extends Re{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(e,i,r,a){super(e,i,r),this.allowUnsafeHtmlInSlider=a}setValue(e){let i=!1;!this.alwaysHide&&(E.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,!1===this.allowUnsafeHtmlInSlider?this.elemRef.nativeElement.innerText=e:this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}static \u0275fac=function(i){return new(i||t)(d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(W,8))};static \u0275dir=d.FsC({type:t,selectors:[["","ngxSliderLabel",""]],features:[d.Vt3]})}return t})(),zi=(()=>{class t{template;tooltip;placement;content;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=d.VBU({type:t,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(i,r){1&i&&(d.DNE(0,Vt,2,6,"ng-container",0),d.DNE(1,Zt,3,3,"ng-container",0)),2&i&&(d.Y8G("ngIf",r.template),d.R7$(1),d.Y8G("ngIf",!r.template))},dependencies:[B.bT,B.T3],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return t})();class Ge{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null}class li{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0}class _e{value;highValue;static compare(n,e){return!(E.isNullOrUndefined(n)&&E.isNullOrUndefined(e)||E.isNullOrUndefined(n)!==E.isNullOrUndefined(e))&&n.value===e.value&&n.highValue===e.highValue}}class ci extends _e{forceChange;static compare(n,e){return!(E.isNullOrUndefined(n)&&E.isNullOrUndefined(e)||E.isNullOrUndefined(n)!==E.isNullOrUndefined(e))&&n.value===e.value&&n.highValue===e.highValue&&n.forceChange===e.forceChange}}const Ke={provide:We.kq,useExisting:(0,d.Rfq)(()=>Fi),multi:!0};let Fi=(()=>{class t{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;value=null;valueChange=new d.bkB;highValue=null;highValueChange=new d.bkB;options=new vt;userChangeStart=new d.bkB;userChange=new d.bkB;userChangeEnd=new d.bkB;manualRefreshSubscription;set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!E.isNullOrUndefined(this.value)&&!E.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new it.B;inputModelChangeSubscription=null;outputModelChangeSubject=new it.B;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new vt;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new li;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(e,i,r,a,o){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=a,this.allowUnsafeHtmlInSlider=o,this.eventListenerHelper=new si(this.renderer)}ngOnInit(){this.viewOptions=new vt,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){!E.isNullOrUndefined(e.options)&&JSON.stringify(e.options.previousValue)!==JSON.stringify(e.options.currentValue)&&this.onChangeOptions(),(!E.isNullOrUndefined(e.value)||!E.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}setAriaLabel(e){this.viewOptions.ariaLabel=e,this.updateAriaLabel()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe((0,Ie.F)(ci.compare),(0,je.p)(e=>!e.forceChange&&!e.internalChange)).subscribe(e=>this.applyInputModelChange(e))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe((0,Ie.F)(ci.compare)).subscribe(e=>this.publishOutputModelChange(e))}subscribeResizeObserver(){ze.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){ze.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){E.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){E.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){E.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){E.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){E.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){E.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===V.Min?this.minHandleElement:e===V.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===V.Min?this.viewLowValue:this.currentTrackingPointer===V.Max?this.viewHighValue:null}modelValueToViewValue(e){return E.isNullOrUndefined(e)?NaN:E.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:E.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return E.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return E.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!_e.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),E.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),E.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new _e;if(i.value=e.value,i.highValue=e.highValue,!E.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=E.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const a=E.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[a].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=J.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=J.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);_e.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!E.areArraysEqual(e,i);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new vt,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!E.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!E.isNullOrUndefined(this.viewOptions.tickStep)||!E.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!E.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),E.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),E.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,E.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(E.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),E.isNullOrUndefined(this.viewOptions.ceil)||E.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,E.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions()}focusPointer(e){e!==V.Min&&e!==V.Max&&(e=V.Min),e===V.Min?this.minHandleElement.focus():this.range&&e===V.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){E.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())E.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}updateRotate(){for(const e of this.getAllSliderElements())e.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",E.isNullOrUndefined(this.viewOptions.ariaLabel)?E.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||0!==this.viewOptions.rotate?"vertical":"horizontal",E.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?E.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Se.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Se.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){E.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,E.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=E.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=E.isNullOrUndefined(this.viewOptions.tickValueStep)?E.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let a=!1;const o=e.map(p=>{let g=this.valueToPosition(p);this.viewOptions.vertical&&(g=this.maxHandlePosition-g);const f=i+"("+Math.round(g)+"px)",w=new Ge;w.selected=this.isTickSelected(p),w.style={"-webkit-transform":f,"-moz-transform":f,"-o-transform":f,"-ms-transform":f,transform:f},w.selected&&!E.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(w.style["background-color"]=this.getSelectionBarColor()),!w.selected&&!E.isNullOrUndefined(this.viewOptions.getTickColor)&&(w.style["background-color"]=this.getTickColor(p)),E.isNullOrUndefined(this.viewOptions.ticksTooltip)||(w.tooltip=this.viewOptions.ticksTooltip(p),w.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!E.isNullOrUndefined(r)&&J.isModuloWithinPrecisionLimit(p,r,this.viewOptions.precisionLimit)&&(w.value=this.getDisplayValue(p,Se.TickValue),E.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(w.valueTooltip=this.viewOptions.ticksValuesTooltip(p),w.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let D=null;if(E.isNullOrUndefined(this.viewOptions.stepsArray))E.isNullOrUndefined(this.viewOptions.getLegend)||(D=this.viewOptions.getLegend(p));else{const S=this.viewOptions.stepsArray[p];E.isNullOrUndefined(this.viewOptions.getStepLegend)?E.isNullOrUndefined(S)||(D=S.legend):D=this.viewOptions.getStepLegend(S)}return E.isNullOrUndefined(D)||(w.legend=D,a=!0),w});if(this.sliderElementWithLegendClass!==a&&setTimeout(()=>{this.sliderElementWithLegendClass=a}),E.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o,this.isRefDestroyed()||this.changeDetectionRef.detectChanges();else for(let p=0;p<o.length;++p)Object.assign(this.ticks[p],o[p])}getTicksArray(){const e=E.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(J.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let a=0;a<r;++a)i.push(J.roundToPrecisionLimit(this.viewOptions.floor+e*a,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(E.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Se.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Se.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===V.Min?this.updateLowHandle(i):e===V.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===V.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,a=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===V.Min||!this.viewOptions.rightToLeft&&e===V.Max?Math.min(a,o):Math.min(Math.max(a,0),o):a}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Se.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(V.Min,e)),E.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(V.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Se.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(V.Max,e)),E.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(V.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),a=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),p=this.isLabelBelowFloorLabel(this.combinedLabelElement),g=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),a?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const f=this.combinedLabelElement.isVisible()?g:o,w=this.combinedLabelElement.isVisible()?p:r;f?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),w?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,a=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=a-2:i<=a+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,a=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=a+this.ceilLabelElement.dimension+2:i+e.dimension>=a-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,a=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=a;else if(E.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,p=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-p,e=p+this.handleHalfDimension):(i=p-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),E.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!E.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=E.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),p=o-e>0&&!r||o-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?p?"bottom":"top":p?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(p?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(p?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===V.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,Se.Low),r=this.getDisplayValue(this.viewHighValue,Se.High),a=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(a);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!E.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=E.isNullOrUndefined(i)?this.viewOptions.step:i;let a=J.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return a=Math.round(a)*r,J.roundToPrecisionLimit(this.viewOptions.floor+a,this.viewOptions.precisionLimit)}valueToPosition(e){let i=E.linearValueToPosition;E.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=E.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=J.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return E.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=E.linearPositionToValue;E.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=E.logPositionToValue):r=this.viewOptions.customPositionToValue;const a=r(i,this.viewOptions.floor,this.viewOptions.ceil);return E.isNullOrUndefined(a)?0:a}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical||0!==this.viewOptions.rotate?e.clientY:e.clientX;let r=0;const a=e.touches;if(!E.isNullOrUndefined(i))for(let o=0;o<a.length;o++)if(a[o].identifier===i){r=o;break}return this.viewOptions.vertical||0!==this.viewOptions.rotate?a[r].clientY:a[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),a=this.viewOptions.vertical||0!==this.viewOptions.rotate?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical||0!==this.viewOptions.rotate?-this.getEventXY(e,i)+a:this.getEventXY(e,i)-a,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return V.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),a=Math.abs(i-this.maxHandleElement.position);return r<a?V.Min:r>a?V.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?V.Min:V.Max:i<this.minHandleElement.position?V.Min:V.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(V.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(V.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(V.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(V.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(V.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(V.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(V.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(V.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(V.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(V.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())E.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,a,o,p,g){i?this.onDragStart(e,r,a,o):this.onStart(e,r,a,o,p,g)}onStart(e,i,r,a,o,p){i.stopPropagation(),!ze.isTouchEvent(i)&&!ht&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),E.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const g=this.getPointerElement(e);if(g.active=!0,this.viewOptions.keyboardSupport&&g.focus(),r){this.unsubscribeOnMove();const f=w=>this.dragging.active?this.onDragMove(w):this.onMove(w);this.onMoveEventListener=ze.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",f):this.eventListenerHelper.attachEventListener(document,"mousemove",f)}if(a){this.unsubscribeOnEnd();const f=w=>this.onEnd(w);this.onEndEventListener=ze.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",f):this.eventListenerHelper.attachEventListener(document,"mouseup",f)}this.userChangeStart.emit(this.getChangeContext()),ze.isTouchEvent(i)&&!E.isNullOrUndefined(i.changedTouches)&&E.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),p&&this.onEnd(i)}onMove(e,i){let r=null;if(ze.isTouchEvent(e)){const f=e.changedTouches;for(let w=0;w<f.length;w++)if(f[w].identifier===this.touchId){r=f[w];break}if(E.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const a=E.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let o;a<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:a>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(a),o=i&&!E.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){ze.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,E.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,a=e-this.viewOptions.step,o=e+i/10,p=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,a=e+this.viewOptions.step,o=e-i/10,p=e+i/10);const g={UP:r,DOWN:a,LEFT:a,RIGHT:r,PAGEUP:o,PAGEDOWN:p,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(g.LEFT=r,g.RIGHT=a,(this.viewOptions.vertical||0!==this.viewOptions.rotate)&&(g.UP=a,g.DOWN=r)),g}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=E.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,g=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(E.isNullOrUndefined(g)||E.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const f=J.clampToRange(g,this.viewOptions.floor,this.viewOptions.ceil),w=this.roundStep(f);if(this.viewOptions.draggableRangeOnly){const D=this.viewHighValue-this.viewLowValue;let S,O;this.currentTrackingPointer===V.Min?(S=w,O=w+D,O>this.viewOptions.ceil&&(O=this.viewOptions.ceil,S=O-D)):this.currentTrackingPointer===V.Max&&(O=w,S=w-D,S<this.viewOptions.floor&&(S=this.viewOptions.floor,O=S+D)),this.positionTrackingBar(S,O)}else this.positionTrackingHandle(w)}onDragStart(e,i,r,a){const o=this.getEventPosition(i);this.dragging=new li,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,r,a)}getMinValue(e,i,r){const a=this.viewOptions.rightToLeft;let o=null;return o=i?r?a?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:a?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(a?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,r){const a=this.viewOptions.rightToLeft;let o=null;return o=i?r?a?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:a?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:a?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let r,a,o,p;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,a=this.dragging.highLimit,o=this.maxHandleElement,p=this.minHandleElement):(r=this.dragging.highLimit,a=this.dragging.lowLimit,o=this.minHandleElement,p=this.maxHandleElement);const f=i>=this.maxHandlePosition-r;let w,D;if(i<=a){if(0===o.position)return;w=this.getMinValue(i,!0,!1),D=this.getMaxValue(i,!0,!1)}else if(f){if(p.position===this.maxHandlePosition)return;D=this.getMaxValue(i,!0,!0),w=this.getMinValue(i,!0,!0)}else w=this.getMinValue(i,!1,!1),D=this.getMaxValue(i,!1,!1);this.positionTrackingBar(w,D)}positionTrackingBar(e,i){!E.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=J.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!E.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=J.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(V.Min,this.valueToPosition(e)),this.updateHandles(V.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===V.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===V.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===V.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(V.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=V.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===V.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(V.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=V.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===V.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===V.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!E.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!E.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===V.Min?this.viewHighValue:this.viewLowValue));if(!E.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===V.Min)return J.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===V.Max)return J.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!E.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===V.Min)return J.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===V.Max)return J.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===V.Min?this.viewHighValue-e:e-this.viewLowValue,r=E.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,a=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===V.Min?(this.viewHighValue=J.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=J.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(V.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===V.Max&&(this.viewLowValue=J.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=J.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(V.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!E.isNullOrUndefined(a)&&i>a&&(this.currentTrackingPointer===V.Min?(this.viewHighValue=J.roundToPrecisionLimit(e+a,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(V.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===V.Max&&(this.viewLowValue=J.roundToPrecisionLimit(e-a,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(V.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new Pt;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}static \u0275fac=function(i){return new(i||t)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(W,8))};static \u0275cmp=d.VBU({type:t,selectors:[["ngx-slider"]],contentQueries:function(i,r,a){if(1&i&&d.wni(a,Vi,5),2&i){let o;d.mGM(o=d.lsd())&&(r.tooltipTemplate=o.first)}},viewQuery:function(i,r){if(1&i&&(d.GBs(Ri,5,Re),d.GBs(Pi,5,Re),d.GBs($t,5,Re),d.GBs(Qt,5,Re),d.GBs(Jt,5,se),d.GBs(ei,5,se),d.GBs(ti,5,Q),d.GBs(ii,5,Q),d.GBs(Rt,5,Q),d.GBs(ni,5,Q),d.GBs(Hi,5,Q),d.GBs(Li,5,Re)),2&i){let a;d.mGM(a=d.lsd())&&(r.leftOuterSelectionBarElement=a.first),d.mGM(a=d.lsd())&&(r.rightOuterSelectionBarElement=a.first),d.mGM(a=d.lsd())&&(r.fullBarElement=a.first),d.mGM(a=d.lsd())&&(r.selectionBarElement=a.first),d.mGM(a=d.lsd())&&(r.minHandleElement=a.first),d.mGM(a=d.lsd())&&(r.maxHandleElement=a.first),d.mGM(a=d.lsd())&&(r.floorLabelElement=a.first),d.mGM(a=d.lsd())&&(r.ceilLabelElement=a.first),d.mGM(a=d.lsd())&&(r.minHandleLabelElement=a.first),d.mGM(a=d.lsd())&&(r.maxHandleLabelElement=a.first),d.mGM(a=d.lsd())&&(r.combinedLabelElement=a.first),d.mGM(a=d.lsd())&&(r.ticksElement=a.first)}},hostAttrs:[1,"ngx-slider"],hostVars:8,hostBindings:function(i,r){1&i&&d.bIt("resize",function(o){return r.onResize(o)},!1,d.tSv),2&i&&(d.BMQ("disabled",r.sliderElementDisabledAttr)("aria-label",r.sliderElementAriaLabel),d.AVh("vertical",r.sliderElementVerticalClass)("animate",r.sliderElementAnimateClass)("with-legend",r.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[d.Jv_([Ke]),d.OA$],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(i,r){1&i&&(d.j41(0,"span",0,1),d.nrm(2,"span",2),d.k0s(),d.j41(3,"span",3,4),d.nrm(5,"span",2),d.k0s(),d.j41(6,"span",5,6),d.nrm(8,"span",2),d.k0s(),d.j41(9,"span",7,8),d.nrm(11,"span",9),d.k0s(),d.nrm(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),d.j41(26,"span",24,25),d.DNE(28,oi,5,10,"span",26),d.k0s()),2&i&&(d.R7$(6),d.AVh("ngx-slider-transparent",r.fullBarTransparentClass),d.R7$(3),d.AVh("ngx-slider-draggable",r.selectionBarDraggableClass),d.R7$(2),d.Y8G("ngStyle",r.barStyle),d.R7$(1),d.Y8G("ngStyle",r.minPointerStyle),d.R7$(2),d.xc7("display",r.range?"inherit":"none"),d.Y8G("ngStyle",r.maxPointerStyle),d.R7$(12),d.AVh("ngx-slider-ticks-values-under",r.ticksUnderValuesClass),d.Y8G("hidden",!r.showTicks),d.R7$(2),d.Y8G("ngForOf",r.ticks))},dependencies:[B.YU,B.Sq,B.bT,B.B3,Re,se,Q,zi],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}'],changeDetection:0})}return t})(),Ht=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=d.$C({type:t});static \u0275inj=d.G2t({imports:[B.MD]})}return t})();ee(1054);let be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({imports:[B.MD]}),t})();var qe=function(){function t(){}return t.prototype.getAllStyles=function(n){return window.getComputedStyle(n)},t.prototype.getStyle=function(n,e){return this.getAllStyles(n)[e]},t.prototype.isStaticPositioned=function(n){return"static"===(this.getStyle(n,"position")||"static")},t.prototype.offsetParent=function(n){for(var e=n.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(n,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))i={top:(i=n.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var a=this.offsetParent(n);i=this.offset(n,!1),a!==document.documentElement&&(r=this.offset(a,!1)),r.top+=a.clientTop,r.left+=a.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.offset=function(n,e){void 0===e&&(e=!0);var i=n.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,a={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},t.prototype.positionElements=function(n,e,i,r){var a=i.split("-"),o=a[0],p=void 0===o?"top":o,g=a[1],f=void 0===g?"center":g,w=r?this.offset(n,!1):this.position(n,!1),D=this.getAllStyles(e),S=parseFloat(D.marginTop),O=parseFloat(D.marginBottom),R=parseFloat(D.marginLeft),z=parseFloat(D.marginRight),P=0,L=0;switch(p){case"top":P=w.top-(e.offsetHeight+S+O);break;case"bottom":P=w.top+w.height;break;case"left":L=w.left-(e.offsetWidth+R+z);break;case"right":L=w.left+w.width}switch(f){case"top":P=w.top;break;case"bottom":P=w.top+w.height-e.offsetHeight;break;case"left":L=w.left;break;case"right":L=w.left+w.width-e.offsetWidth;break;case"center":"top"===p||"bottom"===p?L=w.left+w.width/2-e.offsetWidth/2:P=w.top+w.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(L)+"px, "+Math.round(P)+"px)";var G=e.getBoundingClientRect(),H=document.documentElement,Y=window.innerHeight||H.clientHeight,K=window.innerWidth||H.clientWidth;return G.left>=0&&G.top>=0&&G.right<=K&&G.bottom<=Y},t}();new qe;var De=function(){return De=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},De.apply(this,arguments)},wt=function(t,n,e){if(e||2===arguments.length)for(var a,i=0,r=n.length;i<r;i++)(a||!(i in n))&&(a||(a=Array.prototype.slice.call(n,0,i)),a[i]=n[i]);return t.concat(a||Array.prototype.slice.call(n))},Ne=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(Ne||{}),Yi=[Ne.SUNDAY,Ne.SATURDAY],Ze=7,Fe=86400;function ui(t,n){var e=n.startDate,r=n.excluded,a=n.precision;if(r.length<1)return 0;for(var p=t.getDay,g=t.addDays,f=(0,t.addSeconds)(e,n.seconds-1),w=p(e),D=p(f),S=0,O=e,R=function(){var z=p(O);r.some(function(P){return P===z})&&(S+=function hi(t,n){var i=n.day,a=n.dayEnd,o=n.startDate,p=n.endDate,g=t.differenceInSeconds,w=t.startOfDay;if("minutes"===n.precision){if(i===n.dayStart)return g((0,t.endOfDay)(o),o)+1;if(i===a)return g(p,w(p))+1}return Fe}(t,{dayStart:w,dayEnd:D,day:z,precision:a,startDate:e,endDate:f})),O=g(O,1)};O<f;)R();return S}function st(t,n){var i=n.periodStart,r=n.periodEnd;return n.events.filter(function(a){return function Xi(t,n){var e=n.event,i=n.periodStart,r=n.periodEnd,a=t.isSameSecond,o=e.start,p=e.end||e.start;return!!(o>i&&o<r||p>i&&p<r||o<i&&p>r||a(o,i)||a(o,r)||a(p,i)||a(p,r))}(t,{event:a,periodStart:i,periodEnd:r})})}function mi(t,n){var e=n.date,i=n.weekendDays,r=void 0===i?Yi:i,o=t.isSameDay,p=t.getDay,g=(0,t.startOfDay)(new Date),f=p(e);return{date:e,day:f,isPast:e<g,isToday:o(e,g),isFuture:e>g,isWeekend:r.indexOf(f)>-1}}function Bt(t,n){for(var r=n.excluded,a=void 0===r?[]:r,o=n.weekendDays,p=n.viewStart,g=void 0===p?t.startOfWeek(n.viewDate,{weekStartsOn:n.weekStartsOn}):p,f=n.viewEnd,w=void 0===f?t.addDays(g,Ze):f,D=t.addDays,S=t.getDay,O=[],R=g;R<w;)a.some(function(z){return S(R)===z})||O.push(mi(t,{date:R,weekendDays:o})),R=D(R,1);return O}function Ki(t,n){var e=n.events,i=void 0===e?[]:e,r=n.excluded,a=void 0===r?[]:r,o=n.precision,p=void 0===o?"days":o,g=n.absolutePositionedEvents,f=void 0!==g&&g,w=n.viewStart,D=n.viewEnd;w=t.startOfDay(w),D=t.endOfDay(D);var S=t.differenceInSeconds,O=t.differenceInDays,R=function Gi(t,n){for(var i=n.date2,r=n.excluded,a=n.date1,o=0;a<i;)-1===r.indexOf(t.getDay(a))&&o++,a=t.addDays(a,1);return o}(t,{date1:w,date2:D,excluded:a}),z=O(D,w)+1,P=i.filter(function(H){return H.allDay}).map(function(H){var Y=function Ui(t,n){var e=n.event,i=n.startOfWeek,r=n.excluded,a=n.precision,o=t.differenceInDays,p=t.startOfDay,g=t.differenceInSeconds;if(e.start<i)return 0;var f=0;switch(a){case"days":f=o(p(e.start),i)*Fe;break;case"minutes":f=g(e.start,i)}return f-=ui(t,{startDate:i,seconds:f,excluded:r,precision:a}),Math.abs(f/Fe)}(t,{event:H,startOfWeek:w,excluded:a,precision:p}),K=function ji(t,n){var e=n.event,i=n.offset,a=n.excluded,o=n.precision,p=n.totalDaysInView,f=t.differenceInSeconds,w=t.addDays,D=t.endOfDay,S=t.differenceInDays,O=Fe,R=(0,t.max)([e.start,n.startOfWeekDate]);e.end&&(O="minutes"===o?f(e.end,R):S(w(D(e.end),1),R)*Fe);var z=i*Fe,L=p*Fe;return z+O>L&&(O=L-z),(O-=ui(t,{startDate:R,seconds:O,excluded:a,precision:o}))/Fe}(t,{event:H,offset:Y,startOfWeekDate:w,excluded:a,precision:p,totalDaysInView:z});return{event:H,offset:Y,span:K}}).filter(function(H){return H.offset<R}).filter(function(H){return H.span>0}).map(function(H){return{event:H.event,offset:H.offset,span:H.span,startsBeforeWeek:H.event.start<w,endsAfterWeek:(H.event.end||H.event.start)>D}}).sort(function(H,Y){var K=S(H.event.start,Y.event.start);return 0===K?S(Y.event.end||Y.event.start,H.event.end||H.event.start):K}),L=[],G=[];return P.forEach(function(H,Y){if(-1===G.indexOf(H)){G.push(H);var K=H.span+H.offset,ae=P.slice(Y+1).filter(function(F){if(F.offset>=K&&K+F.span<=z&&-1===G.indexOf(F)){var j=F.offset-K;return f||(F.offset=j),K+=F.span+j,G.push(F),!0}}),he=wt([H],ae,!0),X=he.filter(function(F){return F.event.id}).map(function(F){return F.event.id}).join("-");L.push(De({row:he},X?{id:X}:{}))}}),L}function qi(t,n){var e=n.events,i=n.viewDate,r=n.hourSegments,a=n.hourDuration,o=n.dayStart,p=n.dayEnd,g=n.weekStartsOn,f=n.excluded,w=n.weekendDays,D=n.segmentHeight,S=n.viewStart,O=n.viewEnd,R=n.minimumEventHeight,z=function s(t,n){var e=n.viewDate,i=n.hourSegments,r=n.hourDuration,a=n.dayStart,o=n.dayEnd,p=t.setMinutes,g=t.setHours,f=t.startOfDay,w=t.startOfMinute,D=t.endOfDay,S=t.addMinutes,O=t.addDays,R=[],z=p(g(f(e),lt(a.hour)),u(a.minute)),P=p(g(w(D(e)),lt(o.hour)),u(o.minute)),L=(r||60)/i,G=f(e),H=D(e),Y=function(j){return j};t.getTimezoneOffset(G)!==t.getTimezoneOffset(H)&&(G=O(G,1),z=O(z,1),P=O(P,1),Y=function(j){return O(j,-1)});for(var K=r?1440/r:60,ae=0;ae<K;ae++){for(var he=[],X=0;X<i;X++){var F=S(S(z,ae*(r||60)),X*L);F>=z&&F<P&&he.push({date:Y(F),displayDate:F,isStart:0===X})}he.length>0&&R.push({segments:he})}return R}(t,{viewDate:i,hourSegments:r,hourDuration:a,dayStart:o,dayEnd:p}),P=Bt(t,{viewDate:i,weekStartsOn:g,excluded:f,weekendDays:w,viewStart:S,viewEnd:O}),L=t.setHours,G=t.setMinutes,H=t.getHours,Y=t.getMinutes;return P.map(function(K){var ae=function Qi(t,n){var e=n.events,i=n.viewDate,r=n.hourSegments,a=n.dayStart,o=n.dayEnd,p=n.eventWidth,g=n.segmentHeight,f=n.hourDuration,w=n.minimumEventHeight,D=t.setMinutes,S=t.setHours,O=t.startOfDay,R=t.startOfMinute,z=t.endOfDay,P=t.differenceInMinutes,L=D(S(O(i),lt(a.hour)),u(a.minute)),G=D(S(R(z(i)),lt(o.hour)),u(o.minute));G.setSeconds(59,999);var H=[],Y=st(t,{events:e.filter(function(X){return!X.allDay}),periodStart:L,periodEnd:G}),K=Y.sort(function(X,F){return X.start.valueOf()-F.start.valueOf()}).map(function(X){var F=X.start,j=X.end||F,A=F<L,M=j>G,oe=r*g/(f||60),te=0;if(F>L){var xi=t.getTimezoneOffset(F),Yt=t.getTimezoneOffset(L)-xi;te+=P(F,L)+Yt}te*=oe,te=Math.floor(te);var bi=A?L:F,Ce=M?G:j,dt=t.getTimezoneOffset(bi)-t.getTimezoneOffset(Ce),Ae=P(Ce,bi)+dt;X.end?Ae*=oe:Ae=g,w&&Ae<w&&(Ae=w),Ae=Math.floor(Ae);for(var Nn=Ct(H,te,te+Ae),ln=0;Nn.some(function(_o){return _o.left===ln});)ln+=p;var Yn={event:X,height:Ae,width:p,top:te,left:ln,startsBeforeDay:A,endsAfterDay:M};return H.push(Yn),Yn}),ae=Math.max.apply(Math,K.map(function(X){return X.left+X.width})),he=st(t,{events:e.filter(function(X){return X.allDay}),periodStart:O(L),periodEnd:z(G)});return{events:K,width:ae,allDayEvents:he,period:{events:Y,start:L,end:G}}}(t,{events:e,viewDate:K.date,hourSegments:r,dayStart:o,dayEnd:p,segmentHeight:D,eventWidth:1,hourDuration:a,minimumEventHeight:R}),he=z.map(function(j){var A=j.segments.map(function(M){var oe=G(L(K.date,H(M.date)),Y(M.date));return De(De({},M),{date:oe})});return De(De({},j),{segments:A})});function X(j,A){var M=Math.max.apply(Math,A.map(function(te){return te.left+1})),oe=j.filter(function(te){return te.left>=M}).filter(function(te){return Ct(A,te.top,te.top+te.height).length>0});return oe.length>0?X(j,oe):M}var F=ae.events.map(function(j){var M=100/X(ae.events,Ct(ae.events,j.top,j.top+j.height));return De(De({},j),{left:j.left*M,width:M})});return{hours:he,date:K.date,events:F.map(function(j){var A=Ct(F.filter(function(M){return M.left>j.left}),j.top,j.top+j.height);return A.length>0?De(De({},j),{width:Math.min.apply(Math,A.map(function(M){return M.left}))-j.left}):j})}})}function Ct(t,n,e){return t.filter(function(i){var r=i.top,a=i.top+i.height;return n<a&&a<e||n<r&&r<e||r<=n&&e<=a})}function lt(t){return Math.max(Math.min(23,t),0)}function u(t){return Math.max(Math.min(59,t),0)}"function"==typeof Symbol&&Symbol;var re=["webkit","moz","ms","o"];(function(){if(typeof window>"u")return function(){};for(var t=0,n=re.length;t<n&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[re[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),a=Math.max(0,16-r-e),o=window.setTimeout(function(){return i(r+a)},a);return e=r+a,o}}window.requestAnimationFrame.bind(window)})(),function(){if(typeof window>"u")return function(){};for(var t=0,n=re.length;t<n&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[re[t]+"CancelAnimationFrame"]||window[re[t]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({}),t})();var Me=ee(9969);!(typeof window>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({}),t})(),xn=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${(0,B.Yq)(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,B.Yq)(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${(0,B.Yq)(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${(0,B.Yq)(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${(0,B.Yq)(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${(0,B.Yq)(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${(0,B.Yq)(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,B.Yq)(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${(0,B.Yq)(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(d.KVO(B.jo))},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})();class En{month(n,e){return n.title}monthTooltip(n,e){return n.title}week(n,e){return n.title}weekTooltip(n,e){return n.title}day(n,e){return n.title}dayTooltip(n,e){return n.title}}class nn{}let zr=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return(0,B.Yq)(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return(0,B.Yq)(e,"d",i)}monthViewTitle({date:e,locale:i}){return(0,B.Yq)(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return(0,B.Yq)(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return(0,B.Yq)(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:a,daysInWeek:o}){const{viewStart:p,viewEnd:g}=function Br(t,n,e,i=[],r){let a=r?t.startOfDay(n):t.startOfWeek(n,{weekStartsOn:e});const o=t.endOfWeek(n,{weekStartsOn:e});for(;i.indexOf(t.getDay(a))>-1&&a<o;)a=t.addDays(a,1);if(r){const p=t.endOfDay(function Lr(t,n,e,i){let r=0,a=0;const o=e<0?t.subDays:t.addDays;let p=n;for(;a<=Math.abs(e);){p=o(n,r);const g=t.getDay(p);-1===i.indexOf(g)&&a++,r++}return p}(t,a,r-1,i));return{viewStart:a,viewEnd:p}}{let p=o;for(;i.indexOf(t.getDay(p))>-1&&p>a;)p=t.subDays(p,1);return{viewStart:a,viewEnd:p}}}(this.dateAdapter,e,r,a,o),f=(w,D)=>(0,B.Yq)(w,"MMM d"+(D?", yyyy":""),i);return`${f(p,p.getUTCFullYear()!==g.getUTCFullYear())} - ${f(g,!0)}`}weekViewHour({date:e,locale:i}){return(0,B.Yq)(e,"h a",i)}dayViewHour({date:e,locale:i}){return(0,B.Yq)(e,"h a",i)}dayViewTitle({date:e,locale:i}){return(0,B.Yq)(e,"EEEE, MMMM d, y",i)}}return t.\u0275fac=function(e){return new(e||t)(d.KVO(nn))},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})(),Dn=(()=>{class t extends zr{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=d.xGo(t)))(i||t)}}(),t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})(),_n=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return function $i(t,n){var e=n.events,i=void 0===e?[]:e,r=n.viewDate,a=n.weekStartsOn,o=n.excluded,p=void 0===o?[]:o,g=n.viewStart,f=void 0===g?t.startOfMonth(r):g,w=n.viewEnd,D=void 0===w?t.endOfMonth(r):w,S=n.weekendDays;i||(i=[]);for(var F,R=t.endOfWeek,z=t.differenceInDays,P=t.startOfDay,L=t.addHours,G=t.endOfDay,H=t.isSameMonth,Y=t.getDay,K=(0,t.startOfWeek)(f,{weekStartsOn:a}),ae=R(D,{weekStartsOn:a}),he=st(t,{events:i,periodStart:K,periodEnd:ae}),X=[],j=function(bi){var Ce;if(F?(Ce=P(L(F,24)),F.getTime()===Ce.getTime()&&(Ce=P(L(F,25))),F=Ce):Ce=F=K,!p.some(function(Di){return Y(Ce)===Di})){var dt=mi(t,{date:Ce,weekendDays:S}),Ae=st(t,{events:he,periodStart:P(Ce),periodEnd:G(Ce)});dt.inMonth=H(Ce,r),dt.events=Ae,dt.badgeTotal=Ae.length,X.push(dt)}},A=0;A<z(ae,K)+1;A++)j();var M=[],oe=Ze-p.length;if(oe<Ze)for(A=0;A<X.length;A+=oe){var te=X.slice(A,A+oe);te.some(function(Ce){return f<=Ce.date&&Ce.date<D})&&(M=wt(wt([],M,!0),te,!0))}else M=X;var Ei=Math.floor(M.length/oe),Yt=[];for(A=0;A<Ei;A++)Yt.push(A*oe);return{rowOffsets:Yt,totalDaysVisibleInWeek:oe,days:M,period:{start:M[0].date,end:G(M[M.length-1].date),events:he}}}(this.dateAdapter,e)}getWeekViewHeader(e){return Bt(this.dateAdapter,e)}getWeekView(e){return function Zi(t,n){var e=n.events,i=void 0===e?[]:e,r=n.viewDate,a=n.weekStartsOn,o=n.excluded,p=void 0===o?[]:o,g=n.precision,f=void 0===g?"days":g,w=n.absolutePositionedEvents,D=void 0!==w&&w,S=n.hourSegments,O=n.hourDuration,R=n.dayStart,z=n.dayEnd,P=n.weekendDays,L=n.segmentHeight,G=n.minimumEventHeight,H=n.viewStart,Y=void 0===H?t.startOfWeek(r,{weekStartsOn:a}):H,K=n.viewEnd,ae=void 0===K?t.endOfWeek(r,{weekStartsOn:a}):K;i||(i=[]);var X=t.endOfDay,F=st(t,{events:i,periodStart:Y=(0,t.startOfDay)(Y),periodEnd:ae=X(ae)}),j=Bt(t,{viewDate:r,weekStartsOn:a,excluded:p,weekendDays:P,viewStart:Y,viewEnd:ae});return{allDayEventRows:Ki(t,{events:F,excluded:p,precision:f,absolutePositionedEvents:D,viewStart:Y,viewEnd:ae}),period:{events:F,start:j[0].date,end:X(j[j.length-1].date)},hourColumns:qi(t,{events:i,viewDate:r,hourSegments:S,hourDuration:O,dayStart:R,dayEnd:z,weekStartsOn:a,excluded:p,weekendDays:P,segmentHeight:L,viewStart:Y,viewEnd:ae,minimumEventHeight:G})}}(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(d.KVO(nn))},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})();new d.nKC("Moment");let Wt=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||En,i.dateFormatter||Dn,i.utils||_n,i.a11y||xn]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({providers:[B.jo],imports:[B.MD]}),t})();(0,Me.hZ)("collapse",[(0,Me.wk)("void",(0,Me.iF)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,Me.wk)("*",(0,Me.iF)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,Me.kY)("* => void",(0,Me.i0)("150ms ease-out")),(0,Me.kY)("void => *",(0,Me.i0)("150ms ease-in"))]);let kn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({imports:[B.MD,ct,Wt,ct]}),t})(),rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({imports:[B.MD,fn,ct,Wt,fn,ct]}),t})(),Tn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({imports:[B.MD,Wt,rn]}),t})(),Wr=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||En,i.dateFormatter||Dn,i.utils||_n,i.a11y||xn]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({imports:[Wt,kn,rn,Tn,Wt,kn,rn,Tn]}),t})();var Sn=ee(1635);function we(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function wi(t){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wi(t)}function I(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function $(t){I(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"===wi(t)&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):(("string"==typeof t||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function an(t,n){I(2,arguments);var e=$(t),i=we(n);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}function on(t,n){I(2,arguments);var e=$(t).getTime(),i=we(n);return new Date(e+i)}var Nr=36e5;function Yr(t,n){return I(2,arguments),on(t,we(n)*Nr)}var jr=6e4;function Ur(t,n){return I(2,arguments),on(t,we(n)*jr)}function Xr(t,n){return I(2,arguments),on(t,1e3*we(n))}function On(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}function Nt(t){I(1,arguments);var n=$(t);return n.setHours(0,0,0,0),n}var Gr=864e5;function Mn(t,n){var e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function qr(t,n){I(2,arguments);var e=$(t),i=$(n),r=Mn(e,i),a=Math.abs(function Kr(t,n){I(2,arguments);var e=Nt(t),i=Nt(n),r=e.getTime()-On(e),a=i.getTime()-On(i);return Math.round((r-a)/Gr)}(e,i));e.setDate(e.getDate()-r*a);var p=r*(a-+(Mn(e,i)===-r));return 0===p?0:p}Math.pow(10,8);var Qr=6e4;function Vn(t,n){return I(2,arguments),$(t).getTime()-$(n).getTime()}var Rn={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},ia="trunc";function Pn(t){return t?Rn[t]:Rn[ia]}function na(t,n,e){I(2,arguments);var i=Vn(t,n)/Qr;return Pn(e?.roundingMethod)(i)}function ra(t,n,e){I(2,arguments);var i=Vn(t,n)/1e3;return Pn(e?.roundingMethod)(i)}function aa(t){I(1,arguments);var n=$(t);return n.setHours(23,59,59,999),n}function oa(t){I(1,arguments);var n=$(t),e=n.getMonth();return n.setFullYear(n.getFullYear(),e+1,0),n.setHours(23,59,59,999),n}var Hn={};function Ln(){return Hn}function sa(t,n){var e,i,r,a,o,p,g,f;I(1,arguments);var w=Ln(),D=we(null!==(e=null!==(i=null!==(r=null!==(a=n?.weekStartsOn)&&void 0!==a?a:null==n||null===(o=n.locale)||void 0===o||null===(p=o.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:w.weekStartsOn)&&void 0!==i?i:null===(g=w.locale)||void 0===g||null===(f=g.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=$(t),O=S.getDay(),R=6+(O<D?-7:0)-(O-D);return S.setDate(S.getDate()+R),S.setHours(23,59,59,999),S}function la(t){return I(1,arguments),$(t).getDay()}function ca(t){return I(1,arguments),$(t).getMonth()}function da(t,n){I(2,arguments);var e=Nt(t),i=Nt(n);return e.getTime()===i.getTime()}function pa(t,n){I(2,arguments);var e=$(t),i=$(n);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function Bn(t){I(1,arguments);var n=$(t);return n.setMilliseconds(0),n}function ua(t,n){I(2,arguments);var e=Bn(t),i=Bn(n);return e.getTime()===i.getTime()}function ha(t){var n,e;if(I(1,arguments),t&&"function"==typeof t.forEach)n=t;else{if("object"!==wi(t)||null===t)return new Date(NaN);n=Array.prototype.slice.call(t)}return n.forEach(function(i){var r=$(i);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function ma(t,n){I(2,arguments);var e=$(t),i=we(n);return e.setHours(i),e}function va(t,n){I(2,arguments);var e=$(t),i=we(n);return e.setMinutes(i),e}function ga(t){I(1,arguments);var n=$(t);return n.setSeconds(0,0),n}function fa(t){I(1,arguments);var n=$(t);return n.setDate(1),n.setHours(0,0,0,0),n}function In(t,n){var e,i,r,a,o,p,g,f;I(1,arguments);var w=Ln(),D=we(null!==(e=null!==(i=null!==(r=null!==(a=n?.weekStartsOn)&&void 0!==a?a:null==n||null===(o=n.locale)||void 0===o||null===(p=o.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:w.weekStartsOn)&&void 0!==i?i:null===(g=w.locale)||void 0===g||null===(f=g.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==e?e:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=$(t),O=S.getDay(),R=(O<D?7:0)+O-D;return S.setDate(S.getDate()-R),S.setHours(0,0,0,0),S}function wa(t){return I(1,arguments),$(t).getHours()}function Ca(t){return I(1,arguments),$(t).getMinutes()}function ya(t){return new Date(t).getTimezoneOffset()}function zn(t,n){return I(2,arguments),an(t,7*we(n))}function Fn(t,n){I(2,arguments);var e=$(t),i=we(n);if(isNaN(i))return new Date(NaN);if(!i)return e;var r=e.getDate(),a=new Date(e.getTime());return a.setMonth(e.getMonth()+i+1,0),r>=a.getDate()?a:(e.setFullYear(a.getFullYear(),a.getMonth(),r),e)}function Ea(t,n){return I(2,arguments),an(t,-we(n))}function ba(t,n){return I(2,arguments),zn(t,-we(n))}function Da(t,n){return I(2,arguments),Fn(t,-we(n))}function Ci(t){return I(1,arguments),In(t,{weekStartsOn:1})}var Ta=6048e5;function Sa(t){I(1,arguments);var n=$(t),e=Ci(n).getTime()-function ka(t){I(1,arguments);var n=function _a(t){I(1,arguments);var n=$(t),e=n.getFullYear(),i=new Date(0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);var r=Ci(i),a=new Date(0);a.setFullYear(e,0,4),a.setHours(0,0,0,0);var o=Ci(a);return n.getTime()>=r.getTime()?e+1:n.getTime()>=o.getTime()?e:e-1}(t),e=new Date(0);return e.setFullYear(n,0,4),e.setHours(0,0,0,0),Ci(e)}(n).getTime();return Math.round(e/Ta)+1}function Oa(t,n){I(2,arguments);var e=$(t),i=we(n);return e.setDate(i),e}function Aa(t,n){I(2,arguments);var e=$(t),i=we(n),r=e.getFullYear(),a=e.getDate(),o=new Date(0);o.setFullYear(r,i,15),o.setHours(0,0,0,0);var p=function Ma(t){I(1,arguments);var n=$(t),e=n.getFullYear(),i=n.getMonth(),r=new Date(0);return r.setFullYear(e,i+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return e.setMonth(i,Math.min(a,p)),e}function Va(t,n){I(2,arguments);var e=$(t),i=we(n);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(i),e)}function Ra(t){return I(1,arguments),$(t).getDate()}function Pa(t){return I(1,arguments),$(t).getFullYear()}function Ha(){return(0,Sn.Cl)((0,Sn.Cl)({},function xa(){return{addDays:an,addHours:Yr,addMinutes:Ur,addSeconds:Xr,differenceInDays:qr,differenceInMinutes:na,differenceInSeconds:ra,endOfDay:aa,endOfMonth:oa,endOfWeek:sa,getDay:la,getMonth:ca,isSameDay:da,isSameMonth:pa,isSameSecond:ua,max:ha,setHours:ma,setMinutes:va,startOfDay:Nt,startOfMinute:ga,startOfMonth:fa,startOfWeek:In,getHours:wa,getMinutes:Ca,getTimezoneOffset:ya}}()),{addWeeks:zn,addMonths:Fn,subDays:Ea,subWeeks:ba,subMonths:Da,getISOWeek:Sa,setDate:Oa,setMonth:Aa,setYear:Va,getDate:Ra,getYear:Pa})}class et{constructor(n,e,i,r){this.r=n,this.g=e,this.b=i,this.a=r}}class sn{constructor(n,e,i,r){this.h=n,this.s=e,this.v=i,this.a=r}}class xt{constructor(n,e,i,r){this.h=n,this.s=e,this.l=i,this.a=r}}class yi{constructor(n,e,i,r,a=1){this.c=n,this.m=e,this.y=i,this.k=r,this.a=a}}let Ja=(()=>{class t{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,r=e.s,a=e.v,o=e.a;if(0===a)return new xt(i,0,0,o);if(0===r&&1===a)return new xt(i,1,1,o);{const p=a*(2-r)/2;return new xt(i,a*r/(1-Math.abs(2*p-1)),p,o)}}hsla2hsva(e){const i=Math.min(e.h,1),r=Math.min(e.s,1),a=Math.min(e.l,1),o=Math.min(e.a,1);if(0===a)return new sn(i,0,0,o);{const p=a+r*(1-Math.abs(2*a-1))/2;return new sn(i,2*(p-a)/p,p,o)}}hsvaToRgba(e){let i,r,a;const o=e.h,p=e.s,g=e.v,f=e.a,w=Math.floor(6*o),D=6*o-w,S=g*(1-p),O=g*(1-D*p),R=g*(1-(1-D)*p);switch(w%6){case 0:i=g,r=R,a=S;break;case 1:i=O,r=g,a=S;break;case 2:i=S,r=g,a=R;break;case 3:i=S,r=O,a=g;break;case 4:i=R,r=S,a=g;break;case 5:i=g,r=S,a=O;break;default:i=0,r=0,a=0}return new et(i,r,a,f)}cmykToRgb(e){return new et((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new yi(0,0,0,1,e.a):new yi((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,r;const a=Math.min(e.r,1),o=Math.min(e.g,1),p=Math.min(e.b,1),g=Math.min(e.a,1),f=Math.max(a,o,p),w=Math.min(a,o,p),D=f,S=f-w;if(r=0===f?0:S/f,f===w)i=0;else{switch(f){case a:i=(o-p)/S+(o<p?6:0);break;case o:i=(p-a)/S+2;break;case p:i=(a-o)/S+4;break;default:i=0}i/=6}return new sn(i,r,D,g)}rgbaToHex(e,i){let r="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*e.a)).toString(16).substr(1)),r}normalizeCMYK(e){return new yi(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new yi(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new et(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let r=null;e=(e||"").toLowerCase();const a=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return new et(parseInt(o[2],10)/255,parseInt(o[3],10)/255,parseInt(o[4],10)/255,isNaN(parseFloat(o[5]))?1:parseFloat(o[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(o){return new xt(parseInt(o[2],10)/360,parseInt(o[3],10)/100,parseInt(o[4],10)/100,isNaN(parseFloat(o[5]))?1:parseFloat(o[5]))}}];a.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(o){return new et(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,parseInt(o[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(o){return new et(parseInt(o[1],16)/255,parseInt(o[2],16)/255,parseInt(o[3],16)/255,1)}}),a.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(o){return new et(parseInt(o[1]+o[1],16)/255,parseInt(o[2]+o[2],16)/255,parseInt(o[3]+o[3],16)/255,1)}});for(const o in a)if(a.hasOwnProperty(o)){const p=a[o],g=p.re.exec(e),f=g&&p.parse(g);if(f)return f instanceof et?r=this.rgbaToHsva(f):f instanceof xt&&(r=this.hsla2hsva(f)),r}return r}outputFormat(e,i,r){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const a=this.hsva2hsla(e),o=new xt(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100);return e.a<1||"always"===r?"hsla("+o.h+","+o.s+"%,"+o.l+"%,"+o.a+")":"hsl("+o.h+","+o.s+"%,"+o.l+"%)";case"rgba":const p=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===r?"rgba("+p.r+","+p.g+","+p.b+","+Math.round(100*p.a)/100+")":"rgb("+p.r+","+p.g+","+p.b+")";default:const g="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),g)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.jDH({token:t,factory:t.\u0275fac}),t})();typeof window<"u"&&window;let eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.$C({type:t}),t.\u0275inj=d.G2t({providers:[Ja],imports:[B.MD]}),t})();var to=ee(7394),io=ee(3887),no=ee(1875);function ro(t,n){}function ao(t,n){if(1&t&&d.DNE(0,ro,0,0,"ng-template",10),2&t){const e=d.XpG(2),i=d.sdS(5);d.Y8G("ngTemplateOutlet",(null==e.customFractionRating?null:e.customFractionRating.template)||i)}}function oo(t,n){}function so(t,n){if(1&t&&d.DNE(0,oo,0,0,"ng-template",10),2&t){const e=d.XpG(2),i=d.sdS(9);d.Y8G("ngTemplateOutlet",(null==e.customInActiveRating?null:e.customInActiveRating.template)||i)}}function lo(t,n){}function co(t,n){if(1&t&&d.DNE(0,lo,0,0,"ng-template",10),2&t){const e=d.XpG(2),i=d.sdS(7);d.Y8G("ngTemplateOutlet",(null==e.customActiveRating?null:e.customActiveRating.template)||i)}}function po(t,n){if(1&t){const e=d.RV6();d.j41(0,"div",6),d.bIt("click",function(r){const o=d.eBV(e).$implicit;return d.Njj(o.click(r))})("mouseenter",function(){const a=d.eBV(e).$implicit;return d.Njj(a.enter())}),d.qex(1,7),d.DNE(2,ao,1,1,null,8),d.DNE(3,so,1,1,null,8),d.DNE(4,co,1,1,null,9),d.bVm(),d.k0s()}if(2&t){const e=n.$implicit,i=d.XpG();d.R7$(1),d.Y8G("ngSwitch",e.state),d.R7$(1),d.Y8G("ngSwitchCase",i.unitState.fraction),d.R7$(1),d.Y8G("ngSwitchCase",i.unitState.inactive)}}function uo(t,n){if(1&t&&(d.j41(0,"div",11),d.EFF(1),d.nI1(2,"rateTitle"),d.k0s()),2&t){const e=d.XpG();d.R7$(1),d.JRh(d.i5U(2,1,e.nextRate+1,e.titles))}}function ho(t,n){1&t&&d.nrm(0,"div",12)}function mo(t,n){1&t&&d.nrm(0,"div",13)}function vo(t,n){1&t&&d.nrm(0,"div",14)}let go=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ratingActive",""]]})}}return t})(),fo=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ratingInactive",""]]})}}return t})(),wo=(()=>{class t{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:t,selectors:[["","ratingFraction",""]]})}}return t})(),Co=(()=>{class t{transform(e=0,i){return i[e]||e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=d.EJ8({name:"rateTitle",type:t,pure:!0})}}return t})();const yo={provide:We.kq,useExisting:(0,d.Rfq)(()=>Wn),multi:!0},xo={provide:We.cz,useExisting:(0,d.Rfq)(()=>Wn),multi:!0};var tt=function(t){return t.active="active",t.inactive="inactive",t.selected="selected",t.fraction="fraction",t}(tt||{});let Wn=(()=>{class t{constructor(e){this.changeDetectorRef=e,this.unitState=tt,this.contexts=[],this.max=5,this.readOnly=!1,this.theme="default",this.showText=!1,this.titles=[],this.required=!1,this.hover=new d.bkB,this.leave=new d.bkB,this.rateChange=new d.bkB(!0),this.barClick=new d.bkB}ngOnChanges(e){e.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(e,i)=>({state:tt.inactive,click:()=>this.handleClick(i+1),enter:()=>this.handleEnter(i+1)})),this.updateState(this.rate)}update(e,i=!0){!this.readOnly&&!this.disabled&&this.rate!==e&&(this.rate=e,this.rateChange.emit(this.rate)),i&&(this.onChange(this.rate),this.onTouched()),this.updateState(this.rate)}reset(){this.leave.emit(this.nextRate),this.updateState(this.rate)}updateState(e){this.nextRate=e-1,this.contexts=Array.from({length:this.max},(i,r)=>({state:r+1<=e?tt.selected:(r+1===Math.round(e)&&e%1)>=.5?tt.fraction:tt.inactive,click:()=>this.handleClick(r),enter:()=>this.handleEnter(r)}))}handleClick(e){this.update(e+1)}handleEnter(e){!this.disabled&&!this.readOnly&&(this.contexts.map((i,r)=>{i.state=r<=e?tt.active:tt.inactive}),this.nextRate=e,this.hover.emit(e))}writeValue(e){this.update(e,!1),this.changeDetectorRef.markForCheck()}validate(e){return this.required&&!e.value?{required:!0}:null}onChange(e){}onTouched(){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}static{this.\u0275fac=function(i){return new(i||t)(d.rXU(d.gRc))}}static{this.\u0275cmp=d.VBU({type:t,selectors:[["bar-rating"]],contentQueries:function(i,r,a){if(1&i&&(d.wni(a,go,5),d.wni(a,fo,5),d.wni(a,wo,5)),2&i){let o;d.mGM(o=d.lsd())&&(r.customActiveRating=o.first),d.mGM(o=d.lsd())&&(r.customInActiveRating=o.first),d.mGM(o=d.lsd())&&(r.customFractionRating=o.first)}},inputs:{rate:"rate",max:"max",readOnly:"readOnly",theme:"theme",showText:"showText",titles:"titles",required:"required"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange",barClick:"barClick"},features:[d.Jv_([yo,xo]),d.OA$],decls:10,vars:9,consts:[[1,"br-units",3,"mouseleave"],["class","br-unit",3,"click","mouseenter",4,"ngFor","ngForOf"],["class","br-text",4,"ngIf"],["fractionTemplate",""],["activeTemplate",""],["inactiveTemplate",""],[1,"br-unit",3,"click","mouseenter"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet"],[1,"br-text"],[1,"br-unit-inner","br-fraction"],[1,"br-unit-inner","br-active"],[1,"br-unit-inner","br-inactive"]],template:function(i,r){1&i&&(d.j41(0,"div")(1,"div",0),d.bIt("mouseleave",function(){return r.reset()}),d.DNE(2,po,5,3,"div",1),d.k0s(),d.DNE(3,uo,3,4,"div",2),d.k0s(),d.DNE(4,ho,1,0,"ng-template",null,3,d.C5r),d.DNE(6,mo,1,0,"ng-template",null,4,d.C5r),d.DNE(8,vo,1,0,"ng-template",null,5,d.C5r)),2&i&&(d.ZvI("br br-",r.customInActiveRating?"":r.theme,""),d.AVh("br-readonly",r.readOnly)("br-disabled",r.disabled),d.R7$(2),d.Y8G("ngForOf",r.contexts),d.R7$(1),d.Y8G("ngIf",r.showText))},dependencies:[B.Sq,B.bT,B.T3,B.ux,B.e1,B.fG,Co],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{--br-font-size: 16px;--br-gap: 0;--br-active-color: #EDB867;--br-inactive-color: #D2D2D2}.br[_ngcontent-%COMP%]{position:relative}.br-units[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:var(--br-gap)}.br-unit[_ngcontent-%COMP%]{font-size:var(--br-font-size);cursor:pointer;-webkit-font-smoothing:antialiased;text-rendering:auto}.br-unit-inner[_ngcontent-%COMP%]{position:relative}.br-readonly[_ngcontent-%COMP%]   .br-unit[_ngcontent-%COMP%], .br-disabled[_ngcontent-%COMP%]   .br-unit[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0})}}return t})(),Eo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[B.MD,We.YN]})}}return t})();const bo={position:{horizontal:{position:"right",distance:15},vertical:{position:"top",distance:15,gap:10}},theme:"material",behaviour:{autoHide:5e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},animations:{enabled:!0,show:{preset:"slide",speed:300,easing:"ease"},hide:{preset:"fade",speed:300,easing:"ease",offset:50},shift:{speed:300,easing:"ease"},overlap:150}};let Do=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=d.$C({type:t})}static{this.\u0275inj=d.G2t({imports:[B.MD,jt,ki.UN,Ti.Zl.withConfig(bo),_t,We.YN,We.X1,Ht,be,Wr.forRoot({provide:nn,useFactory:Ha}),eo,to.Id,io.G,no.ad,Eo]})}}return t})()},1054:function(cn){cn.exports=function(){"use strict";function pt(u,s){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);s&&(l=l.filter(function(v){return Object.getOwnPropertyDescriptor(u,v).enumerable})),c.push.apply(c,l)}return c}function ee(u){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?pt(Object(c),!0).forEach(function(l){Ti(u,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):pt(Object(c)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(c,l))})}return u}function Et(u){var s=function B(u,s){if("object"!=typeof u||!u)return u;var c=u[Symbol.toPrimitive];if(void 0!==c){var l=c.call(u,s||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===s?String:Number)(u)}(u,"string");return"symbol"==typeof s?s:s+""}function d(u){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}function jt(u,s){for(var c=0;c<s.length;c++){var l=s[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,Et(l.key),l)}}function Ti(u,s,c){return(s=Et(s))in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,u}function Si(u){return function bt(u){if(Array.isArray(u))return ut(u)}(u)||function Ut(u){if(typeof Symbol<"u"&&null!=u[Symbol.iterator]||null!=u["@@iterator"])return Array.from(u)}(u)||function Xt(u,s){if(u){if("string"==typeof u)return ut(u,s);var c=Object.prototype.toString.call(u).slice(8,-1);if("Object"===c&&u.constructor&&(c=u.constructor.name),"Map"===c||"Set"===c)return Array.from(u);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ut(u,s)}}(u)||function dn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(u,s){(null==s||s>u.length)&&(s=u.length);for(var c=0,l=new Array(s);c<s;c++)l[c]=u[c];return l}var Dt=typeof window<"u"&&typeof window.document<"u",Ve=Dt?window:{},Gt=!(!Dt||!Ve.document.documentElement)&&"ontouchstart"in Ve.document.documentElement,Kt=!!Dt&&"PointerEvent"in Ve,ie="cropper",le="n",Te="ne",Ue="nw",nt="se",Xe="sw",ht="".concat(ie,"-crop"),Oi="".concat(ie,"-disabled"),me="".concat(ie,"-hidden"),qt="".concat(ie,"-hide"),Mi="".concat(ie,"-invisible"),rt="".concat(ie,"-modal"),mt="".concat(ie,"-move"),at="".concat(ie,"Action"),ot="".concat(ie,"Preview"),Tt="crop",Ot="crop",Mt="cropend",At="cropmove",Vt="cropstart",Zt="dblclick",$t=Kt?"pointerdown":Gt?"touchstart":"mousedown",Qt=Kt?"pointermove":Gt?"touchmove":"mousemove",Jt=Kt?"pointerup pointercancel":Gt?"touchend touchcancel":"mouseup",Rt="zoom",ni="image/jpeg",Hi=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Li=/^data:/,Bi=/^data:image\/jpeg;base64,/,Ii=/^img|canvas$/i,oi={viewMode:0,dragMode:Tt,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},vt=Number.isNaN||Ve.isNaN;function W(u){return"number"==typeof u&&!vt(u)}var V=function(s){return s>0&&s<1/0};function Pt(u){return typeof u>"u"}function E(u){return"object"===d(u)&&null!==u}var ze=Object.prototype.hasOwnProperty;function J(u){if(!E(u))return!1;try{var s=u.constructor,c=s.prototype;return s&&c&&ze.call(c,"isPrototypeOf")}catch{return!1}}function ge(u){return"function"==typeof u}var si=Array.prototype.slice;function Re(u){return Array.from?Array.from(u):si.call(u)}function se(u,s){return u&&ge(s)&&(Array.isArray(u)||W(u.length)?Re(u).forEach(function(c,l){s.call(u,c,l,u)}):E(u)&&Object.keys(u).forEach(function(c){s.call(u,u[c],c,u)})),u}var Q=Object.assign||function(s){for(var c=arguments.length,l=new Array(c>1?c-1:0),v=1;v<c;v++)l[v-1]=arguments[v];return E(s)&&l.length>0&&l.forEach(function(h){E(h)&&Object.keys(h).forEach(function(m){s[m]=h[m]})}),s},zi=/\.\d*(?:0|9){12}\d*$/;function Ge(u){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return zi.test(u)?Math.round(u*s)/s:u}var li=/^width|height|left|top|marginLeft|marginTop$/;function _e(u,s){var c=u.style;se(s,function(l,v){li.test(v)&&W(l)&&(l="".concat(l,"px")),c[v]=l})}function ue(u,s){if(s){if(W(u.length))return void se(u,function(l){ue(l,s)});if(u.classList)return void u.classList.add(s);var c=u.className.trim();c?c.indexOf(s)<0&&(u.className="".concat(c," ").concat(s)):u.className=s}}function Pe(u,s){if(s){if(W(u.length))return void se(u,function(c){Pe(c,s)});if(u.classList)return void u.classList.remove(s);u.className.indexOf(s)>=0&&(u.className=u.className.replace(s,""))}}function Ke(u,s,c){if(s){if(W(u.length))return void se(u,function(l){Ke(l,s,c)});c?ue(u,s):Pe(u,s)}}var Fi=/([a-z\d])([A-Z])/g;function Ht(u){return u.replace(Fi,"$1-$2").toLowerCase()}function di(u,s){return E(u[s])?u[s]:u.dataset?u.dataset[s]:u.getAttribute("data-".concat(Ht(s)))}function gt(u,s,c){E(c)?u[s]=c:u.dataset?u.dataset[s]=c:u.setAttribute("data-".concat(Ht(s)),c)}var Wi=/\s\s*/,Ni=function(){var u=!1;if(Dt){var s=!1,c=function(){},l=Object.defineProperty({},"once",{get:function(){return u=!0,s},set:function(h){s=h}});Ve.addEventListener("test",c,l),Ve.removeEventListener("test",c,l)}return u}();function Oe(u,s,c){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=c;s.trim().split(Wi).forEach(function(h){if(!Ni){var m=u.listeners;m&&m[h]&&m[h][c]&&(v=m[h][c],delete m[h][c],0===Object.keys(m[h]).length&&delete m[h],0===Object.keys(m).length&&delete u.listeners)}u.removeEventListener(h,v,l)})}function be(u,s,c){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=c;s.trim().split(Wi).forEach(function(h){if(l.once&&!Ni){var m=u.listeners,C=void 0===m?{}:m;v=function(){delete C[h][c],u.removeEventListener(h,v,l);for(var b=arguments.length,y=new Array(b),x=0;x<b;x++)y[x]=arguments[x];c.apply(u,y)},C[h]||(C[h]={}),C[h][c]&&u.removeEventListener(h,C[h][c],l),C[h][c]=v,u.listeners=C}u.addEventListener(h,v,l)})}function qe(u,s,c){var l;return ge(Event)&&ge(CustomEvent)?l=new CustomEvent(s,{detail:c,bubbles:!0,cancelable:!0}):(l=document.createEvent("CustomEvent")).initCustomEvent(s,!0,!0,c),u.dispatchEvent(l)}function pi(u){var s=u.getBoundingClientRect();return{left:s.left+(window.pageXOffset-document.documentElement.clientLeft),top:s.top+(window.pageYOffset-document.documentElement.clientTop)}}var ft=Ve.location,un=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function De(u){var s=u.match(un);return null!==s&&(s[1]!==ft.protocol||s[2]!==ft.hostname||s[3]!==ft.port)}function wt(u){var s="timestamp=".concat((new Date).getTime());return u+(-1===u.indexOf("?")?"?":"&")+s}function Ne(u){var s=u.rotate,c=u.scaleX,l=u.scaleY,v=u.translateX,h=u.translateY,m=[];W(v)&&0!==v&&m.push("translateX(".concat(v,"px)")),W(h)&&0!==h&&m.push("translateY(".concat(h,"px)")),W(s)&&0!==s&&m.push("rotate(".concat(s,"deg)")),W(c)&&1!==c&&m.push("scaleX(".concat(c,")")),W(l)&&1!==l&&m.push("scaleY(".concat(l,")"));var C=m.length?m.join(" "):"none";return{WebkitTransform:C,msTransform:C,transform:C}}function Ze(u,s){var c=u.pageX,l=u.pageY,v={endX:c,endY:l};return s?v:ee({startX:c,startY:l},v)}function ke(u){var s=u.aspectRatio,c=u.height,l=u.width,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",h=V(l),m=V(c);if(h&&m){var C=c*s;"contain"===v&&C>l||"cover"===v&&C<l?c=l/s:l=c*s}else h?c=l/s:m&&(l=c*s);return{width:l,height:c}}var hi=String.fromCharCode;var Ui=/^data:.*,/;function mi(u){var c,s=new DataView(u);try{var l,v,h;if(255===s.getUint8(0)&&216===s.getUint8(1))for(var m=s.byteLength,C=2;C+1<m;){if(255===s.getUint8(C)&&225===s.getUint8(C+1)){v=C;break}C+=1}if(v){var b=v+10;if("Exif"===function ji(u,s,c){var l="";c+=s;for(var v=s;v<c;v+=1)l+=hi(u.getUint8(v));return l}(s,v+4,4)){var y=s.getUint16(b);if(((l=18761===y)||19789===y)&&42===s.getUint16(b+2,l)){var x=s.getUint32(b+4,l);x>=8&&(h=b+x)}}}if(h){var N,U,_=s.getUint16(h,l);for(U=0;U<_;U+=1)if(274===s.getUint16(N=h+12*U+2,l)){c=s.getUint16(N+=8,l),s.setUint16(N,1,l);break}}}catch{c=1}return c}var Gi={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var s=this.element,c=this.options,l=this.container,v=this.cropper,h=Number(c.minContainerWidth),m=Number(c.minContainerHeight);ue(v,me),Pe(s,me);var C={width:Math.max(l.offsetWidth,h>=0?h:200),height:Math.max(l.offsetHeight,m>=0?m:100)};this.containerData=C,_e(v,{width:C.width,height:C.height}),ue(s,me),Pe(v,me)},initCanvas:function(){var s=this.containerData,c=this.imageData,l=this.options.viewMode,v=Math.abs(c.rotate)%180==90,h=v?c.naturalHeight:c.naturalWidth,m=v?c.naturalWidth:c.naturalHeight,C=h/m,k=s.width,b=s.height;s.height*C>s.width?3===l?k=s.height*C:b=s.width/C:3===l?b=s.width/C:k=s.height*C;var y={aspectRatio:C,naturalWidth:h,naturalHeight:m,width:k,height:b};this.canvasData=y,this.limited=1===l||2===l,this.limitCanvas(!0,!0),y.width=Math.min(Math.max(y.width,y.minWidth),y.maxWidth),y.height=Math.min(Math.max(y.height,y.minHeight),y.maxHeight),y.left=(s.width-y.width)/2,y.top=(s.height-y.height)/2,y.oldLeft=y.left,y.oldTop=y.top,this.initialCanvasData=Q({},y)},limitCanvas:function(s,c){var l=this.options,v=this.containerData,h=this.canvasData,m=this.cropBoxData,C=l.viewMode,k=h.aspectRatio,b=this.cropped&&m;if(s){var y=Number(l.minCanvasWidth)||0,x=Number(l.minCanvasHeight)||0;C>1?(y=Math.max(y,v.width),x=Math.max(x,v.height),3===C&&(x*k>y?y=x*k:x=y/k)):C>0&&(y?y=Math.max(y,b?m.width:0):x?x=Math.max(x,b?m.height:0):b&&((x=m.height)*k>(y=m.width)?y=x*k:x=y/k));var _=ke({aspectRatio:k,width:y,height:x});x=_.height,h.minWidth=y=_.width,h.minHeight=x,h.maxWidth=1/0,h.maxHeight=1/0}if(c)if(C>(b?0:1)){var N=v.width-h.width,U=v.height-h.height;h.minLeft=Math.min(0,N),h.minTop=Math.min(0,U),h.maxLeft=Math.max(0,N),h.maxTop=Math.max(0,U),b&&this.limited&&(h.minLeft=Math.min(m.left,m.left+(m.width-h.width)),h.minTop=Math.min(m.top,m.top+(m.height-h.height)),h.maxLeft=m.left,h.maxTop=m.top,2===C&&(h.width>=v.width&&(h.minLeft=Math.min(0,N),h.maxLeft=Math.max(0,N)),h.height>=v.height&&(h.minTop=Math.min(0,U),h.maxTop=Math.max(0,U))))}else h.minLeft=-h.width,h.minTop=-h.height,h.maxLeft=v.width,h.maxTop=v.height},renderCanvas:function(s,c){var l=this.canvasData,v=this.imageData;if(c){var h=function Fe(u){var s=u.width,c=u.height,l=u.degree;if(90==(l=Math.abs(l)%180))return{width:c,height:s};var v=l%90*Math.PI/180,h=Math.sin(v),m=Math.cos(v),C=s*m+c*h,k=s*h+c*m;return l>90?{width:k,height:C}:{width:C,height:k}}({width:v.naturalWidth*Math.abs(v.scaleX||1),height:v.naturalHeight*Math.abs(v.scaleY||1),degree:v.rotate||0}),m=h.width,C=h.height,k=l.width*(m/l.naturalWidth),b=l.height*(C/l.naturalHeight);l.left-=(k-l.width)/2,l.top-=(b-l.height)/2,l.width=k,l.height=b,l.aspectRatio=m/C,l.naturalWidth=m,l.naturalHeight=C,this.limitCanvas(!0,!1)}(l.width>l.maxWidth||l.width<l.minWidth)&&(l.left=l.oldLeft),(l.height>l.maxHeight||l.height<l.minHeight)&&(l.top=l.oldTop),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),this.limitCanvas(!1,!0),l.left=Math.min(Math.max(l.left,l.minLeft),l.maxLeft),l.top=Math.min(Math.max(l.top,l.minTop),l.maxTop),l.oldLeft=l.left,l.oldTop=l.top,_e(this.canvas,Q({width:l.width,height:l.height},Ne({translateX:l.left,translateY:l.top}))),this.renderImage(s),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(s){var c=this.canvasData,l=this.imageData,v=l.naturalWidth*(c.width/c.naturalWidth),h=l.naturalHeight*(c.height/c.naturalHeight);Q(l,{width:v,height:h,left:(c.width-v)/2,top:(c.height-h)/2}),_e(this.image,Q({width:l.width,height:l.height},Ne(Q({translateX:l.left,translateY:l.top},l)))),s&&this.output()},initCropBox:function(){var s=this.options,c=this.canvasData,l=s.aspectRatio||s.initialAspectRatio,v=Number(s.autoCropArea)||.8,h={width:c.width,height:c.height};l&&(c.height*l>c.width?h.height=h.width/l:h.width=h.height*l),this.cropBoxData=h,this.limitCropBox(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.width=Math.max(h.minWidth,h.width*v),h.height=Math.max(h.minHeight,h.height*v),h.left=c.left+(c.width-h.width)/2,h.top=c.top+(c.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCropBoxData=Q({},h)},limitCropBox:function(s,c){var l=this.options,v=this.containerData,h=this.canvasData,m=this.cropBoxData,C=this.limited,k=l.aspectRatio;if(s){var b=Number(l.minCropBoxWidth)||0,y=Number(l.minCropBoxHeight)||0,x=C?Math.min(v.width,h.width,h.width+h.left,v.width-h.left):v.width,_=C?Math.min(v.height,h.height,h.height+h.top,v.height-h.top):v.height;b=Math.min(b,v.width),y=Math.min(y,v.height),k&&(b&&y?y*k>b?y=b/k:b=y*k:b?y=b/k:y&&(b=y*k),_*k>x?_=x/k:x=_*k),m.minWidth=Math.min(b,x),m.minHeight=Math.min(y,_),m.maxWidth=x,m.maxHeight=_}c&&(C?(m.minLeft=Math.max(0,h.left),m.minTop=Math.max(0,h.top),m.maxLeft=Math.min(v.width,h.left+h.width)-m.width,m.maxTop=Math.min(v.height,h.top+h.height)-m.height):(m.minLeft=0,m.minTop=0,m.maxLeft=v.width-m.width,m.maxTop=v.height-m.height))},renderCropBox:function(){var s=this.options,c=this.containerData,l=this.cropBoxData;(l.width>l.maxWidth||l.width<l.minWidth)&&(l.left=l.oldLeft),(l.height>l.maxHeight||l.height<l.minHeight)&&(l.top=l.oldTop),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),this.limitCropBox(!1,!0),l.left=Math.min(Math.max(l.left,l.minLeft),l.maxLeft),l.top=Math.min(Math.max(l.top,l.minTop),l.maxTop),l.oldLeft=l.left,l.oldTop=l.top,s.movable&&s.cropBoxMovable&&gt(this.face,at,l.width>=c.width&&l.height>=c.height?"move":"all"),_e(this.cropBox,Q({width:l.width,height:l.height},Ne({translateX:l.left,translateY:l.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),qe(this.element,Ot,this.getData())}},Ki={initPreview:function(){var s=this.element,c=this.crossOrigin,l=this.options.preview,v=c?this.crossOriginUrl:this.url,h=s.alt||"The image to preview",m=document.createElement("img");if(c&&(m.crossOrigin=c),m.src=v,m.alt=h,this.viewBox.appendChild(m),this.viewBoxImage=m,l){var C=l;"string"==typeof l?C=s.ownerDocument.querySelectorAll(l):l.querySelector&&(C=[l]),this.previews=C,se(C,function(k){var b=document.createElement("img");gt(k,ot,{width:k.offsetWidth,height:k.offsetHeight,html:k.innerHTML}),c&&(b.crossOrigin=c),b.src=v,b.alt=h,b.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',k.innerHTML="",k.appendChild(b)})}},resetPreview:function(){se(this.previews,function(s){var c=di(s,ot);_e(s,{width:c.width,height:c.height}),s.innerHTML=c.html,function pn(u,s){if(E(u[s]))try{delete u[s]}catch{u[s]=void 0}else if(u.dataset)try{delete u.dataset[s]}catch{u.dataset[s]=void 0}else u.removeAttribute("data-".concat(Ht(s)))}(s,ot)})},preview:function(){var s=this.imageData,c=this.canvasData,l=this.cropBoxData,v=l.width,h=l.height,m=s.width,C=s.height,k=l.left-c.left-s.left,b=l.top-c.top-s.top;!this.cropped||this.disabled||(_e(this.viewBoxImage,Q({width:m,height:C},Ne(Q({translateX:-k,translateY:-b},s)))),se(this.previews,function(y){var x=di(y,ot),_=x.width,N=x.height,U=_,ne=N,Z=1;v&&(ne=h*(Z=_/v)),h&&ne>N&&(U=v*(Z=N/h),ne=N),_e(y,{width:U,height:ne}),_e(y.getElementsByTagName("img")[0],Q({width:m*Z,height:C*Z},Ne(Q({translateX:-k*Z,translateY:-b*Z},s))))}))}},qi={bind:function(){var s=this.element,c=this.options,l=this.cropper;ge(c.cropstart)&&be(s,Vt,c.cropstart),ge(c.cropmove)&&be(s,At,c.cropmove),ge(c.cropend)&&be(s,Mt,c.cropend),ge(c.crop)&&be(s,Ot,c.crop),ge(c.zoom)&&be(s,Rt,c.zoom),be(l,$t,this.onCropStart=this.cropStart.bind(this)),c.zoomable&&c.zoomOnWheel&&be(l,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&be(l,Zt,this.onDblclick=this.dblclick.bind(this)),be(s.ownerDocument,Qt,this.onCropMove=this.cropMove.bind(this)),be(s.ownerDocument,Jt,this.onCropEnd=this.cropEnd.bind(this)),c.responsive&&be(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var s=this.element,c=this.options,l=this.cropper;ge(c.cropstart)&&Oe(s,Vt,c.cropstart),ge(c.cropmove)&&Oe(s,At,c.cropmove),ge(c.cropend)&&Oe(s,Mt,c.cropend),ge(c.crop)&&Oe(s,Ot,c.crop),ge(c.zoom)&&Oe(s,Rt,c.zoom),Oe(l,$t,this.onCropStart),c.zoomable&&c.zoomOnWheel&&Oe(l,"wheel",this.onWheel,{passive:!1,capture:!0}),c.toggleDragModeOnDblclick&&Oe(l,Zt,this.onDblclick),Oe(s.ownerDocument,Qt,this.onCropMove),Oe(s.ownerDocument,Jt,this.onCropEnd),c.responsive&&Oe(window,"resize",this.onResize)}},Zi={resize:function(){if(!this.disabled){var C,k,s=this.options,c=this.container,l=this.containerData,v=c.offsetWidth/l.width,h=c.offsetHeight/l.height,m=Math.abs(v-1)>Math.abs(h-1)?v:h;1!==m&&(s.restore&&(C=this.getCanvasData(),k=this.getCropBoxData()),this.render(),s.restore&&(this.setCanvasData(se(C,function(b,y){C[y]=b*m})),this.setCropBoxData(se(k,function(b,y){k[y]=b*m}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function ci(u,s){return u.classList?u.classList.contains(s):u.className.indexOf(s)>-1}(this.dragBox,ht)?"move":Tt)},wheel:function(s){var c=this,l=Number(this.options.wheelZoomRatio)||.1,v=1;this.disabled||(s.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){c.wheeling=!1},50),s.deltaY?v=s.deltaY>0?1:-1:s.wheelDelta?v=-s.wheelDelta/120:s.detail&&(v=s.detail>0?1:-1),this.zoom(-v*l,s)))},cropStart:function(s){var c=s.buttons,l=s.button;if(!(this.disabled||("mousedown"===s.type||"pointerdown"===s.type&&"mouse"===s.pointerType)&&(W(c)&&1!==c||W(l)&&0!==l||s.ctrlKey))){var m,v=this.options,h=this.pointers;s.changedTouches?se(s.changedTouches,function(C){h[C.identifier]=Ze(C)}):h[s.pointerId||0]=Ze(s),m=Object.keys(h).length>1&&v.zoomable&&v.zoomOnTouch?"zoom":di(s.target,at),Hi.test(m)&&!1!==qe(this.element,Vt,{originalEvent:s,action:m})&&(s.preventDefault(),this.action=m,this.cropping=!1,"crop"===m&&(this.cropping=!0,ue(this.dragBox,rt)))}},cropMove:function(s){var c=this.action;if(!this.disabled&&c){var l=this.pointers;s.preventDefault(),!1!==qe(this.element,At,{originalEvent:s,action:c})&&(s.changedTouches?se(s.changedTouches,function(v){Q(l[v.identifier]||{},Ze(v,!0))}):Q(l[s.pointerId||0]||{},Ze(s,!0)),this.change(s))}},cropEnd:function(s){if(!this.disabled){var c=this.action,l=this.pointers;s.changedTouches?se(s.changedTouches,function(v){delete l[v.identifier]}):delete l[s.pointerId||0],c&&(s.preventDefault(),Object.keys(l).length||(this.action=""),this.cropping&&(this.cropping=!1,Ke(this.dragBox,rt,this.cropped&&this.options.modal)),qe(this.element,Mt,{originalEvent:s,action:c}))}}},$i={change:function(s){var fe,l=this.canvasData,v=this.containerData,h=this.cropBoxData,m=this.pointers,C=this.action,k=this.options.aspectRatio,b=h.left,y=h.top,x=h.width,_=h.height,N=b+x,U=y+_,ne=0,Z=0,de=v.width,pe=v.height,ce=!0;!k&&s.shiftKey&&(k=x&&_?x/_:1),this.limited&&(Z=h.minTop,de=(ne=h.minLeft)+Math.min(v.width,l.width,l.left+l.width),pe=Z+Math.min(v.height,l.height,l.top+l.height));var xe=m[Object.keys(m)[0]],T={x:xe.endX-xe.startX,y:xe.endY-xe.startY},q=function(ve){switch(ve){case"e":N+T.x>de&&(T.x=de-N);break;case"w":b+T.x<ne&&(T.x=ne-b);break;case le:y+T.y<Z&&(T.y=Z-y);break;case"s":U+T.y>pe&&(T.y=pe-U)}};switch(C){case"all":b+=T.x,y+=T.y;break;case"e":if(T.x>=0&&(N>=de||k&&(y<=Z||U>=pe))){ce=!1;break}q("e"),(x+=T.x)<0&&(C="w",b-=x=-x),k&&(y+=(h.height-(_=x/k))/2);break;case le:if(T.y<=0&&(y<=Z||k&&(b<=ne||N>=de))){ce=!1;break}q(le),y+=T.y,(_-=T.y)<0&&(C="s",y-=_=-_),k&&(b+=(h.width-(x=_*k))/2);break;case"w":if(T.x<=0&&(b<=ne||k&&(y<=Z||U>=pe))){ce=!1;break}q("w"),b+=T.x,(x-=T.x)<0&&(C="e",b-=x=-x),k&&(y+=(h.height-(_=x/k))/2);break;case"s":if(T.y>=0&&(U>=pe||k&&(b<=ne||N>=de))){ce=!1;break}q("s"),(_+=T.y)<0&&(C=le,y-=_=-_),k&&(b+=(h.width-(x=_*k))/2);break;case Te:if(k){if(T.y<=0&&(y<=Z||N>=de)){ce=!1;break}q(le),y+=T.y,x=(_-=T.y)*k}else q(le),q("e"),T.x>=0?N<de?x+=T.x:T.y<=0&&y<=Z&&(ce=!1):x+=T.x,T.y<=0?y>Z&&(_-=T.y,y+=T.y):(_-=T.y,y+=T.y);x<0&&_<0?(C=Xe,y-=_=-_,b-=x=-x):x<0?(C=Ue,b-=x=-x):_<0&&(C=nt,y-=_=-_);break;case Ue:if(k){if(T.y<=0&&(y<=Z||b<=ne)){ce=!1;break}q(le),y+=T.y,b+=h.width-(x=(_-=T.y)*k)}else q(le),q("w"),T.x<=0?b>ne?(x-=T.x,b+=T.x):T.y<=0&&y<=Z&&(ce=!1):(x-=T.x,b+=T.x),T.y<=0?y>Z&&(_-=T.y,y+=T.y):(_-=T.y,y+=T.y);x<0&&_<0?(C=nt,y-=_=-_,b-=x=-x):x<0?(C=Te,b-=x=-x):_<0&&(C=Xe,y-=_=-_);break;case Xe:if(k){if(T.x<=0&&(b<=ne||U>=pe)){ce=!1;break}q("w"),b+=T.x,_=(x-=T.x)/k}else q("s"),q("w"),T.x<=0?b>ne?(x-=T.x,b+=T.x):T.y>=0&&U>=pe&&(ce=!1):(x-=T.x,b+=T.x),T.y>=0?U<pe&&(_+=T.y):_+=T.y;x<0&&_<0?(C=Te,y-=_=-_,b-=x=-x):x<0?(C=nt,b-=x=-x):_<0&&(C=Ue,y-=_=-_);break;case nt:if(k){if(T.x>=0&&(N>=de||U>=pe)){ce=!1;break}q("e"),_=(x+=T.x)/k}else q("s"),q("e"),T.x>=0?N<de?x+=T.x:T.y>=0&&U>=pe&&(ce=!1):x+=T.x,T.y>=0?U<pe&&(_+=T.y):_+=T.y;x<0&&_<0?(C=Ue,y-=_=-_,b-=x=-x):x<0?(C=Xe,b-=x=-x):_<0&&(C=Te,y-=_=-_);break;case"move":this.move(T.x,T.y),ce=!1;break;case"zoom":this.zoom(function Yi(u){var s=ee({},u),c=0;return se(u,function(l,v){delete s[v],se(s,function(h){var m=Math.abs(l.startX-h.startX),C=Math.abs(l.startY-h.startY),k=Math.abs(l.endX-h.endX),b=Math.abs(l.endY-h.endY),y=Math.sqrt(m*m+C*C),_=(Math.sqrt(k*k+b*b)-y)/y;Math.abs(_)>Math.abs(c)&&(c=_)})}),c}(m),s),ce=!1;break;case"crop":if(!T.x||!T.y){ce=!1;break}fe=pi(this.cropper),b=xe.startX-fe.left,y=xe.startY-fe.top,x=h.minWidth,_=h.minHeight,T.x>0?C=T.y>0?nt:Te:T.x<0&&(b-=x,C=T.y>0?Xe:Ue),T.y<0&&(y-=_),this.cropped||(Pe(this.cropBox,me),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}ce&&(h.width=x,h.height=_,h.left=b,h.top=y,this.action=C,this.renderCropBox()),se(m,function(re){re.startX=re.endX,re.startY=re.endY})}},Ct={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ue(this.dragBox,rt),Pe(this.cropBox,me),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Q({},this.initialImageData),this.canvasData=Q({},this.initialCanvasData),this.cropBoxData=Q({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Q(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Pe(this.dragBox,rt),ue(this.cropBox,me)),this},replace:function(s){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&s&&(this.isImg&&(this.element.src=s),c?(this.url=s,this.image.src=s,this.ready&&(this.viewBoxImage.src=s,se(this.previews,function(l){l.getElementsByTagName("img")[0].src=s}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(s))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Pe(this.cropper,Oi)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ue(this.cropper,Oi)),this},destroy:function(){var s=this.element;return s[ie]?(s[ie]=void 0,this.isImg&&this.replaced&&(s.src=this.originalUrl),this.uncreate(),this):this},move:function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,l=this.canvasData,v=l.left,h=l.top;return this.moveTo(Pt(s)?s:v+Number(s),Pt(c)?c:h+Number(c))},moveTo:function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,l=this.canvasData,v=!1;return s=Number(s),c=Number(c),this.ready&&!this.disabled&&this.options.movable&&(W(s)&&(l.left=s,v=!0),W(c)&&(l.top=c,v=!0),v&&this.renderCanvas(!0)),this},zoom:function(s,c){var l=this.canvasData;return s=Number(s),this.zoomTo(l.width*(s=s<0?1/(1-s):1+s)/l.naturalWidth,null,c)},zoomTo:function(s,c,l){var v=this.options,h=this.canvasData,m=h.width,C=h.height,k=h.naturalWidth,b=h.naturalHeight;if((s=Number(s))>=0&&this.ready&&!this.disabled&&v.zoomable){var y=k*s,x=b*s;if(!1===qe(this.element,Rt,{ratio:s,oldRatio:m/k,originalEvent:l}))return this;if(l){var _=this.pointers,N=pi(this.cropper),U=_&&Object.keys(_).length?function Lt(u){var s=0,c=0,l=0;return se(u,function(v){s+=v.startX,c+=v.startY,l+=1}),{pageX:s/=l,pageY:c/=l}}(_):{pageX:l.pageX,pageY:l.pageY};h.left-=(U.pageX-N.left-h.left)/m*(y-m),h.top-=(U.pageY-N.top-h.top)/C*(x-C)}else J(c)&&W(c.x)&&W(c.y)?(h.left-=(c.x-h.left)/m*(y-m),h.top-=(c.y-h.top)/C*(x-C)):(h.left-=(y-m)/2,h.top-=(x-C)/2);h.width=y,h.height=x,this.renderCanvas(!0)}return this},rotate:function(s){return this.rotateTo((this.imageData.rotate||0)+Number(s))},rotateTo:function(s){return W(s=Number(s))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=s%360,this.renderCanvas(!0,!0)),this},scaleX:function(s){var c=this.imageData.scaleY;return this.scale(s,W(c)?c:1)},scaleY:function(s){var c=this.imageData.scaleX;return this.scale(W(c)?c:1,s)},scale:function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,l=this.imageData,v=!1;return s=Number(s),c=Number(c),this.ready&&!this.disabled&&this.options.scalable&&(W(s)&&(l.scaleX=s,v=!0),W(c)&&(l.scaleY=c,v=!0),v&&this.renderCanvas(!0,!0)),this},getData:function(){var m,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],c=this.options,l=this.imageData,v=this.canvasData,h=this.cropBoxData;if(this.ready&&this.cropped){var C=l.width/l.naturalWidth;if(se(m={x:h.left-v.left,y:h.top-v.top,width:h.width,height:h.height},function(y,x){m[x]=y/C}),s){var k=Math.round(m.y+m.height),b=Math.round(m.x+m.width);m.x=Math.round(m.x),m.y=Math.round(m.y),m.width=b-m.x,m.height=k-m.y}}else m={x:0,y:0,width:0,height:0};return c.rotatable&&(m.rotate=l.rotate||0),c.scalable&&(m.scaleX=l.scaleX||1,m.scaleY=l.scaleY||1),m},setData:function(s){var c=this.options,l=this.imageData,v=this.canvasData,h={};if(this.ready&&!this.disabled&&J(s)){var m=!1;c.rotatable&&W(s.rotate)&&s.rotate!==l.rotate&&(l.rotate=s.rotate,m=!0),c.scalable&&(W(s.scaleX)&&s.scaleX!==l.scaleX&&(l.scaleX=s.scaleX,m=!0),W(s.scaleY)&&s.scaleY!==l.scaleY&&(l.scaleY=s.scaleY,m=!0)),m&&this.renderCanvas(!0,!0);var C=l.width/l.naturalWidth;W(s.x)&&(h.left=s.x*C+v.left),W(s.y)&&(h.top=s.y*C+v.top),W(s.width)&&(h.width=s.width*C),W(s.height)&&(h.height=s.height*C),this.setCropBoxData(h)}return this},getContainerData:function(){return this.ready?Q({},this.containerData):{}},getImageData:function(){return this.sized?Q({},this.imageData):{}},getCanvasData:function(){var s=this.canvasData,c={};return this.ready&&se(["left","top","width","height","naturalWidth","naturalHeight"],function(l){c[l]=s[l]}),c},setCanvasData:function(s){var c=this.canvasData,l=c.aspectRatio;return this.ready&&!this.disabled&&J(s)&&(W(s.left)&&(c.left=s.left),W(s.top)&&(c.top=s.top),W(s.width)?(c.width=s.width,c.height=s.width/l):W(s.height)&&(c.height=s.height,c.width=s.height*l),this.renderCanvas(!0)),this},getCropBoxData:function(){var c,s=this.cropBoxData;return this.ready&&this.cropped&&(c={left:s.left,top:s.top,width:s.width,height:s.height}),c||{}},setCropBoxData:function(s){var v,h,c=this.cropBoxData,l=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&J(s)&&(W(s.left)&&(c.left=s.left),W(s.top)&&(c.top=s.top),W(s.width)&&s.width!==c.width&&(v=!0,c.width=s.width),W(s.height)&&s.height!==c.height&&(h=!0,c.height=s.height),l&&(v?c.height=c.width/l:h&&(c.width=c.height*l)),this.renderCropBox()),this},getCroppedCanvas:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var c=this.canvasData,l=function ui(u,s,c,l){var v=s.aspectRatio,h=s.naturalWidth,m=s.naturalHeight,C=s.rotate,k=void 0===C?0:C,b=s.scaleX,y=void 0===b?1:b,x=s.scaleY,_=void 0===x?1:x,N=c.aspectRatio,U=c.naturalWidth,ne=c.naturalHeight,Z=l.fillColor,de=void 0===Z?"transparent":Z,pe=l.imageSmoothingEnabled,ce=void 0===pe||pe,fe=l.imageSmoothingQuality,xe=void 0===fe?"low":fe,T=l.maxWidth,q=void 0===T?1/0:T,re=l.maxHeight,ve=void 0===re?1/0:re,ye=l.minWidth,Ye=void 0===ye?0:ye,$e=l.minHeight,He=void 0===$e?0:$e,Le=document.createElement("canvas"),Ee=Le.getContext("2d"),Qe=ke({aspectRatio:N,width:q,height:ve}),It=ke({aspectRatio:N,width:Ye,height:He},"cover"),vi=Math.min(Qe.width,Math.max(It.width,U)),gi=Math.min(Qe.height,Math.max(It.height,ne)),Ji=ke({aspectRatio:v,width:q,height:ve}),en=ke({aspectRatio:v,width:Ye,height:He},"cover"),ct=Math.min(Ji.width,Math.max(en.width,h)),Me=Math.min(Ji.height,Math.max(en.height,m)),Je=[-ct/2,-Me/2,ct,Me];return Le.width=Ge(vi),Le.height=Ge(gi),Ee.fillStyle=de,Ee.fillRect(0,0,vi,gi),Ee.save(),Ee.translate(vi/2,gi/2),Ee.rotate(k*Math.PI/180),Ee.scale(y,_),Ee.imageSmoothingEnabled=ce,Ee.imageSmoothingQuality=xe,Ee.drawImage.apply(Ee,[u].concat(Si(Je.map(function(hn){return Math.floor(Ge(hn))})))),Ee.restore(),Le}(this.image,this.imageData,c,s);if(!this.cropped)return l;var v=this.getData(s.rounded),h=v.x,m=v.y,C=v.width,k=v.height,b=l.width/Math.floor(c.naturalWidth);1!==b&&(h*=b,m*=b,C*=b,k*=b);var y=C/k,x=ke({aspectRatio:y,width:s.maxWidth||1/0,height:s.maxHeight||1/0}),_=ke({aspectRatio:y,width:s.minWidth||0,height:s.minHeight||0},"cover"),N=ke({aspectRatio:y,width:s.width||(1!==b?l.width:C),height:s.height||(1!==b?l.height:k)}),U=N.width,ne=N.height;U=Math.min(x.width,Math.max(_.width,U)),ne=Math.min(x.height,Math.max(_.height,ne));var Z=document.createElement("canvas"),de=Z.getContext("2d");Z.width=Ge(U),Z.height=Ge(ne),de.fillStyle=s.fillColor||"transparent",de.fillRect(0,0,U,ne);var pe=s.imageSmoothingEnabled,fe=s.imageSmoothingQuality;de.imageSmoothingEnabled=void 0===pe||pe,fe&&(de.imageSmoothingQuality=fe);var ve,ye,Ye,$e,He,Le,xe=l.width,T=l.height,q=h,re=m;q<=-C||q>xe?(q=0,ve=0,Ye=0,He=0):q<=0?(Ye=-q,q=0,He=ve=Math.min(xe,C+q)):q<=xe&&(Ye=0,He=ve=Math.min(C,xe-q)),ve<=0||re<=-k||re>T?(re=0,ye=0,$e=0,Le=0):re<=0?($e=-re,re=0,Le=ye=Math.min(T,k+re)):re<=T&&($e=0,Le=ye=Math.min(k,T-re));var Ee=[q,re,ve,ye];if(He>0&&Le>0){var Qe=U/C;Ee.push(Ye*Qe,$e*Qe,He*Qe,Le*Qe)}return de.drawImage.apply(de,[l].concat(Si(Ee.map(function(It){return Math.floor(Ge(It))})))),Z},setAspectRatio:function(s){var c=this.options;return!this.disabled&&!Pt(s)&&(c.aspectRatio=Math.max(0,s)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(s){var c=this.options,l=this.dragBox,v=this.face;if(this.ready&&!this.disabled){var h=s===Tt,m=c.movable&&"move"===s;c.dragMode=s=h||m?s:"none",gt(l,at,s),Ke(l,ht,h),Ke(l,mt,m),c.cropBoxMovable||(gt(v,at,s),Ke(v,ht,h),Ke(v,mt,m))}return this}},Qi=Ve.Cropper,lt=function(){function u(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function _i(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,u),!s||!Ii.test(s.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=s,this.options=Q({},oi,J(c)&&c),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function ki(u,s,c){return s&&jt(u.prototype,s),c&&jt(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}(u,[{key:"init",value:function(){var v,c=this.element,l=c.tagName.toLowerCase();if(!c[ie]){if(c[ie]=this,"img"===l){if(this.isImg=!0,v=c.getAttribute("src")||"",this.originalUrl=v,!v)return;v=c.src}else"canvas"===l&&window.HTMLCanvasElement&&(v=c.toDataURL());this.load(v)}}},{key:"load",value:function(c){var l=this;if(c){this.url=c,this.imageData={};var v=this.element,h=this.options;if(!h.rotatable&&!h.scalable&&(h.checkOrientation=!1),!h.checkOrientation||!window.ArrayBuffer)return void this.clone();if(Li.test(c))return void(Bi.test(c)?this.read(function Xi(u){var s=u.replace(Ui,""),c=atob(s),l=new ArrayBuffer(c.length),v=new Uint8Array(l);return se(v,function(h,m){v[m]=c.charCodeAt(m)}),l}(c)):this.clone());var m=new XMLHttpRequest,C=this.clone.bind(this);this.reloading=!0,this.xhr=m,m.onabort=C,m.onerror=C,m.ontimeout=C,m.onprogress=function(){m.getResponseHeader("content-type")!==ni&&m.abort()},m.onload=function(){l.read(m.response)},m.onloadend=function(){l.reloading=!1,l.xhr=null},h.checkCrossOrigin&&De(c)&&v.crossOrigin&&(c=wt(c)),m.open("GET",c,!0),m.responseType="arraybuffer",m.withCredentials="use-credentials"===v.crossOrigin,m.send()}}},{key:"read",value:function(c){var l=this.options,v=this.imageData,h=mi(c),m=0,C=1,k=1;if(h>1){this.url=function st(u,s){for(var c=[],v=new Uint8Array(u);v.length>0;)c.push(hi.apply(null,Re(v.subarray(0,8192)))),v=v.subarray(8192);return"data:".concat(s,";base64,").concat(btoa(c.join("")))}(c,ni);var b=function Bt(u){var s=0,c=1,l=1;switch(u){case 2:c=-1;break;case 3:s=-180;break;case 4:l=-1;break;case 5:s=90,l=-1;break;case 6:s=90;break;case 7:s=90,c=-1;break;case 8:s=-90}return{rotate:s,scaleX:c,scaleY:l}}(h);m=b.rotate,C=b.scaleX,k=b.scaleY}l.rotatable&&(v.rotate=m),l.scalable&&(v.scaleX=C,v.scaleY=k),this.clone()}},{key:"clone",value:function(){var c=this.element,l=this.url,v=c.crossOrigin,h=l;this.options.checkCrossOrigin&&De(l)&&(v||(v="anonymous"),h=wt(l)),this.crossOrigin=v,this.crossOriginUrl=h;var m=document.createElement("img");v&&(m.crossOrigin=v),m.src=h||l,m.alt=c.alt||"The image to crop",this.image=m,m.onload=this.start.bind(this),m.onerror=this.stop.bind(this),ue(m,qt),c.parentNode.insertBefore(m,c.nextSibling)}},{key:"start",value:function(){var c=this,l=this.image;l.onload=null,l.onerror=null,this.sizing=!0;var v=Ve.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ve.navigator.userAgent),h=function(b,y){Q(c.imageData,{naturalWidth:b,naturalHeight:y,aspectRatio:b/y}),c.initialImageData=Q({},c.imageData),c.sizing=!1,c.sized=!0,c.build()};if(!l.naturalWidth||v){var m=document.createElement("img"),C=document.body||document.documentElement;this.sizingImage=m,m.onload=function(){h(m.width,m.height),v||C.removeChild(m)},m.src=l.src,v||(m.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",C.appendChild(m))}else h(l.naturalWidth,l.naturalHeight)}},{key:"stop",value:function(){var c=this.image;c.onload=null,c.onerror=null,c.parentNode.removeChild(c),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var c=this.element,l=this.options,v=this.image,h=c.parentNode,m=document.createElement("div");m.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var C=m.querySelector(".".concat(ie,"-container")),k=C.querySelector(".".concat(ie,"-canvas")),b=C.querySelector(".".concat(ie,"-drag-box")),y=C.querySelector(".".concat(ie,"-crop-box")),x=y.querySelector(".".concat(ie,"-face"));this.container=h,this.cropper=C,this.canvas=k,this.dragBox=b,this.cropBox=y,this.viewBox=C.querySelector(".".concat(ie,"-view-box")),this.face=x,k.appendChild(v),ue(c,me),h.insertBefore(C,c.nextSibling),Pe(v,qt),this.initPreview(),this.bind(),l.initialAspectRatio=Math.max(0,l.initialAspectRatio)||NaN,l.aspectRatio=Math.max(0,l.aspectRatio)||NaN,l.viewMode=Math.max(0,Math.min(3,Math.round(l.viewMode)))||0,ue(y,me),l.guides||ue(y.getElementsByClassName("".concat(ie,"-dashed")),me),l.center||ue(y.getElementsByClassName("".concat(ie,"-center")),me),l.background&&ue(C,"".concat(ie,"-bg")),l.highlight||ue(x,Mi),l.cropBoxMovable&&(ue(x,mt),gt(x,at,"all")),l.cropBoxResizable||(ue(y.getElementsByClassName("".concat(ie,"-line")),me),ue(y.getElementsByClassName("".concat(ie,"-point")),me)),this.render(),this.ready=!0,this.setDragMode(l.dragMode),l.autoCrop&&this.crop(),this.setData(l.data),ge(l.ready)&&be(c,"ready",l.ready,{once:!0}),qe(c,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var c=this.cropper.parentNode;c&&c.removeChild(this.cropper),Pe(this.element,me)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Qi,u}},{key:"setDefaults",value:function(c){Q(oi,J(c)&&c)}}])}();return Q(lt.prototype,Gi,Ki,qi,Zi,$i,Ct),lt}()}}]);